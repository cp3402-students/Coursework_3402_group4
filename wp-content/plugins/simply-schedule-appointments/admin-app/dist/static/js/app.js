(function(){var t={6700:function(t,e,s){var i={"./af":2398,"./af.js":2398,"./ar":4207,"./ar-dz":3382,"./ar-dz.js":3382,"./ar-kw":6525,"./ar-kw.js":6525,"./ar-ly":7098,"./ar-ly.js":7098,"./ar-ma":6483,"./ar-ma.js":6483,"./ar-sa":3961,"./ar-sa.js":3961,"./ar-tn":7401,"./ar-tn.js":7401,"./ar.js":4207,"./az":903,"./az.js":903,"./be":1174,"./be.js":1174,"./bg":4615,"./bg.js":4615,"./bm":225,"./bm.js":225,"./bn":9751,"./bn-bd":544,"./bn-bd.js":544,"./bn.js":9751,"./bo":6894,"./bo.js":6894,"./br":8566,"./br.js":8566,"./bs":959,"./bs.js":959,"./ca":2683,"./ca.js":2683,"./cs":4231,"./cs.js":4231,"./cv":999,"./cv.js":999,"./cy":4302,"./cy.js":4302,"./da":3601,"./da.js":3601,"./de":5509,"./de-at":2479,"./de-at.js":2479,"./de-ch":5948,"./de-ch.js":5948,"./de.js":5509,"./dv":9838,"./dv.js":9838,"./el":5113,"./el.js":5113,"./en-au":7377,"./en-au.js":7377,"./en-ca":9626,"./en-ca.js":9626,"./en-gb":5912,"./en-gb.js":5912,"./en-ie":2931,"./en-ie.js":2931,"./en-il":2243,"./en-il.js":2243,"./en-in":9779,"./en-in.js":9779,"./en-nz":9813,"./en-nz.js":9813,"./en-sg":4318,"./en-sg.js":4318,"./eo":4957,"./eo.js":4957,"./es":9243,"./es-do":7409,"./es-do.js":7409,"./es-mx":5188,"./es-mx.js":5188,"./es-us":6927,"./es-us.js":6927,"./es.js":9243,"./et":7731,"./et.js":7731,"./eu":1072,"./eu.js":1072,"./fa":9462,"./fa.js":9462,"./fi":3368,"./fi.js":3368,"./fil":3626,"./fil.js":3626,"./fo":6421,"./fo.js":6421,"./fr":974,"./fr-ca":7780,"./fr-ca.js":7780,"./fr-ch":9719,"./fr-ch.js":9719,"./fr.js":974,"./fy":8373,"./fy.js":8373,"./ga":3861,"./ga.js":3861,"./gd":4896,"./gd.js":4896,"./gl":739,"./gl.js":739,"./gom-deva":6737,"./gom-deva.js":6737,"./gom-latn":1979,"./gom-latn.js":1979,"./gu":2001,"./gu.js":2001,"./he":9671,"./he.js":9671,"./hi":2038,"./hi.js":2038,"./hr":1228,"./hr.js":1228,"./hu":87,"./hu.js":87,"./hy-am":3569,"./hy-am.js":3569,"./id":1977,"./id.js":1977,"./is":6853,"./is.js":6853,"./it":7859,"./it-ch":5626,"./it-ch.js":5626,"./it.js":7859,"./ja":4123,"./ja.js":4123,"./jv":6457,"./jv.js":6457,"./ka":638,"./ka.js":638,"./kk":6823,"./kk.js":6823,"./km":9493,"./km.js":9493,"./kn":1288,"./kn.js":1288,"./ko":9663,"./ko.js":9663,"./ku":805,"./ku.js":805,"./ky":7550,"./ky.js":7550,"./lb":6272,"./lb.js":6272,"./lo":9135,"./lo.js":9135,"./lt":1452,"./lt.js":1452,"./lv":5782,"./lv.js":5782,"./me":2181,"./me.js":2181,"./mi":258,"./mi.js":258,"./mk":5715,"./mk.js":5715,"./ml":538,"./ml.js":538,"./mn":3086,"./mn.js":3086,"./mr":5663,"./mr.js":5663,"./ms":5100,"./ms-my":2663,"./ms-my.js":2663,"./ms.js":5100,"./mt":880,"./mt.js":880,"./my":9099,"./my.js":9099,"./nb":8709,"./nb.js":8709,"./ne":2201,"./ne.js":2201,"./nl":1016,"./nl-be":1681,"./nl-be.js":1681,"./nl.js":1016,"./nn":5330,"./nn.js":5330,"./oc-lnc":7132,"./oc-lnc.js":7132,"./pa-in":251,"./pa-in.js":251,"./pl":3948,"./pl.js":3948,"./pt":9836,"./pt-br":8831,"./pt-br.js":8831,"./pt.js":9836,"./ro":8443,"./ro.js":8443,"./ru":4,"./ru.js":4,"./sd":4510,"./sd.js":4510,"./se":3148,"./se.js":3148,"./si":542,"./si.js":542,"./sk":7637,"./sk.js":7637,"./sl":5852,"./sl.js":5852,"./sq":611,"./sq.js":611,"./sr":242,"./sr-cyrl":302,"./sr-cyrl.js":302,"./sr.js":242,"./ss":1367,"./ss.js":1367,"./sv":2927,"./sv.js":2927,"./sw":5240,"./sw.js":5240,"./ta":2692,"./ta.js":2692,"./te":2132,"./te.js":2132,"./tet":8300,"./tet.js":8300,"./tg":7211,"./tg.js":7211,"./th":4050,"./th.js":4050,"./tk":3849,"./tk.js":3849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":3650,"./tlh.js":3650,"./tr":4195,"./tr.js":4195,"./tzl":5529,"./tzl.js":5529,"./tzm":7520,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":7520,"./ug-cn":4134,"./ug-cn.js":4134,"./uk":5456,"./uk.js":5456,"./ur":5679,"./ur.js":5679,"./uz":9277,"./uz-latn":6446,"./uz-latn.js":6446,"./uz.js":9277,"./vi":3992,"./vi.js":3992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":2899,"./yo.js":2899,"./zh-cn":4017,"./zh-cn.js":4017,"./zh-hk":4831,"./zh-hk.js":4831,"./zh-mo":2881,"./zh-mo.js":2881,"./zh-tw":57,"./zh-tw.js":57};function n(t){var e=a(t);return s(e)}function a(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=a,t.exports=n,n.id=6700},1736:function(t,e,s){"use strict";var i=s(8935),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{embed:t.isEmbed},attrs:{id:"app"}},[t.loading?s("loading",{attrs:{message:t.loadingMessage}}):t.error?[s("div",{staticClass:"app-error"},[t.$store.state.api?s("img",{attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-sleeping.svg",alt:"Error fox"}}):t._e(),s("h3",{staticClass:"md-display-1"},[t._v(t._s(t.errorHeading))]),s("p",[t._v(t._s(t.errorIntro)+" "+t._s(t.errorMessage))]),t.errorMessage&&-1!==t.errorMessage.indexOf("SyntaxError")?[s("p",[t._v(t._s(t.errorGuidesText)+" "),s("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/plugin-detective-for-plugin-conflicts/",target:"_blank"}},[t._v(t._s(t.errorGuidesLinkLabel))])]),t.errorResponse?[s("md-button",{staticClass:"md-warn md-raised",on:{click:function(e){t.showErrorResponse=!t.showErrorResponse}}},[t._v(t._s(t.errorDetails))]),t.showErrorResponse?s("pre",[t._v(t._s(t.errorResponse))]):t._e()]:t._e()]:t._e()],2)]:[t.isEmbed?t._e():s("md-button",{staticClass:"md-fab md-primary md-fab-top-left md-mini",attrs:{href:t.$store.state.api.admin_url,"md-theme":"blue-grey"}},[s("md-icon",[t._v("arrow_back")]),s("span",{staticClass:"screen-reader-text"},[t._v(t._s(t.towp))]),s("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.towp))])],1),s("transition-group",{staticClass:"fade-wrapper",attrs:{name:"fade",tag:"div"}},["Hello"!==t.router.currentRoute.name?s("div",{key:"header",staticClass:"app-header"},[s("img",{attrs:{alt:"Simply Schedule Appointments",src:t.$store.state.api.admin_static_url+"/images/logo-ssa.svg"}})]):t._e(),s("router-view",{key:"view"})],1)]],2)},a=[],o=s(4665);const r=[{field:"Name",display:!0,required:!0,icon:"face"},{field:"Email",display:!0,required:!0,icon:"email"},{field:"Phone",display:!1,required:!1,icon:"phone"},{field:"Address",display:!1,required:!1,icon:"place"},{field:"City",display:!1,required:!1,icon:"place"},{field:"State",display:!1,required:!1,icon:"place"},{field:"Zip",display:!1,required:!1,icon:"place"},{field:"Notes",display:!1,required:!1,icon:"assignment"}],l=[{field:"Name",display:!0,required:!0,type:"single-text",icon:"face",values:""},{field:"Email",display:!0,required:!0,type:"single-text",icon:"email",values:""}],d={field:"",display:!0,required:!1,type:"single-text",icon:"",values:""},p=["single-text","multi-text","checkboxes","radios","phone"],c=[{field:"admin",send:!0},{field:"customer",send:!0}],m=["appointment_booked","appointment_customer_information_edited","appointment_canceled"],u=["appointment_booked","appointment_customer_information_edited","appointment_canceled","appointment_start_date"],g=["{{admin_email}}","{{customer_email}}"],h=["{{admin_email}}","{{customer_email}}","{{team_member_email}}"],_=["admin_email","instructions","Appointment.AppointmentType.title","Appointment.web_meeting_url","Appointment.customer_information_summary","Appointment.date_timezone","Appointment.customer_timezone","Appointment.public_edit_url","Appointment.customer_start_date","Appointment.business_start_date","location","customer_name","customer_email","attendees_list","Global.home_url","Global.company_name","Global.timezone_string","booking_url","booking_title","booking_post_id","team_member_email","team_member_name","refund_policy","add_to_calendar_link.ics","add_to_calendar_link.gcal"],f={notification_type:[],appointment_type:[],trigger:[],sent_to:[]},y=["booked","pending_payment","pending_form","canceled","abandoned"],v={time:"upcoming",appointment_type_id:[],status:["booked","canceled"],staff:[],date_range_min:null,date_range_max:null},b=Object.freeze({title:"Consultation Phone Call",duration:"30",label:"light-green",booking_layout:"week",availability_increment:30,availability_type:"available_blocks",availability:{Monday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Tuesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Wednesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Thursday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Friday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Saturday:[],Sunday:[]},availability_end_date:null,availability_start_date:null,booking_end_date:"",booking_start_date:"",capacity:1,capacity_type:"individual",timezone_style:"localized",buffer_before:"0",buffer_after:"0",max_event_count:"0",min_booking_notice:1440..toString(),max_booking_notice:525600..toString(),customer_information:[],notifications:[],google_calendar_booking:"",google_calendars_availability:[],payment_required:"none",shared_calendar_event:1,staff:{required:"",assignment:"random"},staff_ids:[],has_max_capacity:0,web_meetings:{provider:"",url:""}}),k=Object.freeze({required:"",assignment:"random"}),C=Object.freeze({duration:"",label:"",availability_increment:null,availability:{},availability_end_date:null,availability_start_date:null,buffer_before:"",buffer_after:"",max_event_count:"",min_booking_notice:null,customer_information:[],notifications:[],google_calendar_booking:"",google_calendars_availability:[],mailchimp:{}}),S=Object.freeze({accent_color:"rgba(139, 195, 74, 1)",background:"rgba(255, 255, 255, 1)",contrast:!1,font:"Roboto",padding:"1rem",css:""}),w=["Arial","Arial Black","Courier New","Georgia","Helvetica","Tahoma","Times New Roman","Trebuchet MS","Verdana"],T=["appointment_booked","appointment_canceled","appointment_edited"],x=[{code:"AUD",number:"036",digits:2,currency:"Australian Dollar",countries:["Australia","Christmas Island","Cocos (Keeling) Islands (The)","Heard Island And Mcdonald Islands","Kiribati","Nauru","Norfolk Island","Tuvalu"]},{code:"BRL",number:"986",digits:2,currency:"Brazilian Real",countries:["Brazil"]},{code:"CAD",number:"124",digits:2,currency:"Canadian Dollar",countries:["Canada"]},{code:"CZK",number:"203",digits:2,currency:"Czech Koruna",countries:["Czechia"]},{code:"DKK",number:"208",digits:2,currency:"Danish Krone",countries:["Denmark","Faroe Islands (The)","Greenland"]},{code:"EUR",number:"978",digits:2,currency:"Euro",countries:["Andorra","Austria","Belgium","Cyprus","Estonia","European Union","Finland","France","French Guiana","French Southern Territories (The)","Germany","Greece","Guadeloupe","Holy See (The)","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Martinique","Mayotte","Monaco","Montenegro","Netherlands (The)","Portugal","Réunion","Saint Barthélemy","Saint Martin (French Part)","Saint Pierre And Miquelon","San Marino","Slovakia","Slovenia","Spain","Åland Islands"]},{code:"HKD",number:"344",digits:2,currency:"Hong Kong Dollar",countries:["Hong Kong"]},{code:"ILS",number:"376",digits:2,currency:"New Israeli Sheqel",countries:["Israel"]},{code:"MYR",number:"458",digits:2,currency:"Malaysian Ringgit",countries:["Malaysia"]},{code:"MXN",number:"484",digits:2,currency:"Mexican Peso",countries:["Mexico"]},{code:"NOK",number:"578",digits:2,currency:"Norwegian Krone",countries:["Bouvet Island","Norway","Svalbard And Jan Mayen"]},{code:"NZD",number:"554",digits:2,currency:"New Zealand Dollar",countries:["Cook Islands (The)","New Zealand","Niue","Pitcairn","Tokelau"]},{code:"PHP",number:"608",digits:2,currency:"Philippine Piso",countries:["Philippines (The)"]},{code:"PLN",number:"985",digits:2,currency:"Zloty",countries:["Poland"]},{code:"GBP",number:"826",digits:2,currency:"Pound Sterling",countries:["Guernsey","Isle Of Man","Jersey","United Kingdom Of Great Britain And Northern Ireland (The)"]},{code:"SGD",number:"702",digits:2,currency:"Singapore Dollar",countries:["Singapore"]},{code:"SEK",number:"752",digits:2,currency:"Swedish Krona",countries:["Sweden"]},{code:"CHF",number:"756",digits:2,currency:"Swiss Franc",countries:["Liechtenstein","Switzerland"]},{code:"THB",number:"764",digits:2,currency:"Baht",countries:["Thailand"]},{code:"USD",number:"840",digits:2,currency:"US Dollar",countries:["American Samoa","Bonaire, Sint Eustatius And Saba","British Indian Ocean Territory (The)","Ecuador","El Salvador","Guam","Haiti","Marshall Islands (The)","Micronesia (Federated States Of)","Northern Mariana Islands (The)","Palau","Panama","Puerto Rico","Timor-Leste","Turks And Caicos Islands (The)","United States Minor Outlying Islands (The)","United States Of America (The)","Virgin Islands (British)","Virgin Islands (U.S.)"]}],A="https://dashboard.stripe.com/payments/",P=[{locale:"da_DK",title:"Danish",title_localized:"Dansk"},{locale:"nl_NL",title:"Dutch",title_localized:"Nederlands"},{locale:"nl_BE",title:"Dutch (Belgium)",title_localized:"Nederlands (België)"},{locale:"de_DE",title:"German",title_localized:"Deutsch"},{locale:"de_DE_formal",title:"German (Formal)",title_localized:"Deutsch (Sie)"},{locale:"de_CH",title:"German (Switzerland)",title_localized:"Deutsch (Schweiz)"},{locale:"de_CH_informal",title:"German (Switzerland, Informal)",title_localized:"Deutsch (Schweiz, Du)"},{locale:"en_GB",title:"English (UK)",title_localized:"English (UK)"},{locale:"et",title:"Estonian",title_localized:"Eesti"},{locale:"hu_HU",title:"Hungarian",title_localized:"Magyar"},{locale:"es_ES",title:"Spanish (Spain)",title_localized:"Español"},{locale:"sl_SI",title:"Slovenian",title_localized:"Slovenščina"},{locale:"es_MX",title:"Spanish (Mexico)",title_localized:"Español de México"},{locale:"es_VE",title:"Spanish (Venezuela)",title_localized:"Español de Venezuela"},{locale:"sv_SE",title:"Swedish",title_localized:"Svenska"},{locale:"fr_FR",title:"French (France)",title_localized:"Français"},{locale:"it_IT",title:"Italian (Italy)",title_localized:"Italiano"},{locale:"pl_PL",title:"Polish",title_localized:"Polski"},{locale:"pt_BR",title:"Portuguese (Brazil)",title_localized:"Português do Brasil"},{locale:"pt_PT",title:"Portuguese (Portugal)",title_localized:"Português"},{locale:"ru_RU",title:"Russian",title_localized:"Русский"},{locale:"tr_TR",title:"Turkish",title_localized:"Türkçe"},{locale:"ja",title:"Japanese",title_localized:"日本語"},{locale:"hr",title:"Croatian",title_localized:"Hrvatski"},{locale:"el",title:"Greek",title_localized:"Ελληνικά"},{locale:"sk_SK",title:"Slovak",title_localized:"Slovenčina"},{locale:"nb_NO",title:"Norwegian",title_localized:"Norsk bokmål"},{locale:"is_IS",title:"Icelandic",title_localized:"Íslenska"},{locale:"cs_CZ",title:"Czech",title_localized:"Čeština"},{locale:"lt_LT",title:"Lithuanian",title_localized:"Lietuvių kalba"}],M=["minutes","hours","days","weeks"],E={appointment_types:[],blackout_dates:{dates:[]},capacity:0,custom_working_hours:0,display_name:"",display_order:1,email:"",manages_blackout_dates:0,manages_working_hours:0,name:"",status:"publish",timezone:"",user_id:0,visibility:"public",working_hours:{Monday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Tuesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Wednesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Thursday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Friday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Saturday:[],Sunday:[]}},D=["individual","group"],$="YYYY-MM-DD",O=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1"],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599"],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61"],["Cocos (Keeling) Islands","cc","61"],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599"],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1"],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590"],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44"],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39"],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44"],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7"],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262"],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212"],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1"],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262"],["Romania (România)","ro","40"],["Russia (Россия)","ru","7"],["Rwanda","rw","250"],["Saint Barthélemy","bl","590"],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590"],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44"],["United States","us","1"],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39"],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212"],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358"]],I=O.map((([t,e,s])=>({name:t,iso2:e.toUpperCase(),dialCode:s}))),z=["PST","PDT","MST","MDT","CST","CDT","EST","EDT","US/Pacific-New","EST5EDT","CST6CDT","MST7MDT","PST8PDT","Etc/UTC"],j={default:395,appointment_types:{edit:345,capacity:347,staff:346,advanced_scheduling_enabled:348,google_calendar_enabled:351,web_meetings_enabled:350,web_meetings_google_calendar:387,web_meetings_zoom:388,mailchimp_enabled:389,webhooks_enabled:390,customer_information:391},google_calendar:{enabled:362,account_activated:363},notifications:{list:357,edit:377,sms:359,sms_enabled:358,staff_enabled:393},payments:{all:369,paypal_enabled:371,stripe_enabled:370},support_ticket:{default:412,email:398,scheduled_event:399,twig:400,translation:401,connection_lost:402,loading:403,missing:404,400:405,google:406,hippa:407,gdpr:408,captcha:409},teams:{list:375,edit:376},appointment_details:343,appointment_details_payments_enabled:392,advanced_scheduling_options:361,blackout:360,developer_jobs:380,developer_settings:379,general:354,import_export:378,mailchimp:364,paypal:373,settings:{list:352,license_enabled:353},stripe:372,styles:355,support:381,tracking:374,translations:356,webhooks:367,zoom:365},L={email:["email","notifications","emails","SMTP","mail","confirmation","message"],scheduled_event:["scheduled event","scheduled events","cron","late"],twig:["twig","merge tag","token","syntax"],translation:["translation","translate","language","du","sie","multi-lingual","multilingual","pack"],connection_lost:["connection lost","load","lost connection","not loading","spin","communicating"],loading:["loading","time to load","loading time","performance","slow","seconds"],missing:["missing","won't show","doesn't show","availability","not showing","available","aren't available"],400:["400","OAuth","OAuth 2.0 Policy","redirect_uri_mismatch","redirect uri","google API","Authorization Error","google cloud","unauthorized"],google:["google","block","blocking","conflict","sync","not syncing"],hipaa:["hipaa","hippa","associate business agreement","business associate agreement","encrypt"],gdpr:["gdpr","privacy policy","data protection","data processing"],captcha:["captcha","spam"]};var N=s(2809),U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[t._m(0),s("div",{staticClass:"content-wrap"},[s("h1",{staticClass:"md-display-2"},[t._v(t._s(t.translations.hello.headline))]),s("p",{staticClass:"md-headline"},[t._v(t._s(t.translations.hello.subhead))]),s("div",{staticClass:"button-bar transparent"},[t.settings.installed.license?s("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/wizard/license"}},[t._v(t._s(t.translations.hello.accept))]):s("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/wizard/review"}},[t._v(t._s(t.translations.hello.accept))])],1),s("div",{staticClass:"button-bar transparent"},[s("router-link",{staticClass:"md-primary",attrs:{to:"/ssa",tag:"md-button"},nativeOn:{click:function(e){return t.updateWizard.apply(null,arguments)}}},[t._v(t._s(t.translations.hello.decline))])],1),s("img",{attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-sitting-tail-up.svg"}})])])},G=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cloud-wrap"},[s("div",{staticClass:"cloud-1"},[s("div",{staticClass:"cloud"})]),s("div",{staticClass:"cloud-2"},[s("div",{staticClass:"cloud"})]),s("div",{staticClass:"cloud-3"},[s("div",{staticClass:"cloud"})]),s("div",{staticClass:"cloud-4"},[s("div",{staticClass:"cloud"})]),s("div",{staticClass:"cloud-5"},[s("div",{staticClass:"cloud"})])])}],F=s(7318),W=s.n(F),B={name:"helloWizard",store:wv,data(){return{moment:W()}},beforeMount(){this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_appointment_types")||this.$router.push("/ssa")},mounted(){this.saveTimezone()},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{saveTimezone:function(){this.settings.global.timezone_string&&this.detectedTimezone===this.settings.global.timezone_string||(this.updateTimezoneString({settings:this.settings,value:this.detectedTimezone}),this.updateGlobalSettings())},updateWizard(){this.updateWizardCompleted({settings:this.settings,value:W().utc().format(this.timestampFormat)}),this.updateGlobalSettings()},...(0,o.OI)("global_settings",["updateTimezoneString","updateWizardCompleted"]),...(0,o.nv)("global_settings",["updateGlobalSettings"])}},R=B,q=s(1001),H=(0,q.Z)(R,U,G,!1,null,"4444e5b1",null),Z=H.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings view-container"},[t.currentUserHasNav?s("md-sidenav",{ref:"leftSidenav",staticClass:"md-left"},[s("settings-sidenav")],1):t._e(),t.showBanner?s("md-layout",[s("md-layout",[s("md-whiteframe",{staticClass:"banner",attrs:{"md-elevation":1}},[s("div",{staticClass:"md-subheading"},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),t._v(" "+t._s(t.translations.errors.noAppointmentTypes)+" ")],1),s("md-button",{staticClass:"md-raised md-primary",on:{click:t.addAppointmentType}},[t._v(" "+t._s(t.translations.appointmentTypes.actions.create)+" ")])],1)],1)],1):t._e(),s("md-layout",{staticClass:"page-layout",attrs:{"md-gutter":24}},[s("md-layout",{staticClass:"main-settings-col",attrs:{"md-column":""}},[s("md-toolbar",{staticClass:"md-primary"},[t.currentUserHasNav?s("md-button",{staticClass:"md-icon-button",on:{click:t.toggleLeftSidenav}},[s("md-icon",[t._v("menu")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.openNavigation)+" ")])],1):t._e(),t.currentUserCan("ssa_manage_appointments")||t.currentUserCan("ssa_manage_others_appointments")?s("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/appointments"}},[s("md-icon",[t._v("schedule")]),s("span",[t._v(t._s(t.translations.settings.appointmentsTitle))])],1):t._e(),t.currentUserCan("ssa_manage_appointment_types")?s("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[s("md-icon",[t._v("view_list")]),s("span",[t._v(t._s(t.translations.settings.appointmentTypesTitle))])],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/settings"}},[s("md-icon",[t._v("settings_applications")]),s("span",[t._v(t._s(t.translations.settings.settingsTitle))])],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/support"}},[s("md-icon",[t._v("help")]),t._v(" "+t._s(t.translations.support.supportTitle)+" ")],1):t._e(),t.currentUserIsStaff?s("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/settings/staff/profile/"+t.currentUserStaffId}},[s("md-icon",[t._v("account_circle")]),t._v(" "+t._s(t.translations.settings.staff.profile)+" ")],1):t._e()],1),s("md-whiteframe",{staticClass:"settings-whiteframe",attrs:{"md-elevation":1}},[t.currentUserHasPermissions?[t.loading?s("loading",{attrs:{message:t.translations.settings.loadingApptTypes}}):s("router-view",{key:"settings"})]:s("no-permission")],2)],1),s("md-layout",{staticClass:"side-settings-col",attrs:{"md-column":""}},[s("support-guides"),t.settings.installed.license?t._e():s("promo-plus",{attrs:{"upgrade-url-params":t.promoPlusUpgradeParams}}),t.settings.installed.license&&!t.settings.installed.webhooks?s("promo-pro",{attrs:{"upgrade-url-params":t.promoProUpgradeParams}}):t._e(),t.settings.installed.license?s("promo-zoom-announce"):s("promo-zoom-upgrade"),t.settings.installed.sms&&t.currentUserCan("ssa_manage_site_settings")?s("setup-sms"):t._e()],1)],1)],1)},V=[],Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-loading",class:t.size},[s("md-spinner",{staticClass:"app-spinner",attrs:{"md-size":t.spinnerSize,"md-indeterminate":""}}),s("h3",{class:t.textClass},[t._v(" "+t._s(t.message)+"… ")])],1)},J=[],X={name:"loadingElement",props:{message:String,size:{type:String,default:"one"}},data(){return{}},computed:{textClass(){switch(this.size){case"one":return"md-display-1";case"title":return"md-title";case"body":return"md-body-1";default:return"md-display-1"}},spinnerSize(){switch(this.size){case"one":return 50;case"title":return 50;case"body":return 20;default:return 50}}}},Q=X,tt=(0,q.Z)(Q,Y,J,!1,null,null,null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showPromo?s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[s("md-card-media",[t.dismissable?s("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[s("md-icon",[t._v("clear")])],1):t._e(),s("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[s("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),s("md-card-header",[s("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),s("strong",[t._v("Plus")])])]),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("p",[t._v(t._s(t.translations.promo.plusText))]),s("ul",[s("li",[t._v(t._s(t.translations.promo.plusTextBullets.google))]),s("li",[t._v(t._s(t.translations.promo.plusTextBullets.customFields))]),s("li",[t._v(t._s(t.translations.promo.plusTextBullets.mailchimp))]),s("li",[t._v(t._s(t.translations.promo.plusTextBullets.capacity))]),s("li",[t._v(t._s(t.translations.promo.plusTextBullets.classes))])])]),s("md-card-actions",[s("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.view)+" ")]),s("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.upgrade)+" ")])],1)],1)],1):t._e()},it=[];const nt="https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=754&edd_options%5Bprice_id%5D=1",at="https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=756&edd_options%5Bprice_id%5D=1",ot="https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=672&edd_options%5Bprice_id%5D=1&discount=PREORDERBUSINESS",rt="https://simplyscheduleappointments.com/2021/07/08/zoom-web-meetings-how-to-schedule/";var lt=s(7421),dt=s.n(lt),pt={name:"plusPromo",store:wv,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default:()=>{}}},computed:{showPromo(){return!(this.dismissedNotices&&this.dismissedNotices.coming_soon&&this.dismissable)||!this.dismissedNotices.coming_soon},allEditionsUrlParsed(){const t="https://simplyscheduleappointments.com/pricing/",e={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"view-all-editions"};return`${t}?${dt().stringify(e)}`},upgradeUrlParsed(){if(!this.upgradeUrlParams)return nt;const t=nt.split("?"),e=t[0];let s=t.length>1?dt().parse(t[1]):{};return!Object.keys(this.upgradeUrlParams).length>0?nt:(s=Object.assign(s,this.upgradeUrlParams),`${e}?${dt().stringify(s)}`)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("notices",["dismissedNotices"])},methods:{clearAd(){this.updateNotices({key:"coming_soon",settings:1}),this.updateDismissedNotices("coming_soon")},promoClicked(){this.$emit("promoClicked")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},ct=pt,mt=(0,q.Z)(ct,st,it,!1,null,null,null),ut=mt.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showPromo?s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[s("md-card-media",[t.dismissable?s("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[s("md-icon",[t._v("clear")])],1):t._e(),s("a",{attrs:{href:"https://simplyscheduleappointments.com/features",target:"_blank"}},[s("img",{staticClass:"promo-img promo-pro",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-pro.svg",alt:"Simply Schedule Appointments Pro"}})])],1),s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.proHeading))]),s("div",{staticClass:"md-subhead"},[t._v("Simply Schedule Appointments "),s("strong",[t._v("Pro")])])]),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("p",[t._v(t._s(t.translations.promo.proText))]),s("ul",[s("li",[t._v(t._s(t.translations.promo.proTextBullets.payments))]),s("li",[t._v(t._s(t.translations.promo.proTextBullets.reminders))]),s("li",[t._v(t._s(t.translations.promo.proTextBullets.tracking))]),s("li",[t._v(t._s(t.translations.promo.proTextBullets.webhooks))]),s("li",[t._v(t._s(t.translations.promo.proTextBullets.zoom))])])]),s("md-card-actions",[s("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.proTextCta.view)+" ")]),s("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.proTextCta.upgrade)+" ")])],1)],1)],1):t._e()},ht=[],_t={name:"proPromo",store:wv,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default:()=>{}}},computed:{showPromo(){return!(this.dismissedNotices&&this.dismissedNotices.now_available&&this.dismissable)||!this.dismissedNotices.now_available},allEditionsUrlParsed(){const t="https://simplyscheduleappointments.com/pricing/",e={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"pro-features",utm_content:"view-all-editions"};return`${t}?${dt().stringify(e)}`},upgradeUrlParsed(){if(!this.upgradeUrlParams)return at;const t=at.split("?"),e=t[0];let s=t.length>1?dt().parse(t[1]):{};return!Object.keys(this.upgradeUrlParams).length>0?at:(s=Object.assign(s,this.upgradeUrlParams),`${e}?${dt().stringify(s)}`)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("notices",["dismissedNotices"])},methods:{clearAd(){this.updateNotices({key:"now_available",settings:1}),this.updateDismissedNotices("now_available")},promoClicked(){this.$emit("promoClicked")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},ft=_t,yt=(0,q.Z)(ft,gt,ht,!1,null,null,null),vt=yt.exports,bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showPromo?s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[s("md-card-media",[t.dismissable?s("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[s("md-icon",[t._v("clear")])],1):t._e(),s("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[s("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upgrade-zoom.svg",alt:"Schedule Zoom Meetings with Simply Schedule Appointments"}})])],1),s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.zoomUpgrade.title))])]),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("p",[t._v(t._s(t.translations.promo.zoomUpgrade.text))]),s("ul",[s("li",[t._v(t._s(t.translations.promo.plusTextBullets.google))]),s("li",[t._v(t._s(t.translations.promo.plusTextBullets.customFields))]),s("li",[t._v(t._s(t.translations.promo.plusTextBullets.capacity))])])]),s("md-card-actions",[s("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.view)+" ")]),s("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.upgrade)+" ")])],1)],1)],1):t._e()},kt=[],Ct={name:"PromoZoomUpgrade",store:wv,props:{dismissable:{default:!0}},computed:{showPromo(){return!(this.dismissedNotices&&this.dismissedNotices.zoom_upgrade&&this.dismissable)||!this.dismissedNotices.zoom_upgrade},allEditionsUrlParsed(){const t="https://simplyscheduleappointments.com/pricing/",e={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"zoom",utm_content:"view-all-editions"};return`${t}?${dt().stringify(e)}`},upgradeUrlParsed(){const t=nt.split("?"),e=t[0];let s=t.length>1?dt().parse(t[1]):{};return s=Object.assign(s,{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"zoom",utm_content:"zoom-plus-sidebar"}),`${e}?${dt().stringify(s)}`},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("notices",["dismissedNotices"])},methods:{clearAd(){this.updateNotices({key:"zoom_upgrade",settings:1}),this.updateDismissedNotices("zoom_upgrade")},promoClicked(){this.$emit("promoClicked")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},St=Ct,wt=(0,q.Z)(St,bt,kt,!1,null,null,null),Tt=wt.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showPromo?s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[s("md-card-media",[t.dismissable?s("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[s("md-icon",[t._v("clear")])],1):t._e(),s("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[s("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upgrade-zoom.svg",alt:"Schedule Zoom Meetings with Simply Schedule Appointments"}})])],1),s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.zoomAnnounce.title))])]),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("p",[t._v(t._s(t.translations.promo.zoomAnnounce.text))])]),s("md-card-actions",[s("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.zoomGuide,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.zoomAnnounce.cta)+" ")])],1)],1)],1):t._e()},At=[],Pt={name:"PromoZoomUpgrade",store:wv,props:{dismissable:{default:!0}},data(){return{zoomGuide:rt}},computed:{showPromo(){return!(this.dismissedNotices&&this.dismissedNotices.zoom_upgrade&&this.dismissable)||!this.dismissedNotices.zoom_upgrade},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("notices",["dismissedNotices"])},methods:{clearAd(){this.updateNotices({key:"zoom_upgrade",settings:1}),this.updateDismissedNotices("zoom_upgrade")},promoClicked(){this.$emit("promoClicked")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},Mt=Pt,Et=(0,q.Z)(Mt,xt,At,!1,null,null,null),Dt=Et.exports,$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showPromo?s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""}},[s("md-card-media",[t.dismissable?s("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[s("md-icon",[t._v("clear")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.promo.dismissNotice)+" ")])],1):t._e(),s("a",{attrs:{href:"https://simplyscheduleappointments.com/no-more-no-shows-with-sms-appointment-reminders",target:"_blank"}},[s("img",{staticClass:"promo-img promo-sms",attrs:{src:t.api.admin_static_url+"/images/promo-sms.svg",alt:"Simply Schedule Appointments SMS Reminders"}})])],1),s("md-card-header",[s("h2",{staticClass:"md-title"},[t._v("SMS Reminders Available Now!")]),s("p",{staticClass:"md-subhead"},[t._v("Get step-by-step instructions on getting set up to send SMS reminders to your customers.")])]),s("md-card-expand",[s("md-card-actions",[s("span",{staticStyle:{flex:"1"}}),s("md-button",{staticClass:"no-animation",attrs:{"md-expand-trigger":""}},[t._v(" View the instructions "),s("md-icon",[t._v("keyboard_arrow_down")])],1)],1),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("dl",{staticClass:"to-do-list"},[s("dt",[s("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.smsEnabled))]),t._v(" 1. Enable SMS ")],1),s("dd",[s("router-link",{attrs:{to:"/ssa/settings/notifications/list"}},[t._v("Turn on the SMS feature")]),t._v(" by toggling the feature on")],1),s("dt",[s("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.twilioSetup))]),t._v(" 2. Set up your Twilio settings ")],1),s("dd",[t._v("Get your "),s("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v("Twilio API key")]),t._v(" and credentials. "),s("router-link",{attrs:{to:"/ssa/settings/notifications/sms"}},[t._v("Edit Twilio settings")])],1),s("dt",[s("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.adminPhone))]),t._v(" 3. Add an admin phone number ")],1),s("dd",[t._v("If you want to send SMS reminders to yourself, add your phone number. "),s("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v("Edit general settings")])],1),s("dt",[s("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.phoneFields))]),t._v(" 4. Collect a phone number from your customers ")],1),s("dd",[t._v(" Edit your appointment types to add a phone number type field to the customer information section. "),s("router-link",{attrs:{to:"/ssa/appointment-types/edit/customerInfo"}},[t._v("Edit appointment types")])],1),s("dt",[s("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.smsNotification))]),t._v(" 5. Set up an SMS notification ")],1),s("dd",[t._v("Create a new notification, set the type to SMS, and configure your settings. "),s("router-link",{attrs:{to:"/ssa/settings/notifications/list"}},[t._v("Manage notifications")])],1)]),s("p",[t._v("If you need more details, please "),s("a",{attrs:{href:"https://simplyscheduleappointments.com/no-more-no-shows-with-sms-appointment-reminders",target:"_blank"}},[t._v("read our blog post")]),t._v(", complete with screen shots of each step. Or "),s("router-link",{attrs:{to:"/ssa/support"}},[t._v("contact support")]),t._v(" for more assistance.")],1)])],1)],1)],1):t._e()},Ot=[],It={name:"plusPromo",props:{dismissable:{default:!0}},data(){return{}},computed:{showPromo(){return!(this.dismissedNotices&&this.dismissedNotices.setup_sms&&this.dismissable)||!this.dismissedNotices.setup_sms},smsEnabled(){return this.settings.sms.enabled?"check_box":"check_box_outline_blank"},twilioSetup(){return this.settings.sms.authorized_date?"check_box":"check_box_outline_blank"},adminPhone(){return this.settings.global.admin_phone?"check_box":"check_box_outline_blank"},phoneFields(){return this.phoneAppointmentTypes&&this.phoneAppointmentTypes.length?"check_box":"check_box_outline_blank"},smsNotification(){let t=this.settings.notifications.notifications.filter((t=>"sms"===t.type));return t.length?"check_box":"check_box_outline_blank"},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)("notifications",["phoneAppointmentTypes"]),...(0,o.rn)("notices",["dismissedNotices"])},methods:{clearAd(){this.updateNotices({key:"setup_sms",settings:1}),this.updateDismissedNotices("setup_sms")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},zt=It,jt=(0,q.Z)(zt,$t,Ot,!1,null,null,null),Lt=jt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list",[t.currentUserCan("ssa_manage_appointments")||t.currentUserCan("ssa_manage_others_appointments")?s("md-list-item",[s("router-link",{attrs:{to:"/ssa/appointments"}},[s("md-icon",[t._v("schedule")]),s("span",[t._v(t._s(t.translations.settings.appointmentsTitle))])],1)],1):t._e(),t.currentUserCan("ssa_manage_appointment_types")?s("md-list-item",[s("router-link",{attrs:{to:"/ssa/appointment-types"}},[s("md-icon",[t._v("view_list")]),s("span",[t._v(t._s(t.translations.settings.appointmentTypesTitle))])],1)],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("md-list-item",[s("md-icon",[t._v("settings_applications")]),s("router-link",{attrs:{to:"/ssa/settings"}},[s("span",[t._v(t._s(t.translations.settings.settingsTitle))])]),s("md-list-expand",[s("md-list",[s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v(" "+t._s(t.translations.settings.general.title)+" ")])],1),s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/styles"}},[t._v(" "+t._s(t.translations.settings.styles.title)+" ")])],1),s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/translations"}},[t._v(" "+t._s(t.translations.settings.translations.title)+" ")])],1),s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/notifications"}},[t._v(" "+t._s(t.translations.settings.notifications.title)+" ")])],1),t.settings.blackout_dates.enabled?s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/blackout"}},[t._v(" "+t._s(t.translations.settings.blackout.title)+" ")])],1):t._e(),t.settings.advanced_scheduling.enabled?s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/advanced-scheduling"}},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.title)+" ")])],1):t._e(),t.settings.google_calendar&&t.settings.google_calendar.enabled?s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.settings.google_calendar.title)+" ")])],1):t._e(),t.settings.mailchimp&&t.settings.mailchimp.enabled?s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/mailchimp"}},[t._v(" "+t._s(t.translations.settings.mailchimp.title)+" ")])],1):t._e(),t.settings.webhooks&&t.settings.webhooks.enabled?s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/webhooks"}},[t._v(" "+t._s(t.translations.settings.webhooks.title)+" ")])],1):t._e(),t.settings.payments&&t.settings.payments.enabled?s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/payments"}},[t._v(" "+t._s(t.translations.settings.payments.title)+" ")])],1):t._e(),t.settings.tracking&&t.settings.tracking.enabled?s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/tracking"}},[t._v(" "+t._s(t.translations.settings.tracking.title)+" ")])],1):t._e(),t.settings.staff&&t.settings.staff.enabled&&t.currentUserCan("ssa_manage_staff")?s("md-list-item",{staticClass:"md-inset"},[s("router-link",{attrs:{to:"/ssa/settings/staff"}},[t._v(" "+t._s(t.translations.settings.staff.title)+" ")])],1):t._e()],1)],1)],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("md-list-item",[s("router-link",{attrs:{to:"/ssa/support"}},[s("md-icon",[t._v("help")]),s("span",[t._v(t._s(t.translations.support.supportTitle))])],1)],1):t._e(),t.currentUserIsStaff?s("md-list-item",[s("router-link",{attrs:{to:"/ssa/settings/staff/profile/"+t.currentUserStaffId}},[s("md-icon",[t._v("account_circle")]),s("span",[t._v(" "+t._s(t.translations.settings.staff.profile)+" ")])],1)],1):t._e()],1)},Ut=[],Gt={name:"settings-sidenav",data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsStaff","currentUserStaffId"])}},Ft=Gt,Wt=(0,q.Z)(Ft,Nt,Ut,!1,null,null,null),Bt=Wt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.translations.errors.noPermission,description:t.translations.errors.noPermissionDesc}})},qt=[],Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"empty-state"}},[s("div",{staticClass:"empty-state"},[s("div",{staticClass:"empty-state-container"},[t.icon?s("img",{staticClass:"empty-state-image",attrs:{src:t.icon}}):t._e(),t.label?s("h3",{staticClass:"empty-state-label"},[t._v(t._s(t.label))]):t._e(),t.description?s("p",{staticClass:"empty-state-description"},[t._v(t._s(t.description))]):t._e(),t._t("default")],2)])])},Zt=[],Kt={name:"emptyState",props:["icon","label","description"],data(){return{}}},Vt=Kt,Yt=(0,q.Z)(Vt,Ht,Zt,!1,null,null,null),Jt=Yt.exports,Xt={name:"noPermission",components:{Empty:Jt},data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api"])}},Qt=Xt,te=(0,q.Z)(Qt,Rt,qt,!1,null,null,null),ee=te.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-card",{staticClass:"ssa-guides"},[s("md-card-header",[s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.support.guides.title))])]),t.guidesLoading?s("md-card-content",[s("md-spinner",{attrs:{"md-indeterminate":""}})],1):[t.currentGuides.length?[s("md-list",t._l(t.dipslayGuides,(function(e){return s("md-list-item",{key:e.id,attrs:{href:e.link,target:"_blank"}},[s("md-avatar",[s("img",{attrs:{src:e.icon,alt:""}})]),s("div",{staticClass:"ssa-guide-label",domProps:{innerHTML:t._s(e.title)}})],1)})),1),t.currentGuides.length>3?s("md-card-actions",[s("md-button",{staticStyle:{width:"100%"},on:{click:function(e){t.showAllGuides=!t.showAllGuides}}},[t._v(t._s(this.showAllGuides?t.translations.support.guides.less:t.translations.support.guides.more))])],1):t._e()]:t._e(),t.currentGuideKey&&0===t.currentGuides.length?[s("md-card-content",[s("p",{staticClass:"md-subhead"},[t._v(t._s(t.translations.support.guides.notFound))])])]:t._e()]],2)},ie=[],ne=s(3236),ae=s.n(ne),oe={name:"supportGuides",data(){return{showAllGuides:!1}},watch:{currentGuides:function(t){t.length&&(this.showAllGuides=!1)}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("guides",["guidesLoading","currentGuideKey"]),...(0,o.Se)("guides",["currentGuides"]),dipslayGuides(){const t=this.showAllGuides?this.currentGuides:this.currentGuides.slice(0,3);return t.map((t=>{let e={...t};const s={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_content:ae()(t.title,{lower:!0,strict:!0})};return e.link=`${t.link}?${dt().stringify(s)}`,e}))}}},re=oe,le=(0,q.Z)(re,se,ie,!1,null,null,null),de=le.exports,pe={name:"settingsScreen",components:{NoPermission:ee,Loading:et,PromoPlus:ut,PromoPro:vt,PromoZoomUpgrade:Tt,PromoZoomAnnounce:Dt,SettingsSidenav:Bt,SetupSms:Lt,SupportGuides:de},data(){return{loading:!0,promoPlusUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-sidebar"},promoProUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"pro-features",utm_content:"general-pro-sidebar"}}},beforeRouteEnter(t,e,s){s((e=>{t.matched.some((t=>"/ssa/appointments"===t.path))&&(e.currentUserCan("ssa_manage_appointments")||e.currentUserCan("ssa_manage_others_appointments"))||t.matched.some((t=>"/ssa/appointment/:id"===t.path))&&(e.currentUserCan("ssa_manage_appointments")||e.currentUserCan("ssa_manage_others_appointments"))||t.matched.some((t=>"/ssa/appointment-types"===t.path))&&e.currentUserCan("ssa_manage_appointment_types")||t.matched.some((t=>"/ssa/settings"===t.path))&&e.currentUserCan("ssa_manage_site_settings")||t.matched.some((t=>"/ssa/settings/staff/profile/:id?"===t.path))&&e.currentUserCan("ssa_manage_appointments")&&e.user.staff_id.toString()===e.$route.params.id.toString()||t.matched.some((t=>"/ssa/support"===t.path))&&e.currentUserCan("ssa_manage_site_settings")?s():e.defaultRoutes()}))},beforeRouteUpdate(t,e,s){this.$refs.leftSidenav&&this.$refs.leftSidenav.close(),s()},mounted(){"undefined"===typeof this.appointmentTypes?this.fetchAppointmentTypes().then((()=>{this.loading=!1})).catch((t=>{console.log(t)})):this.loading=!1},computed:{showBanner(){return"undefined"!==typeof this.appointmentTypes&&this.editableAppointmentTypes&&!this.editableAppointmentTypes.length&&"appointment-type-single"!==this.$route.name},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","user"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("staff",["currentUserCan","currentUserHasPermissions","currentUserHasNav","currentUserIsStaff","currentUserStaffId"])},methods:{addAppointmentType(){this.createNewAppointmentType(),Pf.push("/ssa/appointment-types/type")},defaultRoutes(){this.currentUserCan("ssa_manage_appointments")||this.currentUserCan("ssa_manage_others_appointments")?this.$router.push("/ssa/appointments"):this.currentUserCan("ssa_manage_appointment_types")?this.$router.push("/ssa/appointment-types"):this.currentUserCan("ssa_manage_site_settings")?this.$router.push("/ssa/settings"):this.currentUserCan("ssa_manage_staff")&&this.$router.push("/ssa/settings/staff")},toggleLeftSidenav(){this.$refs.leftSidenav.toggle()},...(0,o.nv)("appointment_types",["createNewAppointmentType","fetchAppointmentTypes"]),...(0,o.OI)(["updateCurrentSettings"])}},ce=pe,me=(0,q.Z)(ce,K,V,!1,null,"51c74989",null),ue=me.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appointments"},[t.error?s("div",{staticClass:"app-error"},[s("img",{attrs:{src:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",alt:"Error fox"}}),s("h3",{staticClass:"md-display-1"},[t._v(" "+t._s(t.translations.errors.heading)+" ")]),s("p",[t._v(" "+t._s(t.translations.errors.intro)+" "+t._s(t.translations.errors.appointmentLoading)+" ")])]):[s("div",{staticStyle:{"text-align":"right"}},[t.currentUserCan("ssa_manage_appointments")?s("md-button",{staticClass:"md-primary",on:{click:t.loadBookingEmbed}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.general.bookAppointment)+" ")],1):t._e()],1),s("appointment-filter",{attrs:{loading:t.loading},on:{update:t.loadAppointments}}),t.loading?s("loading",{attrs:{message:t.translations.settings.loadingAppointments}}):[t.displayAppointments.length&&t.displayAllAppointments?[s("md-list",{staticClass:"md-triple-line"},t._l(t.displayAppointments,(function(e,i){return s("appointments-list-item",{key:e.start_date+"-"+i,attrs:{appointment:e},on:{confirmCancel:t.confirmCancel}})})),1),t.loadingMore?s("md-spinner",{attrs:{"md-size":36,"md-indeterminate":""}}):s("md-button",{staticClass:"md-primary",attrs:{disabled:t.loadedAll},on:{click:function(e){return t.loadMoreAppointments()}}},[t._v(" "+t._s(t.translations.appointments.loadMore)+" ")])]:t.displayAppointments.length&&!t.displayAllAppointments?s("empty",{attrs:{label:t.translations.appointments.tooManyToDisplay.headline}},[s("p",[t._v(" "+t._s(t.translations.appointments.tooManyToDisplay.explanation)+" ")]),s("md-button",{staticClass:"md-primary",on:{click:t.toggleDisplayAllAppointments}},[t._v(" "+t._s(t.translations.appointments.tooManyToDisplay.action)+" ")])],1):s("empty",{attrs:{label:t.emptyLabel,icon:t.emptyIcon}},["upcoming"===t.filter.time?s("md-button",{staticClass:"md-primary",on:{click:t.loadBookingEmbed}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.general.bookAppointment)+" ")],1):t._e()],1)],s("md-dialog",{ref:"confirmCancel"},[s("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.cancelConfirm)+" ")]),s("md-dialog-content",[t.currentAppointment?s("md-list",t._l(t.availableCustomerInformation,(function(e,i,n){return s("md-list-item",{key:n},[s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i)+" ")]),s("span","string"===typeof e?[t._v(" "+t._s(e)+" ")]:[t._v(" "+t._s(e.join(", "))+" ")])])])})),1):t._e()],1),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelCancel}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmCancel)+" ")]),s("md-button",{on:{click:t.cancelAppt}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmOk)+" ")])],1)],1),s("md-dialog",{ref:"bookingDialog",staticClass:"ssa-booking-dialog",on:{close:t.loadAppointments}},[s("button",{staticClass:"close",on:{click:function(e){return t.$refs.bookingDialog.close()}}},[s("md-icon",[t._v("close")])],1),s("md-dialog-content",[s("div",{staticClass:"ssa-booking-iframe-container",domProps:{innerHTML:t._s(t.bookingEmbed)}})]),s("md-dialog-actions",[s("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1)]],2)},he=[],_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isSingle?s("appointments-list-item-single",{attrs:{appointment:t.appointment.appointments[0]},on:{confirmCancel:t.confirmCancel}}):s("appointments-list-item-multi",{attrs:{appointments:t.appointment.appointments,group_id:t.appointment.group_id},on:{confirmCancel:t.confirmCancel}})},fe=[],ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{class:"status-"+t.appointment.status},[t.wpUserGravatar(t.appointment.customer_id)?s("md-avatar",[s("img",{attrs:{src:t.wpUserGravatar(t.appointment.customer_id),alt:t.wpUserName(t.appointment.customer_id)}}),s("md-tooltip",[t._v(" "+t._s(t.wpUserName(t.appointment.customer_id))+" ")])],1):s("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointment.type_label}},[t._v(" person ")]),s("div",{staticClass:"md-list-text-container"},[s("span",["canceled"===t.appointment.status?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),"abandoned"===t.appointment.status?[t._v(" "+t._s(t.translations.general.abandoned)+": ")]:t._e(),t._v(" "+t._s(t.appointmentName)+" ")],2),s("span",[t._v(" "+t._s(t.appointmentTypeTitle)+" "),t.appointmentStaffNames(t.appointment)?s("span",{staticClass:"staff-with"},[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointment))+" ")]):t._e()]),s("p",[t._v(" "+t._s(t.appointmentDisplayDate)+" ")])]),s("md-list-expand",[s("md-list",{staticClass:"nested-list",class:{"md-double-line":!t.isBasic}},[t.appointment.web_meeting_url?s("md-list-item",{staticClass:"md-inset"},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" video_call ")]),s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(t._s(t.translations.appointments.webMeetings.label))]),s("span",[s("a",{attrs:{href:t.appointment.web_meeting_url,target:"_blank"}},[t._v(" "+t._s(t.appointment.web_meeting_url)+" ")])])])],1):t._e(),t.isBasic?t._l(t.basicCustomerInformation,(function(e,i,n){return s("md-list-item",{key:n,staticClass:"md-inset"},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},["Email"===i?[t._v(" email ")]:"Phone"===i?[t._v(" phone ")]:"Address"===i?[t._v(" place ")]:"Notes"===i?[t._v(" assignment ")]:t._e()],2),s("span",[t._v(t._s(e))])],1)})):t._l(t.paidCustomerInformation,(function(e,i,n){return s("md-list-item",{key:n,staticClass:"md-inset"},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" "+t._s(t.icons[i]?t.icons[i]:"bookmark")+" ")]),s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(t._s(i))]),s("span",["string"===typeof e?[t._v(" "+t._s(e)+" ")]:[t._v(" "+t._s(e.join(", "))+" ")]],2)])],1)})),parseFloat(t.appointment.payment_received)?s("md-list-item",{staticClass:"md-inset"},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" payment ")]),s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(" "+t._s(t.translations.appointments.paymentReceived)+" ")]),s("span",[t._v(" "+t._s(t.displayPrice(t.appointment.payment_received,t.currency))+" ")])])],1):t._e(),s("md-list-item",{staticClass:"md-inset"},[s("span",[s("router-link",{attrs:{tag:"md-button",to:"/ssa/appointment/"+t.appointment.id}},[t._v(" "+t._s(t.translations.appointments.viewDetails)+" ")]),t.isCancelable?s("md-button",{on:{click:function(e){return t.confirmCancel(t.appointment.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")]):t._e()],1)])],2)],1)],1)},ve=[],be={name:"appointmentsListItemSingle",props:["appointment"],data(){return{moment:W()}},computed:{appointmentDisplayDate(){let t=W()(this.appointment.start_date,this.timestampFormat).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment);return this.shouldDisplayTimezone&&(t+=" "+W().utc(this.appointment.start_date).tz(this.settings.global.timezone_string).format("z")),t},appointmentName(){return this.appointment.customer_information.name?this.appointment.customer_information.name:this.appointment.customer_information.Name},appointmentType(){let t=this.appointmentTypes.filter((t=>t.id===this.appointment.appointment_type_id));return t[0]},appointmentTypeTitle(){return this.appointment.type_title?this.appointment.type_title:this.translations.appointments.deletedType},availableCustomerInformation(){if(!this.appointment)return[];let t={};return Object.keys(this.appointment.customer_information).forEach((e=>{this.appointment.customer_information[e]&&this.appointment.customer_information[e].length&&(t[e]=this.appointment.customer_information[e])})),t},basicCustomerInformation(){if(!this.appointment||!this.isBasic)return[];let t={};return Object.keys(this.availableCustomerInformation).forEach((e=>{"name"!==e&&(t[e]=this.appointment.customer_information[e])})),t},paidCustomerInformation(){if(!this.appointment||this.isBasic)return[];let t={};return Object.keys(this.availableCustomerInformation).forEach((e=>{"Name"!==e&&(t[e]=this.appointment.customer_information[e])})),t},currency(){return this.appointmentType&&Object.prototype.hasOwnProperty.call(this.appointmentType,"payments")&&this.appointmentType.payments.currency?this.appointmentType.payments.currency:Object.prototype.hasOwnProperty.call(this.settings,"payments")&&this.settings.payments.default_currency?this.settings.payments.default_currency:null},icons(){let t={};return this.appointmentType&&this.appointmentType.custom_customer_information.forEach((e=>{t[e.field]=e.icon})),t},isBasic(){return!this.settings.installed.license},isCancelable(){let t=W()(),e=W()(this.appointment.start_date,this.timestampFormat);return e.isSameOrAfter(t)&&"canceled"!==this.appointment.status},shouldDisplayTimezone(){return this.detectedTimezone!==this.settings.global.timezone_string},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.Se)(["detectedTimezone","wpUserGravatar","wpUserName"]),...(0,o.Se)("payments",["displayPrice"]),...(0,o.Se)("staff",["appointmentStaffNames"])},methods:{confirmCancel(t){this.$emit("confirmCancel",t)}}},ke=be,Ce=(0,q.Z)(ke,ye,ve,!1,null,null,null),Se=Ce.exports,we=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{class:"status-"+t.groupAppointmentStatus(this.appointments)},[s("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointmentInfo.type_label}},[t._v(" people ")]),s("div",{staticClass:"md-list-text-container"},[s("span",["canceled"===t.groupAppointmentStatus(this.appointments)?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),"abandoned"===t.groupAppointmentStatus(this.appointments)?[t._v(" "+t._s(t.translations.general.abandoned)+": ")]:t._e(),t._v(" "+t._s(t.appointments.length)+" "+t._s(t.translations.appointments.group.people)+" "),t.uniqueStatuses.length>1?[t._l(t.statusCounts,(function(e,i){return[s("i",{key:i},[t._v(" "+t._s(e)+" "+t._s(t.translations.appointments.statuses[i])+" ")])]}))]:t._e()],2),s("span",[t._v(" "+t._s(t.appointmentInfo.type_title)+" "),t.appointmentStaffNames(t.appointments)?s("span",{staticClass:"staff-with"},[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointments))+" ")]):t._e()]),s("p",[t._v(" "+t._s(t.appointmentDisplayDate)+" ")])]),s("md-list-expand",[s("md-list",{staticClass:"nested-list md-triple-line"},[t._l(t.appointments,(function(e,i){return s("md-list-item",{key:i,staticClass:"md-inset",class:"status-"+e.status},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointmentInfo.type_label}},[t._v(" person ")]),s("div",{staticClass:"md-list-text-container"},[s("span",["canceled"===e.status?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),t._v(" "+t._s(e.customer_information.Name)+" ")],2),s("span",[t._v(" "+t._s(e.customer_information.Email)+" ")]),s("p",[s("router-link",{attrs:{to:"/ssa/appointment/"+e.id}},[t._v(" "+t._s(t.translations.appointments.group.viewDetails))]),t.isCancelable&&"canceled"!==e.status?[t._v(" | "),s("button",{staticClass:"link",on:{click:function(s){return t.confirmCancel(e.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")])]:t._e()],2)])],1)})),s("md-list-item",{staticClass:"md-inset"},[s("span",[s("router-link",{attrs:{tag:"md-button",to:"/ssa/event/"+t.group_id}},[t._v(" "+t._s(t.translations.appointments.viewDetails)+" ")])],1)])],2)],1)],1)},Te=[],xe=s(2196),Ae=s.n(xe),Pe={name:"appointmentsListItemMulti",props:["appointments","group_id"],data(){return{moment:W()}},computed:{appointmentDisplayDate(){let t=W()(this.appointmentInfo.start_date,this.timestampFormat).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment);return t},appointmentInfo(){let t=this.appointments[0];return{start_date:t.start_date,type_label:t.type_label,type_title:t.type_title?t.type_title:this.translations.appointments.deletedType}},isCancelable(){let t=W()(),e=W()(this.appointmentInfo.start_date,this.timestampFormat);return e.isSameOrAfter(t)},staffNames(){let t=this.appointment.staff_ids.map((t=>this.staff.find((e=>parseInt(t,10)===parseInt(e.id,10))).display_name));return t.join(", ")},statusCounts(){let t={};return this.uniqueStatuses.map((e=>{let s=this.appointments.filter((t=>t.status===e));t[e]=s.length})),t},uniqueStatuses(){let t=this.appointments.map((t=>t.status));return Ae().uniq(t)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("appointments",["groupAppointmentStatus"]),...(0,o.Se)("staff",["appointmentStaffNames"])},methods:{confirmCancel(t){this.$emit("confirmCancel",t)}}},Me=Pe,Ee=(0,q.Z)(Me,we,Te,!1,null,"596214e2",null),De=Ee.exports,$e={name:"appointmentsListItem",props:["appointment"],components:{AppointmentsListItemSingle:Se,AppointmentsListItemMulti:De},data(){return{}},computed:{isSingle(){return 1===this.appointment.appointments.length}},methods:{confirmCancel(t){this.$emit("confirmCancel",t)}}},Oe=$e,Ie=(0,q.Z)(Oe,_e,fe,!1,null,null,null),ze=Ie.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appointment-filter"},[s("md-toolbar",{staticClass:"md-transparent"},[s("md-input-container",{staticClass:"title"},[s("label",{attrs:{for:"filter-time"}},[s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointments.filter.timeLabel)+" ")])]),s("md-select",{attrs:{name:"filter-time",id:"filter-time",disabled:t.loading},model:{value:t.filterTime,callback:function(e){t.filterTime=e},expression:"filterTime"}},[s("md-option",{attrs:{value:"upcoming"}},[t._v(" "+t._s(t.translations.appointments.upcoming)+" ")]),s("md-option",{attrs:{value:"past"}},[t._v(" "+t._s(t.translations.appointments.past)+" ")]),s("md-option",{attrs:{value:"range"}},[t._v(" "+t._s(t.translations.appointments.dateRange)+" ")])],1)],1),s("div",{staticStyle:{flex:"1"}}),s("md-button",{staticClass:"md-primary indicator-button",on:{click:t.toggleFilters}},[s("md-icon",[t._v("filter_list")]),t._v(" "+t._s(t.filterLabel)+" "),t.filterApplied?s("span",{staticClass:"indicator"}):t._e()],1),s("md-button",{staticClass:"md-primary",attrs:{disabled:!t.displayAppointments.length},on:{click:t.exportAppointments}},[s("md-icon",[t._v("get_app")]),t._v(" "+t._s(t.translations.appointments.filter.export)+" "),s("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.translations.appointments.filter.exportTip))])],1)],1),t.openFilters?s("fieldset",{ref:"filterToolbar",staticClass:"appointment-filter-bar"},[s("legend",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.appointments.filter.title)+" ")]),s("div",{staticClass:"clear"}),"range"===t.filterTime?s("div",{staticClass:"appointment-filter-bar-wrap"},[s("div",{staticClass:"filter-field"},[s("md-input-container",{attrs:{"md-clearable":""}},[s("label",{attrs:{for:"filter_date_range_start"}},[t._v(" "+t._s(t.translations.appointments.filter.startDate)+" ")]),s("date-time-picker",{model:{value:t.rangeMin,callback:function(e){t.rangeMin=e},expression:"rangeMin"}})],1)],1),s("div",{staticClass:"filter-field"},[s("md-input-container",{attrs:{"md-clearable":""}},[s("label",{attrs:{for:"filter_date_range_end"}},[t._v(" "+t._s(t.translations.appointments.filter.endDate)+" ")]),s("date-time-picker",{model:{value:t.rangeMax,callback:function(e){t.rangeMax=e},expression:"rangeMax"}})],1)],1)]):t._e(),s("div",{staticClass:"appointment-filter-bar-wrap"},[s("div",{staticClass:"filter-field"},[s("md-input-container",[s("label",{attrs:{for:"appointment-types"}},[t._v(" "+t._s(t.translations.appointments.filter.typeLabel)+" "),t.filter.appointment_type_id.length?[t._v(" ("+t._s(t.filter.appointment_type_id.length)+" "+t._s(t.translations.appointments.filter.selected)+") ")]:t._e()],2),s("md-select",{attrs:{name:"appointment-types",id:"appointment-types",multiple:"",disabled:t.loading},model:{value:t.filterAppointmentTypes,callback:function(e){t.filterAppointmentTypes=e},expression:"filterAppointmentTypes"}},t._l(t.editableAppointmentTypes,(function(e,i){return s("md-option",{key:i,attrs:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),1)],1)],1),s("div",{staticClass:"filter-field"},[s("md-input-container",[s("label",{attrs:{for:"appointment-statuses"}},[t._v(" "+t._s(t.translations.appointments.filter.statusLabel)+" "),t.filter.status.length?[t._v(" ("+t._s(t.filter.status.length)+" "+t._s(t.translations.appointments.filter.selected)+") ")]:t._e()],2),s("md-select",{attrs:{name:"appointment-statuses",id:"appointment-statuses",multiple:"",disabled:t.loading},model:{value:t.filterAppointmentStatuses,callback:function(e){t.filterAppointmentStatuses=e},expression:"filterAppointmentStatuses"}},t._l(t.appointmentStatuses,(function(e,i){return s("md-option",{key:i,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointments.statuses[e])+" ")])})),1)],1)],1),t.currentUserCan("ssa_manage_others_appointments")?s("div",{staticClass:"filter-field"},[s("md-input-container",[s("label",{attrs:{for:"appointment-staff"}},[t._v(" "+t._s(t.translations.appointments.filter.staffLabel)+" "),t.filter.staff.length?[t._v(" ("+t._s(t.filter.staff.length)+" "+t._s(t.translations.appointments.filter.selected)+") ")]:t._e()],2),s("md-select",{attrs:{name:"appointment-staff",id:"appointment-staff",multiple:"",disabled:t.loading},model:{value:t.filterAppointmentStaff,callback:function(e){t.filterAppointmentStaff=e},expression:"filterAppointmentStaff"}},t._l(t.staffStatusPublish,(function(e){return s("md-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.display_name)+" ")])})),1)],1)],1):t._e(),t.currentUserCan("ssa_manage_others_appointments")?t._e():s("div",{staticClass:"filter-button"},[s("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied||t.loading},on:{click:t.resetFilter}},[s("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.appointments.filter.reset)+" ")],1)],1)]),t.currentUserCan("ssa_manage_others_appointments")?s("div",{staticClass:"appointment-filter-bar-wrap"},[s("div",{staticClass:"filter-button full-width"},[s("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied||t.loading},on:{click:t.resetFilter}},[s("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.appointments.filter.reset)+" ")],1)],1)]):t._e()]):t._e()],1)},Le=[],Ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"date-time-picker-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.displayDateTime,expression:"displayDateTime"}],ref:"input",staticClass:"md-input",attrs:{type:"text",id:t.id,readonly:""},domProps:{value:t.displayDateTime},on:{click:t.openPicker,input:function(e){e.target.composing||(t.displayDateTime=e.target.value)}}}),s("md-button",{directives:[{name:"show",rawName:"v-show",value:t.displayDateTime,expression:"displayDateTime"}],staticClass:"md-icon-button md-clear-input",on:{click:t.clearValue}},[s("md-icon",[t._v("clear")])],1),s("md-dialog",{ref:"picker",staticClass:"date-picker",attrs:{"md-open-from":"#"+t.id}},[s("md-dialog-content",[s("div",{ref:"rome"})]),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.closePicker}},[t._v("OK")])],1)],1)],1)},Ue=[],Ge=s(3194),Fe=s.n(Ge),We={name:"dateTime",props:{value:{type:String}},data(){return{id:null,rome:Fe(),moment:W(),picker:null}},mounted:function(){this.id="picker-"+this._uid,this.picker=Fe()(this.$refs.rome,{weekStart:this.settings.global.start_of_week,initialValue:this.initialValue,timeFormat:this.settings.global.time_format_moment}).on("data",(t=>{this.convertToUTC(t)})),this.styleContainer(this.$refs.input)},watch:{value:function(){this.styleContainer(this.$refs.input)}},beforeDestroy(){this.picker&&this.picker.destroy()},computed:{isValueValid(){return W().utc(this.value,this.timestampFormat).isValid()},displayDateTime:{get(){return this.isValueValid?W().utc(this.value,this.timestampFormat).tz(this.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment+" z"):null},set(){}},initialValue(){return this.isValueValid?W().utc(this.value,this.timestampFormat).tz(this.settings.global.timezone_string).format(this.timestampFormat):W()().startOf("day")},...(0,o.rn)(["settings","timestampFormat"])},methods:{convertToUTC(t){let e=W().tz(t,this.timestampFormat,this.settings.global.timezone_string).utc().format(this.timestampFormat);this.$emit("input",e)},clearValue(){this.$emit("input",null)},openPicker(){this.picker.setValue(this.initialValue),this.picker.refresh(),this.$refs.picker.open()},closePicker(){this.$refs.picker.close()},styleContainer(t){let e=this.getClosest(t,".md-input-container");this.displayDateTime?e.classList.add("md-has-value"):e.classList.remove("md-has-value")},getClosest(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}}},Be=We,Re=(0,q.Z)(Be,Ne,Ue,!1,null,null,null),qe=Re.exports,He={name:"appointmentFilter",store:wv,components:{DateTimePicker:qe},props:{loading:{type:Boolean,default:!1}},data(){return{appointmentStatuses:y,defaultAppointmentFilter:v,openFilters:!1}},mounted(){if(this.localStorageGet("ssaAppointmentFilter"))try{this.setFilter(JSON.parse(this.localStorageGet("ssaAppointmentFilter"))),this.localStorageSet("ssaAppointmentFilter",this.localStorageGet("ssaAppointmentFilter"),36e5)}catch(t){localStorage.removeItem("ssaAppointmentFilter")}},computed:{filterAppointmentStatuses:{get(){return this.filter.status},set(t){let e=JSON.stringify(this.filter.status),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"status",value:t})}},filterAppointmentStaff:{get(){return this.filter.staff},set(t){let e=JSON.stringify(this.filter.staff),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"staff",value:t})}},filterAppointmentTypes:{get(){return this.filter.appointment_type_id},set(t){let e=JSON.stringify(this.filter.appointment_type_id),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"appointment_type_id",value:t})}},filterLabel(){return this.openFilters?this.translations.appointments.filter.filterClose:this.translations.appointments.filter.filter},filterTime:{get(){return this.filter.time},set(t){let e=JSON.stringify(this.filter.time),s=JSON.stringify(t);e!==s&&"range"!==t&&this.emitFilterUpdate(),"range"===t&&(this.openFilters=!0),this.setFilter({key:"date_range_min",value:null}),this.setFilter({key:"date_range_max",value:null}),this.setFilter({key:"time",value:t})}},rangeMin:{get(){return this.filter.date_range_min},set(t){let e=JSON.stringify(this.filter.date_range_min),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"date_range_min",value:t})}},rangeMax:{get(){return this.filter.date_range_max},set(t){let e=JSON.stringify(this.filter.date_range_max),s=JSON.stringify(t);e!==s&&this.emitFilterUpdate(),this.setFilter({key:"date_range_max",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("appointments",["filter"]),...(0,o.Se)(["localStorageGet","localStorageSet"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("appointments",["displayAppointments","filterApplied","csvExportFile"]),...(0,o.Se)("staff",["currentUserCan","staffStatusPublish"])},methods:{emitFilterUpdate:Ae().debounce((function(){this.localStorageSet("ssaAppointmentFilter",JSON.stringify(this.filter),36e5),this.setLoadedAll(!1),this.setPage(1),this.$emit("update")}),1e3),exportAppointments(){let t=[];this.displayAppointments.map((e=>{t=t.concat(e.appointments)})),this.csvExportFile(t)},resetFilter(){this.setFilter(v),this.emitFilterUpdate(),this.openFilters=!1},toggleFilters(){this.openFilters=!this.openFilters},...(0,o.OI)("appointments",["setFilter","setLoadedAll","setPage"])}},Ze=He,Ke=(0,q.Z)(Ze,je,Le,!1,null,null,null),Ve=Ke.exports,Ye={name:"appointmentsList",store:wv,components:{loading:et,appointmentsListItem:ze,Empty:Jt,AppointmentFilter:Ve},data(){return{currentAppointment:null,displayAllAppointments:!0,error:!1,fetchedStaff:!1,fetchedAppointments:!1,loading:!0,loadingMore:!1,moment:W()}},mounted(){this.init()},computed:{emptyIcon(){return this.filterApplied?"":"upcoming"===this.filter.time?this.api.admin_static_url+"/images/no-appointments.svg":""},emptyLabel(){return this.filterApplied?this.translations.appointments.emptyAll:"upcoming"===this.filter.time?this.translations.appointments.emptyUpcoming:"past"===this.filter.time?this.translations.appointments.emptyPast:this.translations.appointments.emptyAll},showTz(){let t=this.detectedTimezone;return t!==this.settings.global.timezone_string},availableCustomerInformation(){if(!this.currentAppointment)return[];let t={};return Object.keys(this.currentAppointment.customer_information).forEach((e=>{this.currentAppointment.customer_information[e].length&&(t[e]=this.currentAppointment.customer_information[e])})),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["timestampFormat","settings","api","bookingEmbed"]),...(0,o.rn)("appointments",["appointments","filter","loadedAll","page","perPage"]),...(0,o.rn)("staff",["staff"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("appointments",["appointmentCount","definedRange","displayAppointments","filterApplied"]),...(0,o.Se)("payments",["paymentsModule"]),...(0,o.Se)("staff",["currentUserCan","staffModule"])},methods:{toggleDisplayAllAppointments(){this.displayAllAppointments=!this.displayAllAppointments},calculateDisplayAllAppointments(){const t="range"===this.filter.time,e=this.filter.date_range_min?W()(this.filter.date_range_min).utc().format(this.timestampFormat):null,s=this.filter.date_range_max?W()(this.filter.date_range_max).utc().format(this.timestampFormat):null,i=t&&e&&s;this.displayAllAppointments=this.displayAppointments.length<101&&!i},cancelAppt(){var t=this.currentAppointment.id,e={status:"canceling"};this.setAppointmentData({id:t,appt:e});var s={id:t,status:"canceled"};this.saveAppointment(s).then((()=>{})).catch((t=>{console.log(t)})),this.$refs["confirmCancel"].close()},cancelCancel(){this.$refs["confirmCancel"].close()},confirmCancel(t){this.currentAppointment=this.appointments.find((e=>e.id.toString()===t.toString())),this.$refs["confirmCancel"].open()},init(){return!this.staffModule.enabled||this.staff||this.fetchedStaff?this.displayAppointments.length||this.fetchedAppointments?void(this.loading=!1):(this.loading=!0,void this.fetchAppointmentsFiltered().then((()=>{this.init(),this.fetchedAppointments=!0})).catch((t=>{this.error=!0,this.loading=!1,this.fetchedAppointments=!0,console.log(t)}))):(this.loading=!0,void this.fetchStaff().then((()=>{this.init(),this.fetchedStaff=!0})).catch((t=>{this.error=!0,this.loading=!1,this.fetchedStaff=!0,console.log(t)})))},loadAppointments(){this.displayAppointments.length||(this.loading=!0),this.definedRange&&(this.loading=!0),this.fetchAppointmentsFiltered().then((()=>{this.calculateDisplayAllAppointments(),this.loading=!1})).catch((t=>{this.error=!0,this.loading=!1,console.log(t)}))},loadMoreAppointments(){this.loadingMore=!0;let t=this.page;this.setPage(t+1),this.fetchAppointmentsFiltered().then((()=>{this.loadingMore=!1})).catch((t=>{this.error=!0,this.loadingMore=!1,console.log(t)}))},loadBookingEmbed(){this.fetchBookingEmbed().then((()=>{this.$refs.bookingDialog.open()}))},...(0,o.nv)(["fetchBookingEmbed"]),...(0,o.nv)("appointments",["fetchAppointmentsFiltered","saveAppointment"]),...(0,o.nv)("staff",["fetchStaff"]),...(0,o.OI)("appointments",["setAppointmentData","setPage"])}},Je=Ye,Xe=(0,q.Z)(Je,ge,he,!1,null,null,null),Qe=Xe.exports,ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appointment"},[t.error?s("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.errorLabel,description:t.errorDescription}}):t.loading?s("loading",{attrs:{message:t.loadingMessage}}):[s("router-link",{attrs:{tag:"md-button",to:"/ssa/appointments"}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.appointments.viewAll)+" "),s("span",{staticClass:"screen-reader-text"},[t._v("View all appointments")])],1),s("md-toolbar",{staticClass:"md-transparent"},[s("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.translations.appointments.appointmentDetails))]),s("md-menu",{attrs:{"md-direction":"bottom left"}},[s("md-button",{attrs:{"md-menu-trigger":""}},[s("md-icon",[t._v("more_vert")])],1),s("md-menu-content",[t.cancelable?[s("md-menu-item",{on:{click:t.confirmCancel}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),s("md-menu-item",{on:{click:t.editAppointment}},[t._v(" "+t._s(t.translations.actions.editAsCustomer)+" ")])]:t._e(),s("md-menu-item",{on:{click:t.confirmDelete}},[t._v(" "+t._s(t.translations.actions.delete)+" ")])],2)],1)],1),s("div",{staticClass:"single-appointment"},[s("h3",{staticClass:"customer-name"},[t.wpUserGravatar(t.appointment.customer_id)?s("md-avatar",[s("img",{attrs:{src:t.wpUserGravatar(t.appointment.customer_id),alt:t.wpUserName(t.appointment.customer_id)}}),s("md-tooltip",[t._v(t._s(t.wpUserName(t.appointment.customer_id)))])],1):s("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointment.type_label}},[t._v(" face ")]),t._v(" "+t._s(t.appointmentName)+" ")],1),s("p",{staticClass:"type"},[t._v(" "+t._s(t.appointment.type_title)+" "),t.appointmentStaffNames(t.appointment)?[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointment))+" ")]:t._e()],2),s("p",{staticClass:"time"},[t._v(" "+t._s(t.moment(t.appointment.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "+t._s(t.moment.utc(t.appointment.start_date).tz(t.settings.global.timezone_string).format("z"))+" ("+t._s(t.displayDuration(t.appointment.type_duration))+") ")]),t.appointment.web_meeting_url?s("p",{staticClass:"meeting"},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" video_call ")]),s("strong",[t._v(t._s(t.translations.appointments.webMeetings.label))]),s("a",{attrs:{href:t.appointment.web_meeting_url,target:"_blank"}},[t._v(" "+t._s(t.appointment.web_meeting_url)+" ")])],1):t._e(),t.isBasic?s("ul",{staticClass:"customer-information"},t._l(t.basicCustomerInformation,(function(e,i,n){return s("li",{key:n},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},["Email"===i?[t._v("email")]:"Phone"===i?[t._v("phone")]:"Address"===i?[t._v("place")]:"Notes"===i?[t._v("assignment")]:t._e()],2),s("span",[t._v(t._s(e))])],1)})),0):s("ul",{staticClass:"customer-information"},t._l(t.paidCustomerInformation,(function(e,i,n){return s("li",{key:n},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(t._s(t.icons[i]?t.icons[i]:"bookmark"))]),s("span",[s("span",[t._v(t._s(i))]),s("span","string"===typeof e?[t._v(t._s(e))]:[t._v(t._s(e.join(", ")))])])],1)})),0),t.loadingMeta?s("loading",{attrs:{size:"body",message:t.translations.appointments.metaLoading}}):!t.loading&&t.appointment&&t.appointment.meta?s("appointment-meta",{attrs:{"appointment-id":t.id}}):t._e(),s("div",{staticClass:"appointment-details"},[s("dl",{staticClass:"appointment-detail"},[s("dt",[t._v(t._s(t.translations.appointments.status))]),s("dd",[t._v(" "+t._s(t.appointment.status)+" "),"0"!==t.appointment.rescheduled_to_appointment_id?[t._v(" - "+t._s(t.translations.appointments.rescheduled))]:t._e(),"0"!==t.appointment.rescheduled_from_appointment_id&&t.rescheduledFromAppointment?[s("div",[s("strong",[t._v(t._s(t.translations.appointments.viewOriginal)+":")]),t._v(" "),s("router-link",{attrs:{to:"/ssa/appointment/"+t.appointment.rescheduled_from_appointment_id}},[t._v(t._s(t.rescheduledFromDatetime))])],1)]:t._e(),"0"!==t.appointment.rescheduled_to_appointment_id&&t.rescheduledToAppointment?[s("div",[s("strong",[t._v(t._s(t.translations.appointments.viewRescheduled)+":")]),t._v(" "),s("router-link",{attrs:{to:"/ssa/appointment/"+t.appointment.rescheduled_to_appointment_id}},[t._v(t._s(t.rescheduledToDatetime))])],1)]:t._e()],2)]),s("dl",{staticClass:"appointment-detail"},[s("dt",[t._v(t._s(t.translations.appointments.created))]),s("dd",[t._v(t._s(t.moment.utc(t.appointment.date_created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z")))])]),t.wpUserName(t.appointment.customer_id)?s("dl",{staticClass:"appointment-detail"},[s("dt",[t._v(t._s(t.translations.appointments.customer))]),s("dd",[s("a",{attrs:{href:t.wpUserLink(t.appointment.customer_id)}},[t._v(" "+t._s(t.wpUserName(t.appointment.customer_id))+" ")])])]):t._e(),t.wpUserName(t.appointment.author_id)?s("dl",{staticClass:"appointment-detail"},[s("dt",[t._v(t._s(t.translations.appointments.author))]),s("dd",[s("a",{attrs:{href:t.wpUserLink(t.appointment.author_id)}},[t._v(" "+t._s(t.wpUserName(t.appointment.author_id))+" ")])])]):t._e(),s("dl",{staticClass:"appointment-detail"},[s("dt",[t._v(t._s(t.translations.appointments.lastMod))]),s("dd",[t._v(t._s(t.moment.utc(t.appointment.date_modified,t.timestampFormat).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z")))])]),t.cancelable?s("dl",{staticClass:"appointment-detail"},[s("dt",[t._v(t._s(t.translations.appointments.cancelRescheduleLink))]),s("dd",[s("a",{attrs:{href:t.appointment.public_edit_url,target:"_blank"}},[t._v(t._s(t.translations.appointments.cancelRescheduleLinkOpen))])])]):t._e()]),t.loadingPayments?s("loading",{attrs:{message:t.translations.appointments.paymentLoading}}):t.appointment.payments&&t.appointment.payments.length>0?s("div",{staticClass:"appointment-payments"},[s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.appointments.paymentInformation))]),s("div",{staticClass:"payment-list"},t._l(t.appointment.payments,(function(t){return s("appointment-payment-item",{key:t.id,attrs:{payment:t}})})),1)]):t._e()],1)],s("md-dialog",{ref:"confirmCancel"},[s("md-dialog-title",[t._v(t._s(t.translations.appointments.cancelConfirm))]),s("md-dialog-content",[t.appointment?s("md-list",t._l(t.availableCustomerInformation,(function(e,i){return s("md-list-item",{key:i},[s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i))]),s("span","string"===typeof e?[t._v(t._s(e))]:[t._v(t._s(e.join(", ")))])])])})),1):t._e()],1),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelCancel}},[t._v(t._s(t.translations.appointments.cancelConfirmCancel))]),s("md-button",{on:{click:t.cancelAppt}},[t._v(t._s(t.translations.appointments.cancelConfirmOk))])],1)],1),s("md-dialog",{ref:"confirmDelete"},[s("md-dialog-title",[t._v(t._s(t.translations.appointments.deleteConfirm))]),s("md-dialog-content",[s("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.appointments.deleteConfirmExplanation)+" "),t.cancelable?[t._v(" "+t._s(t.translations.appointments.deleteConfirmExplanationCancelable)+" ")]:t._e()],2),t.appointment?s("md-list",t._l(t.availableCustomerInformation,(function(e,i){return s("md-list-item",{key:i},[s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i))]),s("span","string"===typeof e?[t._v(t._s(e))]:[t._v(t._s(e.join(", ")))])])])})),1):t._e()],1),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.appointments.cancelDeleteCancel))]),s("md-button",{on:{click:t.deleteAppt}},[t._v(t._s(t.translations.appointments.cancelDeleteOk))])],1)],1),s("md-dialog",{ref:"editDialog",staticClass:"ssa-iframe-dialog",on:{close:t.refreshAppointment}},[s("button",{staticClass:"md-icon-button md-raised",on:{click:function(e){return t.$refs.editDialog.close()}}},[s("md-icon",[t._v("close")])],1),s("md-dialog-content",[s("div",{staticClass:"ssa-dialog-iframe-container"},[s("iframe",{attrs:{src:t.editEmbedSrc,loading:"eager"}})])])],1)],2)},es=[],ss=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{key:t.payment.id,staticClass:"payment-list-item"},[s("div",{staticClass:"payment-row"},[s("div",{staticClass:"amount",class:t.payment.status},[t._v(" "+t._s(t.formattedPrice)+" "),s("span",{staticClass:"currency"},[t._v(t._s(t.payment.currency))])]),s("div",{staticClass:"status"},[s("md-chip",{staticClass:"md-primary",attrs:{"md-theme":t.statusTheme}},[t._v(" "+t._s(t.translations.appointments.payments.statuses[t.payment.status])+" ")])],1)]),s("div",{staticClass:"payment-row"},[s("div",{staticClass:"gateway"},[s("span",{staticClass:"gateway-name"},[t._v(t._s(t.displayGateway(t.payment.gateway)))]),"stripe"===t.payment.gateway?[t._v(" - "),s("a",{staticClass:"gateway-id",attrs:{href:t.stripePaymentLink+t.payment.gateway_transaction_id,target:"_blank"}},[t._v(" "+t._s(t.payment.gateway_transaction_id)+" ")])]:t._e()],2),s("div",{staticClass:"mode"},[s("span",{staticClass:"mode-tag",class:t.payment.payment_mode},[t._v(" "+t._s(t.translations.appointments.payments.modes[t.payment.payment_mode])+" ")])])]),s("div",{staticClass:"payment-row"},[s("div",{staticClass:"date"},["stripe"===t.payment.gateway?[t._v(" "+t._s(t.moment.unix(t.payment.gateway_payload.created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z"))+" ")]:[t._v(" "+t._s(t.moment.utc(t.payment.date_created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z"))+" ")]],2)]),t.payment.notes?s("div",{staticClass:"payment-row"},[s("p",[t._v(t._s(t.payment.notes))])]):t._e(),"stripe"===t.payment.gateway&&"card"===t.paymentMethod?s("div",{staticClass:"payment-row"},[s("div",{staticClass:"cc"},[t._v(" "+t._s(t.card.brand)+" "),s("span",{staticClass:"cc-number"},[t._v(" • • • • "+t._s(t.card.last4)+" ")]),t._v(" "+t._s(t.translations.appointments.payments.expires)+" "+t._s(t.card.exp_month)+"/"+t._s(t.card.exp_year)+" ")])]):t._e()])},is=[],ns={name:"payment-item",props:["payment"],data(){return{moment:W(),stripePaymentLink:A}},computed:{statusTheme(){let t="";switch(this.payment.status){case"succeeded":t="green";break;case"pending":t="amber";break;case"failed":t="orange";break}return t},formattedPrice(){let t=this.payment.amount_paid;return"succeeded"!==this.payment.status&&(t=this.payment.amount_attempted),this.displayPrice(t,this.payment.currency)},charge(){return this.payment.gateway_response.charges.data[0]},paymentMethod(){return this.charge?this.charge.payment_method_details.type:null},card(){return this.charge&&"card"===this.paymentMethod?this.charge.payment_method_details.card:null},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)("payments",["displayGateway","displayPrice"])}},as=ns,os=(0,q.Z)(as,ss,is,!1,null,null,null),rs=os.exports,ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showMeta?s("div",{staticClass:"appointment-details"},t._l(t.whitelistedMetaWithLabelValues,(function(e){return s("dl",{key:e.key,staticClass:"appointment-detail"},[s("dt",[t._v(t._s(e.name))]),"entry"===e.type?s("dd",[s("a",{attrs:{href:e.value}},[t._v(" "+t._s(t.translations.appointments.metaFields.viewEntry)+" ")])]):t._e(),"url"===e.type?s("dd",[s("a",{attrs:{href:e.value}},[t._v(" "+t._s(e.value)+" ")])]):t._e(),"string"===e.type?s("dd",[t._v(" "+t._s(e.value)+" ")]):t._e()])})),0):t._e()},ds=[],ps={name:"appointmentMeta",props:["appointmentId"],data(){return{meta_whitelist:["formidable_entry_admin_url","gravity_entry_admin_url","booking_url","booking_post_id","booking_title"]}},computed:{appointment(){return this.appointments.find((t=>t.id.toString()===this.appointmentId.toString()))},whitelistedMeta(){return Object.fromEntries(Object.entries(this.appointment.meta).filter((([t])=>this.meta_whitelist.includes(t))))},whitelistedMetaWithLabelValues(){return Object.keys(this.whitelistedMeta).map((t=>{const e=this.whitelistedMeta[t];let s={key:t,type:"string",name:this.translations.appointments.metaFields[t],value:e};return["formidable_entry_admin_url","gravity_entry_admin_url"].includes(t)&&(s.type="entry"),["booking_url"].includes(t)&&(s.type="url"),s}))},showMeta(){return this.appointment&&this.whitelistedMeta&&!Ae().isEmpty(this.whitelistedMeta)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointments",["appointments"])}},cs=ps,ms=(0,q.Z)(cs,ls,ds,!1,null,null,null),us=ms.exports,gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notification-box",class:["md-theme-"+t.theme,t.inline?"inline":""]},[t.icon?s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.theme}},[t._v(t._s(t.icon))]):t._e(),s("div",{staticClass:"notification-text md-body-2"},[t._t("default")],2)],1)},hs=[],_s={name:"notificationBox",props:{icon:String,theme:{type:String,default:"blue"},inline:{type:Boolean,default:!1}},data(){return{}}},fs=_s,ys=(0,q.Z)(fs,gs,hs,!1,null,null,null),vs=ys.exports,bs={name:"appointmentDetails",components:{Empty:Jt,Loading:et,AppointmentPaymentItem:rs,AppointmentMeta:us,Notification:vs},props:["id"],data(){return{appointment:null,editEmbedSrc:"",error:!1,errorDescription:"",errorLabel:"",fetchedStaff:!1,loading:!0,loadingMessage:"",loadingMeta:!1,loadingPayments:!1,moment:W()}},watch:{appointmentsList(){this.appointment=this.appointments.find((t=>t.id===this.id)),this.appointment&&(this.appointment=this.prepAppointment(this.appointment))},id(t,e){t!==e&&this.displayAppointment()}},mounted(){this.loadingMessage=this.translations.appointments.loadingSingle,this.displayAppointment();let t=[j.appointment_details];this.paymentsModule.installed&&this.paymentsModule.enabled&&t.push(j.appointment_details_payments_enabled),this.getGuides({"ssasc-plugin-screen":t})},computed:{appointmentsList(){return this.appointments},appointmentName(){return this.appointment.customer_information.name?this.appointment.customer_information.name:this.appointment.customer_information.Name},isBasic(){return!this.settings.installed.license},availableCustomerInformation(){if(!this.appointment)return[];let t={};return Object.keys(this.appointment.customer_information).forEach((e=>{this.appointment.customer_information[e].length&&(t[e]=this.appointment.customer_information[e])})),t},basicCustomerInformation(){if(!this.appointment||!this.isBasic)return[];let t={};return Object.keys(this.availableCustomerInformation).forEach((e=>{"name"!==e&&(t[e]=this.appointment.customer_information[e])})),t},paidCustomerInformation(){if(!this.appointment||this.isBasic)return[];let t={};return Object.keys(this.availableCustomerInformation).forEach((e=>{"Name"!==e&&(t[e]=this.appointment.customer_information[e])})),t},icons(){let t={},e=this.appointmentTypes.filter((t=>t.id===this.appointment.appointment_type_id))[0];return e&&e.custom_customer_information.forEach((e=>{t[e.field]=e.icon})),t},cancelable(){if(!this.appointment)return;let t=!0;"canceled"!==this.appointment.status&&"abandoned"!==this.appointment.status||(t=!1);let e=W()(),s=W()(this.appointment.start_date,this.timestampFormat);return s.isBefore(e)&&(t=!1),t},dateFormat(){return this.settings.global.date_format_moment},timeFormat(){return this.settings.global.time_format_moment},dateTimeFormat(){return this.dateFormat+" "+this.timeFormat+" z"},rescheduledToAppointment(){if(this.appointment&&"0"!==this.appointment.rescheduled_to_appointment_id)return this.appointments.find((t=>t.id===this.appointment.rescheduled_to_appointment_id))},rescheduledFromAppointment(){if(this.appointment&&"0"!==this.appointment.rescheduled_from_appointment_id)return this.appointments.find((t=>t.id===this.appointment.rescheduled_from_appointment_id))},rescheduledToDatetime(){if(this.rescheduledToAppointment)return W().utc(this.rescheduledToAppointment.start_date).tz(this.settings.global.timezone_string).format(this.dateTimeFormat)},rescheduledFromDatetime(){if(this.rescheduledFromAppointment)return W().utc(this.rescheduledFromAppointment.start_date).tz(this.settings.global.timezone_string).format(this.dateTimeFormat)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","timestampFormat"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.rn)("appointments",["appointments"]),...(0,o.rn)("staff",["staff"]),...(0,o.Se)(["displayDuration","wpUserGravatar","wpUserLink","wpUserName"]),...(0,o.Se)("staff",["appointmentStaffNames","staffModule"]),...(0,o.Se)("appointments",["prepAppointment"]),...(0,o.Se)("payments",["paymentsModule"])},methods:{cancelAppt(){var t=this.id,e={status:"canceling"};this.setAppointmentData({id:t,appt:e});var s={id:t,status:"canceled"};this.saveAppointment(s).then((()=>{})).catch((t=>{console.log(t)})),this.$refs["confirmCancel"].close()},cancelCancel(){this.$refs["confirmCancel"].close()},cancelDelete(){this.$refs["confirmDelete"].close()},confirmCancel(){this.$refs["confirmCancel"].open()},confirmDelete(){this.$refs["confirmDelete"].open()},editAppointment(){this.editEmbedSrc=this.appointment.public_edit_url,this.$refs.editDialog.open()},deleteAppt(){this.loadingMessage=this.translations.appointments.deletingSingle,this.loading=!0,this.$refs["confirmDelete"].close(),this.deleteAppointment(this.appointment).then((()=>{this.$router.push("/ssa/appointments")})).catch((t=>{console.log(t)}))},displayAppointment(){return this.loading=!0,this.appointment=this.appointments.find((t=>t.id===this.id)),this.appointment?(this.appointment=this.prepAppointment(this.appointment),this.loading=!1,this.error=!1,this.maybeFetchPayments(),this.maybeFetchMeta(),void this.maybeFetchRescheduledAppointments()):!this.staffModule.enabled||this.staff||this.fetchedStaff?void this.fetchAppointment(this.id).then((()=>{this.loading=!1,this.appointment=this.appointments.find((t=>t.id===this.id)),this.appointment?(this.appointment=this.prepAppointment(this.appointment),this.maybeFetchPayments(),this.maybeFetchMeta(),this.maybeFetchRescheduledAppointments()):(this.error=!0,this.errorLabel=this.translations.appointments.errorNotFound,this.errorDescription=this.translations.appointments.errorNotFoundDescription)})).catch((t=>{console.log(t),this.error=!0,this.errorLabel=this.translations.appointments.errorLoading,this.errorDescription=this.translations.appointments.errorLoadingDescription})):(this.loading=!0,void this.fetchStaff().then((()=>{this.displayAppointment(),this.fetchedStaff=!0})).catch((t=>{console.log(t),this.error=!0,this.errorLabel=this.translations.appointments.errorLoading,this.errorDescription=this.translations.appointments.errorLoadingDescription})))},maybeFetchPayments(){this.paymentsModule.installed&&(Object.prototype.hasOwnProperty.call(this.appointment,"payments")||(this.loadingPayments=!0,this.fetchPayments(this.appointment.id).then((()=>{this.loadingPayments=!1}))))},maybeFetchMeta(){Object.prototype.hasOwnProperty.call(this.appointment,"meta")||(this.loadingMeta=!0,this.fetchAppointmentMeta(this.appointment).then((()=>{this.loadingMeta=!1})))},refreshAppointment(){this.loading=!0,this.fetchAppointment(this.id).then((()=>{this.loading=!1,this.appointment=this.appointments.find((t=>t.id===this.id)),this.appointment?(this.appointment=this.prepAppointment(this.appointment),this.maybeFetchPayments(),this.maybeFetchMeta(),this.maybeFetchRescheduledAppointments()):(this.error=!0,this.errorLabel=this.translations.appointments.errorNotFound,this.errorDescription=this.translations.appointments.errorNotFoundDescription)})).catch((t=>{console.log(t),this.error=!0,this.errorLabel=this.translations.appointments.errorLoading,this.errorDescription=this.translations.appointments.errorLoadingDescription}))},maybeFetchRescheduledAppointments(){this.appointment&&("0"===this.appointment.rescheduled_to_appointment_id||this.rescheduledToAppointment||this.fetchAppointment(this.appointment.rescheduled_to_appointment_id),"0"===this.appointment.rescheduled_from_appointment_id||this.rescheduledFromAppointment||this.fetchAppointment(this.appointment.rescheduled_from_appointment_id))},...(0,o.nv)("appointments",["deleteAppointment","fetchAppointment","fetchAppointmentMeta","saveAppointment"]),...(0,o.nv)("payments",["fetchPayments"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("staff",["fetchStaff"]),...(0,o.OI)("appointments",["setAppointmentData"])}},ks=bs,Cs=(0,q.Z)(ks,ts,es,!1,null,null,null),Ss=Cs.exports,ws=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appointment group"},[t.error?s("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.errorLabel,description:t.errorDescription}}):t.loading?s("loading",{attrs:{message:t.loadingMessage}}):[s("router-link",{attrs:{tag:"md-button",to:"/ssa/appointments"}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.appointments.viewAll)+" ")],1),s("md-toolbar",{staticClass:"md-transparent"},[s("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.appointments.group.appointmentDetails)+" ")]),s("md-menu",[s("md-button",{attrs:{"md-menu-trigger":""}},[s("md-icon",[t._v(" more_vert ")]),s("span",{staticClass:"screen-reader-text"},[t._v("Appointment options")])],1),s("md-menu-content",[s("md-menu-item",{on:{click:t.exportToCsv}},[t._v(" Export ")]),t.isCancelable?s("md-menu-item",{on:{click:t.confirmGroupCancel}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]):t._e(),s("md-menu-item",{on:{click:t.confirmGroupDelete}},[t._v(" "+t._s(t.translations.actions.delete)+" ")])],1)],1)],1),s("div",{staticClass:"single-group-appointment"},[s("h3",{staticClass:"md-title"},[t._v(" "+t._s(t.appointmentTypeMeta.type_title)+" "),t.appointmentStaffNames(t.groupAppointments)?[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.groupAppointments))+" ")]:t._e(),"canceled"===t.groupAppointmentStatus(t.groupAppointments)?s("span",{staticClass:"status canceled"},[t._v(" ("+t._s(t.translations.appointments.statuses["canceled"])+") ")]):t._e()],2),s("p",{staticClass:"md-subheading"},[t._v(" "+t._s(t.moment(t.appointmentTypeMeta.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "+t._s(t.moment.utc(t.appointmentTypeMeta.start_date).tz(t.settings.global.timezone_string).format("z"))+" ("+t._s(t.displayDuration(t.appointmentTypeMeta.type_duration))+") ")]),s("md-list",{staticClass:"md-triple-line"},t._l(t.groupAppointments,(function(e,i){return s("md-list-item",{key:i,class:"status-"+e.status},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointmentTypeMeta.type_label}},[t._v(" person ")]),s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(t._s(e.customer_information.Name))]),s("span",[t._v(t._s(e.customer_information.Email))]),s("p",[s("router-link",{attrs:{to:"/ssa/appointment/"+e.id}},[t._v(" "+t._s(t.translations.appointments.group.viewDetails))]),t.isInFuture&&"canceled"!==e.status?[t._v(" | "),s("button",{staticClass:"link",on:{click:function(s){return t.confirmCancel(e.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")])]:t._e()],2)])],1)})),1)],1)],s("md-dialog",{ref:"confirmCancel"},[s("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.cancelConfirm)+" ")]),s("md-dialog-content",[t.currentAppointment?s("md-list",t._l(t.availableCustomerInformation,(function(e,i,n){return s("md-list-item",{key:n},[s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i)+" ")]),s("span","string"===typeof e?[t._v(" "+t._s(e)+" ")]:[t._v(" "+t._s(e.join(", "))+" ")])])])})),1):t._e()],1),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelCancel}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmCancel)+" ")]),s("md-button",{on:{click:t.cancelAppt}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmOk)+" ")])],1)],1),s("md-dialog",{ref:"confirmCancelGroup"},[s("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.group.cancelConfirm)+" ")]),s("md-dialog-content",[s("p",[t._v(t._s(t.translations.appointments.group.cancelConfirmBody))]),t.groupAppointments.length?s("ul",t._l(t.groupAppointments,(function(e,i){return s("li",{key:i},[t._v(" "+t._s(e.customer_information.Name)+" ")])})),0):t._e()]),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelCancelGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelConfirmCancel)+" ")]),s("md-button",{on:{click:t.cancelGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelConfirmOk)+" ")])],1)],1),s("md-dialog",{ref:"confirmDeleteGroup"},[s("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.group.deleteConfirm)+" ")]),s("md-dialog-content",[s("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.appointments.group.deleteConfirmExplanation)+" "),t.isCancelable?[t._v(" "+t._s(t.translations.appointments.group.deleteConfirmExplanationCancelable)+" ")]:t._e()],2),t.groupAppointments.length?[s("p",[t._v(t._s(t.translations.appointments.group.deleteConfirmBody))]),s("ul",t._l(t.groupAppointments,(function(e,i){return s("li",{key:i},[t._v(" "+t._s(e.customer_information.Name)+" ")])})),0)]:t._e()],2),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelDeleteGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelDeleteCancel)+" ")]),s("md-button",{on:{click:t.deleteAppointment}},[t._v(" "+t._s(t.translations.appointments.group.cancelDeleteOk)+" ")])],1)],1)],2)},Ts=[],xs={name:"group-appointment",components:{Empty:Jt,Loading:et,Notification:vs},props:["id"],data(){return{currentAppointment:null,error:!1,errorDescription:"",errorLabel:"",loading:!0,loadingMessage:"",moment:W()}},watch:{id(t,e){t!==e&&this.displayAppointment()}},mounted(){this.loadingMessage=this.translations.appointments.loadingSingle,this.displayAppointment()},computed:{appointmentTypeMeta(){if(!this.groupAppointments.length)return;let t=this.groupAppointments[0];return this.prepAppointment(t)},isCancelable(){return!!this.groupAppointments.length&&(this.isInFuture&&"canceled"!==this.groupAppointmentStatus(this.groupAppointments))},isInFuture(){if(!this.groupAppointments.length)return!1;let t=W()(),e=W()(this.appointmentTypeMeta.start_date,this.timestampFormat);return e.isSameOrAfter(t)},groupAppointments(){return this.appointments.length?this.appointments.filter((t=>t.group_id===this.id)):[]},availableCustomerInformation(){if(!this.currentAppointment)return[];let t={};return Object.keys(this.currentAppointment.customer_information).forEach((e=>{this.appointment.customer_information[e].length&&(t[e]=this.appointment.customer_information[e])})),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","timestampFormat"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.rn)("appointments",["appointments"]),...(0,o.Se)(["displayDuration"]),...(0,o.Se)("appointments",["csvExportFile","groupAppointmentStatus","prepAppointment"]),...(0,o.Se)("staff",["appointmentStaffNames"])},methods:{cancelAppt(){let t=this.currentAppointment.id,e={status:"canceling"};this.setAppointmentData({id:t,appt:e});let s={id:t,status:"canceled"};this.saveAppointment(s).then((()=>{})).catch((t=>{console.log(t)})),this.$refs["confirmCancel"].close()},cancelCancel(){this.$refs["confirmCancel"].close()},confirmCancel(t){this.currentAppointment=this.groupAppointments.find((e=>e.id.toString()===t.toString())),this.$refs["confirmCancel"].open()},cancelCancelGroup(){this.$refs["confirmCancelGroup"].close()},confirmGroupCancel(){this.$refs["confirmCancelGroup"].open()},cancelGroup(){this.cancelGroupAppointment(this.id).then((()=>{})).catch((t=>{console.log(t)})),this.$refs["confirmCancelGroup"].close()},confirmGroupDelete(){this.$refs["confirmDeleteGroup"].open()},cancelDeleteGroup(){this.$refs["confirmDeleteGroup"].close()},deleteAppointment(){this.loadingMessage=this.translations.appointments.group.deleting,this.loading=!0,this.$refs["confirmDeleteGroup"].close(),this.deleteGroupAppointment(this.id).then((()=>{this.$router.push("/ssa/appointments")})).catch((t=>{console.log(t)}))},checkGroupAppointments(){this.groupAppointments.length||(this.error=!0,this.errorLabel=this.translations.appointments.errorNotFound,this.errorDescription=this.translations.appointments.errorNotFoundDescription)},displayAppointment(){if(this.loading=!0,this.groupAppointments.length)return this.loading=!1,void(this.error=!1);this.fetchAppointments({group_id:this.id}).then((()=>{this.loading=!1,this.checkGroupAppointments()}))},exportToCsv(){this.csvExportFile(this.groupAppointments)},...(0,o.nv)("appointments",["cancelGroupAppointment","deleteGroupAppointment","fetchAppointments","saveAppointment"]),...(0,o.OI)("appointments",["setAppointmentData"])}},As=xs,Ps=(0,q.Z)(As,ws,Ts,!1,null,"40608fb4",null),Ms=Ps.exports,Es=[{path:"appointments",name:"appointments",component:Qe,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}},{path:"appointment/:id",component:Ss,props:!0,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}},{path:"event/:id",component:Ms,props:!0,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}}],Ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appointment-types-all"},[s("router-view",{on:{saved:t.backToList}})],1)},$s=[],Os={name:"appointmentTypesAll",store:wv,data(){return{}},methods:{backToList(){this.$router.push("/ssa/appointment-types/all")}}},Is=Os,zs=(0,q.Z)(Is,Ds,$s,!1,null,null,null),js=zs.exports,Ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-types"},[s("md-toolbar",{staticClass:"md-transparent"},[s("div",[s("h2",{staticClass:"md-title"},[t.bulkEditMode?[t._v(" "+t._s(t.bulkEditing.length)+" "+t._s(t.translations.general.selected)+" ")]:[0===t.deletedAppointmentTypes.length?[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]:t._e(),t.deletedAppointmentTypes.length?s("md-input-container",{staticClass:"title"},[s("label",{attrs:{for:"filter-time"}},[s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")])]),s("md-select",{staticClass:"ssa-appointment-status-selector",attrs:{name:"filter-time",id:"filter-time"},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}},[s("md-option",{attrs:{value:"publish"}},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]),s("md-option",{attrs:{value:"delete"}},[t._v(" "+t._s(t.translations.settings.appointmentTypesDeleted)+" ")])],1)],1):t._e()]],2)]),s("div",{staticStyle:{flex:"1"}}),t.bulkEditMode&&t.bulkEditing.length>1?s("md-menu",{attrs:{"md-direction":"bottom left","md-size":"4"}},[s("md-button",{staticClass:"md-primary",attrs:{"md-menu-trigger":""}},[t._v(t._s(t.translations.appointmentTypes.actions.bulkEdit))]),s("md-menu-content",[s("md-menu-item",{on:{click:function(e){return t.openBulkEdit("basics")}}},[t._v(t._s(t.translations.wizard.appointmentType.basics))]),s("md-menu-item",{on:{click:function(e){return t.openBulkEdit("availability")}}},[t._v(t._s(t.translations.wizard.appointmentType.availability))]),s("md-menu-item",{on:{click:function(e){return t.openBulkEdit("scheduling")}}},[t._v(t._s(t.translations.wizard.appointmentType.scheduling))]),s("md-menu-item",{on:{click:function(e){return t.openBulkEdit("customerInfo")}}},[t._v(t._s(t.translations.wizard.appointmentType.customerInfo))]),s("md-menu-item",{on:{click:function(e){return t.openBulkEdit("notifications")}}},[t._v(t._s(t.translations.wizard.appointmentType.notifications))]),t.extrasEnabled?s("md-divider"):t._e(),t.showPayments?s("md-menu-item",{on:{click:function(e){return t.openBulkEdit("payments")}}},[t._v(t._s(t.translations.wizard.appointmentType.payments))]):t._e(),t.showGoogleCalendar?s("md-menu-item",{on:{click:function(e){return t.openBulkEdit("googleCalendar")}}},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendar))]):t._e(),t.showMailchimp?s("md-menu-item",{on:{click:function(e){return t.openBulkEdit("mailchimp")}}},[t._v(t._s(t.translations.wizard.appointmentType.mailchimp))]):t._e()],1)],1):t.bulkEditMode||"delete"===t.selectedStatus?t._e():[t.editableAppointmentTypes.length>1?[t.reordering?s("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:t.saving},on:{click:t.saveAppointmentTypeOrder}},[s("md-icon",[t._v("save")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.saveOrder)+" ")],1):s("md-button",{staticClass:"md-primary",attrs:{disabled:t.saving},on:{click:t.reorderAppointmentTypes}},[s("md-icon",[t._v("drag_indicator")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.reorder)+" ")],1)]:t._e(),s("md-button",{staticClass:"md-primary ssa-appt-type-add-new",attrs:{disabled:t.saving},on:{click:t.addAppointmentType}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.addNew)+" ")],1)]],2),t.displayAppointmentTypes.length?s("draggable",{staticClass:"sortable-list md-double-line appt-type-list",class:{disabled:t.saving},attrs:{animation:150,ghostClass:"sortable-ghost",tag:"md-list",handle:".handle"},model:{value:t.displayAppointmentTypes,callback:function(e){t.displayAppointmentTypes=e},expression:"displayAppointmentTypes"}},t._l(t.displayAppointmentTypes,(function(e){return s("md-list-item",{key:e.id,class:{deleted:"delete"===e.status}},[s("div",{staticClass:"icon-toggle",class:{"bulk-edit":t.bulkEditMode,"bulk-edit-avail":t.editableAppointmentTypes.length>1&&!t.reordering}},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":e.label}},[t._v("label")]),s("md-checkbox",{staticClass:"md-primary",attrs:{"md-theme":e.label,id:"appt-type-"+e.id,name:"appt-type-"+e.id,"md-value":e.id},model:{value:t.bulkEditing,callback:function(e){t.bulkEditing=e},expression:"bulkEditing"}})],1),s("div",{staticClass:"md-list-text-container",on:{click:function(s){return t.editAppointmentType(e.id)}}},[s("span",{staticClass:"appt-type-item-title"},[t._v(t._s(e.title))]),s("span",[t._v(t._s(t.displayDuration(e.duration))+" - "),s("code",[t._v(t._s(e.slug))])])]),t.reordering?s("md-icon",{staticClass:"md-primary handle",attrs:{"md-theme":"blue-grey"}},[t._v("drag_indicator")]):s("md-menu",{attrs:{"md-direction":"bottom left"}},[s("md-button",{staticClass:"md-icon-button md-list-action",attrs:{"md-menu-trigger":"",disabled:t.saving}},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":e.label}},[t._v("settings")])],1),s("md-menu-content",["delete"!==t.selectedStatus?s("md-menu-item",{on:{click:function(s){return t.editAppointmentType(e.id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("edit")]),s("span",[t._v(t._s(t.translations.actions.edit))])],1):t._e(),"delete"!==t.selectedStatus?s("md-menu-item",{on:{click:function(s){return t.cloneAppointmentType(e.id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),s("span",[t._v(t._s(t.translations.actions.clone))])],1):t._e(),"delete"!==t.selectedStatus?s("md-menu-item",{on:{click:function(s){return t.confirmDelete(e.id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("delete")]),s("span",[t._v(t._s(t.translations.actions.delete))])],1):t._e(),"delete"===t.selectedStatus?s("md-menu-item",{on:{click:function(s){return t.recoverSelectedAppointmentType(e.id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("undo")]),s("span",[t._v(t._s(t.translations.actions.recover))])],1):t._e()],1)],1),s("md-divider")],1)})),1):s("empty",{attrs:{label:t.translations.appointmentTypes.empty}},[s("md-button",{staticClass:"md-raised md-primary",on:{click:t.addAppointmentType}},[t._v(t._s(t.translations.appointmentTypes.actions.create))])],1),s("md-dialog",{ref:"confirmDelete"},[s("md-dialog-title",[t._v(t._s(t.translations.appointmentTypes.confirmDelete))]),t.deletedType?s("md-dialog-content",[t._v(" "+t._s(t.deletedType.title)+" ("+t._s(t.displayDuration(t.deletedType.duration))+") "),t.deletedTypeAppointments.length?[s("p",[t._v(t._s(t.translations.appointmentTypes.confirmDeleteAppointments))]),s("ul",t._l(t.deletedTypeAppointments,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(t.moment(e.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" ")])})),0)]:t._e()],2):t._e(),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.appointmentTypes.confirmDeleteCancel))]),s("md-button",{on:{click:t.deleteSelectedAppointmentType}},[t._v(t._s(t.translations.appointmentTypes.confirmDeleteOk))])],1)],1),s("md-snackbar",{ref:"errorDeleting",attrs:{"md-position":"top center","md-duration":1e4}},[s("span",[t._v(t._s(t.translations.errors.cantDeleteType))]),s("md-button",{staticClass:"md-primary",attrs:{href:"https://simplyscheduleappointments.com/document/unable-to-delete-an-appointment-type/",targe:"_blank"},on:{click:function(e){return t.$refs.errorDeleting.close()}}},[t._v(t._s(t.translations.errors.moreInfo))])],1)],1)},Ns=[],Us=s(6390),Gs=s.n(Us),Fs={name:"appointmentTypesList",store:wv,components:{Empty:Jt,draggable:Gs()},data(){return{deletedId:null,moment:W(),reordering:!1,saving:!1}},beforeMount(){this.emptyCurrentAppointmentType(),this.updateBulkEditing([])},mounted(){if(this.maybeUpdateSortOrder(),this.appointments.length)return;let t=W().utc().locale("en").format("YYYY-MM-DD");this.fetchAppointments({end_date_min:t,order:"ASC",orderby:"start_date"})},watch:{selectedStatus(){"delete"===this.selectedStatus&&(this.reordering=!1)}},computed:{deletedType(){if(this.deletedId)return this.editableAppointmentTypes.find((t=>t.id.toString()===this.deletedId.toString()))},deletedTypeAppointments(){return this.upcomingAppointments.filter((t=>t.appointment_type_id===this.deletedId))},selectedStatus:{get(){return this.selectedApointmentTypeStatus},set(t){this.setSelectedAppointmentTypeStatus(t)}},displayAppointmentTypes:{get(){return"delete"===this.selectedStatus?this.deletedAppointmentTypes:this.editableAppointmentTypes},set(t){this.setAppointmentTypesOrder(t)}},bulkEditing:{get(){return this.bulkEditing},set(t){this.updateBulkEditing(t)}},bulkEditMode(){return this.editableAppointmentTypes.length>1&&this.bulkEditing.length},extrasEnabled(){return this.showGoogleCalendar||this.showMailchimp||this.showPayments},showGoogleCalendar(){return this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&this.settings.google_calendar.access_token},showMailchimp(){return this.settings.installed.mailchimp&&this.settings.mailchimp.enabled&&!Ae().isEmpty(this.settings.mailchimp.account_details)},showPayments(){return this.settings.installed.payments&&(this.settings.stripe.enabled||this.settings.paypal.enabled)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat","appointments"]),...(0,o.Se)(["displayDuration"]),...(0,o.Se)("appointments",["upcomingAppointments"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes","deletedAppointmentTypes"]),...(0,o.rn)("appointment_types",["selectedApointmentTypeStatus","bulkEditing","currentAppointmentType"])},methods:{addAppointmentType(){this.createNewAppointmentType(),Pf.push("/ssa/appointment-types/type")},cancelDelete(){this.$refs["confirmDelete"].close()},cloneAppointmentType(t){this.saving=!0,this.updateCloneAppointmentType(t).then((()=>{this.saving=!1,Pf.push("/ssa/appointment-types/type")}))},confirmDelete(t){this.$refs["confirmDelete"].open(),this.deletedId=t},deleteSelectedAppointmentType(){var t=this.deletedId;this.$refs["confirmDelete"].close(),this.deleteAppointmentType(t).then((()=>{})).catch((t=>{console.log(t),this.$refs.errorDeleting.open()}))},recoverSelectedAppointmentType(t){this.recoverAppointmentType(t).then((()=>{this.selectedStatus="publish"})).catch((t=>{console.log(t),this.$refs.errorDeleting.open()}))},editAppointmentType(t){this.saving||this.reordering||Pf.push({name:"appointment-type-single",params:{id:t}})},maybeUpdateSortOrder(){if(this.editableAppointmentTypes.length<2)return;let t=this.editableAppointmentTypes.map((t=>t.display_order)),e=t.every(((t,e,s)=>t===s[0]));e&&this.editableAppointmentTypes.length&&(this.editableAppointmentTypes.forEach(((t,e)=>{this.setAppointmentTypeProperties({display_order:e,id:t.id})})),this.updateAppointmentTypes())},openBulkEdit(t){Pf.push({name:"appointment-type-bulk-edit",params:{section:t}})},reorderAppointmentTypes(){this.reordering=!this.reordering},saveAppointmentTypeOrder(){this.saving=!0,this.updateAppointmentTypes().then((()=>{this.saving=!1,this.reorderAppointmentTypes()}))},...(0,o.nv)("appointment_types",["updateAppointmentTypes","updateCloneAppointmentType","deleteAppointmentType","recoverAppointmentType","createNewAppointmentType","updateCloneAppointmentType","emptyCurrentAppointmentType"]),...(0,o.nv)("appointments",["fetchAppointments"]),...(0,o.OI)("appointment_types",["removeAppointmentType","setAppointmentTypeProperties","setAppointmentTypesOrder","updateBulkEditing","setSelectedAppointmentTypeStatus"])}},Ws=Fs,Bs=(0,q.Z)(Ws,Ls,Ns,!1,null,null,null),Rs=Bs.exports,qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-edit"},[s("md-button",{on:{click:t.cancelEdit}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),s("h2",{staticClass:"md-title"},[t._v(t._s(t.currentAppointmentType.title))]),s("md-dialog",{ref:"confirmLeaveDirty"},[s("md-dialog-title",{domProps:{textContent:t._s(t.translations.appointmentTypes.confirmIgnoreChangesTitle)}}),s("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.appointmentTypes.confirmIgnoreChangesContent)}}),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesCancel))]),s("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesOkay))])],1)],1),s("md-snackbar",{ref:"shortcodeNotice",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.appointmentTypes.shortcodeCopied))])]),s("md-theme",{attrs:{"md-name":t.currentAppointmentType.label}},[s("accordion",[s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.basics,message:t.translations.wizard.appointmentType.basicsMessage,index:"0",section:"basics",open:t.section,error:!t.validBasics},on:{updateActive:t.updateSection}},[s("basics",{on:{validationCheck:t.validateBasics}})],1),s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.availability,message:t.translations.wizard.appointmentType.availabilityMessage,index:"1",section:"availability",open:t.section},on:{updateActive:t.updateSection}},[s("availability",{on:{validationCheck:t.validateAvailability}}),s("notification",{attrs:{icon:"help"}},[s("p",{staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.intro)+" ")]),s("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1),t.settings.installed.staff&&t.settings.staff.enabled&&t.currentAppointmentType.hasOwnProperty("staff")&&t.currentUserCan("ssa_manage_staff")?s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.staff,message:t.translations.wizard.appointmentType.staffMessage,index:"2",section:"staff",open:t.section,error:!t.validStaff},on:{updateActive:t.updateSection}},[s("staff",{on:{staffRequiredChange:t.staffUpdateCapacity,validationCheck:t.validateStaff}})],1):t._e(),s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.capacity,message:t.translations.wizard.appointmentType.capacityMessage,index:"3",section:"capacity",open:t.section,error:!t.validCapacity},on:{updateActive:t.updateSection}},[s("capacity",{on:{validationCheck:t.validateCapacity}})],1),s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.scheduling,message:t.translations.wizard.appointmentType.schedulingMessage,index:"4",section:"scheduling",open:t.section,error:!t.validScheduling},on:{updateActive:t.updateSection}},[s("scheduling",{on:{validationCheck:t.validateScheduling}})],1),t.settings.installed.payments&&t.settings.payments.enabled&&(t.settings.paypal.enabled||t.settings.stripe.enabled)?s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.payments,message:t.translations.wizard.appointmentType.paymentsMessage,index:"5",section:"payments",open:t.section},on:{updateActive:t.updateSection}},[s("payments",{on:{validationCheck:t.validatePayments}})],1):t._e(),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled?s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.googleCalendar,message:t.translations.wizard.appointmentType.googleCalendarMessage,index:"6",section:"google-calendar",open:t.section},on:{updateActive:t.updateSection}},[s("google-calendar")],1):t._e(),t.webMeetingsProviders.length>0?s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.webMeetings,message:t.translations.wizard.appointmentType.webMeetingsMessage,index:"7",section:"web-meetings",error:!t.validWebMeetings,open:t.section},on:{updateActive:t.updateSection}},[s("web-meetings",{on:{validationCheck:t.validateWebMeetings}})],1):t._e(),t.settings.installed.mailchimp&&t.settings.mailchimp.enabled?s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.mailchimp,message:t.translations.wizard.appointmentType.mailchimpMessage,index:"8",section:"mailchimp",error:!t.validMailchimp,open:t.section},on:{updateActive:t.updateSection}},[s("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}})],1):t._e(),t.settings.installed.webhooks&&t.settings.webhooks.enabled&&t.currentUserCan("ssa_manage_site_settings")?s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.webhooks,message:t.translations.wizard.appointmentType.webhooksMessage,index:"9",section:"webhooks",open:t.section},on:{updateActive:t.updateSection}},[s("webhooks")],1):t._e(),s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.customerInfo,message:t.translations.wizard.appointmentType.customerInfoMessage,index:"10",section:"customer-information",open:t.section},on:{updateActive:t.updateSection}},[s("customer-information")],1),t.currentUserCan("ssa_manage_site_settings")?s("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.notifications,message:t.translations.wizard.appointmentType.notificationsMessage,index:"11",section:"notifications",open:t.section},on:{updateActive:t.updateSection}},[s("notifications")],1):t._e()],1),s("div",{staticClass:"button-bar"},[s("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(t._s(t.translations.general.cancel))]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.validFormFields},on:{click:t.saveAppointmentType}},[t._v(t._s(t.translations.general.save))]),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.booking))]),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.bookingMessage))])]),s("md-card-content",[s("p",[t._v(t._s(t.translations.wizard.appointmentType.specialBooking))]),s("p",{staticStyle:{cursor:"pointer"}},[s("code",{ref:"shortcode",on:{click:t.copyShortcode}},[t._v("[ssa_booking type="+t._s(t.currentAppointmentType.slug)+"]")]),t._v(" "),s("md-icon",{staticClass:"md-primary",nativeOn:{click:function(e){return t.copyShortcode.apply(null,arguments)}}},[t._v("file_copy")])],1)])],1)],1)],1)},Hs=[],Zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ssa-accordion"},[t._t("default")],2)},Ks=[],Vs={name:"AccordionWrapper"},Ys=Vs,Js=(0,q.Z)(Ys,Zs,Ks,!1,null,null,null),Xs=Js.exports,Qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ssa-accordion-item",class:{active:t.isOpen,error:t.error},attrs:{"data-section":t.section}},[s("button",{staticClass:"ssa-accordion-item-header",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleItem()}}},[t.error?s("md-icon",{staticClass:"md-warn"},[t._v(" error ")]):t.icon?s("md-icon",[t._v(" "+t._s(t.icon)+" ")]):t._e(),t.label||t.message?s("div",{staticClass:"text-container"},[t.label?s("span",{staticClass:"label"},[t._v(" "+t._s(t.label)+" ")]):t._e(),t.message?s("span",{staticClass:"message"},[t._v(" "+t._s(t.message)+" ")]):t._e()]):t._e(),s("md-icon",{staticClass:"accordion-toggle"},[t._v(" keyboard_arrow_down ")])],1),s("div",{ref:"panel",staticClass:"ssa-accordion-item-content"},[t.isOpen?s("div",{staticClass:"ssa-accordion-item-wrap"},[t._t("default")],2):t._e()])])},ti=[],ei={props:{icon:String,label:String,message:String,index:String,open:String,section:{type:String,default:""},error:{type:Boolean,default:!1}},data(){return{isActive:!1,observer:null}},computed:{isOpen(){return this.index===this.open}},mounted(){this.$nextTick((()=>{this.toggleDisplay()})),this.observer||(this.observer=new MutationObserver((()=>{this.toggleDisplay()})))},beforeDestroy(){this.observer.disconnect()},watch:{isOpen(){this.$nextTick((()=>{this.toggleDisplay()}))}},methods:{toggleDisplay(){let t=this.$refs.panel,e=t.querySelector(".ssa-accordion-item-wrap"),s={childList:!0,subtree:!0};this.isOpen?(t.style.maxHeight=t.scrollHeight+"px",this.observer.observe(e,s)):(t.style.maxHeight=null,this.observer.disconnect())},toggleItem(){this.toggleDisplay(),this.isOpen?this.$emit("updateActive",null):this.$emit("updateActive",this.index,this.section)}}},si=ei,ii=(0,q.Z)(si,Qs,ti,!1,null,null,null),ni=ii.exports,ai=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-basics"},[t.bulkMode?t._e():s("md-input-container",{class:{"md-input-invalid":t.titleError}},[s("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.appointmentTypes.title))]),s("md-input",{attrs:{id:"title",required:""},model:{value:t.$v.title.$model,callback:function(e){t.$set(t.$v.title,"$model",e)},expression:"$v.title.$model"}}),t.titleError?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.titleError))]):t._e()],1),s("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[s("md-layout",{attrs:{"md-flex":50}},[s("duration",{attrs:{allowNull:t.bulkMode,required:!t.bulkMode},model:{value:t.$v.duration.$model,callback:function(e){t.$set(t.$v.duration,"$model",e)},expression:"$v.duration.$model"}})],1),s("md-layout",{attrs:{"md-flex":50}},[s("md-input-container",[s("label",{attrs:{for:"label"}},[t._v(t._s(t.translations.appointmentTypes.label))]),s("md-select",{staticClass:"label-select",attrs:{id:"label"},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t.bulkMode?s("md-option",{attrs:{value:""}}):t._e(),t._l(t.options.colors,(function(e){return s("md-option",{key:e.value,attrs:{value:e.value}},[s("span",{class:e.value},[t._v(t._s(e.text))])])}))],2)],1)],1)],1),t.showSlug?s("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[s("md-layout",{attrs:{"md-flex":66}},[s("md-input-container",{class:{"md-input-invalid":t.slugError}},[s("label",{attrs:{for:"slug"}},[t._v(t._s(t.translations.appointmentTypes.slug))]),s("md-input",{attrs:{id:"slug",required:""},model:{value:t.$v.slug.$model,callback:function(e){t.$set(t.$v.slug,"$model",e)},expression:"$v.slug.$model"}}),t.slugError?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.slugError))]):t._e()],1)],1),s("md-layout",{attrs:{"md-flex":33}},[s("md-input-container",[s("label",{attrs:{for:"layout"}},[t._v(t._s(t.translations.appointmentTypes.bookingLayout))]),s("md-select",{attrs:{id:"layout"},model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}},[t.bulkMode?s("md-option",{attrs:{value:""}}):t._e(),t._l(t.options.bookingLayouts,(function(e){return s("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointmentTypes.bookingLayouts[e])+" ")])}))],2)],1)],1)],1):s("md-input-container",[s("label",{attrs:{for:"layout"}},[t._v(t._s(t.translations.appointmentTypes.bookingLayout))]),s("md-select",{attrs:{id:"layout"},model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}},[t.bulkMode?s("md-option",{attrs:{value:""}}):t._e(),t._l(t.options.bookingLayouts,(function(e){return s("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointmentTypes.bookingLayouts[e])+" ")])}))],2)],1),s("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[s("md-layout",[s("md-input-container",[s("label",{attrs:{for:"instructions"}},[t._v(t._s(t.translations.appointmentTypes.instructions))]),s("md-input",{attrs:{placeholder:t.translations.appointmentTypes.instructions_placeholder,id:"instructions"},model:{value:t.instructions,callback:function(e){t.instructions=e},expression:"instructions"}}),s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.instructions_description))])],1)],1)],1)],1)},oi=[],ri=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"duration-field"},[s("md-layout",{attrs:{"md-gutter":!0}},[s("md-layout",{attrs:{"md-flex":50}},[s("md-input-container",{class:{"md-input-invalid":t.showError}},[s("label",{attrs:{for:"duration-"+t.id}},[t._v(t._s(t.translations.appointmentTypes.duration))]),s("md-input",{attrs:{type:"number",min:0,id:"duration-"+t.id,required:t.required},nativeOn:{change:function(e){return t.updateDurationInfo.apply(null,arguments)}},model:{value:t.durationInfo.time,callback:function(e){t.$set(t.durationInfo,"time",e)},expression:"durationInfo.time"}})],1)],1),s("md-layout",{attrs:{"md-flex":50}},[s("md-input-container",[s("label",{attrs:{for:"durationType-"+t.id}},[t._v(t._s(t.translations.appointmentTypes.durationType))]),s("md-select",{attrs:{id:"durationType-"+t.id},on:{selected:t.updateDurationInfo},model:{value:t.durationInfo.type,callback:function(e){t.$set(t.durationInfo,"type",e)},expression:"durationInfo.type"}},[t.allowNull?s("md-option",{attrs:{value:""}}):t._e(),t._l(t.durationUnits,(function(e){return s("md-option",{key:e,attrs:{value:e}},[1===t.durationInfo.time||"1"===t.durationInfo.time?[t._v(" "+t._s(t.translations.time.units[e].single)+" ")]:[t._v(" "+t._s(t.translations.time.units[e].plural)+" ")],t._v(" "+t._s(e.text)+" ")],2)}))],2)],1)],1)],1),t.errorText?s("md-layout",[s("span",{staticClass:"md-error"},[t._v(t._s(t.errorText))])]):t.helpText?s("md-layout",[s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.helpText))])]):t._e()],1)},li=[],di={name:"durationInput",store:wv,props:["value","helpText","errorText","allowNull","required"],data(){return{durationUnits:M,id:null}},mounted:function(){this.id=this._uid},computed:{minutes:function(){return parseInt(this.value)},showError(){let t=!1;return this.allowNull||this.durationInfo.time?(this.required&&parseInt(this.durationInfo.time)<1||this.allowNull&&parseInt(this.durationInfo.time)<0||this.errorText)&&(t=!0):t=!0,t},durationInfo(){let t=this.value,e="minutes";return this.value||0===this.value||"0"===this.value?0===this.minutes||"0"===this.minutes?(t=0,e="minutes"):this.minutes%10080===0?(t=this.minutes/10080,e="weeks"):this.minutes%1440===0?(t=this.minutes/1440,e="days"):this.minutes%60===0&&(t=this.minutes/60,e="hours"):(t=null,e=this.allowNull?null:"minutes"),{time:t,type:e}},...(0,o.rn)("translations",["translations"])},methods:{updateDurationInfo:function(){let t=this.durationInfo.time;switch(t||this.allowNull||(t=0),this.durationInfo.type){case"hours":t=60*this.durationInfo.time;break;case"days":t=60*this.durationInfo.time*24;break;case"weeks":t=60*this.durationInfo.time*24*7;break}""===this.durationInfo.time&&this.allowNull?this.$emit("input",""):this.$emit("input",t.toString())}}},pi=di,ci=(0,q.Z)(pi,ri,li,!1,null,null,null),mi=ci.exports,ui=s(2424),gi=s(6409);const hi={durationUnits:[{value:"minutes",text:"Minutes",singular:"Minute"},{value:"hours",text:"Hours",singular:"Hour"},{value:"days",text:"Days",singular:"Day"},{value:"weeks",text:"Weeks",singular:"Week"}],colors:[{value:"red",text:"Red"},{value:"pink",text:"Pink"},{value:"purple",text:"Purple"},{value:"deep-purple",text:"Deep Purple"},{value:"indigo",text:"Indigo"},{value:"blue",text:"Blue"},{value:"light-blue",text:"Light Blue"},{value:"cyan",text:"Cyan"},{value:"teal",text:"Teal"},{value:"green",text:"Green"},{value:"light-green",text:"Light Green"},{value:"lime",text:"Lime"},{value:"yellow",text:"Yellow"},{value:"amber",text:"Amber"},{value:"orange",text:"Orange"},{value:"deep-orange",text:"Deep Orange"},{value:"brown",text:"Brown"},{value:"grey",text:"Grey"},{value:"blue-grey",text:"Blue Grey"}],dateFormats:[{php:"F j, Y",js:"MMMM D, YYYY"},{php:"j F Y",js:"D MMMM YYYY"},{php:"Y-m-d",js:"YYYY-MM-DD"},{php:"m/d/Y",js:"MM/DD/YYYY"},{php:"d/m/Y",js:"DD/MM/YYYY"},{php:"l, F jS, Y",js:"dddd, MMMM Do, YYYY"},{php:"M j, Y",js:"MMM D, YYYY"}],timeFormats:[{php:"g:i a",js:"h:mm a"},{php:"g:i A",js:"h:mm A"},{php:"H:i",js:"HH:mm"},{php:"G:i",js:"H:mm"},{php:"g:ia",js:"h:mma"},{php:"g:iA",js:"h:mmA"}],availabilityTimeIncrements:[10,15,20,30,60],bookingLayouts:["week","month"],visibilityOptions:["public","private"]};var _i={name:"appointmentTypeBasics",components:{duration:mi},mixins:[ui.oE],store:wv,props:{bulkMode:{default:!1,type:Boolean}},data(){return{options:hi}},validations(){const t=this.bulkMode;return{duration:{required:(0,gi.CF)((()=>!t)),minValue:(0,gi.uv)(1)},slug:{required:(0,gi.CF)("showSlug")},title:{required:(0,gi.CF)((()=>!t))}}},computed:{titleError(){return!this.bulkMode&&this.$v.title.$invalid},slugError(){return!this.bulkMode&&this.$v.slug.$invalid},showSlug(){return!this.bulkMode&&this.currentAppointmentType&&Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"slug")},duration:{get(){return this.currentAppointmentType?this.currentAppointmentType.duration:0},set(t){this.updateCurrentAppointmentType({key:"duration",value:t}),this.validationCheck()}},title:{get(){return this.currentAppointmentType?this.currentAppointmentType.title:""},set(t){this.updateCurrentAppointmentType({key:"title",value:t}),this.validationCheck()}},label:{get(){return this.currentAppointmentType?this.currentAppointmentType.label:""},set(t){this.updateCurrentAppointmentType({key:"label",value:t})}},slug:{get(){return this.currentAppointmentType.slug},set(t){this.updateCurrentAppointmentType({key:"slug",value:t}),this.$v.slug.$touch(),this.validationCheck()}},layout:{get(){return this.currentAppointmentType.booking_layout?this.currentAppointmentType.booking_layout:"week"},set(t){this.updateCurrentAppointmentType({key:"booking_layout",value:t})}},instructions:{get(){return this.currentAppointmentType?this.currentAppointmentType.instructions:""},set(t){this.updateCurrentAppointmentType({key:"instructions",value:t})}},visibility:{get(){return this.currentAppointmentType&&Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"visibility")?this.currentAppointmentType.visibility:"public"},set(t){this.updateCurrentAppointmentType({key:"visibility",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{validationCheck(){var t=this.$v.duration.required?!this.$v.duration.$invalid:this.$v.duration.minValue;this.$emit("validationCheck",!this.titleError&&!this.slugError&&t)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},fi=_i,yi=(0,q.Z)(fi,ai,oi,!1,null,null,null),vi=yi.exports,bi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-availability",class:"md-theme-"+t.appointmentTypeLabel},[s("fieldset",{staticClass:"md-fieldset field-wrapper"},[s("legend",[t._v(t._s(t.translations.appointmentTypes.availabilityType))]),s("md-radio",{attrs:{id:"availability_type_blocks",name:"availability_type","md-value":"available_blocks","aria-described-by":"availability-type-help"},model:{value:t.availability_type,callback:function(e){t.availability_type=e},expression:"availability_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.availabilityBlocks)+" ")]),s("md-radio",{attrs:{id:"availability_type_times",name:"availability_type","md-value":"start_times","aria-described-by":"availability-type-help"},model:{value:t.availability_type,callback:function(e){t.availability_type=e},expression:"availability_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.availabilityStartTimes)+" ")]),s("div",{attrs:{id:"availability-type-help","aria-live":"polite"}},[s("p",["start_times"===t.availability_type?[t._v(" "+t._s(t.translations.appointmentTypes.availabilityStartTimesHelp)+" ")]:[t._v(" "+t._s(t.translations.appointmentTypes.availabilityBlocksHelp)+" ")]],2)])],1),s("fieldset",{staticClass:"md-fieldset field-wrapper"},[s("legend",[t._v(" "+t._s(t.translations.appointmentTypes.availabilityIncrement)+" ")]),t._l(t.options.availabilityTimeIncrements,(function(e){return s("md-radio",{key:e,attrs:{id:"increment-"+e,name:"increment","md-value":e},on:{change:t.updateAvailability},model:{value:t.increment,callback:function(e){t.increment=e},expression:"increment"}},[t._v(" "+t._s(e)+" "+t._s(t.translations.time.units.minutes.plural)+" ")])}))],2),"available_blocks"===t.availability_type?s("availability-picker",{ref:"availability-field",attrs:{increment:t.increment},model:{value:t.availability,callback:function(e){t.availability=e},expression:"availability"}}):s("start-time-picker",{ref:"start-time-field",attrs:{increment:t.increment},model:{value:t.availability,callback:function(e){t.availability=e},expression:"availability"}}),t.advancedSchedulingModule.enabled?[s("h3",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.availability_window)+" ")]),s("p",{staticClass:"subsection-description"},[t._v(" "+t._s(t.translations.appointmentTypes.availability_window_help)+" ")]),s("md-input-container",{class:{"md-input-invalid":!t.validAvailabilityWindow,"md-has-value":t.availability_start_date},attrs:{"md-clearable":""}},[s("label",{attrs:{for:"availability_start_date"}},[t._v(" "+t._s(t.translations.appointmentTypes.availability_start_date)+" ")]),s("date-time-picker",{on:{input:t.validateAvailabilityWindow},model:{value:t.availability_start_date,callback:function(e){t.availability_start_date=e},expression:"availability_start_date"}}),s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.availability_window_error)+" ")])],1),s("md-input-container",{class:{"md-input-invalid":!t.validAvailabilityWindow,"md-has-value":t.availability_end_date},attrs:{"md-clearable":""}},[s("label",{attrs:{for:"availability_end_date"}},[t._v(" "+t._s(t.translations.appointmentTypes.availability_end_date)+" ")]),s("date-time-picker",{on:{input:t.validateAvailabilityWindow},model:{value:t.availability_end_date,callback:function(e){t.availability_end_date=e},expression:"availability_end_date"}}),s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.availability_window_error)+" ")])],1)]:t._e()],2)},ki=[],Ci=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"availability-table"},[s("table",{class:t.classes},[s("thead",[s("tr",[s("th",[t.canAddTimeBefore?s("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeBefore}},[s("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(e,i){return s("th",{key:"thead-"+e},[t._v(t._s(t.weekdaysDisplay[i]))])}))],2)]),s("tfoot",[s("tr",[s("th",[t.canAddTimeAfter?s("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeAfter}},[s("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(e){return s("td",{key:"tfoot-"+e},[t._v(" ")])}))],2)]),s("tbody",{on:{mousedown:function(e){return e.preventDefault(),t.mousedown(e)},mouseup:function(e){return e.preventDefault(),t.mouseup(e)},mouseover:function(e){return e.preventDefault(),t.mouseover(e)}}},t._l(t.times,(function(e){return s("tr",{key:e.timeCalc,class:{hour:"00"===e.timeMinutes}},["00"!==e.timeMinutes?s("th",[t._v(" ")]):s("th",[t._v(t._s(e.timeString))]),t._l(t.weekdays,(function(i){return s("cell",{key:i+" - "+e.timeCalc,tag:"td",attrs:{day:i,time:e.timeCalc,checked:t.checked[i]},on:{"update:checked":function(e){return t.$set(t.checked,i,e)},update:t.updateAvailability}})}))],2)})),0)])])},Si=[],wi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",{class:{selected:t.isSelected}},[s("input",{attrs:{id:t.id,type:"checkbox",name:t.day},domProps:{value:t.time,checked:t.isSelected},on:{change:t.changeCheck}}),s("label",{attrs:{for:t.id,title:t.time}},[t._v(t._s(t.day)+" "+t._s(t.time))])])},Ti=[],xi={name:"availabilityPickerCell",props:{day:{type:String,required:!0},time:{type:String,required:!0},checked:{type:Array,required:!0}},computed:{id:function(){var t=this.day.toLowerCase(),e=t+this.time;return e.replace(/[^a-z0-9\-_:\]|^[^a-z]+/gi,"")},isSelected:function(){var t=!1,e=this.checked,s=e.indexOf(this.time);return s>=0&&(t=!0),t}},methods:{changeCheck:function(){this.$emit("update")}}},Ai=xi,Pi=(0,q.Z)(Ai,wi,Ti,!1,null,null,null),Mi=Pi.exports,Ei={name:"availabilityTable",store:wv,components:{cell:Mi},props:["value","increment"],data(){return{isMouseDown:!1,erasing:!1,drawing:!1,startRowIndex:null,startCellIndex:null,timeStart:"08:00",timeEnd:"19:00"}},computed:{classes:function(){return{availability:!0,bordered:!0,erasing:this.erasing,drawing:this.drawing}},times:function(){var t=[],e=this.timeStringToMoment(this.timeStart),s=this.timeStringToMoment(this.timeEnd),i=this.increment||60,n=e.clone().subtract(i,"minutes"),a=s.clone();while(n.add(i,"minutes").diff(a)<0)t.push({timeString:n.clone().format(this.settings.global.time_format_moment),timeMinutes:n.clone().locale("en").format("mm"),timeCalc:n.clone().locale("en").format("HH:mm")});return t},checked(){let t={};return this.weekdays.map((e=>{let s=[],i=this.value[e],n=this.increment||60;i&&!Ae().isEmpty(i)&&i.map((t=>{let e=W()(t.time_start,"HH:mm").locale("en"),i=e.clone().subtract(n,"minutes");if(Object.prototype.hasOwnProperty.call(t,"time_end")){let e=W()(t.time_end,"HH:mm").locale("en");while(i.add(n,"minutes").diff(e)<0)s.push(i.clone().format("HH:mm"))}else s.push(e.clone().format("HH:mm"))})),t[e]=s})),t},weekdays:function(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysDisplay:function(){W().locale(this.settings.global.locale);var t=this.settings.global.start_of_week,e=W().weekdays(!1);if(t>0){var s=e.splice(0,t);e=[...e,...s]}return e},canAddTimeBefore:function(){var t=this.timeStringToMoment(this.timeStart);return!t.isSame(W()().startOf("day"))},canAddTimeAfter:function(){var t=this.timeStringToMoment(this.timeEnd).add(59,"minute");return!t.isAfter(W()().endOf("day"))},...(0,o.Se)({getWeekdays:"weekdays"}),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},beforeMount:function(){this.calculateStartAndEndTimes(),document.addEventListener("mouseup",(()=>{this.mouseup()}))},mounted(){this.updateAvailability()},methods:{calculateStartAndEndTimes:function(){let t=[];for(let o in this.value)Array.prototype.push.apply(t,this.value[o]);if(0===t.length)return;let e=t.map((t=>parseInt(t.time_start.split(":")[0]))),s=t.filter((t=>Object.prototype.hasOwnProperty.call(t,"time_end"))),i=s.map((t=>parseInt(t.time_end.split(":")[0]))),n=e.reduce(((t,e)=>Math.min(t,e))),a=i.length?i.reduce(((t,e)=>Math.max(t,e))):e.reduce(((t,e)=>Math.max(t,e)));this.timeStart=n>=1?(n-1).toString()+":00":n.toString()+":00",this.timeEnd=a<=23?(a+1).toString()+":00":a.toString()+":00"},addTimeBefore:function(){var t=this.timeStringToMoment(this.timeStart).subtract(1,"hour");this.timeStart=t.format("HH:mm")},addTimeAfter:function(){var t=this.timeStringToMoment(this.timeEnd).add(1,"hour");t.isAfter(W()().endOf("day"))&&t.subtract(1,"minute"),this.timeEnd=t.format("HH:mm")},timeStringToMoment:function(t){var e=W()(t,["H:mm:ss","HH:mm:ss","H:mm","HH:mm","h:mma","hh:mma","h:mmA","hh:mmA","h:mm","hh:mm"]);return e},updateAvailability:Ae().debounce((function(){var t=this.increment||60,e={};this.weekdays.map((s=>{var i=[].slice.call(document.getElementsByName(s)),n=!1,a=0,o=[];i.map(((e,s)=>{if(e.checked&&i.length===s+1){n||o.push({time_start:W()(e.value,this.settings.global.time_format_moment).locale("en").format("HH:mm:ss")}),n=!1;let s=o[a],i=W()(e.value,this.settings.global.time_format_moment).locale("en").add(t,"minutes");i.isAfter(W()().locale("en").endOf("day"))?s.time_end="24:00:00":s.time_end=i.format("HH:mm:ss"),a++}else if(e.checked&&!n){n=!0;var r={time_start:W()(e.value,this.settings.global.time_format_moment).locale("en").format("HH:mm:ss")};o.push(r)}else if(!e.checked&&n){n=!1;let t=o[a];t.time_end=W()(e.value,this.settings.global.time_format_moment).locale("en").format("HH:mm:ss"),a++}})),e[s]=o})),this.$emit("input",e)}),300),toggleCheck:function(t,e){var s=t.querySelector('input[type="checkbox"]');e&&(this.erasing?s.checked=!1:this.drawing&&(s.checked=!0));var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),s.dispatchEvent(i)},getCellIndex:function(t){for(var e=t.parentNode.childNodes,s=0,i=0;i<e.length;i++){if(e[i]===t)return s;e[i].nodeName===t.nodeName&&s++}},getRowIndex:function(t){for(var e=t.parentNode,s=e.parentNode.childNodes,i=0,n=0;n<s.length;n++){if(s[n]===e)return i;s[n].nodeName===e.nodeName&&i++}},mousedown:function(t){var e=t.target;while("TD"!==e.nodeName&&"TH"!==e.nodeName)e=e.parentNode;"TH"!==e.nodeName&&(e.classList.contains("selected")?(this.erasing=!0,this.drawing=!1):(this.erasing=!1,this.drawing=!0),this.toggleCheck(e,!1),this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.isMouseDown=!0)},mouseup:function(){this.erasing=!1,this.drawing=!1,this.isMouseDown=!1},mouseover:function(t){if(this.isMouseDown){var e=t.target;while("TD"!==e.nodeName)e=e.parentNode;for(var s=this.getCellIndex(e),i=this.getRowIndex(e),n=i<this.startRowIndex?i:this.startRowIndex,a=i<this.startRowIndex?this.startRowIndex:i,o=s<this.startCellIndex?s:this.startCellIndex,r=s<this.startCellIndex?this.startCellIndex:s,l=e.parentNode.parentNode.getElementsByTagName("tr"),d=n;d<=a;d++)for(var p=l[d].getElementsByTagName("td"),c=o;c<=r;c++)this.toggleCheck(p[c],!0)}}}},Di=Ei,$i=(0,q.Z)(Di,Ci,Si,!1,null,null,null),Oi=$i.exports,Ii=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"start-time-table"},[s("table",{staticClass:"start-times"},[s("thead",[s("tr",[s("th",[t.canAddTimeBefore?s("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeBefore}},[s("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(e,i){return s("th",{key:i,attrs:{scope:"col"}},[s("button",{attrs:{"aria-label":t.translations.appointmentTypes.availabilityToggle+" "+t.weekdaysDisplay[i]},on:{click:t.toggleCol}},[t._v(" "+t._s(t.weekdaysDisplay[i])+" ")])])}))],2)]),s("tfoot",[s("tr",[s("th",[t.canAddTimeAfter?s("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeAfter}},[s("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(e){return s("td",{key:e},[t._v(" ")])}))],2)]),s("tbody",t._l(t.times,(function(e){return s("tr",{key:e.timeCalc,class:{hour:"00"===e.timeMinutes}},[s("th",{attrs:{scope:"row"}},[s("button",{attrs:{"aria-label":t.translations.appointmentTypes.availabilityToggle+" "+e.timeString},on:{click:t.toggleRow}},[t._v(" "+t._s(e.timeString)+" ")])]),t._l(t.weekdays,(function(i){return s("cell",{key:i+" - "+e.timeCalc,tag:"td",attrs:{day:i,time:e.timeCalc,checked:t.checked[i]},on:{"update:checked":function(e){return t.$set(t.checked,i,e)},update:t.updateAvailability}})}))],2)})),0)])])},zi=[],ji=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",[s("input",{staticClass:"single-time",attrs:{type:"checkbox",id:t.id,name:t.day},domProps:{value:t.time,checked:t.isSelected},on:{change:t.changeCheck}}),s("label",{attrs:{for:t.id,title:t.time}},[t._v(" "+t._s(t.day)+" "+t._s(t.time)+" ")])])},Li=[],Ni={name:"StartTimePickerCell",props:{day:{type:String,required:!0},time:{type:String,required:!0},checked:{type:Array,required:!0}},computed:{id(){let t=this.day.toLowerCase(),e=t+this.time;return e.replace(/[^a-z0-9\-_:\]|^[^a-z]+/gi,"")},isSelected(){let t=this.checked,e=t.indexOf(this.time);return e>=0}},methods:{changeCheck(){this.$emit("update")}}},Ui=Ni,Gi=(0,q.Z)(Ui,ji,Li,!1,null,null,null),Fi=Gi.exports,Wi={name:"start_times",components:{cell:Fi},props:["value","increment"],data(){return{isShiftPressed:!1,startCellIndex:null,startCellState:!1,startRowIndex:null,table:null,timeStart:"9:00",timeEnd:"18:00"}},beforeMount(){this.calculateStartAndEndTimes()},mounted(){this.updateAvailability(),this.table=document.querySelector(".start-times"),this.table.addEventListener("change",this.toggleRange),document.addEventListener("keyup",this.detectShift),document.addEventListener("keydown",this.detectShift)},beforeDestroy(){this.table.removeEventListener("change",this.toggleRange),document.removeEventListener("keyup",this.detectShift),document.removeEventListener("keydown",this.detectShift)},computed:{canAddTimeAfter(){let t=this.timeStringToMoment(this.timeEnd).add(59,"minute");return!t.isAfter(W()().endOf("day"))},canAddTimeBefore(){let t=this.timeStringToMoment(this.timeStart);return!t.isSame(W()().startOf("day"))},checked(){let t={};return this.weekdays.map((e=>{let s=[],i=this.value[e],n=this.increment||60;i&&!Ae().isEmpty(i)&&i.map((t=>{let e=W()(t.time_start,"H:mm"),i=e.clone().subtract(n,"minutes");if(Object.prototype.hasOwnProperty.call(t,"time_end")){let e=W()(t.time_end,"H:mm");while(i.add(n,"minutes").diff(e)<0)s.push(i.clone().format("H:mm"))}else s.push(e.clone().format("H:mm"))})),t[e]=s})),t},times(){let t=[],e=this.timeStringToMoment(this.timeStart),s=this.timeStringToMoment(this.timeEnd),i=this.increment||60,n=e.clone().subtract(i,"minutes"),a=s.clone();while(n.add(i,"minutes").diff(a)<0)t.push({timeString:n.clone().format(this.settings.global.time_format_moment),timeMinutes:n.clone().format("mm"),timeCalc:n.clone().format("H:mm")});return t},weekdays(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysDisplay(){W().locale(this.settings.global.locale);let t=this.settings.global.start_of_week,e=W().weekdays(!1);if(t>0){let s=e.splice(0,t);e=[...e,...s]}return e},...(0,o.Se)({getWeekdays:"weekdays"}),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{addTimeAfter(){let t=this.timeStringToMoment(this.timeEnd).add(1,"hour");t.isAfter(W()().endOf("day"))&&t.subtract(1,"minute"),this.timeEnd=t.format("H:mm")},addTimeBefore(){let t=this.timeStringToMoment(this.timeStart).subtract(1,"hour");this.timeStart=t.format("H:mm")},calculateStartAndEndTimes(){let t=[];for(let o in this.value)Array.prototype.push.apply(t,this.value[o]);if(0===t.length)return;let e=t.map((t=>parseInt(t.time_start.split(":")[0]))),s=t.filter((t=>Object.prototype.hasOwnProperty.call(t,"time_end"))),i=s.map((t=>parseInt(t.time_end.split(":")[0]))),n=e.reduce(((t,e)=>Math.min(t,e))),a=i.length?i.reduce(((t,e)=>Math.max(t,e))):e.reduce(((t,e)=>Math.max(t,e)));this.timeStart=n>=1?(n-1).toString()+":00":n.toString()+":00",this.timeEnd=a<=23?(a+1).toString()+":00":a.toString()+":00"},detectShift(t){this.isShiftPressed=t.shiftKey},getCellIndex:function(t){for(var e=t.parentNode.childNodes,s=0,i=0;i<e.length;i++){if(e[i]===t)return s;e[i].nodeName===t.nodeName&&s++}},getRowIndex:function(t){for(var e=t.parentNode,s=e.parentNode.childNodes,i=0,n=0;n<s.length;n++){if(s[n]===e)return i;s[n].nodeName===e.nodeName&&i++}},getClosest(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},timeStringToMoment(t){return W()(t,["H:mm:ss","HH:mm:ss","H:mm","HH:mm","h:mma","hh:mma","h:mmA","hh:mmA","h:mm","hh:mm"])},toggleCheck(t,e){let s=t.querySelector('input[type="checkbox"]');s.checked=e;var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),s.dispatchEvent(i)},toggleCol(t){let e=this.getClosest(t.target,"th"),s=this.getCellIndex(e)-1,i=this.table.querySelectorAll("tbody tr"),n=i[0],a=n.querySelectorAll("td")[s],o=a.querySelector('input[type="checkbox"]').checked;for(let r=0;r<i.length;r++){let t=i[r].querySelectorAll("td")[s];this.toggleCheck(t,!o)}},toggleRow(t){let e=this.getClosest(t.target,"tr"),s=e.getElementsByTagName("td"),i=s[0],n=i.querySelector('input[type="checkbox"]').checked;for(let a=0;a<s.length;a++)this.toggleCheck(s[a],!n)},toggleRange(t){if(t.target.classList.contains("single-time"))var e=this.getClosest(t.target,"td");if(this.isShiftPressed&&this.startCellIndex>=0&&this.startRowIndex>=0){let s=this.getCellIndex(e),i=this.getRowIndex(e),n=i<this.startRowIndex?i:this.startRowIndex,a=i<this.startRowIndex?this.startRowIndex:i,o=s<this.startCellIndex?s:this.startCellIndex,r=s<this.startCellIndex?this.startCellIndex:s,l=this.getClosest(e,"tbody"),d=l.getElementsByTagName("tr");for(let t=n;t<=a;t++){let e=d[t].getElementsByTagName("td");for(let t=o;t<=r;t++)this.toggleCheck(e[t],this.startRowState)}this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.startRowState=t.target.checked}else this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.startRowState=t.target.checked},updateAvailability:Ae().debounce((function(){let t={};this.weekdays.map((e=>{let s=[].slice.call(document.getElementsByName(e)),i=[];s.map((t=>{t.checked&&i.push({time_start:W()(t.value,this.settings.global.time_format_moment).format("HH:mm:ss")})})),t[e]=i})),this.$emit("input",t)}),300)}},Bi=Wi,Ri=(0,q.Z)(Bi,Ii,zi,!1,null,null,null),qi=Ri.exports,Hi={name:"appointmentTypeAvailability",components:{AvailabilityPicker:Oi,StartTimePicker:qi,DateTimePicker:qe},data(){return{options:hi,validAvailabilityWindow:!0}},computed:{availability_end_date:{get(){return this.currentAppointmentType?this.currentAppointmentType.availability_end_date:null},set(t){this.updateCurrentAppointmentType({key:"availability_end_date",value:t})}},availability_start_date:{get(){return this.currentAppointmentType?this.currentAppointmentType.availability_start_date:null},set(t){this.updateCurrentAppointmentType({key:"availability_start_date",value:t})}},availability_type:{get(){return this.currentAppointmentType.availability_type},set(t){this.updateCurrentAppointmentType({key:"availability_type",value:t})}},increment:{get(){return this.currentAppointmentType.availability_increment},set(t){this.updateCurrentAppointmentType({key:"availability_increment",value:t})}},availability:{get(){return this.currentAppointmentType.availability},set(t){this.updateCurrentAppointmentType({key:"availability",value:t})}},appointmentTypeLabel(){return this.currentAppointmentType.label||"light-green"},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)(["advancedSchedulingModule"])},methods:{updateAvailability(){"available_blocks"===this.availability_type?this.$refs["availability-field"].updateAvailability():this.$refs["start-time-field"].updateAvailability()},validateAvailabilityWindow(){let t=W().utc(this.availability_start_date,this.timestampFormat).locale("en"),e=W().utc(this.availability_end_date,this.timestampFormat).locale("en");t.isValid()&&e.isValid()?this.validAvailabilityWindow=t.isBefore(e):this.validAvailabilityWindow=!0,this.$emit("validationCheck",this.validAvailabilityWindow)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Zi=Hi,Ki=(0,q.Z)(Zi,bi,ki,!1,null,null,null),Vi=Ki.exports,Yi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-scheduling"},[s("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.timezoneStyle))]),s("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleHelp))]),s("div",[s("md-radio",{attrs:{id:"tzstyle-localized",name:"timezone_style","md-value":"localized"},model:{value:t.timezone_style,callback:function(e){t.timezone_style=e},expression:"timezone_style"}},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocalized))]),s("md-radio",{attrs:{id:"tzstyle-locked",name:"timezone_style","md-value":"locked"},model:{value:t.timezone_style,callback:function(e){t.timezone_style=e},expression:"timezone_style"}},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocked))])],1),"locked"===t.timezone_style?s("div",[s("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLockedHelp))]),s("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleYourTimezone)+" "),s("strong",[t._v(t._s(t.formatTimezone(t.settings.global.timezone_string)))]),s("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v(t._s(t.translations.actions.edit))])],1)]):s("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocalizedHelp))]),s("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.buffer))]),s("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.buffer_help))]),s("md-layout",{staticClass:"complex-field"},[s("div",{staticClass:"inline-label"},[s("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.scheduling.before))])]),s("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.buffer_before},model:{value:t.$v.buffer_before.$model,callback:function(e){t.$set(t.$v.buffer_before,"$model",e)},expression:"$v.buffer_before.$model"}})],1),s("md-layout",{staticClass:"complex-field"},[s("div",{staticClass:"inline-label"},[s("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.scheduling.after))])]),s("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.buffer_after},model:{value:t.$v.buffer_after.$model,callback:function(e){t.$set(t.$v.buffer_after,"$model",e)},expression:"$v.buffer_after.$model"}})],1),s("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.notice))]),s("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.notice_help))]),s("md-layout",{staticClass:"complex-field",class:{"md-input-invalid":!t.validMinMax}},[s("div",{staticClass:"inline-label"},[s("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.min_booking_notice))])]),s("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.min_booking_notice_help,errorText:t.minBookingNoticeErrorMessage},model:{value:t.$v.min_booking_notice.$model,callback:function(e){t.$set(t.$v.min_booking_notice,"$model",e)},expression:"$v.min_booking_notice.$model"}})],1),t.advancedSchedulingModule.enabled?[s("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.advance))]),s("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.advance_help))]),s("md-layout",{staticClass:"complex-field",class:{"md-input-invalid":!t.validMinMax}},[s("div",{staticClass:"inline-label"},[s("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.max_booking_notice))])]),s("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.max_booking_notice_help,errorText:t.maxBookingNoticeErrorMessage},model:{value:t.$v.max_booking_notice.$model,callback:function(e){t.$set(t.$v.max_booking_notice,"$model",e)},expression:"$v.max_booking_notice.$model"}})],1),s("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.booking_window))]),s("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.booking_window_help))]),s("md-input-container",{class:{"md-input-invalid":!t.validBookingWindow,"md-has-value":t.booking_start_date},attrs:{"md-clearable":""}},[s("label",{attrs:{for:"booking_start_date"}},[t._v(t._s(t.translations.appointmentTypes.booking_start_date))]),s("date-time-picker",{on:{input:t.validationCheck},model:{value:t.booking_start_date,callback:function(e){t.booking_start_date=e},expression:"booking_start_date"}}),s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.advanced_scheduling.booking_window_error))])],1),s("md-input-container",{class:{"md-input-invalid":!t.validBookingWindow,"md-has-value":t.booking_end_date},attrs:{"md-clearable":""}},[s("label",{attrs:{for:"booking_end_date"}},[t._v(t._s(t.translations.appointmentTypes.booking_end_date))]),s("date-time-picker",{on:{input:t.validationCheck},model:{value:t.booking_end_date,callback:function(e){t.booking_end_date=e},expression:"booking_end_date"}}),s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.advanced_scheduling.booking_window_error))])],1)]:t._e(),s("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.max))]),s("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.max_help))]),s("md-layout",{attrs:{"md-column":""}},[s("md-checkbox",{attrs:{"md-theme":t.currentAppointmentType?t.currentAppointmentType.label:"default",id:"limitmax",name:"limitmax"},model:{value:t.limitmax,callback:function(e){t.limitmax=e},expression:"limitmax"}},[t._v(t._s(t.translations.appointmentTypes.limitmax))])],1),t.limitmax?s("md-layout",{attrs:{"md-column":""}},[s("md-layout",[s("md-input-container",[s("label",{attrs:{for:"max_event_count"}},[t._v(t._s(t.translations.appointmentTypes.max_event_count))]),s("md-input",{attrs:{id:"max_event_count"},model:{value:t.max_event_count,callback:function(e){t.max_event_count=e},expression:"max_event_count"}})],1)],1)],1):t._e()],2)},Ji=[],Xi={name:"appointmentTypeScheduling",mixins:[ui.oE],store:wv,components:{Duration:mi,DateTimePicker:qe},data(){return{options:hi,moment:W(),validBookingWindow:!0,validMinMax:!0}},validations:{buffer_before:{minValue:(0,gi.uv)(0)},buffer_after:{minValue:(0,gi.uv)(0)},min_booking_notice:{minValue:(0,gi.uv)(0)},max_booking_notice:{minValue:(0,gi.uv)(0)}},computed:{timezone_style:{get(){return this.currentAppointmentType&&this.currentAppointmentType.timezone_style?this.currentAppointmentType.timezone_style:"localized"},set(t){this.updateCurrentAppointmentType({key:"timezone_style",value:t})}},booking_end_date:{get(){return this.currentAppointmentType?this.currentAppointmentType.booking_end_date:""},set(t){this.updateCurrentAppointmentType({key:"booking_end_date",value:t})}},booking_start_date:{get(){return this.currentAppointmentType?this.currentAppointmentType.booking_start_date:""},set(t){this.updateCurrentAppointmentType({key:"booking_start_date",value:t})}},buffer_after:{get(){return this.currentAppointmentType?this.currentAppointmentType.buffer_after:""},set(t){this.updateCurrentAppointmentType({key:"buffer_after",value:t}),this.validationCheck()}},bufferAfterError(){return this.$v.buffer_after.$invalid},buffer_before:{get(){return this.currentAppointmentType?this.currentAppointmentType.buffer_before:""},set(t){this.updateCurrentAppointmentType({key:"buffer_before",value:t}),this.validationCheck()}},bufferBeforeError(){return this.$v.buffer_before.$invalid},limitmax:{get(){return this.max_event_count>0},set(t){this.max_event_count=t?3:0}},min_booking_notice:{get(){return this.currentAppointmentType?this.currentAppointmentType.min_booking_notice:""},set(t){this.updateCurrentAppointmentType({key:"min_booking_notice",value:t}),this.validationCheck()}},minBookingNoticeError(){return this.$v.min_booking_notice.$invalid},minBookingNoticeErrorMessage(){return this.advancedSchedulingModule.enabled&&!this.validMinMax&&this.min_booking_notice>=1&&this.max_booking_notice>=1?this.translations.appointmentTypes.min_max_error:""},max_booking_notice:{get(){let t=null;return this.currentAppointmentType&&(t=this.currentAppointmentType.max_booking_notice),0!==t&&"0"!==t||(t=""),t},set(t){this.updateCurrentAppointmentType({key:"max_booking_notice",value:t}),this.validationCheck()}},maxBookingNoticeError(){return this.$v.max_booking_notice.$invalid},maxBookingNoticeErrorMessage(){if(this.advancedSchedulingModule.enabled){if(this.max_booking_notice<1)return this.translations.appointmentTypes.max_booking_notice_error;if(!this.validMinMax&&this.max_booking_notice>=1&&this.min_booking_notice>=1)return this.translations.appointmentTypes.min_max_error}return""},max_event_count:{get(){return this.currentAppointmentType?this.currentAppointmentType.max_event_count:""},set(t){this.updateCurrentAppointmentType({key:"max_event_count",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)(["advancedSchedulingModule","formatTimezone"])},methods:{validationCheck(){let t=W().utc(this.booking_start_date,this.timestampFormat),e=W().utc(this.booking_end_date,this.timestampFormat);t.isValid()&&e.isValid()?this.validBookingWindow=t.isBefore(e):this.validBookingWindow=!0;let s=this.min_booking_notice?parseInt(this.min_booking_notice,10):null,i=this.max_booking_notice?parseInt(this.max_booking_notice,10):null;this.validMinMax=!(s&&i&&i<=s)&&!!i,this.$emit("validationCheck",this.validBookingWindow&&this.validMinMax&&!this.bufferBeforeError&&!this.bufferAfterError&&!this.maxBookingNoticeError&&!this.minBookingNoticeError)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Qi=Xi,tn=(0,q.Z)(Qi,Yi,Ji,!1,null,null,null),en=tn.exports,sn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-payments"},[t.activePaymentMethods.length?[s("h3",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.payments.requiredPayment))]),s("div",{staticClass:"radio-list"},[s("md-radio",{attrs:{id:"payment-required",name:"payment_required","md-value":"required"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.required))]),s("md-radio",{attrs:{id:"payment-optional",name:"payment_required","md-value":"optional"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.optional))]),s("md-radio",{attrs:{id:"payment-none",name:"payment_required","md-value":"none"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.none))])],1),t.paymentsEnabled?[s("hr"),s("md-layout",{staticClass:"col3-big-middle",attrs:{"md-gutter":!0}},[s("md-layout",[s("md-input-container",{class:{"md-input-invalid":t.$v.price.$invalid}},[s("label",{attrs:{for:"price"}},[t._v(t._s(t.translations.appointmentTypes.payments.price))]),s("md-input",{attrs:{min:"0",type:"number",required:"",step:"any"},on:{blur:t.tidyPrice},model:{value:t.$v.price.$model,callback:function(e){t.$set(t.$v.price,"$model",t._n("string"===typeof e?e.trim():e))},expression:"$v.price.$model"}}),t.$v.price.$invalid?s("span",{staticClass:"md-error"},[t._v(t._s(t.price_error))]):t._e()],1)],1),s("md-layout",[s("md-input-container",[s("label",{attrs:{for:"currency"}},[t._v(t._s(t.translations.appointmentTypes.payments.currency))]),s("select2",{attrs:{name:"currency",id:"currency"},model:{value:t.$v.currency.$model,callback:function(e){t.$set(t.$v.currency,"$model",e)},expression:"$v.currency.$model"}},t._l(t.currencies,(function(e){return s("option",{key:e.number,domProps:{value:e.code}},[t._v(t._s(e.currency)+" ("+t._s(e.code)+")")])})),0),t.$v.currency.$invalid&&t.$v.currency.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.payments.currencyError))]):t._e()],1)],1),s("md-layout",[s("md-input-container",{directives:[{name:"show",rawName:"v-show",value:t.price,expression:"price"}],staticClass:"readonly"},[s("label",{attrs:{for:"display_price"}},[t._v(t._s(t.translations.appointmentTypes.payments.displayPrice))]),s("md-input",{attrs:{readonly:""},model:{value:t.display_price,callback:function(e){t.display_price=e},expression:"display_price"}})],1)],1)],1),s("md-input-container",[s("label",{attrs:{for:"refund-policy"}},[t._v(t._s(t.translations.appointmentTypes.payments.refundPolicy))]),s("md-textarea",{model:{value:t.refund_policy,callback:function(e){t.refund_policy=e},expression:"refund_policy"}}),s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.payments.refundPolicyHelp))])],1),s("fieldset",{staticClass:"check-list"},[s("legend",[t._v(t._s(t.translations.appointmentTypes.payments.paymentMethods))]),t.$v.payment_methods.$invalid?s("p",{staticClass:"error-message"},[t._v(t._s(t.translations.appointmentTypes.payments.paymentMethodsError))]):t._e(),t._l(t.activePaymentMethods,(function(e,i){return s("div",{key:i,staticClass:"check-item"},[s("foxy-checkbox-multi",{key:i,attrs:{id:"payment-method-"+i,name:"payment-methods",value:e,theme:t.currentAppointmentType.label?t.currentAppointmentType.label:"light-green",theming:"primary"},model:{value:t.$v.payment_methods.$model,callback:function(e){t.$set(t.$v.payment_methods,"$model",e)},expression:"$v.payment_methods.$model"}},[t._v(" "+t._s(t.displayGateway(e))+" ")])],1)}))],2)]:t._e()]:s("empty",{attrs:{label:t.translations.appointmentTypes.payments.noGateways}},[s("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments"}},[t._v(t._s(t.translations.appointmentTypes.payments.setup))])],1)],2)},nn=[],an=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("select",{ref:"select2",staticStyle:{width:"100%"}},[t._t("default")],2)},on=[],rn=s(4029),ln=s.n(rn);s(6243);var dn={name:"select2Dropdown",props:{value:{type:String},placeholder:{type:String,default:""},allowClear:{type:Boolean,default:!1}},mounted:function(){var t=this,e=ln()(t.$refs.select2);e.select2({allowClear:this.allowClear,placeholder:this.placeholder}).val(this.value).trigger("change").on("change",(function(){t.$emit("input",this.value)})).on("select2:open",(function(){ln()(".select2-search__field")[0].focus()})),this.styleContainer(e)},watch:{value:function(t){var e=ln()(this.$refs.select2);e.val(t).trigger("change"),this.styleContainer(e)}},beforeDestroy:function(){ln()(this.$refs.select2).off().select2("destroy")},methods:{styleContainer:function(t){var e=t.parents(".md-input-container");this.value?e.addClass("md-has-value"):e.removeClass("md-has-value")}}},pn=dn,cn=(0,q.Z)(pn,an,on,!1,null,null,null),mn=cn.exports,un={name:"appointmentTypePayments",mixins:[ui.oE],components:{Empty:Jt,Select2:mn},data(){return{currencies:x,paymentInfo:{}}},validations(){const t="USD"===this.currency?.5:.01;return{price:{required:(0,gi.CF)("paymentsEnabled"),minVal:(0,gi.uv)(t),decimal:gi.gH},currency:{required:(0,gi.CF)("paymentsEnabled")},payment_methods:{required:(0,gi.CF)("paymentsEnabled")}}},mounted(){var t=Ae().cloneDeep(this.currentAppointmentType.payments);Ae().isEmpty(t)&&(t={},t.payment_methods=this.activePaymentMethods.slice(0),t.currency=this.settings.payments.default_currency),this.paymentInfo=t},watch:{paymentInfo:{handler(t){this.updateCurrentAppointmentType({key:"payments",value:Ae().cloneDeep(t)})},deep:!0}},computed:{price:{get(){return this.paymentInfo.price?this.paymentInfo.price:null},set(t){this.$set(this.paymentInfo,"price",t),this.validationCheck()}},price_error(){return"USD"===this.currency?this.translations.appointmentTypes.payments.priceUSDError:this.translations.appointmentTypes.payments.priceError},currency:{get(){return this.paymentInfo.currency?this.paymentInfo.currency:this.settings.payments.default_currency},set(t){this.$set(this.paymentInfo,"currency",t),this.validationCheck()}},display_price(){let t=this.settings.global.locale.replace("_","-");t=t.replace("_formal","");let e=parseFloat(this.price);return e?new Intl.NumberFormat(t,{style:"currency",currency:this.currency}).format(e):null},refund_policy:{get(){return this.paymentInfo.refund_policy?this.paymentInfo.refund_policy:""},set(t){this.$set(this.paymentInfo,"refund_policy",t)}},payment_methods:{get(){return this.paymentInfo.payment_methods?this.paymentInfo.payment_methods:this.activePaymentMethods.slice(0)},set(t){this.$set(this.paymentInfo,"payment_methods",t),this.validationCheck()}},payment_required:{get(){return this.paymentInfo.payment_required?this.paymentInfo.payment_required:"none"},set(t){this.$set(this.paymentInfo,"payment_required",t),this.validationCheck()}},paymentsEnabled(){return"none"!==this.payment_required},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("payments",["activePaymentMethods","displayGateway"])},methods:{validationCheck(){this.$emit("validationCheck",!this.$v.$invalid)},tidyPrice(){null!==this.price&&(this.price=parseFloat(this.price).toFixed(2))},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},gn=un,hn=(0,q.Z)(gn,sn,nn,!1,null,null,null),_n=hn.exports,fn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-staff"},[t.loading?s("loading",{attrs:{size:"body",message:t.translations.settings.staff.loading}}):t.staffStatusPublish.length?[[s("h3",{staticClass:"md-subheading caption-pair"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffEnableHeading)+" ")]),s("p",{staticClass:"md-caption caption-pair"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffEnableDesc)+" ")]),s("div",{staticClass:"radio-list"},[s("md-radio",{attrs:{id:"staff-any",name:"staff-any","md-value":"any"},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[s("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.anyLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.anyDesc)+" ")]),s("md-radio",{attrs:{id:"staff-all",name:"staff-all","md-value":"all"},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[s("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.allLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.allDesc)+" ")]),s("md-radio",{attrs:{id:"staff-none",name:"staff-none","md-value":""},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[s("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.noneLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.noneDesc)+" ")])],1)],t.staffError?s("notification",{attrs:{icon:"warning",theme:"orange"}},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffWarning)+" ")]):t._e(),""!==t.staffRequired?[s("h3",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.teamLabel)+" ")]),s("md-list",{staticClass:"staff-list"},t._l(t.staffStatusPublish,(function(e){return s("md-list-item",{key:e.id},[s("md-checkbox",{staticClass:"staff-item",attrs:{id:"staff-"+e.id,name:"staff-"+e.id,"md-value":e.id},model:{value:t.selectedStaff,callback:function(e){t.selectedStaff=e},expression:"selectedStaff"}},[""===e.web_meetings_url&&Object.prototype.hasOwnProperty.call(t.currentAppointmentType,"web_meetings")&&"staff"===t.currentAppointmentType.web_meetings.provider?s("md-icon",{attrs:{"md-theme":"yellow"}},[t._v("warning")]):t._e(),t._v(" "+t._s(e.display_name)+" "),""===e.web_meetings_url&&Object.prototype.hasOwnProperty.call(t.currentAppointmentType,"web_meetings")&&"staff"===t.currentAppointmentType.web_meetings.provider?s("notification",{attrs:{theme:"amber",inline:!0}},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.noWebMeetingUrl)+" ")]):t._e()],1)],1)})),1)]:t._e()]:s("empty",{attrs:{label:"No team members yet"}},[s("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/staff"}},[t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")])],1)],2)},yn=[],vn={name:"AppointmentTypeStaff",components:{Loading:et,Empty:Jt,Notification:vs},data(){return{loading:!0}},mounted(){this.staff&&this.staff.length?this.loading=!1:this.fetchStaff().then((()=>{this.loading=!1}))},watch:{staffRequired(){if(""===this.staffRequired&&Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"web_meetings")&&"staff"===this.currentAppointmentType.web_meetings.provider){let t=Ae().cloneDeep(this.currentAppointmentType.web_meetings);t.provider=""!==t.url?"custom":"",this.updateCurrentAppointmentType({key:"web_meetings",value:t})}}},computed:{staffRequired:{get(){return Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff")&&this.currentAppointmentType.staff?this.currentAppointmentType.staff.required:""},set(t){let e=this.currentAppointmentType.staff;e="string"===typeof e||"undefined"===typeof e?Ae().cloneDeep(k):Ae().cloneDeep(this.currentAppointmentType.staff),e.required=t;let s=Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff")&&this.currentAppointmentType.staff?this.currentAppointmentType.staff.required:"";this.$emit("staffRequiredChange",{oldStaff:s,newStaff:t}),this.updateCurrentAppointmentType({key:"staff",value:e}),this.validationCheck()}},selectedStaff:{get(){return Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff_ids")&&this.currentAppointmentType.staff_ids?this.currentAppointmentType.staff_ids.map(String):[]},set(t){this.updateCurrentAppointmentType({key:"staff_ids",value:t}),this.validationCheck()}},staffError(){return!!this.staffRequired&&!this.selectedStaff.length},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("staff",["staffStatusPublish"])},methods:{validationCheck(){this.$emit("validationCheck",!this.staffError)},...(0,o.nv)("staff",["fetchStaff"]),...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},bn=vn,kn=(0,q.Z)(bn,fn,yn,!1,null,null,null),Cn=kn.exports,Sn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-google-calendar"},[t.loading?s("loading",{attrs:{size:"body",message:t.translations.settings.google_calendar.loadingCalendars}}):t.error?s("empty",{attrs:{label:t.translations.appointmentTypes.google_calendar.checkSettingsMessage}},[s("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.checkSettings)+" ")])],1):t.settings.google_calendar.access_token?[s("div",{staticClass:"md-heading-group"},[s("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.appointmentType.apptSyncHeading))]),s("div",{staticClass:"md-subheading"},[t._v(t._s(t.translations.wizard.appointmentType.apptSyncDesc))])]),s("md-list",[t._l(t.writeableGoogleCalendars,(function(e){return s("md-list-item",{key:e.gcal_id},[s("md-radio",{attrs:{"md-value":e.gcal_id},model:{value:t.googleCalendarBooking,callback:function(e){t.googleCalendarBooking=e},expression:"googleCalendarBooking"}},[t._v(t._s(e.summary))])],1)})),s("md-list-item",[s("md-radio",{attrs:{"md-value":""},model:{value:t.googleCalendarBooking,callback:function(e){t.googleCalendarBooking=e},expression:"googleCalendarBooking"}},[t._v(" "+t._s(t.translations.wizard.googleCalendar.dontAdd)+" ")])],1)],2),t.googleCalendarBooking?s("div",{staticStyle:{padding:"1rem"}},[s("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.sharedCalendarEvent,callback:function(e){t.sharedCalendarEvent=e},expression:"sharedCalendarEvent"}},[s("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.appointmentTypes.google_calendar.sharedCalendarEvent))])]),s("div",[t._v(t._s(t.translations.appointmentTypes.google_calendar.sharedCalendarEventDesc))])],1):t._e(),s("div",{staticClass:"md-heading-group"},[s("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.appointmentType.checkCalendars))]),s("div",{staticClass:"md-subheading"},[t._v(t._s(t.translations.wizard.appointmentType.checkCalendarsDesc))])]),s("md-list",t._l(t.googleCalendars,(function(e){return s("md-list-item",{key:e.gcal_id},[s("md-checkbox",{attrs:{id:e.gcal_id,name:e.gcal_id,"md-value":e.gcal_id},model:{value:t.googleCalendarsAvailability,callback:function(e){t.googleCalendarsAvailability=e},expression:"googleCalendarsAvailability"}},[t._v(" "+t._s(e.summary)+" ")])],1)})),1)]:s("empty",{attrs:{label:t.translations.appointmentTypes.google_calendar.noAccessToken}},[s("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.setup)+" ")])],1)],2)},wn=[],Tn={name:"googleCalendar",components:{Empty:Jt,Loading:et},data(){return{loading:!0,error:!1}},mounted(){this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars().then((()=>{this.cleanUpCalendars(),this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0}))},computed:{googleCalendarBooking:{get(){return this.currentAppointmentType.google_calendar_booking},set(t){this.updateCurrentAppointmentType({key:"google_calendar_booking",value:t})}},googleCalendarsAvailability:{get(){return this.currentAppointmentType.google_calendars_availability&&"boolean"!==typeof this.currentAppointmentType.google_calendars_availability?this.currentAppointmentType.google_calendars_availability:[]},set(t){this.updateCurrentAppointmentType({key:"google_calendars_availability",value:t})}},sharedCalendarEvent:{get(){return 0!==parseInt(this.currentAppointmentType.shared_calendar_event)},set(t){const e=t?"1":"0";this.updateCurrentAppointmentType({key:"shared_calendar_event",value:e})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("google_calendar",["googleCalendars"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("google_calendar",["writeableGoogleCalendars"])},methods:{cleanUpCalendars(){let t=this.currentAppointmentType.google_calendars_availability.slice(0),e=this.googleCalendars.map((t=>t.gcal_id)),s=t.filter((t=>e.indexOf(t)>=0));this.updateCurrentAppointmentType({key:"google_calendars_availability",value:s})},...(0,o.nv)("google_calendar",["fetchGoogleCalendars"]),...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},xn=Tn,An=(0,q.Z)(xn,Sn,wn,!1,null,null,null),Pn=An.exports,Mn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"ssa-web-meetings-type"},[s("md-list",[s("md-list-item",[s("md-radio",{attrs:{"md-value":""},model:{value:t.webMeetingProvider,callback:function(e){t.webMeetingProvider=e},expression:"webMeetingProvider"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.none.label)+" ")])],1),t._l(t.availableWebMeetingsProviders,(function(e){return s("md-list-item",t._g({key:e.name,class:{staff:"staff"===e.name}},e.installed?{}:{click:function(){return t.maybeShowUpgrade(e)}}),[s("md-radio",{attrs:{"md-value":e.name,disabled:!e.installed},model:{value:t.webMeetingProvider,callback:function(e){t.webMeetingProvider=e},expression:"webMeetingProvider"}},["staff"===e.name&&t.currentStaffMissingWebMeetingsUrl?s("md-icon",{attrs:{"md-theme":"yellow"}},[t._v("warning")]):t._e(),t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[e.name].label)+" ")],1),s("br"),"staff"===e.name&&t.currentStaffMissingWebMeetingsUrl?s("notification",{attrs:{theme:"amber",inline:!0}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.staff.warning)+" ")]):t._e()],1)}))],2),t.includeCustomMeetingUrlField?s("h3",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].settingsHeading)+" ")]):t._e(),t.includeCustomMeetingUrlField?s("fieldset",[s("legend",[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].legend)+" ")]),s("md-input-container",{class:{"md-input-invalid":t.webMeetingUrlError}},[s("label",{attrs:{for:"custom-provider"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].urlLabel)+" ")]),s("md-input",{attrs:{type:"url",id:"custom-provider",placeholder:"https://"},model:{value:t.$v.webMeetingUrl.$model,callback:function(e){t.$set(t.$v.webMeetingUrl,"$model",e)},expression:"$v.webMeetingUrl.$model"}}),t.webMeetingUrlError?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].error)+" ")]):t._e()],1)],1):t._e(),t.googleCalendarBooking||"google"!==t.webMeetingProvider?t._e():s("md-whiteframe",{staticClass:"banner vert",attrs:{"md-elevation":1}},[s("div",{staticClass:"md-subheading"},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.google.googleNoCalendarHeading)+" ")],1),s("div",{staticClass:"md-body"},[s("p",[t._v(t._s(t.translations.appointmentTypes.web_meetings.providers.google.noCalendarSelectedMessage))]),s("md-button",{staticClass:"md-raised md-primary",on:{click:t.editGoogleCalendar}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.google.googleEditSettings)+" ")])],1)]),"webex"===t.webMeetingProvider?s("fieldset",[s("legend",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.legend)+" ")]),s("md-list",[s("md-list-item",[s("md-radio",{attrs:{"md-value":"private"},model:{value:t.webMeetingProviderWebexPrivate,callback:function(e){t.webMeetingProviderWebexPrivate=e},expression:"webMeetingProviderWebexPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.options.private)+" ")])],1),s("md-list-item",[s("md-radio",{attrs:{"md-value":"open"},model:{value:t.webMeetingProviderWebexPrivate,callback:function(e){t.webMeetingProviderWebexPrivate=e},expression:"webMeetingProviderWebexPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.options.open)+" ")])],1)],1)],1):t._e(),"zoom"===t.webMeetingProvider?s("fieldset",[s("legend",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.legend)+" ")]),s("md-list",[s("md-list-item",[s("md-radio",{attrs:{"md-value":"private"},model:{value:t.webMeetingProviderZoomPrivate,callback:function(e){t.webMeetingProviderZoomPrivate=e},expression:"webMeetingProviderZoomPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.options.private)+" ")])],1),s("md-list-item",[s("md-radio",{attrs:{"md-value":"open"},model:{value:t.webMeetingProviderZoomPrivate,callback:function(e){t.webMeetingProviderZoomPrivate=e},expression:"webMeetingProviderZoomPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.options.open)+" ")])],1)],1)],1):t._e(),s("md-dialog",{ref:"upgradeWebMeetings"},[s("promo-web-meetings",{attrs:{dismissable:!1},on:{promoClicked:function(e){return t.closeDialog("upgradeWebMeetings")}}})],1),s("md-dialog",{ref:"upgradeBusiness"},[s("promo-business",{attrs:{"upgrade-url-params":t.promoBusiness,dismissable:!1},on:{promoClicked:function(e){return t.closeDialog(t.upgradeBusiness)}}})],1)],1)])},En=[],Dn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[s("md-card-media",[t.dismissable?s("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[s("md-icon",[t._v("clear")])],1):t._e(),s("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[s("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),s("md-card-header",[s("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),s("strong",[t._v("Plus")])])]),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("p",[t._v(t._s(t.translations.promo.webMeetingsText))])]),s("md-card-actions",[s("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" Upgrade now ")])],1)],1)],1)},$n=[],On={name:"plusPromo",store:wv,props:{dismissable:{default:!0}},computed:{upgradeUrlParsed(){const t=nt.split("?"),e=t[0];let s=t.length>1?dt().parse(t[1]):{};return s=Object.assign(s,{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-web-meeting-settings"}),`${e}?${dt().stringify(s)}`},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("notices",["dismissedNotices"])},methods:{clearAd(){this.updateNotices({key:"coming_soon",settings:1}),this.updateDismissedNotices("coming_soon")},promoClicked(){this.$emit("promoClicked")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},In=On,zn=(0,q.Z)(In,Dn,$n,!1,null,null,null),jn=zn.exports,Ln=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showPromo?s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[s("md-card-media",[t.dismissable?s("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[s("md-icon",[t._v("clear")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.promo.dismissNotice)+" ")])],1):t._e(),s("a",{attrs:{href:"https://simplyscheduleappointments.com/features",target:"_blank"}},[s("img",{staticClass:"promo-img promo-business",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-business.svg",alt:"Simply Schedule Appointments Pro"}})])],1),s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.promo.proHeading)+" ")]),s("div",{staticClass:"md-subhead"},[t._v(" Simply Schedule Appointments "),s("strong",[t._v("Business")])])]),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("p",[t._v(t._s(t.translations.promo.businessText))]),s("ul",[s("li",[t._v(t._s(t.translations.promo.businessTextBullets.team))]),s("li",[t._v(t._s(t.translations.promo.businessTextBullets.resources))]),s("li",[t._v(t._s(t.translations.promo.businessTextBullets.locations))]),s("li",[t._v(t._s(t.translations.promo.businessTextBullets.views))])])]),s("md-card-actions",[s("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.businessTextCta.upgrade)+" ")])],1)],1)],1):t._e()},Nn=[],Un={name:"businessPromo",store:wv,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default:()=>{}}},computed:{showPromo(){return!(this.dismissedNotices&&this.dismissedNotices.business_staff&&this.dismissable)||!this.dismissedNotices.business_staff},upgradeUrlParsed(){if(!this.upgradeUrlParams)return ot;const t=ot.split("?"),e=t[0];let s=t.length>1?dt().parse(t[1]):null;return!Object.keys(this.upgradeUrlParams).length>0?ot:(s=Object.assign(s,this.upgradeUrlParams),`${e}?${dt().stringify(s)}`)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("notices",["dismissedNotices"])},methods:{clearAd(){this.updateNotices({key:"business_staff",settings:1}),this.updateDismissedNotices("business_staff")},promoClicked(){this.$emit("promoClicked")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},Gn=Un,Fn=(0,q.Z)(Gn,Ln,Nn,!1,null,null,null),Wn=Fn.exports,Bn={name:"WebMeetings",components:{PromoWebMeetings:jn,PromoBusiness:Wn,Notification:vs},mixins:[ui.oE],data(){return{webMeetingsInfo:{},promoBusiness:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-business",utm_term:"business-features",utm_content:"general-business-web-meeting-settings"}}},validations:{webMeetingUrl:{url:gi.HQ,maxLength:(0,gi.BS)(256)}},mounted(){let t=Ae().cloneDeep(this.currentAppointmentType.web_meetings);Ae().isEmpty(t)&&(t={provider:"",url:""}),this.staffEnabled||"staff"!==t.provider||(t.provider=""!==t.url?"custom":"",this.updateCurrentAppointmentType({key:"web_meetings",value:t})),this.webMeetingsInfo=t,this.fetchStaff()},watch:{webMeetingsInfo:{handler(t){this.updateCurrentAppointmentType({key:"web_meetings",value:Ae().cloneDeep(t)})},deep:!0},staffEnabled(t){t||(this.webMeetingsInfo.provider=""!==this.webMeetingsInfo.url?"custom":"")}},computed:{webMeetingProvider:{get(){return this.webMeetingsInfo.provider?this.webMeetingsInfo.provider:""},set(t){this.$set(this.webMeetingsInfo,"provider",t),this.validationCheck()}},includeCustomMeetingUrlField(){return["custom","staff"].includes(this.webMeetingProvider)},webMeetingProviderZoomPrivate:{get(){return this.webMeetingsInfo.zoom_privacy?this.webMeetingsInfo.zoom_privacy:"private"},set(t){this.$set(this.webMeetingsInfo,"zoom_privacy",t),this.validationCheck()}},webMeetingProviderWebexPrivate:{get(){return this.webMeetingsInfo.webex_privacy?this.webMeetingsInfo.webex_privacy:"private"},set(t){this.$set(this.webMeetingsInfo,"webex_privacy",t),this.validationCheck()}},webMeetingUrl:{get(){return this.webMeetingsInfo.url?this.webMeetingsInfo.url:""},set(t){this.$set(this.webMeetingsInfo,"url",t),this.validationCheck()}},webMeetingUrlError(){return"custom"===this.webMeetingProvider&&this.$v.webMeetingUrl.$invalid},availableWebMeetingsProviders(){return this.webMeetingsProviders?this.webMeetingsProviders.filter((t=>t.enabled||!t.installed)):[]},googleCalendarBooking(){return this.currentAppointmentType.google_calendar_booking},staffEnabled(){return!!Object.prototype.hasOwnProperty.call(this.settings,"staff")&&(!!this.settings.staff.enabled&&!!this.settings.installed.staff)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)(["currentStaffMissingWebMeetingsUrl","webMeetingsProviders"])},methods:{closeDialog(t){this.$refs[t].close()},editGoogleCalendar(){let t=this.getClosest(this.$el,".ssa-accordion-item"),e=t.parentNode.querySelector('.ssa-accordion-item[data-section="google-calendar"] button');e.click()},getClosest(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},maybeShowUpgrade(t){t.installed||("staff"!==t.name?this.$refs["upgradeWebMeetings"].open():this.$refs["upgradeBusiness"].open())},validationCheck(){this.$emit("validationCheck",!this.webMeetingUrlError)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"]),...(0,o.nv)("staff",["fetchStaff"])}},Rn=Bn,qn=(0,q.Z)(Rn,Mn,En,!1,null,null,null),Hn=qn.exports,Zn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-mailchimp"},[t.settings.mailchimp.account_details?[t.settings.mailchimp.lists.length?[s("p",[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.listSelect)+" ")]),s("md-list",[t._l(t.settings.mailchimp.lists,(function(e){return s("md-list-item",{key:e.id},[s("md-radio",{staticClass:"md-primary",attrs:{id:"list-"+e.id,name:"mailchimpList","md-value":e.id},on:{change:t.updateMailchimp},model:{value:t.optin_list,callback:function(e){t.optin_list=e},expression:"optin_list"}},[t._v(" "+t._s(e.name)+" ")])],1)})),s("md-list-item",[s("md-radio",{staticClass:"md-primary",attrs:{id:"list-none",name:"mailchimpList","md-value":""},on:{change:t.updateMailchimp},model:{value:t.optin_list,callback:function(e){t.optin_list=e},expression:"optin_list"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.noSelection)+" ")])],1)],2),s("md-input-container",{class:{"md-input-invalid":!t.validMailchimp}},[s("label",{attrs:{for:"mailchimpOptinText"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.optinTextLabel)+" ")]),s("md-input",{attrs:{id:"mailchimpOptinText",required:""},nativeOn:{keyup:function(e){return t.updateMailchimp.apply(null,arguments)}},model:{value:t.optin_text,callback:function(e){t.optin_text=e},expression:"optin_text"}}),t.validMailchimp?t._e():s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.optinTextError)+" ")])],1)]:[s("p",[t._v(t._s(t.translations.appointmentTypes.mailchimp.noLists))])]]:s("empty",{attrs:{label:t.translations.appointmentTypes.mailchimp.noConnection}},[s("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/mailchimp"}},[t._v(t._s(t.translations.appointmentTypes.mailchimp.setup))])],1)],2)},Kn=[],Vn={name:"appointmentTypeMailchimp",components:{Empty:Jt},props:["value"],data(){return{optin_list:"",optin_text:"",validMailchimp:!0}},mounted(){this.optin_text=this.value.optin_text?this.value.optin_text:this.translations.appointmentTypes.mailchimp.optin,this.optin_list=this.value.optin_list?this.value.optin_list:"",this.updateMailchimp(this.optin_list)},computed:{mailchimp(){return this.currentAppointmentType.mailchimp?Ae().cloneDeep(this.currentAppointmentType.mailchimp):{}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{validateMailchimp(t){let e=!t.optin_list.length||t.optin_text.length>0;this.validMailchimp=e,this.$emit("validationCheck",e)},updateMailchimp(t){let e={};e.optin_text=this.optin_text,"string"===typeof t&&(e.optin_list=t);let s=Object.assign({},this.mailchimp,e);this.validateMailchimp(s),this.$emit("input",s)}}},Yn=Vn,Jn=(0,q.Z)(Yn,Zn,Kn,!1,null,null,null),Xn=Jn.exports,Qn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-webhooks"},[t.applicableWebhooks.length?[s("p",[t._v(t._s(t.translations.settings.webhooks.intro))]),s("md-list",{staticClass:"md-double-line"},t._l(t.applicableWebhooks,(function(e,i){return s("md-list-item",{key:i},[s("div",{staticClass:"md-list-item-container"},[s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(t._s(e.title))]),s("span",[1===e.triggers.length?[t._v(t._s(t.translations.settings.webhooks.fields.trigger_single))]:[t._v(t._s(t.translations.settings.webhooks.fields.trigger_plural))],t._l(e.triggers,(function(s,i){return[t._v(t._s(t.translations.settings.webhooks.fields.triggerNames[s])),i<e.triggers.length-1?[t._v(", ")]:t._e()]}))],2)]),s("md-button",{staticClass:"md-list-action md-primary",on:{click:function(e){return t.editWebhook(i)}}},[t._v(" "+t._s(t.translations.actions.edit)+" ")])],1)])})),1)]:s("empty",{attrs:{label:t.translations.settings.webhooks.empty_appointment_type}}),s("md-button",{staticClass:"md-primary",on:{click:t.editWebhooksSettings}},[t._v(t._s(t.translations.settings.webhooks.action))])],2)},ta=[],ea={name:"appointmentTypeWebhooks",components:{Empty:Jt},data(){return{}},computed:{applicableWebhooks(){let t=this.settings.webhooks.webhooks;return t.filter((t=>0===t.appointment_types.length||t.appointment_types.indexOf(this.currentAppointmentType.id)>-1))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{editWebhook(t){this.$router.push({name:"webhook-single",params:{index:t}})},editWebhooksSettings(){this.$router.push("/ssa/settings/webhooks")}}},sa=ea,ia=(0,q.Z)(sa,Qn,ta,!1,null,null,null),na=ia.exports,aa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.settings.installed.license?s("customer-information-plus"):s("customer-information-basic")},oa=[],ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-customer-information"},t._l(t.currentAppointmentType.customer_information,(function(e,i){return s("md-layout",{key:i,staticClass:"customer-info-field",attrs:{"md-row":"","md-vertical-align":"center"}},[s("md-layout",{attrs:{"md-flex":"20"}},[s("span",{staticClass:"md-body-2"},[t._v(t._s(t.translations.appointmentTypes.customer_information[e.field]))])]),s("md-layout",[s("md-checkbox",{attrs:{id:"display-"+i,name:"display-"+i,"md-value":e.field,disabled:"name"===e.field.toLowerCase()||"email"===e.field.toLowerCase()},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[t._v(t._s(t.translations.appointmentTypes.display))]),s("md-checkbox",{attrs:{id:"required-"+i,name:"required-"+i,"md-value":e.field,disabled:"name"===e.field.toLowerCase()||"email"===e.field.toLowerCase()},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}},[t._v(t._s(t.translations.appointmentTypes.required))])],1)],1)})),1)},la=[],da={name:"appointmentTypeCustomerInformationBasic",store:wv,data(){return{}},computed:{customer_information:{get(){return this.currentAppointmentType.customer_information},set(t){this.updateCurrentAppointmentType({key:"customer_information",value:t})}},display:{get(){var t=this.currentAppointmentType.customer_information.filter((t=>"boolean"===typeof t.display?t.display:"true"===t.display));return t=t.map((t=>t.field)),t},set(t){this.updateDisplay(t)}},required:{get(){var t=this.currentAppointmentType.customer_information.filter((t=>"boolean"===typeof t.required?t.required:"true"===t.required));return t=t.map((t=>t.field)),t},set(t){this.updateRequired(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{updateDisplay:function(t){var e=Ae().cloneDeep(this.currentAppointmentType.customer_information);e.map((e=>{var s=t.includes(e.field);e.display=s,s||(e.required=s)})),this.updateCurrentAppointmentType({key:"customer_information",value:e})},updateRequired:function(t){var e=Ae().cloneDeep(this.currentAppointmentType.customer_information);e.map((e=>{var s=t.includes(e.field);e.required=s,s&&(e.display=s)})),this.updateCurrentAppointmentType({key:"customer_information",value:e})},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},pa=da,ca=(0,q.Z)(pa,ra,la,!1,null,null,null),ma=ca.exports,ua=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-container appt-type-customer-information"},[s("draggable",{staticClass:"sortable-list",attrs:{animation:150,ghostClass:"sortable-ghost",move:t.sortableMove,tag:"md-list"},model:{value:t.fields,callback:function(e){t.fields=e},expression:"fields"}},t._l(t.currentAppointmentType.custom_customer_information,(function(e,i){return s("md-list-item",{key:i},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.isEditable(e)?t.currentAppointmentType.label:"grey"}},[e.icon?[t._v(t._s(e.icon))]:[t._v("bookmark")]],2),s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(" "+t._s(Object.prototype.hasOwnProperty.call(t.translations.appointmentTypes.customer_information,e.field)?t.translations.appointmentTypes.customer_information[e.field]:e.field)+" "),e.required?s("span",{staticClass:"required"},[t._v("*")]):t._e()]),s("span",[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.types[e.type])+" ")])]),s("md-menu",[s("md-button",{staticClass:"md-icon-button md-list-action",attrs:{"md-menu-trigger":""}},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.currentAppointmentType.label}},[t._v("settings")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.actions.menu)+" ")])],1),s("md-menu-content",[t.isEditable(e)?s("md-menu-item",{on:{click:function(e){return t.editInfo(i)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("edit")]),s("span",[t._v(t._s(t.translations.appointmentTypes.actions["edit"]))])],1):t._e(),s("md-menu-item",{on:{click:function(e){return t.cloneInfo(i)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),s("span",[t._v(t._s(t.translations.appointmentTypes.actions["clone"]))])],1),t.isEditable(e)?s("md-menu-item",{on:{click:function(e){return t.deleteInfo(i)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("delete")]),s("span",[t._v(t._s(t.translations.appointmentTypes.actions["delete"]))])],1):t._e()],1)],1)],1)})),1),s("md-button",{staticClass:"md-raised md-primary",on:{click:t.addInfo}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.appointmentTypes.actions["add-field"])+" ")],1),s("md-dialog",{ref:"editInfoDialog"},[s("md-dialog-title",[t._v(" "+t._s(t.translations.appointmentTypes.actions["edit"])+" ")]),s("md-dialog-content",[s("md-layout",{attrs:{"md-gutter":!0,"md-vertical-align":"center"}},[s("md-layout",[s("md-input-container",{class:{"md-input-invalid":t.labelError}},[s("label",{attrs:{for:"custom-field-label"}},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.labels["label"])+" ")]),s("md-input",{ref:"labelField",attrs:{id:"custom-field-label"},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}}),s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.errors.label)+" ")])],1)],1),s("md-layout",[s("md-checkbox",{attrs:{id:"required",name:"required"},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}},[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["required"]))])],1)],1),s("md-layout",{attrs:{"md-gutter":!0}},[s("md-layout",[s("md-input-container",[s("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["type"]))]),s("md-select",{attrs:{name:"type",id:"type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.customerInformationFieldTypes,(function(e){return s("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.types[e])+" ")])})),1)],1)],1),s("md-layout",[s("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.currentInfo.icon))])],1),s("md-layout",[s("md-input-container",[s("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["icon"]))]),s("md-select",{attrs:{name:"icon",id:"icon"},model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}},[s("md-option",{attrs:{value:""}}),t._l(t.iconOptions,(function(e){return s("md-option",{key:e,attrs:{value:e}},[s("md-icon",[t._v(t._s(e))])],1)}))],2)],1)],1)],1),"checkboxes"===t.currentInfo.type||"radios"===t.currentInfo.type?s("md-layout",[s("md-input-container",[s("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["values"]))]),s("md-textarea",{model:{value:t.values,callback:function(e){t.values=e},expression:"values"}}),s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["one-per-line"]))])],1)],1):t._e(),s("md-layout",[s("md-input-container",[s("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["instructions"]))]),s("md-input",{model:{value:t.instructions,callback:function(e){t.instructions=e},expression:"instructions"}})],1)],1)],1),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.cancel}},[t._v(" "+t._s(t.translations.appointmentTypes.actions["cancel"])+" ")]),s("md-button",{staticClass:"md-primary",on:{click:t.updateInfo}},[t._v(" "+t._s(t.translations.appointmentTypes.actions["update"])+" ")])],1)],1)],1)},ga=[],ha={name:"appointmentTypeCustomerInformationPlus",components:{draggable:Gs()},data(){return{currentInfo:{},iconOptions:["alarm","assignment","bookmark","build","cake","call","chat","check_circle","code","cloud","computer","create","done","email","face","favorite","fingerprint","flag","folder","gite","help","home","https","image","info","label","link","map","person","pets","phone","place","schedule","smartphone","star","watch","whatshot","work"],customerInformationFieldTypes:p,labelError:!1}},computed:{label:{get(){return this.currentInfo.field},set(t){this.currentInfo.field.trim()!==t.trim()&&(this.labelError=!1),this.$set(this.currentInfo,"field",t)}},required:{get(){return this.currentInfo.required},set(t){this.$set(this.currentInfo,"required",t)}},type:{get(){return this.currentInfo["type"]},set(t){this.$set(this.currentInfo,"type",t)}},icon:{get(){return this.currentInfo.icon},set(t){this.$set(this.currentInfo,"icon",t)}},values:{get(){return this.currentInfo.values},set(t){this.$set(this.currentInfo,"values",t)}},instructions:{get(){return this.currentInfo.instructions},set(t){this.$set(this.currentInfo,"instructions",t)}},fields:{get(){return this.currentAppointmentType.custom_customer_information},set(t){this.updateCurrentAppointmentType({key:"custom_customer_information",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{isEditable(t){var e=!0,s=["name","Name","email","Email","Email address"];return s.includes(t.field)&&(e=!1),e},prepInfo(t){let e=Ae().clone(this.currentAppointmentType.custom_customer_information[t]);return e.values=Array.isArray(e.values)?e.values.join("\r\n"):e.values,e},editInfo(t){let e=this.prepInfo(t);e.index=t,this.currentInfo=e,this.$refs["editInfoDialog"].open()},cloneInfo(t){let e=this.prepInfo(t);this.currentInfo=e,this.$refs["editInfoDialog"].open()},deleteInfo(t){let e=this.currentAppointmentType.custom_customer_information.slice(0);e.splice(t,1),this.updateCurrentAppointmentType({key:"custom_customer_information",value:e})},addInfo(){this.currentInfo=Ae().clone(d),this.$refs["editInfoDialog"].open()},checkForDuplicateLabel(){let t=this.label.trim().toLowerCase(),e=this.currentAppointmentType.custom_customer_information.map((t=>t.field.trim().toLowerCase()));Object.prototype.hasOwnProperty.call(this.currentInfo,"index")&&(e=e.filter(((t,e)=>e!==this.currentInfo.index))),this.labelError=e.includes(t)},updateInfo(){if(this.checkForDuplicateLabel(),this.labelError){let t=this.$refs.labelField;return void t.$el.focus()}let t=this.currentAppointmentType.custom_customer_information.slice(0),e=Object.prototype.hasOwnProperty.call(this.currentInfo,"index")?this.currentInfo.index:void 0,s=Ae().clone(this.currentInfo),i=s.values.split(/\n/),n=i.filter((t=>/\S/.test(t)));s.values=n,"undefined"!==typeof e?(delete s.index,t.splice(e,1,s)):t.push(s),this.updateCurrentAppointmentType({key:"custom_customer_information",value:t}),this.$refs["editInfoDialog"].close(),this.currentInfo={}},cancel(){this.currentInfo={},this.$refs["editInfoDialog"].close()},sortableMove(t){return!t.related.classList.contains("sortable-fixed")},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},_a=ha,fa=(0,q.Z)(_a,ua,ga,!1,null,null,null),ya=fa.exports,va={name:"appointmentTypeCustomerInformation",store:wv,props:{bulkMode:{default:!1,type:Boolean}},components:{CustomerInformationBasic:ma,CustomerInformationPlus:ya},data(){return{}},beforeMount(){this.bulkMode&&this.defineAppointmentTypeCustomerInformation(this.settings)},computed:{...(0,o.rn)(["settings"])},methods:{...(0,o.OI)("appointment_types",["defineAppointmentTypeCustomerInformation"])}},ba=va,ka=(0,q.Z)(ba,aa,oa,!1,null,null,null),Ca=ka.exports,Sa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-notifications"},[t.applicableNotifications.length?[s("p",[t._v(t._s(t.translations.settings.notifications.intro))]),s("md-list",{staticClass:"md-double-line"},t._l(t.applicableNotifications,(function(e){return s("md-list-item",{key:e.id},[s("div",{staticClass:"md-list-item-container"},[s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(t._s(e.title))]),s("span",[t.remindersInstalled&&e.duration>0?[t._v(" "+t._s(t.displayDuration(e.duration)+" "+t.translations.settings.notifications.when[e.when].toLowerCase()+" ")+" ")]:t._e(),t._v(" "+t._s(t.translations.settings.notifications.triggers[e.trigger])+" ")],2)]),s("md-button",{staticClass:"md-list-action md-primary",on:{click:function(s){return t.editNotification(e.id)}}},[t._v(" "+t._s(t.translations.actions.edit)+" ")])],1)])})),1)]:s("empty",{attrs:{label:t.translations.settings.notifications.empty_appointment_type}},[s("md-button",{staticClass:"md-primary",on:{click:t.editNotificationsSettings}},[t._v(t._s(t.translations.settings.notifications.actions.editAll))])],1)],2)},wa=[],Ta={name:"appointmentTypeNotifications",components:{Empty:Jt},data(){return{}},computed:{applicableNotifications(){let t=this.settings.notifications.notifications;return t.filter((t=>0===t.appointment_types.length||t.appointment_types.indexOf(this.currentAppointmentType.id)>-1))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)(["displayDuration"]),...(0,o.Se)("notifications",["remindersInstalled"])},methods:{editNotification(t){this.$router.push({name:"notification-single",params:{id:t}})},editNotificationsSettings(){this.$router.push("/ssa/settings/notifications")}}},xa=Ta,Aa=(0,q.Z)(xa,Sa,wa,!1,null,null,null),Pa=Aa.exports,Ma=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-capacity"},[s("md-layout",[s("md-input-container",{nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[s("label",{attrs:{for:"capacity_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity_type.label)+" ")]),s("md-select",{attrs:{id:"capacity_type",disabled:!t.capacityEnabled},model:{value:t.capacity_type,callback:function(e){t.capacity_type=e},expression:"capacity_type"}},t._l(t.capacityTypes,(function(e){return s("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.capacityTypeOptions[e])+" ")])})),1),s("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.capacityTypeHelp)+" ")])],1)],1),t.staffEnabled&&"group"===t.capacity_type?s("md-input-container",{nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[s("label",{attrs:{for:"staff-capacity"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.staff_capacity.label)+" ")]),s("md-input",{attrs:{type:"number",id:"staff-capacity",disabled:!t.capacityEnabled,min:1,max:1e5},model:{value:t.$v.staff_capacity.$model,callback:function(e){t.$set(t.$v.staff_capacity,"$model",t._n(e))},expression:"$v.staff_capacity.$model"}}),s("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.staff_capacity.help)+" ")])],1):t._e(),t.staffEnabled?s("div",{staticClass:"md-checkbox-with-note"},[s("md-checkbox",{attrs:{id:"has_max_capacity",name:"has_max_capacity"},on:{change:t.maxUpdateCapacity},model:{value:t.has_max_capacity,callback:function(e){t.has_max_capacity=e},expression:"has_max_capacity"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.has_max_capacity.label)+" ")]),s("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.has_max_capacity.help)+" ")])],1):t._e(),t.showCapacity?s("md-input-container",{class:{"md-input-invalid":t.capacityError},nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[s("label",{attrs:{for:"capacity"}},[t._v(" "+t._s(t.capacityLabel)+" ")]),s("md-input",{attrs:{type:"number",id:"capacity",disabled:!t.capacityEnabled,min:1,max:1e5},model:{value:t.$v.capacity.$model,callback:function(e){t.$set(t.$v.capacity,"$model",t._n(e))},expression:"$v.capacity.$model"}}),t.capacityError?s("span",{staticClass:"md-error"},[t.$v.capacity.$invalid?[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity.error_bounds)+" ")]:[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity.error_mismatch)+" ")]],2):s("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.capacityHelp)+" ")])],1):t._e(),s("md-dialog",{ref:"upgradeCapacity"},[s("promo-capacity",{attrs:{dismissable:!1},on:{promoClicked:t.closeDialog}})],1)],1)},Ea=[],Da=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showPromo?s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[s("md-card-media",[t.dismissable?s("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[s("md-icon",[t._v("clear")])],1):t._e(),s("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[s("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),s("md-card-header",[s("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),s("strong",[t._v("Plus")])])]),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("p",[t._v(t._s(t.translations.promo.capacityText))])]),s("md-card-actions",[s("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeLink,target:"_blank"}},[t._v(" Upgrade now ")])],1)],1)],1):t._e()},$a=[],Oa={name:"plusPromo",store:wv,props:{dismissable:{default:!0}},data(){return{plusUpgradeLink:nt}},computed:{showPromo(){return!(this.dismissedNotices&&this.dismissedNotices.coming_soon&&this.dismissable)||!this.dismissedNotices.coming_soon},upgradeLink(){const t=this.plusUpgradeLink.split("?"),e=t[0];let s=t.length>1?dt().parse(t[1]):null;if(!s)return this.plusUpgradeLink;const i={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"capacity",utm_content:"capacity-plus-popup"};return s=Object.assign(s,i),e+"?"+dt().stringify(s)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("notices",["dismissedNotices"])},methods:{clearAd(){this.updateNotices({key:"coming_soon",settings:1}),this.updateDismissedNotices("coming_soon")},promoClicked(){this.$emit("promoClicked")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},Ia=Oa,za=(0,q.Z)(Ia,Da,$a,!1,null,null,null),ja=za.exports,La={name:"appointmentTypeCapacity",components:{PromoCapacity:ja},mixins:[ui.oE],props:{bulkMode:{default:!1,type:Boolean}},data(){return{capacityTypes:D,showCapacity:!0}},validations(){const t=this.bulkMode;return{capacity:{required:(0,gi.CF)((()=>!t)),minValue:(0,gi.uv)(1),maxValue:(0,gi.PW)(1e5)},staff_capacity:{required:(0,gi.CF)((()=>!t)),minValue:(0,gi.uv)(1),maxValue:(0,gi.PW)(1e5)}}},mounted(){this.showCapacity=!this.staffEnabled||this.has_max_capacity},watch:{capacity_type(t,e){this.staffUpdateCapacity({val:t,oldVal:e})}},computed:{capacity:{get(){return this.currentAppointmentType?parseInt(this.currentAppointmentType.capacity,10):1},set(t){this.updateCurrentAppointmentType({key:"capacity",value:t}),this.$v.capacity.$touch(),this.validationCheck()}},capacity_type:{get(){return this.currentAppointmentType?this.currentAppointmentType.capacity_type:"individual"},set(t){this.updateCurrentAppointmentType({key:"capacity_type",value:t})}},capacityEnabled(){return this.settings.capacity&&this.settings.capacity.enabled},capacityError(){return!this.bulkMode&&(!!("group"===this.capacity_type&&this.staffEnabled&&this.staff_capacity>this.capacity)||this.$v.capacity.$invalid)},capacityHelp(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity.help_staff:"group"===this.capacity_type?this.translations.appointmentTypes.capacity.fields.capacity.help_group:this.translations.appointmentTypes.capacity.fields.capacity.help},capacityLabel(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity.label_staff:this.translations.appointmentTypes.capacity.fields.capacity.label},capacityTypeHelp(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity_type.help_staff:this.translations.appointmentTypes.capacity.fields.capacity_type.help},has_max_capacity:{get(){return!!this.currentAppointmentType&&!!parseInt(this.currentAppointmentType.has_max_capacity,10)},set(t){this.updateCurrentAppointmentType({key:"has_max_capacity",value:t}),this.showCapacity=!this.staffEnabled||t,this.validationCheck()}},staff_capacity:{get(){return this.currentAppointmentType?parseInt(this.currentAppointmentType.staff_capacity,10):1},set(t){this.updateCurrentAppointmentType({key:"staff_capacity",value:t}),this.$v.staff_capacity.$touch(),this.validationCheck()}},staffEnabled(){return this.staffModule.enabled&&""!==this.currentAppointmentType.staff.required},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["currentAppointmentType"]),...(0,o.Se)("staff",["staffModule"])},methods:{closeDialog(){this.$refs["upgradeCapacity"].close()},maxUpdateCapacity(t){let e=t?10:1e5;this.updateCurrentAppointmentType({key:"capacity",value:e})},maybeShowUpgrade(){this.capacityEnabled||this.$refs["upgradeCapacity"].open()},staffUpdateCapacity(t){t.val!==t.oldVal&&this.staffEnabled&&"individual"===t.val&&this.updateCurrentAppointmentType({key:"staff_capacity",value:1})},validationCheck(){this.$emit("validationCheck",!this.capacityError)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Na=La,Ua=(0,q.Z)(Na,Ma,Ea,!1,null,null,null),Ga=Ua.exports,Fa={name:"appointmentTypeEdit",props:["id"],components:{Accordion:Xs,AccordionItem:ni,basics:vi,availability:Vi,scheduling:en,Staff:Cn,Capacity:Ga,googleCalendar:Pn,webMeetings:Hn,Webhooks:na,mailchimp:Xn,customerInformation:Ca,notifications:Pa,Payments:_n,Notification:vs},data(){return{saving:!1,moment:W(),validAvailability:!0,validBasics:!0,validCapacity:!0,validMailchimp:!0,validPayments:!0,validScheduling:!0,validStaff:!0,validWebMeetings:!0,section:"0",sectionId:"basics",leaveWithoutSaving:!1}},beforeMount(){if(this.id){var t=this.appointmentTypes.find((t=>t.id===this.id));this.updateCurrentAppointmentType(t)}},mounted(){this.fetchAppointmentType(this.currentAppointmentType.id),this.getGuides({"ssasc-plugin-screen":this.currentGuides})},beforeRouteLeave(t,e,s){if(this.currentAppointmentTypeIsDirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{currentAppointmentType:{handler:function(t,e){this.dirty=e},deep:!0},currentGuides(){this.getGuides({"ssasc-plugin-screen":this.currentGuides})}},computed:{mailchimp:{get(){return this.currentAppointmentType.mailchimp},set(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields(){return this.validBasics&&this.validAvailability&&this.validScheduling&&this.validPayments&&this.validMailchimp&&this.validStaff&&this.validCapacity&&this.validWebMeetings},currentGuides(){if("capacity"===this.sectionId)return j.appointment_types.capacity;if("staff"===this.sectionId)return j.appointment_types.staff;if(this.settings.advanced_scheduling.enabled&&["availability","scheduling"].includes(this.sectionId))return j.appointment_types.advanced_scheduling_enabled;if(this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&"google-calendar"===this.sectionId)return j.appointment_types.google_calendar_enabled;if("web-meetings"===this.sectionId){let t=[j.appointment_types.web_meetings_enabled];return this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&this.settings.google_calendar.web_meetings?t.push(j.appointment_types.web_meetings_google_calendar):this.settings.installed.zoom&&this.settings.zoom.enabled&&""!==this.settings.zoom.acces_token&&t.push(j.appointment_types.web_meetings_zoom),t}return"mailchimp"===this.sectionId?j.appointment_types.mailchimp_enabled:"webhooks"===this.sectionId?j.appointment_types.webhooks_enabled:"customer-information"===this.sectionId?j.appointment_types.customer_information:j.appointment_types.edit},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.rn)("appointment_types",["appointmentTypes","currentAppointmentTypeIsDirty","currentAppointmentType"]),...(0,o.Se)("staff",["currentUserCan"]),...(0,o.Se)(["webMeetingsProviders"])},methods:{copyShortcode(){let t=this.$refs["shortcode"].textContent,e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999em",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$refs["shortcodeNotice"].open()},validateBasics(t){this.validBasics=t},validateCapacity(t){this.validCapacity=t},validateTitle(t){this.validTitle=t},validateSlug(t){this.validSlug=t},validateAvailability(t){this.validAvailability=t},validateScheduling(t){this.validScheduling=t},validatePayments(t){this.validPayments=t},validateMailchimp(t){this.validMailchimp=t},validateStaff(t){this.validStaff=t},validateWebMeetings(t){this.validWebMeetings=t},saveAppointmentType:function(){this.saving=!0,this.updateAppointmentType().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})),this.settings.global.wizard_completed||(this.updateWizardCompleted({settings:this.settings,value:W().utc().format(this.timestampFormat)}),this.updateGlobalSettings())},staffUpdateCapacity(t){if(t.oldStaff===t.newStaff)return;let e=this.currentAppointmentType?parseInt(this.currentAppointmentType.capacity,10):1,s=this.currentAppointmentType?this.currentAppointmentType.capacity_type:"individual",i=this.currentAppointmentType?parseInt(this.currentAppointmentType.staff_capacity,10):1;t.oldStaff!==t.newStaff&&t.newStaff?(this.updateCurrentAppointmentType({key:"capacity",value:1e5}),"individual"===s?this.updateCurrentAppointmentType({key:"staff_capacity",value:1}):this.updateCurrentAppointmentType({key:"staff_capacity",value:e})):(this.updateCurrentAppointmentType({key:"staff_capacity",value:1e5}),this.updateCurrentAppointmentType({key:"capacity",value:i}))},cancelEdit:function(){this.$router.push("/ssa/appointment-types/all")},updateSection(t,e){t?(this.section=t,this.sectionId=e):(this.section=null,this.sectionId=null)},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.OI)("global_settings",["updateWizardCompleted"]),...(0,o.nv)("global_settings",["updateGlobalSettings"]),...(0,o.nv)("appointment_types",["fetchAppointmentType","updateAppointmentType","updateCurrentAppointmentType"]),...(0,o.nv)("guides",["getGuides"])}},Wa=Fa,Ba=(0,q.Z)(Wa,qs,Hs,!1,null,null,null),Ra=Ba.exports,qa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-bulk-edit"},[t.saving?s("loading",{attrs:{message:t.translations.general.saving}}):[s("md-button",{on:{click:t.cancelBulkEdit}},[s("md-icon",[t._v("keyboard_arrow_left")]),t.dirty?[t._v(t._s(t.translations.general.cancel))]:[t._v(t._s(t.translations.appointmentTypes.actions.back))]],2),s("md-dialog",{ref:"confirmLeaveDirty"},[s("md-dialog-title",{domProps:{textContent:t._s(t.translations.appointmentTypes.confirmIgnoreChangesTitle)}}),s("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.appointmentTypes.confirmIgnoreChangesContent)}}),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesCancel))]),s("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesOkay))])],1)],1),s("md-toolbar",{staticClass:"md-transparent"},[s("div",{staticStyle:{flex:"1"}},[s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType[t.section]))])]),s("md-switch",{attrs:{"md-theme":"reverse"},on:{change:t.switchEditMode},model:{value:t.editSingle,callback:function(e){t.editSingle=e},expression:"editSingle"}},[t._v(t._s(t.translations.appointmentTypes.actions.editSingle))])],1),t.editSingle?s("bulk-single",{attrs:{saving:t.singleSaving,section:t.section,dirty:t.dirty},on:{change:t.changeAppointmentType,cancel:t.changeAppointmentType,save:t.saveSingleEdit}}):s("bulk-all",{attrs:{section:t.section},on:{cancel:t.cancelBulkEdit,save:t.saveBulkEdit}})],s("md-snackbar",{ref:"saveStatus",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.snackbarTitle)+" "+t._s(t.translations.appointmentTypes.saved))])])],2)},Ha=[],Za=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-theme",{attrs:{"md-name":t.currentAppointmentType?t.currentAppointmentType.label:"default"}},[s("accordion",t._l(t.bulkEditing,(function(e){return s("accordion-item",{key:e,attrs:{label:t.getAppointmentTypeById(e).title,section:t.section,index:e,open:t.currentAppointmentType?t.currentAppointmentType.id:null},on:{updateActive:t.changeAccordion}},[s("div",{staticClass:"accordion-edit-section",class:{saving:t.saving}},["basics"===t.section?s("basics",{on:{validationCheck:t.validateBasics}}):t._e(),"availability"===t.section?s("availability",{on:{validationCheck:t.validateAvailability}}):t._e(),"scheduling"===t.section?s("scheduling",{on:{validationCheck:t.validateScheduling}}):t._e(),"payments"===t.section?s("payments",{on:{validationCheck:t.validatePayments}}):t._e(),"googleCalendar"===t.section?s("google-calendar"):t._e(),"mailchimp"===t.section?s("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}}):t._e(),"customerInfo"===t.section?s("customer-information"):t._e(),"notifications"===t.section?s("notifications"):t._e()],1),s("div",{staticClass:"accordion-actions"},[s("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}}),s("md-button",{staticClass:"md-raised",on:{click:t.cancel}},[t._v(t._s(t.translations.general.cancel))]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving||!t.validFormFields},on:{click:t.save}},[t._v(" "+t._s(t.translations.general.save)+" ")])],1)])})),1)],1)},Ka=[],Va={name:"bulkEditSingle",props:["section","dirty","saving"],components:{Accordion:Xs,AccordionItem:ni,Basics:vi,Availability:Vi,Scheduling:en,Payments:_n,GoogleCalendar:Pn,Mailchimp:Xn,CustomerInformation:Ca,Notifications:Pa},data(){return{validBasics:!0,validAvailability:!0,validScheduling:!0,validPayments:!0,validMailchimp:!0}},computed:{mailchimp:{get(){return this.currentAppointmentType&&this.currentAppointmentType.mailchimp?this.currentAppointmentType.mailchimp:{}},set(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields(){let t=!0;switch(this.section){case"basics":t=this.validBasics;break;case"availability":t=this.validAvailability;break;case"scheduling":t=this.validScheduling;break;case"payments":t=this.validPayments;break;case"mailchimp":t=this.validMailchimp;break}return t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["bulkEditing","currentAppointmentType"]),...(0,o.Se)("appointment_types",["getAppointmentTypeById"])},methods:{save(){this.$emit("save")},cancel(){this.$emit("cancel")},validateBasics(t){this.validBasics=t},validateAvailability(t){this.validAvailability=t},validateScheduling(t){this.validScheduling=t},validatePayments(t){this.validPayments=t},validateMailchimp(t){this.validMailchimp=t},changeAccordion(t){this.$emit("change",t)},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},Ya=Va,Ja=(0,q.Z)(Ya,Za,Ka,!1,null,null,null),Xa=Ja.exports,Qa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-theme",{attrs:{"md-name":t.currentAppointmentType.label}},[s("p",[s("strong",[t._v(t._s(t.translations.appointmentTypes.bulkEditExplanation))]),t._v(" "+t._s(t.appointment_type_names))]),s("md-card",[s("md-card-content",["basics"===t.section?s("basics",{attrs:{"bulk-mode":!0},on:{validationCheck:t.validateBasics}}):t._e(),"availability"===t.section?s("availability",{on:{validationCheck:t.validateAvailability}}):t._e(),"scheduling"===t.section?s("scheduling",{on:{validationCheck:t.validateScheduling}}):t._e(),"payments"===t.section?s("payments",{on:{validationCheck:t.validatePayments}}):t._e(),"googleCalendar"===t.section?s("google-calendar"):t._e(),"mailchimp"===t.section?s("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}}):t._e(),"customerInfo"===t.section?s("customer-information",{attrs:{"bulk-mode":!0}}):t._e(),"notifications"===t.section?s("notifications",{attrs:{"bulk-mode":!0}}):t._e()],1),s("md-card-actions",[s("md-button",{staticClass:"md-raised",on:{click:t.cancel}},[t._v(t._s(t.translations.general.cancel))]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.validFormFields},on:{click:t.save}},[t._v(t._s(t.translations.general.save))])],1)],1)],1)},to=[],eo={name:"bulkEditAll",props:["section"],components:{Basics:vi,Availability:Vi,Scheduling:en,Payments:_n,GoogleCalendar:Pn,Mailchimp:Xn,CustomerInformation:Ca,Notifications:Pa},data(){return{validBasics:!0,validAvailability:!0,validScheduling:!0,validPayments:!0,validMailchimp:!0}},watch:{section(){"availability"===this.section&&(this.maybeSyncAvailabilityType(),this.maybeSyncAvailability())}},mounted(){"availability"===this.section&&(this.maybeSyncAvailabilityType(),this.maybeSyncAvailability())},computed:{mailchimp:{get(){return this.currentAppointmentType.mailchimp},set(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields(){let t=!0;switch(this.section){case"basics":t=this.validBasics;break;case"availability":t=this.validAvailability;break;case"scheduling":t=this.validScheduling;break;case"payments":t=this.validPayments;break;case"mailchimp":t=this.validMailchimp;break}return t},appointment_types(){let t=this.bulkEditing.map((t=>{let e=this.appointmentTypes.find((e=>e.id===t));return e}));return t},appointment_type_names(){let t=this.appointment_types.map((t=>t.title));return t.join(", ")},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("appointment_types",["appointmentTypes","bulkEditing","currentAppointmentType"])},methods:{cancel(){this.$emit("cancel")},save(){this.$emit("save")},validateBasics(t){this.validBasics=t},validateAvailability(t){this.validAvailability=t},maybeSyncAvailability(){let t=this.appointment_types.map((t=>t.availability)),e=!0;for(let s=0;s<t.length;s++)JSON.stringify(t[s])!==JSON.stringify(t[0])&&(e=!1);e&&this.updateCurrentAppointmentType({key:"availability",value:t[0]})},maybeSyncAvailabilityType(){let t=this.appointment_types.map((t=>t.availability_type)),e=!0;for(let s=0;s<t.length;s++)t[s]!==t[0]&&(e=!1);e&&this.updateCurrentAppointmentType({key:"availability_type",value:t[0]})},validateScheduling(t){this.validScheduling=t},validatePayments(t){this.validPayments=t},validateMailchimp(t){this.validMailchimp=t},...(0,o.nv)("appointment_types",["updateCurrentAppointmentType"])}},so=eo,io=(0,q.Z)(so,Qa,to,!1,null,null,null),no=io.exports,ao={name:"appointmentTypeBulkEdit",props:["section"],components:{Loading:et,BulkSingle:Xa,BulkAll:no},data(){return{accordionSaving:!1,dirty:!1,editSingle:!0,saving:!1,singleSaving:!1,snackbarTitle:"",validDuration:!0,leaveWithoutSaving:!1}},beforeMount(){this.bulkEditing.length||this.updateBulkEditing(this.editableAppointmentTypeIds),this.defineNewEmptyAppointmentType()},beforeRouteLeave(t,e,s){this.dirty?this.displayDialog(s,(()=>{s(!1)})):s()},watch:{currentAppointmentType:{handler:function(t,e){this.dirty=e},deep:!0}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["router"]),...(0,o.rn)("appointment_types",["bulkEditing","currentAppointmentType","appointmentTypes"]),...(0,o.Se)("appointment_types",["editableAppointmentTypeIds"])},methods:{backToList(){this.router.push("/ssa/appointment-types/all")},changeAppointmentType(t){if(this.dirty){let e=()=>{if(t){var e=this.appointmentTypes.find((e=>e.id===t));this.updateCurrentAppointmentType(e)}else this.emptyCurrentAppointmentType();this.$nextTick((()=>{this.dirty=!1}))};this.displayDialog(e,(()=>{}))}else{if(t){var e=this.appointmentTypes.find((e=>e.id===t));this.updateCurrentAppointmentType(e)}else this.emptyCurrentAppointmentType();this.$nextTick((()=>{this.dirty=!1}))}},cancelBulkEdit(){this.backToList()},saveBulkEdit(){this.saving=!0,this.updateAppointmentTypes(!0).then((()=>{this.saving=!1,this.dirty=!1,this.backToList()}))},saveSingleEdit(){this.singleSaving=!0,this.updateAppointmentType().then((()=>{this.snackbarTitle=this.currentAppointmentType.title,this.$refs.saveStatus.open(),this.emptyCurrentAppointmentType(),this.singleSaving=!1,this.$nextTick((()=>{this.dirty=!1}))}))},switchEditMode(t){if(this.dirty){let e=()=>{t?this.emptyCurrentAppointmentType():this.defineNewEmptyAppointmentType(),this.$nextTick((()=>{this.dirty=!1}))},s=()=>{this.editSingle=!this.editSingle};this.displayDialog(e,s)}else t?this.emptyCurrentAppointmentType():this.defineNewEmptyAppointmentType(),this.$nextTick((()=>{this.dirty=!1}))},displayDialog(t,e){let s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(()=>{this.leaveWithoutSaving?t():e()}))},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("appointment_types",["updateAppointmentType","updateAppointmentTypes","updateCurrentAppointmentType","emptyCurrentAppointmentType"]),...(0,o.OI)("appointment_types",["defineNewEmptyAppointmentType","updateBulkEditing"])}},oo=ao,ro=(0,q.Z)(oo,qa,Ha,!1,null,null,null),lo=ro.exports,po=[{path:"appointment-types",component:js,redirect:"/ssa/appointment-types/all",meta:{ssa_manage_appointment_types:!0},children:[{path:"all",name:"appointment-types-all",component:Rs},{path:"type/:id?",name:"appointment-type-single",component:Ra,props:!0},{path:"edit/:section",name:"appointment-type-bulk-edit",component:lo,props:!0}]}],co=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-all"},[s("router-view",{on:{saved:t.backToSettings}})],1)},mo=[],uo={name:"settingsAll",data(){return{}},methods:{backToSettings(){this.$router.push("/ssa/settings/all")}}},go=uo,ho=(0,q.Z)(go,co,mo,!1,null,null,null),_o=ho.exports,fo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-list"},[t.currentUserCan("ssa_manage_site_settings")||t.currentUserCan("ssa_manage_staff")?[s("md-toolbar",{staticClass:"md-transparent"},[s("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.translations.settings.settingsTitle))]),t.settings.installed.license&&t.currentUserCan("ssa_manage_site_settings")?s("md-button",{staticClass:"md-primary",on:{click:t.toggleLicense}},[t._v(" "+t._s(t.translations.settings.license.manage)+" ")]):t._e()],1),t.license?s("license-key"):t._e(),s("md-layout",{staticClass:"settings-list-container",attrs:{"md-gutter":!0}},[t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-general.svg",title:t.translations.settings.general.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("general")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-styles.svg",title:t.translations.settings.styles.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("styles")}}}):t._e(),t.settings.installed.translation&&t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-translation.svg",title:t.translations.settings.translations.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("translations")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-advanced-scheduling.svg",title:t.translations.settings.advanced_scheduling.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("advanced-scheduling")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.notificationImage,title:t.translations.settings.notifications.title},on:{edit:function(e){return t.editSettings("notifications")}},model:{value:t.notifications_enabled,callback:function(e){t.notifications_enabled=e},expression:"notifications_enabled"}}):t._e(),t.settings.installed.blackout_dates&&t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-blackout.svg",title:t.translations.settings.blackout.title},on:{edit:function(e){return t.editSettings("blackout")}},model:{value:t.blackout_enabled,callback:function(e){t.blackout_enabled=e},expression:"blackout_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-google-calendar.svg",title:t.translations.settings.google_calendar.title,upgrade:t.googleCalendarModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("google-calendar")}},model:{value:t.google_calendar_enabled,callback:function(e){t.google_calendar_enabled=e},expression:"google_calendar_enabled"}},[t.googleCalendarModule.enabled&&!t.settings.google_calendar.access_token?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.noAccessToken)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-mailchimp.svg",title:t.translations.settings.mailchimp.title,upgrade:t.mailchimpModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("mailchimp")}},model:{value:t.mailchimp_enabled,callback:function(e){t.mailchimp_enabled=e},expression:"mailchimp_enabled"}},[t.mailchimpModule.enabled&&!t.settings.mailchimp.account_details?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.noConnection)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-zoom.svg",title:t.translations.settings.zoom.title,upgrade:t.zoomModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("zoom")}},model:{value:t.zoom_enabled,callback:function(e){t.zoom_enabled=e},expression:"zoom_enabled"}},[t.zoomModule.enabled&&!t.settings.zoom.auth_code?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.zoom.noAuthCode)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-webex.svg",title:t.translations.settings.webex.title,upgrade:t.webexModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("webex")}},model:{value:t.webex_enabled,callback:function(e){t.webex_enabled=e},expression:"webex_enabled"}},[t.webexModule.enabled&&!t.settings.webex.access_token?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.webex.noAuthCode)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-webhooks.svg",title:t.translations.settings.webhooks.title,upgrade:t.webhooksModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("webhooks")}},model:{value:t.webhooks_enabled,callback:function(e){t.webhooks_enabled=e},expression:"webhooks_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-payments.svg",title:t.translations.settings.payments.title,upgrade:t.paymentsModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("payments")}},model:{value:t.payments_enabled,callback:function(e){t.payments_enabled=e},expression:"payments_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-tracking.svg",title:t.translations.settings.tracking.title,upgrade:t.trackingModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("tracking")}},model:{value:t.tracking_enabled,callback:function(e){t.tracking_enabled=e},expression:"tracking_enabled"}}):t._e(),t.currentUserCan("ssa_manage_staff")?s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-staff.svg",title:t.translations.settings.staff.title,upgrade:t.staffModule.upgrade,"upgrade-level":"business"},on:{edit:function(e){return t.editSettings("staff")}},model:{value:t.staff_enabled,callback:function(e){t.staff_enabled=e},expression:"staff_enabled"}}):t._e()],1),t.currentUserCan("ssa_manage_site_settings")?s("div",{staticClass:"align-right"},[s("md-theme",{attrs:{"md-name":"grey"}},[s("router-link",{staticClass:"md-dense md-primary",attrs:{"md-theme":"grey",tag:"md-button",to:"/ssa/settings/import-export"}},[t._v(" "+t._s(t.translations.settings.import_export.title)+" ")]),s("router-link",{staticClass:"md-dense md-primary",attrs:{"md-theme":"grey",tag:"md-button",to:"/ssa/settings/developer"}},[t._v(" "+t._s(t.translations.settings.developerScreen)+" ")])],1)],1):t._e()]:s("no-permission")],2)},yo=[],vo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.settings.installed.license?s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.license.key))]),s("md-layout",[t.checking?[s("md-layout",{staticClass:"license-validating",attrs:{"md-column":""}},[s("md-progress",{attrs:{"md-indeterminate":""}}),s("div",[t._v(t._s(t.translations.settings.license.validating))])],1)]:"valid"===t.settings.license.license_status?[s("md-layout",[s("div",{staticClass:"display-license-key"},[t._v(t._s(t.displayKey))]),s("div",["valid"===t.settings.license.license_status?s("md-button",{staticClass:"md-primary",on:{click:t.removeLicense}},[t._v(" "+t._s(t.translations.settings.license.remove)+" ")]):t._e()],1)])]:[s("md-layout",[s("md-input-container",{class:{"md-input-invalid":t.licenseError}},[s("label",{attrs:{for:"license"}},[t._v(t._s(t.translations.settings.license.key))]),s("md-input",{attrs:{id:"license"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),s("span",{staticClass:"md-error"},[t._v(t._s(this.settings.license.license_status_message))])],1)],1),s("md-layout",[s("div",{staticClass:"inline-license-button"},[s("md-button",{staticClass:"md-raised md-primary",on:{click:t.validateLicense}},[t._v(" "+t._s(t.translations.settings.license.validate)+" ")])],1)])]],2)],1):t._e()},bo=[],ko={name:"licenseKey",data(){return{checking:!1}},beforeMount(){this.checking=!0,this.fetchLicenseSettings().then((()=>{this.checking=!1,this.checkLicenseValidity()}))},computed:{licenseError(){return"invalid"===this.settings.license.license_status},displayKey(){return this.settings.license.license.replace(/.(?=.{4,}$)/g,"• ")},key:{get(){return this.settings.license.license},set(t){this.updateLicenseKey(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{validateLicense(){this.checking=!0,this.updateLicenseSettings().then((()=>{this.checking=!1,this.checkLicenseValidity()}))},removeLicense(){this.checking=!0,this.updateLicenseKey(""),this.updateLicenseSettings().then((()=>{this.checking=!1}))},checkLicenseValidity(){"valid"===this.settings.license.license_status&&this.$emit("validatedLicense")},...(0,o.nv)(["fetchLicenseSettings","updateLicenseSettings"]),...(0,o.OI)(["updateLicenseKey"])}},Co=ko,So=(0,q.Z)(Co,vo,bo,!1,null,null,null),wo=So.exports,To=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-layout",{staticClass:"settings-list-item"},[s("md-card",{staticClass:"full-width settings overflow-visible",class:{disabled:!t.value},attrs:{"md-with-hover":t.value},nativeOn:{click:function(e){return t.maybeEdit.apply(null,arguments)}}},[s("md-card-media",{class:t.cardStyle},[s("img",{attrs:{src:t.image,alt:""}}),t.upgrade?["plus"===t.upgradeLevel?s("div",{staticClass:"media-caption plus"},[t._v(" "+t._s(t.translations.promo.availablePlus))]):t._e(),"pro"===t.upgradeLevel?s("div",{staticClass:"media-caption pro"},[t._v(" "+t._s(t.translations.promo.availablePro)+" ")]):t._e(),"business"===t.upgradeLevel?s("div",{staticClass:"media-caption business"},[t._v(" "+t._s(t.translations.promo.availableBusiness)+" ")]):t._e()]:t._e(),s("md-ink-ripple")],2),s("md-card-header",[s("h3",{staticClass:"md-title"},[t._v(t._s(t.title))])]),t.$slots.default?s("md-card-content",[t._t("default")],2):t._e(),t.upgrade?t._e():s("md-card-actions",{staticClass:"split-actions"},[t.canDisable?s("md-switch",{attrs:{"md-theme":"reverse"},nativeOn:{click:function(e){return e.stopPropagation(),t.doNothing.apply(null,arguments)}},model:{value:t.switchValue,callback:function(e){t.switchValue=e},expression:"switchValue"}}):s("span",{staticStyle:{flex:"1"}}),s("md-button",{attrs:{disabled:!t.value}},[t._v(" "+t._s(t.translations.actions.edit)+" "),s("span",{staticClass:"screen-reader-text"},[t._v(t._s(t.title))])])],1),t.upgrade&&"coming-soon"==t.upgradeLevel?s("div",{staticClass:"coming-soon-wrap"},[s("div",{staticClass:"coming-soon"},[t._v(t._s(t.translations.settings.comingSoon))])]):t.inBeta?s("div",{staticClass:"beta-wrap"},[s("div",{staticClass:"beta"},[t._v(" "+t._s(t.translations.settings.beta)+" ")])]):t._e()],1),s("md-dialog",{ref:"upgradePro"},[s("promo-pro",{attrs:{"upgrade-url-params":t.promoProUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialogs}})],1),s("md-dialog",{ref:"upgradePlus"},[s("promo-plus",{attrs:{"upgrade-url-params":t.promoPlusUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialogs}})],1),s("md-dialog",{ref:"upgradeBusiness"},[s("promo-business",{attrs:{"upgrade-url-params":t.promoBusinessUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialogs}})],1),s("md-dialog",{ref:"enableSetting"},[s("md-dialog-title",[t._v(t._s(t.title))]),s("md-dialog-content",[s("p",[t._v(t._s(t.translations.settings.disabledWarning))])]),s("md-dialog-actions",[s("md-button",{on:{click:t.closeDialogs}},[t._v(t._s(t.translations.general.cancel))]),s("md-button",{staticClass:"md-primary",on:{click:t.enableThis}},[t._v(t._s(t.translations.settings.enable))])],1)],1)],1)},xo=[],Ao={name:"settingsCard",components:{PromoPlus:ut,PromoPro:vt,PromoBusiness:Wn},props:{canDisable:{type:Boolean,default:!0},cardStyle:String,image:String,inBeta:{type:Boolean,default:!1},title:String,upgrade:Boolean,upgradeLevel:String,value:{type:Boolean,default:!0}},data(){return{promoPlusUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-settings-popup"},promoProUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"pro-features",utm_content:"general-pro-settings-popup"},promoBusinessUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-business",utm_term:"business-features",utm_content:"general-business-settings-popup"}}},computed:{switchValue:{get(){return this.value},set(t){this.$emit("input",t)}},...(0,o.rn)("translations",["translations"])},methods:{closeDialogs(){this.$refs["enableSetting"].close(),this.$refs["upgradePlus"].close(),this.$refs["upgradePro"].close()},doNothing(){},edit(){this.$emit("edit")},enableThis(){this.switchValue=!0,this.edit()},maybeEdit(){this.value?this.edit():this.upgrade&&"plus"===this.upgradeLevel?this.$refs["upgradePlus"].open():this.upgrade&&"pro"===this.upgradeLevel?this.$refs["upgradePro"].open():this.upgrade&&"business"===this.upgradeLevel?this.$refs["upgradeBusiness"].open():this.upgrade&&"coming-soon"===this.upgradeLevel||this.$refs["enableSetting"].open()}}},Po=Ao,Mo=(0,q.Z)(Po,To,xo,!1,null,null,null),Eo=Mo.exports,Do={name:"settingsList",components:{NoPermission:ee,licenseKey:wo,Notification:vs,SettingsCard:Eo},data(){return{license:!1,enableFeatureName:"",enableFeatureTitle:""}},watch:{guidesList(){this.getGuides({"ssasc-plugin-screen":this.guidesList})}},mounted(){this.getGuides({"ssasc-plugin-screen":this.guidesList})},computed:{blackout_enabled:{get(){return this.settings.blackout_dates.enabled},set(t){this.updateBlackoutEnabled({settings:this.settings,value:t}),this.updateBlackoutSettings()}},google_calendar_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"google_calendar")&&(!!this.settings.google_calendar.enabled&&!!this.settings.installed.google_calendar)},set(t){this.updateGoogleCalendarEnabled({settings:this.settings,value:t}),this.updateGoogleCalendarSettings()}},mailchimp_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"mailchimp")&&(!!this.settings.mailchimp.enabled&&!!this.settings.installed.mailchimp)},set(t){this.updateMailchimpEnabled({settings:this.settings,value:t}),this.updateMailchimpSettings()}},webex_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"webex")&&(!!this.settings.installed.webex&&!!this.settings.webex.enabled)},set(t){this.updateWebexEnabled(t),this.updateWebexSettings()}},zoom_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"zoom")&&(!!this.settings.zoom.enabled&&!!this.settings.installed.zoom)},set(t){this.updateZoomEnabled({settings:this.settings,value:t}),this.updateZoomSettings()}},notifications_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"notifications")&&(!!this.settings.notifications.enabled&&!!this.settings.installed.notifications)},set(t){this.setNotificationsEnabled(t),this.updateNotificationsSettings()}},webhooks_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"webhooks")&&(!!this.settings.webhooks.enabled&&!!this.settings.installed.webhooks)},set(t){this.updateWebhooksEnabled({value:t,settings:this.settings}),this.updateWebhooksSettings()}},payments_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"payments")&&(!!this.settings.payments.enabled&&!!this.settings.installed.payments)},set(t){this.updatePaymentsEnabled(t)}},staff_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"staff")&&(!!this.settings.staff.enabled&&!!this.settings.installed.staff)},set(t){this.updateStaffEnabled(t)}},tracking_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"tracking")&&(!!this.settings.tracking.enabled&&!!this.settings.installed.tracking)},set(t){this.updateTrackingEnabled(t)}},notificationImage(){return this.smsModule.installed?this.api.admin_static_url+"/images/settings-notifications-sms.svg":this.api.admin_static_url+"/images/settings-notifications.svg"},guidesList(){let t=[j.settings.list];return this.license&&t.push(j.settings.license_enabled),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)(["advancedSchedulingModule"]),...(0,o.Se)("zoom",["zoomModule"]),...(0,o.Se)("mailchimp",["mailchimpModule"]),...(0,o.Se)("google_calendar",["googleCalendarModule"]),...(0,o.Se)("notifications",["smsModule"]),...(0,o.Se)("payments",["paymentsModule"]),...(0,o.Se)("staff",["currentUserCan","staffModule"]),...(0,o.Se)("tracking",["trackingModule"]),...(0,o.Se)("webex",["webexModule"]),...(0,o.Se)("webhooks",["webhooksModule"])},methods:{toggleLicense(){this.license=!this.license},editSettings(t){this.$router.push(`/ssa/settings/${t}`)},...(0,o.nv)(["updateAdvancedSchedulingSettings","updateNotificationsSettings"]),...(0,o.nv)("zoom",["updateZoomSettings"]),...(0,o.nv)("mailchimp",["updateMailchimpSettings"]),...(0,o.nv)("google_calendar",["updateGoogleCalendarSettings"]),...(0,o.nv)("webhooks",["updateWebhooksSettings"]),...(0,o.nv)("payments",["updatePaymentsEnabled"]),...(0,o.nv)("staff",["updateStaffEnabled"]),...(0,o.nv)("tracking",["updateTrackingEnabled"]),...(0,o.OI)(["updateAdvancedSchedulingEnabled","setNotificationsEnabled"]),...(0,o.OI)("zoom",["updateZoomEnabled"]),...(0,o.OI)("mailchimp",["updateMailchimpEnabled"]),...(0,o.OI)("google_calendar",["updateGoogleCalendarEnabled"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.OI)("webex",["updateWebexEnabled"]),...(0,o.nv)("webex",["updateWebexSettings"]),...(0,o.OI)("webhooks",["updateWebhooksEnabled"]),...(0,o.nv)("blackout",["updateBlackoutSettings"]),...(0,o.OI)("blackout",["updateBlackoutEnabled"])}},$o=Do,Oo=(0,q.Z)($o,fo,yo,!1,null,null,null),Io=Oo.exports,zo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("license-key")},jo=[],Lo={name:"settingsLicense",store:wv,components:{licenseKey:wo},data(){return{}}},No=Lo,Uo=(0,q.Z)(No,zo,jo,!1,null,null,null),Go=Uo.exports,Fo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[s("settings-header"),s("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),s("fieldset",[t.timezoneWarning?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.general.genericTimezoneWarning)+" "),s("a",{attrs:{href:"https://simplyscheduleappointments.com/document/timezones-and-offsets/",target:"_blank"}},[t._v(t._s(t.translations.general.learnMore))])]):t._e(),s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",[s("label",{attrs:{for:"timezone"}},[t._v(t._s(t.translations.settings.general.timezone))]),s("select2",{attrs:{name:"timezone",id:"timezone",disabled:t.saving},model:{value:t.timezone_string,callback:function(e){t.timezone_string=e},expression:"timezone_string"}},t._l(t.allSupportedTimezones,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(t.formatTimezone(e)))])})),0)],1)],1),s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",[s("label",{attrs:{for:"dateFormat"}},[t._v(t._s(t.translations.settings.general.dateFormat))]),s("md-select",{attrs:{name:"dateFormat",id:"dateFormat",disabled:t.saving,"md-menu-class":"md-align-trigger"},model:{value:t.date_format,callback:function(e){t.date_format=e},expression:"date_format"}},t._l(t.localizedDateFormats,(function(e,i){return s("md-option",{key:e.php,attrs:{value:e.php}},[t._v(" "+t._s(t.moment().format(e.js))+" "),i>0?[t._v(" — "),s("code",[t._v(t._s(e.php))])]:t._e()],2)})),1)],1)],1),s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",[s("label",{attrs:{for:"timeFormat"}},[t._v(t._s(t.translations.settings.general.timeFormat))]),s("md-select",{attrs:{name:"timeFormat",id:"timeFormat",disabled:t.saving},model:{value:t.time_format,callback:function(e){t.time_format=e},expression:"time_format"}},t._l(t.localizedTimeFormats,(function(e,i){return s("md-option",{key:e.php,attrs:{value:e.php}},[t._v(" "+t._s(t.moment().format(e.js))+" "),i>0?[t._v(" — "),s("code",[t._v(t._s(e.php))])]:t._e()],2)})),1)],1)],1),s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",[s("label",{attrs:{for:"weekStartsOn"}},[t._v(t._s(t.translations.settings.general.weekStartsOn))]),s("md-select",{attrs:{name:"weekStartsOn",id:"weekStartsOn",disabled:t.saving},model:{value:t.start_of_week,callback:function(e){t.start_of_week=e},expression:"start_of_week"}},t._l(t.moment.weekdays(!1),(function(e,i){return s("md-option",{key:e,attrs:{value:i.toString()}},[t._v(t._s(e))])})),1)],1)],1),s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",[s("label",{attrs:{for:"defaultCountryCode"}},[t._v(" "+t._s(t.translations.settings.general.countryCode.label)+" ")]),s("md-select",{attrs:{name:"defaultCountryCode",id:"defaultCountryCode",disabled:t.saving},model:{value:t.country_code,callback:function(e){t.country_code=e},expression:"country_code"}},[s("md-option",{attrs:{value:""}},[t._v(" "+t._s(t.translations.settings.general.countryCode.defaultValue)+" ")]),t._l(t.countries,(function(e){return s("md-option",{key:e.iso2,attrs:{value:e.iso2}},[t._v(" "+t._s(e.name)+" ")])}))],2)],1)],1),s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",{class:{"md-input-invalid":!t.staff_name.length}},[s("label",{attrs:{for:"staffName"}},[t._v(t._s(t.translations.settings.general.contact))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.staff_name,callback:function(e){t.staff_name=e},expression:"staff_name"}}),t.staff_name.length?s("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.general.contact_helper)+" ")]):s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.contact_error))])],1)],1),s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",{class:{"md-input-invalid":!t.company_name.length}},[s("label",{attrs:{for:"companyName"}},[t._v(t._s(t.translations.settings.general.business))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.company_name,callback:function(e){t.company_name=e},expression:"company_name"}}),t.company_name.length?t._e():s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.business_error))])],1)],1),s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",{class:{"md-input-invalid":!t.admin_email.length}},[s("label",{attrs:{for:"apptEmail"}},[t._v(t._s(t.translations.settings.general.email))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.admin_email,callback:function(e){t.admin_email=e},expression:"admin_email"}}),t.admin_email.length?s("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.general.email_helper)+" ")]):s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.email_error))])],1)],1),t.smsModule.active?s("md-theme",{attrs:{"md-name":"reverse"}},[s("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validAdminPhone}},[s("label",{attrs:{for:"admin_phone"}},[t._v(t._s(t.translations.settings.general.phone))]),s("telephone",{attrs:{placeholder:"","input-options":{"aria-describedby":"admin_phone_error admin_phone_helper",id:"admin_phone"},required:t.smsModule.active},on:{validate:function(e){return t.checkPhone(e)}},model:{value:t.admin_phone,callback:function(e){t.admin_phone=e},expression:"admin_phone"}}),t.validAdminPhone?s("span",{staticClass:"md-helper-text",attrs:{id:"admin_phone_helper"}},[t._v(" "+t._s(t.translations.settings.general.phone_help)+" ")]):s("span",{staticClass:"md-error",attrs:{id:"admin_phone_error"}},[t._v(" "+t._s(t.translations.settings.general.phone_error)+" ")])],1)],1):t._e()],1),s("div",{staticClass:"button-bar align-right"},[s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(t._s(t._button))]],2),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},Wo=[],Bo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vue-tel-input",{ref:"telephone",attrs:{"input-options":t.inputOptions,"dropdown-options":t.dropdownOptions,value:t.value,"auto-default-country":!1,"default-country":t.telCountryCode,mode:"international"},on:{validate:t.validate,input:t.handleInput}})},Ro=[],qo={name:"vue-telephone",props:{value:{type:String},placeholder:{type:String,default:"Enter a phone number"},disabled:{type:Boolean,default:!1},id:{type:String,default:""},required:{type:Boolean,default:!1},name:{type:String,default:"telephone"},dropdownOptions:{type:Object,default(){return{disabled:!1,showDialCodeInList:!0,showDialCodeInSelection:!1,showFlags:!0,showSearchBox:!1,tabindex:0,width:"390px"}}},inputOptions:{type:Object,default:()=>({})}},data(){return{container:null,input:null,valid:!0}},mounted(){this.input=this.$refs.telephone.$el.querySelector("input"),this.container=ln()(this.input).parents(".md-input-container"),this.styleContainer(),this.input.addEventListener("focus",this.toggleFocus),this.input.addEventListener("blur",this.toggleFocus)},updated(){this.styleContainer()},beforeDestroy(){this.input.removeEventListener("blur",this.toggleFocus),this.input.removeEventListener("focus",this.toggleFocus)},computed:{...(0,o.rn)(["telCountryCode","settings"])},methods:{handleInput(t){this.$emit("input",t),this.$nextTick((()=>{this.styleContainer()}))},styleContainer(){this.value?ln()(this.container).addClass("md-has-value"):ln()(this.container).removeClass("md-has-value"),this.required&&ln()(this.container).addClass("md-input-required")},toggleFocus(t){"focus"===t.type?ln()(this.container).addClass("md-input-focused"):ln()(this.container).removeClass("md-input-focused"),this.$nextTick((()=>{this.styleContainer()}))},validate(t){this.required?this.valid=!t.number||t.valid:this.valid=!(!t.number||0!==t.number.length)||t.valid,this.$emit("validate",this.valid)}}},Ho=qo,Zo=(0,q.Z)(Ho,Bo,Ro,!1,null,"6a7c5220",null),Ko=Zo.exports,Vo=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings-header"},[s("router-link",{staticStyle:{"padding-left":"0"},attrs:{tag:"md-button",to:"/ssa/settings/all"}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.returnToSettings)+" ")],1),t.headline?s("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.headline)+" "),t.loading?s("md-spinner",{attrs:{"md-indeterminate":"","md-size":24,"md-stroke":6}}):t._e()],1):t._e()],1)},Yo=[],Jo={name:"settingsHeader",store:wv,props:{loading:{type:Boolean,default:!1}},data(){return{viewName:this.$route.name}},computed:{headline(){let t;switch(this.viewName){case"settings-general":t=this.translations.settings.general.title;break;case"settings-import-export":t=this.translations.settings.import_export.title;break;case"settings-styles":t=this.translations.settings.styles.title;break;case"settings-translations":t=this.translations.settings.translations.title;break;case"settings-google-calendar":t=this.translations.settings.google_calendar.title;break;case"settings-mailchimp":t=this.translations.settings.mailchimp.title;break;case"settings-advanced-scheduling":t=this.translations.settings.advanced_scheduling.title;break;case"payments-all":t=this.translations.settings.payments.title;break;case"settings-tracking":t=this.translations.settings.tracking.title;break;case"settings-zoom":t=this.translations.settings.zoom.title;break}return t},...(0,o.rn)("translations",["translations"])},methods:{cancelEdit(){this.$emit("cancelEdit")}}},Xo=Jo,Qo=(0,q.Z)(Xo,Vo,Yo,!1,null,null,null),tr=Qo.exports,er={name:"settingsGlobal",components:{select2:mn,SettingsHeader:tr,Telephone:Ko,Notification:vs},props:{button:{default:"Save",type:String}},data(){return{moment:W(),countries:I,dirty:!1,options:hi,saving:!1,timezoneWarning:!1,validAdminPhone:!0}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(t=>{"ok"===t?(s(),this.fetchSettings()):s(!1)}))}else s()},watch:{admin_email:function(t,e){t!==e&&(this.dirty=!0)},admin_phone:function(t,e){t!==e&&(this.dirty=!0)},company_name:function(t,e){t!==e&&(this.dirty=!0)},date_format:function(t,e){t!==e&&(this.dirty=!0)},staff_name:function(t,e){t!==e&&(this.dirty=!0)},start_of_week:function(t,e){t!==e&&(this.dirty=!0)},time_format:function(t,e){t!==e&&(this.dirty=!0)},timezone_string:function(t,e){t!==e&&(this.dirty=!0),this.timezoneWarning=t.includes("UTC")||t.includes("GMT")}},mounted(){(this.timezone_string.includes("UTC")||this.timezone_string.includes("GMT"))&&(this.timezoneWarning=!0),this.getGuides({"ssasc-plugin-screen":j.general})},computed:{_button(){return"Save"===this.button?this.translations.general.save:this.button},admin_email:{get(){return this.settings.global.admin_email},set(t){this.updateAdminEmail({settings:this.settings,value:t})}},admin_phone:{get(){return this.settings.global.admin_phone?this.settings.global.admin_phone:""},set(t){this.setAdminPhone({settings:this.settings,value:t})}},company_name:{get(){return this.settings.global.company_name},set(t){this.updateCompanyName({settings:this.settings,value:t})}},country_code:{get(){return this.settings.global.country_code},set(t){this.setCountryCode({settings:this.settings,code:t})}},date_format:{get(){return this.settings.global.date_format},set(t){this.updateDateFormat({settings:this.settings,value:t})}},localizedDateFormats(){let t=Ae().cloneDeep(this.options.dateFormats);return t[0].js=this.api.locale_fjy,t},localizedTimeFormats(){let t=Ae().cloneDeep(this.options.timeFormats);return t[0].js=this.api.locale_gia,t},staff_name:{get(){return this.settings.global.staff_name},set(t){this.updateStaffName({settings:this.settings,value:t})}},start_of_week:{get(){return this.settings.global.start_of_week},set(t){this.updateStartOfWeek({settings:this.settings,value:t})}},time_format:{get(){return this.settings.global.time_format},set(t){this.updateTimeFormat({settings:this.settings,value:t})}},timezone_string:{get(){return this.settings.global.timezone_string},set(t){this.updateTimezoneString({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","timestampFormat","settings"]),...(0,o.Se)(["formatTimezone","allSupportedTimezones"]),...(0,o.Se)("notifications",["smsModule"])},methods:{checkPhone(t){!this.smsModule.active||t?this.validAdminPhone=!0:this.validAdminPhone=!1},saveSettings(){this.admin_email.length&&this.company_name.length&&this.staff_name.length&&(this.saving=!0,this.updateGlobalSettings().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})))},...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("global_settings",["updateGlobalSettings"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.OI)("global_settings",["setAdminPhone","setCountryCode","updateStartOfWeek","updateTimezoneString","updateDateFormat","updateTimeFormat","updateAdminEmail","updateCompanyName","updateStaffName"])}},sr=er,ir=(0,q.Z)(sr,Fo,Wo,!1,null,null,null),nr=ir.exports,ar=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[s("settings-header"),s("md-tabs",{staticClass:"md-transparent",on:{change:t.setCurrentTab}},[s("md-tab",{attrs:{id:"settings","md-label":t.translations.settings.developer.title}},[s("settings-developer-settings")],1),s("md-tab",{attrs:{id:"jobs","md-label":t.translations.settings.jobs.title}},[s("settings-developer-jobs")],1)],1)],1)},or=[],rr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[s("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),s("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.developer.title)+" ")]),s("div",{staticClass:"md-switch-with-helper"},[s("md-switch",{attrs:{id:"enqueue_everywhere","md-theme":"reverse",name:"enqueue_everywhere"},model:{value:t.enqueue_everywhere,callback:function(e){t.enqueue_everywhere=e},expression:"enqueue_everywhere"}},[t._v(" "+t._s(t.translations.settings.developer.enqueue_everywhere.label)+" ")]),s("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.enqueue_everywhere.help))])],1),s("div",{staticClass:"md-switch-with-helper"},[s("md-switch",{attrs:{id:"disable_availability_caching","md-theme":"reverse",name:"disable_availability_caching"},model:{value:t.disable_availability_caching,callback:function(e){t.disable_availability_caching=e},expression:"disable_availability_caching"}},[t._v(" "+t._s(t.translations.settings.developer.disable_availability_caching.label)+" ")]),s("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.disable_availability_caching.help))])],1),s("hr"),s("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.developer.beta_updates.title)+" ")]),t.settings.installed.license?s("div",{staticClass:"md-switch-with-helper"},[s("md-switch",{attrs:{id:"beta_updates","md-theme":"reverse",name:"beta_updates"},model:{value:t.beta_updates,callback:function(e){t.beta_updates=e},expression:"beta_updates"}},[t._v(" "+t._s(t.translations.settings.developer.beta_updates.label)+" ")]),s("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.beta_updates.help))])],1):t._e(),t.settings.installed.license?s("div",{staticClass:"md-switch-with-helper"},[s("md-switch",{attrs:{id:"beta_calendar_events","md-theme":"reverse",name:"beta_calendar_events"},model:{value:t.beta_calendar_events,callback:function(e){t.beta_calendar_events=e},expression:"beta_calendar_events"}},[t._v(" "+t._s(t.translations.settings.developer.beta_calendar_events.label)+" ")]),s("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.beta_calendar_events.help))])],1):t._e(),s("div",{staticClass:"button-bar align-right"},[s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t._button)+" ")]],2),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},lr=[],dr={name:"settingsDeveloperSettings",props:{button:{default:"Save",type:String}},data(){return{dirty:!1,saving:!1}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(t=>{"ok"===t?(s(),this.fetchSettings()):s(!1)}))}else s()},watch:{booking_api_embed:function(t,e){t!==e&&(this.dirty=!0)},capacity_availability:function(t,e){t!==e&&(this.dirty=!0)},disable_availability_caching:function(t,e){t!==e&&(this.dirty=!0)},enqueue_everywhere:function(t,e){t!==e&&(this.dirty=!0)},beta_updates:function(t,e){t!==e&&(this.dirty=!0)},beta_calendar_events:function(t,e){t!==e&&(this.dirty=!0)},beta_booking_app:function(t,e){t!==e&&(this.dirty=!0)}},computed:{_button(){return"Save"===this.button?this.translations.general.save:this.button},booking_api_embed:{get(){return this.settings.developer.booking_api_embed},set(t){this.setBookingApiEmbed(t)}},capacity_availability:{get(){return this.settings.developer.capacity_availability},set(t){this.setCapacityAvailability(t)}},disable_availability_caching:{get(){return this.settings.developer.disable_availability_caching},set(t){this.setDisableAvailabilityCaching({settings:this.settings,value:t})}},enqueue_everywhere:{get(){return this.settings.developer.enqueue_everywhere},set(t){this.setEnqueueEverywhere({settings:this.settings,value:t})}},beta_updates:{get(){return this.settings.developer.beta_updates},set(t){this.setBetaUpdates({settings:this.settings,value:t})}},beta_calendar_events:{get(){return this.settings.developer.beta_calendar_events},set(t){this.setBetaCalendarEvents({settings:this.settings,value:t})}},beta_booking_app:{get(){return this.settings.developer.beta_booking_app},set(t){this.setBetaBookingApp({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.saving=!0,this.updateDeveloperSettings().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")}))},...(0,o.nv)(["fetchSettings"]),...(0,o.OI)(["setBookingApiEmbed","setCapacityAvailability"]),...(0,o.nv)("developer_settings",["updateDeveloperSettings"]),...(0,o.OI)("developer_settings",["setDisableAvailabilityCaching","setEnqueueEverywhere","setBetaUpdates","setBetaCalendarEvents","setBetaBookingApp"])}},pr=dr,cr=(0,q.Z)(pr,rr,lr,!1,null,null,null),mr=cr.exports,ur=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.jobs.title)+" ")]),s("div",{staticClass:"ssa-developer-job"},[s("div",[s("h3",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.title))]),s("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.description))]),s("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.jobs.purge_appoiments.settings.purge_past_appointments,callback:function(e){t.$set(t.jobs.purge_appoiments.settings,"purge_past_appointments",e)},expression:"jobs.purge_appoiments.settings.purge_past_appointments"}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.settings.past_appointments))]),s("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.jobs.purge_appoiments.settings.purge_abandoned_appointments,callback:function(e){t.$set(t.jobs.purge_appoiments.settings,"purge_abandoned_appointments",e)},expression:"jobs.purge_appoiments.settings.purge_abandoned_appointments"}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.settings.abandoned_appointments))]),s("purge-appointments",{attrs:{open:t.jobs.purge_appoiments.modalOpen,settings:t.jobs.purge_appoiments.settings},on:{close:function(e){t.jobs.purge_appoiments.modalOpen=!1}}})],1),s("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.jobs.purge_appoiments.modalOpen=!0}}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.action))])],1)])},gr=[],hr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-dialog",{ref:"purgeAppointmentsDialog",staticClass:"ssa-developer-job-modal"},[t.status?t._e():s("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.title)}}),s("md-dialog-content",{staticClass:"purge-appointments",class:t.status},[t.status?t._e():s("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.text))]),t.status?s("div",{staticClass:"dialog-icon"},["loading"===t.status?s("div",{staticClass:"icon"},[s("md-spinner",{attrs:{"md-indeterminate":"","md-size":80}})],1):t._e(),"success"===t.status?s("md-icon",{staticClass:"icon md-size-4x"},[t._v("check_circle")]):t._e(),"error"===t.status?s("md-icon",{staticClass:"icon md-size-4x"},[t._v("error")]):t._e()],1):t._e(),"loading"===t.status?s("div",{staticClass:"dialog-content"},[s("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.loading))])]):t._e(),"success"===t.status?s("div",{staticClass:"dialog-content"},[s("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.success))]),t.csv?s("a",{attrs:{href:t.csv,download:""}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.download))]):t._e()]):t._e(),"error"===t.status?s("div",{staticClass:"dialog-content"},[s("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.error))]),t._l(t.errors,(function(e,i){return s("notification",{key:i,attrs:{theme:"red"}},[t._v(t._s(e))])}))],2):t._e()]),"loading"!==t.status?s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.close}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.close))]),t.status?t._e():s("md-button",{staticClass:"md-primary md-raised",on:{click:t.deleteAppointments}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.confirm))])],1):t._e()],1)},_r=[],fr={name:"jobsPurgeAppointments",components:{Notification:vs},props:{open:{default:!1,type:Boolean},settings:{default:()=>{},type:Object}},watch:{open(){this.open?(this.status=null,this.csv=null,this.errors=null,this.$refs.purgeAppointmentsDialog.open()):this.$refs.purgeAppointmentsDialog.close()}},data(){return{csv:null,status:null,errors:null}},computed:{...(0,o.rn)("translations",["translations"])},methods:{close(){this.$emit("close")},deleteAppointments(){this.status="loading",this.purgeAppointments(this.settings).then((t=>{this.status="success",this.csv=t.file_url})).catch((t=>{this.status="error",this.errors=Array.isArray(t)?t:[t]}))},...(0,o.nv)("appointments",["purgeAppointments"])}},yr=fr,vr=(0,q.Z)(yr,hr,_r,!1,null,null,null),br=vr.exports,kr={name:"settingsDeveloperJobs",components:{purgeAppointments:br},data(){return{jobs:{purge_appoiments:{settings:{purge_past_appointments:!1,purge_abandoned_appointments:!1},modalOpen:!1}}}},computed:{...(0,o.rn)("translations",["translations"])}},Cr=kr,Sr=(0,q.Z)(Cr,ur,gr,!1,null,null,null),wr=Sr.exports,Tr={name:"settingsDeveloper",components:{SettingsHeader:tr,settingsDeveloperSettings:mr,settingsDeveloperJobs:wr},props:{button:{default:"Save",type:String}},data(){return{currentTab:0}},watch:{currentGuidesId(){this.getGuides({"ssasc-plugin-screen":this.currentGuidesId})}},mounted(){this.getGuides({"ssasc-plugin-screen":this.currentGuidesId})},computed:{currentGuidesId(){return 0===this.currentTab?j.developer_settings:j.developer_jobs},...(0,o.rn)("translations",["translations"])},methods:{setCurrentTab(t){this.currentTab=t},...(0,o.nv)("guides",["getGuides"])}},xr=Tr,Ar=(0,q.Z)(xr,ar,or,!1,null,null,null),Pr=Ar.exports,Mr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ssa-import-export"},[s("settings-header"),s("md-tabs",{staticClass:"md-transparent"},[s("md-tab",{attrs:{id:"export","md-label":t.translations.settings.import_export.tabs.export}},[s("div",{staticClass:"export-settings"},[s("div",{staticClass:"md-checkbox-with-note"},[s("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagSettings,callback:function(e){t.exportFlagSettings=e},expression:"exportFlagSettings"}},[t._v(" "+t._s(t.translations.settings.import_export.options.settings.label)+" ")]),s("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.settings.description))])],1),s("div",{staticClass:"md-checkbox-with-note"},[s("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagAppointmentTypes,callback:function(e){t.exportFlagAppointmentTypes=e},expression:"exportFlagAppointmentTypes"}},[t._v(" "+t._s(t.translations.settings.import_export.options.appointment_types.label)+" ")]),s("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.appointment_types.description))])],1),s("div",{staticClass:"md-checkbox-with-note"},[s("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagAppointments,callback:function(e){t.exportFlagAppointments=e},expression:"exportFlagAppointments"}},[t._v(" "+t._s(t.translations.settings.import_export.options.appointments.label)+" ")]),s("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.appointments.description))]),t.exportFlagAppointments?s("div",{staticClass:"md-checkbox-with-note",staticStyle:{"margin-left":"30px"}},[s("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.anonymizeExport,callback:function(e){t.anonymizeExport=e},expression:"anonymizeExport"}},[t._v(" "+t._s(t.translations.settings.import_export.options.anonymize.label)+" ")]),s("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.settings.import_export.options.anonymize.description)+" ")])],1):t._e(),t.exportFlagAppointments?s("div",{staticClass:"md-checkbox-with-note",staticStyle:{"margin-left":"30px"}},[s("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.futureAppointmentsOnly,callback:function(e){t.futureAppointmentsOnly=e},expression:"futureAppointmentsOnly"}},[t._v(" "+t._s(t.translations.settings.import_export.options.future_appointments_only.label)+" ")]),s("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.settings.import_export.options.future_appointments_only.description)+" ")])],1):t._e()],1)]),s("div",{staticClass:"button-bar align-right"},[s("md-button",{staticClass:"md-raised md-primary",on:{click:t.generateExportCode}},[t.generatingCode?[t._v(" "+t._s(t.translations.settings.import_export.generate_button_loading)+" ")]:[t._v(" "+t._s(t.translations.settings.import_export.generate_button)+" ")]],2),t.generatingCode?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showCode,expression:"showCode"}]},[s("textarea",{ref:"exportCodeArea",staticClass:"export-code",attrs:{readonly:""},domProps:{innerHTML:t._s(t.exportCode)},on:{click:t.selectCode,focus:t.selectCode}}),s("p",[s("md-button",{staticClass:"copy-code-trigger",on:{click:t.copyExportCode}},[t._v(t._s(t.translations.settings.import_export.copy)+" "),s("md-icon",{staticClass:"md-primary"},[t._v("file_copy")])],1),s("md-button",{staticClass:"send-code-trigger",on:{click:t.sendExportCode}},[t._v(t._s(t.translations.settings.import_export.send_to_support)+" "),s("md-icon",{directives:[{name:"show",rawName:"v-show",value:!t.sendingToSupport,expression:"!sendingToSupport"}],staticClass:"md-primary"},[t._v("send")]),t.sendingToSupport?s("md-spinner",{attrs:{"md-size":24,"md-stroke":5,"md-indeterminate":""}}):t._e()],1)],1)]),s("md-snackbar",{ref:"exportCodeNotice",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.import_export.copied))])]),s("md-snackbar",{ref:"exportCodeSentToSupport",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.import_export.send_to_support_success))])])],1),s("md-tab",{attrs:{id:"import","md-label":t.translations.settings.import_export.tabs.import}},[s("div",{staticClass:"import-settings"},[s("h3",[t._v(t._s(t.translations.settings.import_export.import_headline))]),s("p",[t._v(t._s(t.translations.settings.import_export.import_copy))]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.importCodeIsValid,expression:"!importCodeIsValid"}],staticClass:"import-alert"},[t.importCodeIsValid?t._e():s("p",[t._v(t._s(t.translations.settings.import_export.import_invalid_json_notice))])]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.importCode,expression:"importCode"}],staticClass:"export-code",domProps:{value:t.importCode},on:{input:function(e){e.target.composing||(t.importCode=e.target.value)}}}),s("div",{staticClass:"button-bar align-right"},[s("md-button",{staticClass:"md-raised md-primary",attrs:{id:"import-btn",disabled:!t.importCodeIsValid||!t.importCode},on:{click:t.processImportCode}},[t.importingCode?[t._v(" "+t._s(t.translations.settings.import_export.import_button_loading)+" ")]:[t._v(" "+t._s(t.translations.settings.import_export.import_button)+" ")]],2),t.importingCode?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)])])],1),s("settings-import-export-modal",{attrs:{loading:t.importingCode,status:t.importStatus,response:t.importStatusResponse}})],1)},Er=[],Dr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-dialog",{ref:"modal",staticClass:"ssa-import-export-modal",attrs:{"md-open-from":"#import-btn","md-click-outside-to-close":!1,"md-esc-to-close":!1}},[s("md-dialog-content",{class:t.status},[s("div",{staticClass:"import-dialog-icon"},[t.loading?s("div",{staticClass:"icon"},[s("md-spinner",{attrs:{"md-indeterminate":"","md-size":80}})],1):t._e(),t.loading||"error"===t.status?t._e():s("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),t.loading||"error"!==t.status?t._e():s("md-icon",{staticClass:"icon md-size-3x"},[t._v("error")])],1),t.loading?s("div",{staticClass:"import-dialog-content"},[s("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.import_export.import_button_loading))])]):t._e(),t.loading||"error"===t.status?t._e():s("div",{staticClass:"import-dialog-content"},[s("h3",{staticClass:"md-headline",domProps:{innerHTML:t._s(t.response)}}),s("md-button",{on:{click:t.refresh}},[t._v(t._s(t.translations.settings.import_export.import_success_redirect))])],1),t.loading||"error"!==t.status?t._e():s("div",{staticClass:"import-dialog-content"},[s("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.import_export.import_error_status_notice))]),s("div",{staticClass:"import-dialog-errors"},[s("ul",t._l(t.response,(function(e,i){return s("li",{key:i,domProps:{innerHTML:t._s(e)}})})),0)])])]),t.loading||"error"!==t.status?t._e():s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.close}},[t._v("Close")])],1)],1)},$r=[],Or={name:"settingsImportExportModal",props:{status:{default:null},response:{default:null},loading:{default:null}},computed:{...(0,o.rn)("translations",["translations"])},methods:{refresh(){window.location.reload()},close(){this.$refs.modal.close()}},watch:{loading(){this.$refs.modal.open()}}},Ir=Or,zr=(0,q.Z)(Ir,Dr,$r,!1,null,null,null),jr=zr.exports,Lr={name:"settingsImportExport",components:{SettingsHeader:tr,settingsImportExportModal:jr},data(){return{anonymizeExport:!1,futureAppointmentsOnly:!1,generatingCode:!1,showCode:!1,importCode:null,importCodeIsValid:!0,importingCode:!1,importStatus:null,importStatusResponse:null,exportFlagSettings:!1,exportFlagAppointmentTypes:!1,exportFlagAppointments:!1,sendingToSupport:!1,exportMessagePayload:{}}},mounted(){Object.prototype.hasOwnProperty.call(this.exportMessagePayload,"reply_to")&&this.exportMessagePayload.reply_to||(this.exportMessagePayload.reply_to=this.settings.global.admin_email,this.getGuides({"ssasc-plugin-screen":j.import_export}))},watch:{exportFlagSettings(){this.exportFlagSettings||(this.exportFlagAppointmentTypes=!1,this.exportFlagAppointments=!1)},exportFlagAppointmentTypes(){this.exportFlagAppointmentTypes?this.exportFlagSettings=!0:this.exportFlagAppointments=!1},exportFlagAppointments(){this.exportFlagAppointments&&(this.exportFlagSettings=!0,this.exportFlagAppointmentTypes=!0)},importCode(){this.validateImportCode()}},computed:{exportCode(){return JSON.stringify(this.exportCode)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","api"]),...(0,o.rn)("import_export",["exportCode"])},methods:{generateExportCode(){const t={settings:this.exportFlagSettings,appointment_types:this.exportFlagAppointmentTypes,appointments:this.exportFlagAppointments,anonymize_customer_information:this.anonymizeExport,future_appointments_only:this.futureAppointmentsOnly};this.generatingCode=!0,this.fetchExportCode(t).then((()=>{this.generatingCode=!1,this.showCode=!0}))},sendExportCode(){Object.prototype.hasOwnProperty.call(this.settings,"license")&&(this.exportMessagePayload.license=this.settings.license.license),Object.prototype.hasOwnProperty.call(this.api,"site_url")&&(this.exportMessagePayload.site_url=this.api.site_url),this.exportMessagePayload.reply_to=this.settings.global.admin_email,this.exportMessagePayload.export_code=JSON.stringify(this.exportCode),this.exportMessagePayload.message=this.translations.settings.import_export.send_to_support_message,this.sendingToSupport=!0,this.sendSupportMessage(this.exportMessagePayload).then((()=>{this.sendingToSupport=!1,this.$refs.exportCodeSentToSupport.open()}))},selectCode(){this.$refs.exportCodeArea.select()},copyExportCode(){this.$refs.exportCodeArea.select(),document.execCommand("copy"),this.$refs.exportCodeNotice.open()},validateImportCode(){if(!this.importCode||""===this.importCode)return this.importCodeIsValid=!0,void(this.importStatus=null);this.importCodeIsValid=this.isValidJSON(this.importCode),this.importCodeIsValid?this.importStatus=null:this.importStatus="error"},isValidJSON(t){try{const e=JSON.parse(t);return"object"===typeof e}catch(e){return!1}},async processImportCode(){this.importingCode=!0,this.importStatus=null,this.importStatusResponse=null;const t={settings:!0,appointment_types:!0,appointments:!0,anonymize_customer_information:!1};await this.fetchExportCode(t);try{const t=await this.importJSONCode(this.importCode);this.importingCode=!1,this.importStatus="success",this.importStatusResponse=t,setTimeout((()=>{window.location.reload()}),3e3)}catch(e){this.importingCode=!1,this.importStatus="error",this.importStatusResponse=e}},...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("import_export",["fetchExportCode","importJSONCode","sendSupportMessage"])}},Nr=Lr,Ur=(0,q.Z)(Nr,Mr,Er,!1,null,null,null),Gr=Ur.exports,Fr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[s("settings-header"),s("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),s("md-dialog-confirm",{ref:"confirmReset",attrs:{"md-title":t.translations.settings.styles.confirmTitle,"md-content-html":t.translations.settings.styles.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),s("md-input-container",[s("label",{attrs:{for:"accentColor"}},[t._v(t._s(t.translations.settings.styles.accentColor))]),s("color-picker",{attrs:{disabled:t.saving},model:{value:t.accent_color,callback:function(e){t.accent_color=e},expression:"accent_color"}})],1),s("md-input-container",[s("label",{attrs:{for:"backgroundColor"}},[t._v(t._s(t.translations.settings.styles.backgroundColor))]),s("color-picker",{attrs:{disabled:t.saving},model:{value:t.background_color,callback:function(e){t.background_color=e},expression:"background_color"}})],1),s("md-input-container",[s("label",{attrs:{for:"font"}},[t._v(t._s(t.translations.settings.styles.font)+"*")]),s("select2",{attrs:{name:"font",id:"font",disabled:t.saving,required:""},model:{value:t.font,callback:function(e){t.font=e},expression:"font"}},[s("optgroup",{attrs:{label:"System Fonts"}},t._l(t.systemFonts,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0),s("optgroup",{attrs:{label:"Google Fonts"}},t._l(t.googleFontList,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)]),s("span",{staticClass:"md-helper-text"},[s("a",{attrs:{href:"https://fonts.google.com/",target:"_blank"}},[t._v(t._s(t.translations.settings.styles.googleFonts))])])],1),s("md-input-container",{class:{"md-input-invalid":t.padding.length<1}},[s("label",{attrs:{for:"padding"}},[t._v(t._s(t.translations.settings.styles.padding))]),s("md-input",{attrs:{disabled:t.saving,required:""},model:{value:t.padding,callback:function(e){t.padding=e},expression:"padding"}}),t.padding.length<1?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.styles.requiredPadding))]):s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.styles.cssUnits))])],1),s("div",[s("md-switch",{attrs:{"md-theme":"reverse",disabled:t.saving},model:{value:t.contrast,callback:function(e){t.contrast=e},expression:"contrast"}},[t._v(t._s(t.translations.settings.styles.contrast)+" ("+t._s(t.translations.settings.styles.contrastHelper)+")")])],1),s("div",[s("md-button",{staticClass:"md-primary md-dense",attrs:{"md-theme":"grey"},on:{click:t.toggleCustomCSS}},[t._v(t._s(t.translations.settings.styles.customCSS))]),t.viewCSS?s("prism-editor",{attrs:{language:"css",highlight:t.highlighter,"line-numbers":!0},model:{value:t.css,callback:function(e){t.css=e},expression:"css"}}):t._e()],1),s("div",{staticClass:"button-bar align-right"},[s("md-button",{staticClass:"md-raised",on:{click:t.confirmReset}},[t._v(t._s(t.translations.settings.styles.reset))]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStyles}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(t._s(t.translations.general.save))]],2),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},Wr=[],Br=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"color-picker-container",on:{click:t.pickColor}},[s("span",{staticClass:"color-sample",style:"background-color:"+t.rgba}),s("md-input",{attrs:{readonly:"",required:"",disabled:t.disabled},model:{value:t.displayValue,callback:function(e){t.displayValue=e},expression:"displayValue"}}),s("md-dialog",{ref:"picker",staticClass:"color-picker"},[s("md-dialog-content",[s("chrome",{on:{input:t.updateValue},model:{value:t.colors,callback:function(e){t.colors=e},expression:"colors"}})],1)],1)],1)},Rr=[],qr=s(677),Hr={name:"colorPicker",props:["value","disabled"],components:{Chrome:qr.Chrome},data(){return{colors:""}},beforeMount(){this.colors=this.value},watch:{value:function(t){this.colors=t}},computed:{rgba(){if("string"===typeof this.colors)return this.colors;{let t=[this.colors.rgba.r,this.colors.rgba.g,this.colors.rgba.b,this.colors.rgba.a],e="rgba(";return e+=t.join(","),e+=")",e}},displayValue:{get(){if("string"===typeof this.colors){let t=this.colors.substring(this.colors.indexOf("(")).split(","),e=parseInt(t[0].substring(1).trim(),10),s=parseInt(t[1].trim(),10),i=parseInt(t[2].trim(),10),n=parseFloat(t[3].substring(0,t[3].length-1).trim()).toFixed(2);return"#"+e.toString(16)+s.toString(16)+i.toString(16)+" ("+(100*n).toString(10)+"%)"}return this.colors.hex+" ("+parseInt(100*this.colors.rgba.a)+"%)"},set(){}}},methods:{pickColor(){this.disabled||this.$refs["picker"].open()},updateValue(){this.$emit("input",this.rgba)}}},Zr=Hr,Kr=(0,q.Z)(Zr,Br,Rr,!1,null,null,null),Vr=Kr.exports,Yr=s(8084),Jr=s(5850),Xr=(s(1932),{name:"settingsStyle",store:wv,components:{SettingsHeader:tr,ColorPicker:Vr,Select2:mn,PrismEditor:Yr.h},data(){return{saving:!1,dirty:!1,viewCSS:!1,systemFonts:w}},beforeMount(){this.mergeDefaultStyles(this.settings)},mounted(){this.getGuides({"ssasc-plugin-screen":j.styles})},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(t=>{"ok"===t?(s(),this.fetchSettings()):s(!1)}))}else s()},watch:{accent_color:function(t,e){t!==e&&(this.dirty=!0)},background_color:function(t,e){t!==e&&(this.dirty=!0)},contrast:function(t,e){t!==e&&(this.dirty=!0)},font:function(t,e){t!==e&&(this.dirty=!0)},padding:function(t,e){t!==e&&(this.dirty=!0)}},computed:{accent_color:{get(){return this.settings.styles.accent_color},set(t){this.updateAccentColor({value:t,settings:this.settings})}},background_color:{get(){return this.settings.styles.background},set(t){this.updateBackgroundColor({value:t,settings:this.settings})}},contrast:{get(){return this.settings.styles.contrast},set(t){this.updateContrast({value:t,settings:this.settings})}},font:{get(){return this.settings.styles.font},set(t){this.updateFont({value:t,settings:this.settings})}},padding:{get(){return this.settings.styles.padding},set(t){this.updatePadding({value:t,settings:this.settings})}},css:{get(){return this.settings.styles.css?this.settings.styles.css:"/* "+this.translations.settings.styles.cssComment+" */"},set(t){this.setCss({value:t,settings:this.settings})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("styles",["googleFontList"])},methods:{confirmReset(){this.$refs["confirmReset"].open(),this.$refs["confirmReset"].$on("close",(t=>{"ok"===t&&this.resetStyles(this.settings)}))},saveStyles(){this.padding&&(this.saving=!0,this.updateStyles().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})))},toggleCustomCSS(){this.viewCSS=!this.viewCSS},highlighter(t){return(0,Jr.highlight)(t,Jr.languages.css)},...(0,o.nv)(["fetchSettings"]),...(0,o.OI)("styles",["mergeDefaultStyles","updateAccentColor","updateBackgroundColor","updateContrast","updateFont","updatePadding","setCss","resetStyles"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("styles",["updateStyles"])}}),Qr=Xr,tl=(0,q.Z)(Qr,Fr,Wr,!1,null,null,null),el=tl.exports,sl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[s("settings-header"),s("p",[t._v(t._s(t.translations.settings.translations.description))]),t.uninstalledLanguagePacks.length>0?s("md-layout",{attrs:{"md-vertical-align":"center"}},[s("md-layout",{staticStyle:{flex:"1"}},[s("md-input-container",[s("label",{attrs:{for:"translationPack"}},[t._v(" "+t._s(t.translations.settings.translations.selectPack)+" ")]),s("select2",{attrs:{name:"translationPack",disabled:t.saving,"allow-clear":!0,placeholder:t.translations.settings.translations.selectPack,id:"translationPack"},model:{value:t.pack,callback:function(e){t.pack=e},expression:"pack"}},t._l(t.uninstalledLanguagePacks,(function(e){return s("option",{key:e.locale,domProps:{value:e.locale}},[t._v(" "+t._s(t.displayLanguage(e.locale))+" ")])})),0)],1)],1),s("md-layout",[s("div",{staticStyle:{"padding-left":"1rem"}},[s("md-button",{staticClass:"md-primary md-raised",attrs:{type:"submit",disabled:t.saving}},[t._v(" "+t._s(t.translations.settings.translations.fetchInstall)+" ")]),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)])],1):t._e(),t.showTable?[s("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.translations.installedTranslations))]),s("md-table",{class:{"saving-fade":t.saving}},[s("md-table-header",[s("md-table-row",[s("md-table-head",[t._v(t._s(t.translations.settings.translations.languagePack))]),s("md-table-head",[t._v(t._s(t.translations.settings.translations.lastUpdated))])],1)],1),s("md-table-body",t._l(t.settings.translation.locales,(function(e,i){return s("md-table-row",{key:i},[s("md-table-cell",[s("div",[t._v(t._s(t.displayLanguage(i)))]),s("div",[s("a",{attrs:{href:t.improveLink(i),target:"_blank"}},[t._v(" "+t._s(t.translations.settings.translations.improveTranslation)+" ")])])]),s("md-table-cell",[t._v(" "+t._s(t.moment.utc(e.last_fetched_date,t.timestampFormat).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "),s("md-button",{staticClass:"md-icon-button md-primary",attrs:{disabled:t.saving},on:{click:function(e){return t.refreshLanguagePack(i)}}},[s("md-icon",[t._v("refresh")])],1)],1)],1)})),1)],1)]:t._e()],2)},il=[],nl={name:"settingsTranslations",components:{SettingsHeader:tr,Select2:mn},data(){return{moment:W(),pack:null,saving:!1,translationPacks:P}},mounted(){this.getGuides({"ssasc-plugin-screen":j.translations})},computed:{showTable(){return!Ae().isEmpty(this.settings.translation.locales)},uninstalledLanguagePacks(){return this.translationPacks.filter((t=>!Object.prototype.hasOwnProperty.call(this.settings.translation.locales,t.locale)))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["timestampFormat","settings"])},methods:{displayLanguage(t){let e=this.translationPacks.find((e=>e.locale===t));return e.title===e.title_localized?e.title:e.title+" / "+e.title_localized},handleSubmit(){this.pack&&(this.saving=!0,this.fetchLanguagePack(this.pack).then((()=>{this.refreshLanguageTable()})).catch((t=>{console.log(t),this.saving=!1})))},improveLink(t){let e=t.split("_");e=e.map((t=>t.toLowerCase()));let s=e[0]===e[1]?e[0]:e.join("-");return"https://translate.wordpress.org/projects/wp-plugins/simply-schedule-appointments/dev/"+s+"/default/"},refreshLanguagePack(t){this.saving=!0,this.fetchLanguagePack(t).then((()=>{this.refreshLanguageTable()})).catch((t=>{console.log(t),this.saving=!1}))},refreshLanguageTable(){this.fetchTranslationSettings().then((()=>{this.saving=!1,this.pack=null,location.reload()})).catch((t=>{console.log(t)}))},...(0,o.nv)("translations",["fetchLanguagePack","fetchTranslationSettings"]),...(0,o.nv)("guides",["getGuides"])}},al=nl,ol=(0,q.Z)(al,sl,il,!1,null,null,null),rl=ol.exports,ll=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"google-calendar-settings"},[t.header?s("settings-header"):t._e(),t.settings.google_calendar.enabled||t.showDisabled?[t.account_authorized?t._e():s("google-calendar-auth"),t.account_authorized?[s("google-calendar-list"),t.settings.developer.beta_calendar_events?s("settings-calendar-events"):t._e()]:t._e()]:s("setting-not-enabled")],2)},dl=[],pl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSettings.apply(null,arguments)}}},[s("p",[t._v(t._s(t.translations.settings.google_calendar.enterApi))]),s("md-button",{staticClass:"md-primary md-raised",attrs:{href:"https://simplyscheduleappointments.com/document/getting-your-client-id-and-client-secret-from-google/",target:"_blank"}},[t._v(" "+t._s(t.translations.wizard.googleCalendar.showMeHow)+" ")]),s("hr"),s("md-input-container",{class:{"md-input-invalid":t.$v.client_id.$invalid&&t.$v.client_id.$dirty}},[s("label",{attrs:{for:"client_id"}},[t._v(t._s(t.translations.settings.google_calendar.clientId))]),s("md-input",{attrs:{id:"client_id",required:"",disabled:t.saving},on:{blur:t.clientIdCheck},model:{value:t.$v.client_id.$model,callback:function(e){t.$set(t.$v.client_id,"$model","string"===typeof e?e.trim():e)},expression:"$v.client_id.$model"}}),t.$v.client_id.$invalid&&t.$v.client_id.$dirty?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.wizard.googleCalendar.clientIdError)+" ")]):t._e()],1),s("md-input-container",{class:{"md-input-invalid":t.$v.client_secret.$invalid&&t.$v.client_secret.$dirty}},[s("label",{attrs:{for:"client_secret"}},[t._v(t._s(t.translations.settings.google_calendar.clientSecret))]),s("md-input",{attrs:{id:"client_secret",required:"",disabled:t.saving},on:{blur:t.clientSecretCheck},model:{value:t.$v.client_secret.$model,callback:function(e){t.$set(t.$v.client_secret,"$model","string"===typeof e?e.trim():e)},expression:"$v.client_secret.$model"}}),t.$v.client_secret.$invalid&&t.$v.client_secret.$dirty?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.wizard.googleCalendar.clientSecretError)+" ")]):t._e()],1),s("div",{staticClass:"button-bar align-right"},[s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.google_calendar.saveAuthorize)+" ")]],2),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},cl=[],ml={name:"settingsGoogleCalendarAuth",mixins:[ui.oE],data(){return{needHelp:!1,saving:!1}},validations:{client_id:{required:gi.C1},client_secret:{required:gi.C1}},computed:{client_id:{get(){return this.settings.google_calendar.client_id},set(t){this.updateGoogleCalendarClientId({settings:this.settings,value:t})}},client_secret:{get(){return this.settings.google_calendar.client_secret},set(t){this.updateGoogleCalendarClientSecret({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","router"]),...(0,o.rn)("google_calendar",["googleAuthUrl"])},methods:{clientIdCheck(){this.$emit("clientidcheck",this.client_id.length>0)},clientSecretCheck(){this.$emit("clientsecretcheck",this.client_secret.length>0)},saveSettings(){if(this.$v.$touch(),this.$v.$invalid)return;this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.updateGoogleCalendarEnabled({settings:this.settings,value:!0}),this.updateGoogleCalendarSettings().then((()=>{this.googleCalendarAuth({ssa_redirect:this.$route.path,ssa_base_url:t}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.googleAuthUrl:window.location.href=this.googleAuthUrl}))}))},...(0,o.OI)("google_calendar",["updateGoogleCalendarClientId","updateGoogleCalendarClientSecret","updateGoogleCalendarEnabled"]),...(0,o.nv)("google_calendar",["updateGoogleCalendarSettings","googleCalendarAuth"])}},ul=ml,gl=(0,q.Z)(ul,pl,cl,!1,null,null,null),hl=gl.exports,_l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("loading",{attrs:{message:t.translations.settings.google_calendar.loadingCalendars}}):t.error?s("empty",{attrs:{label:t.errorMessage,description:t.translations.wizard.googleCalendar.failedToFetchDescription}},[s("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1):s("md-whiteframe",[s("md-toolbar",{staticClass:"md-primary"},[s("h2",{staticClass:"md-title",staticStyle:{flex:"1","line-height":"20px"}},[s("span",{staticClass:"sub"},[t._v(" "+t._s(t.translations.settings.google_calendar.account)+" ")]),t._v(" "+t._s(t.googleCalendarAccountName)+" ")]),s("md-button",{on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1),s("md-layout",{attrs:{"md-gutter":""}},[s("md-layout",{attrs:{"md-flex":"50"}},[s("google-calendar-sync")],1),s("md-layout",{attrs:{"md-flex":"50"}},[s("google-calendar-settings")],1)],1)],1)],1)},fl=[],yl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ssa-google-calendar-sync-appointment-types"},[s("h3",[t._v(t._s(t.translations.settings.google_calendar.calendarSync))]),s("p",[t._v(" "+t._s(t.translations.settings.google_calendar.authSuccess)+" "+t._s(t.translations.settings.google_calendar.authNext)+" ")]),s("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[t._v(" "+t._s(t.translations.settings.google_calendar.appointmentTypesEdit)+" ")])],1)},vl=[],bl={name:"SettingsGoogleCalendarSync",computed:{...(0,o.rn)("translations",["translations"])}},kl=bl,Cl=(0,q.Z)(kl,yl,vl,!1,null,null,null),Sl=Cl.exports,wl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ssa-google-calendar-sync-settings"},[s("div",[s("h3",[t._v(" "+t._s(t.translations.settings.google_calendar.webMeetingsHeadline)+" ")]),s("md-switch",{attrs:{"md-theme":"reverse",disabled:t.saving},model:{value:t.web_meetings,callback:function(e){t.web_meetings=e},expression:"web_meetings"}},[s("span",{staticClass:"md-switch-label"},[t._v(" "+t._s(t.translations.settings.google_calendar.webMeetingsToggleLabel)+" ")])])],1),s("div",[s("h3",[t._v(" "+t._s(t.translations.settings.google_calendar.deleteEventsHeadline)+" ")]),s("md-switch",{attrs:{"md-theme":"reverse",disabled:t.saving},model:{value:t.delete_events,callback:function(e){t.delete_events=e},expression:"delete_events"}},[s("span",{staticClass:"md-switch-label"},[t._v(" "+t._s(t.translations.settings.google_calendar.deleteEventsToggleLabel)+" ")])])],1),s("fieldset",[s("legend",{staticStyle:{"font-size":"1.17em","font-weight":"bold","margin-bottom":"1rem"}},[t._v(" "+t._s(t.translations.settings.google_calendar.refreshIntervalHeadline)+" ")]),s("p",[t._v(" "+t._s(t.translations.settings.google_calendar.refreshIntervalDesc)+" ")]),s("duration",{model:{value:t.refresh_interval,callback:function(e){t.refresh_interval=e},expression:"refresh_interval"}})],1),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},Tl=[],xl={name:"SettingsGoogleCalendarSettings",components:{Duration:mi},data(){return{saving:!1}},computed:{refresh_interval:{get(){return parseInt(this.settings.google_calendar.refresh_interval,10)},set(t){this.setGoogleCalendarRefreshInterval({settings:this.settings,value:t}),this.saveSettings()}},web_meetings:{get(){return this.settings.google_calendar.web_meetings},set(t){this.setGoogleCalendarWebMeetings({settings:this.settings,value:t}),this.saveSettings()}},delete_events:{get(){return this.settings.google_calendar.delete_canceled_events},set(t){this.setGoogleCalendarDeleteEvents({settings:this.settings,value:t}),this.saveSettings()}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.saving=!0,this.updateGoogleCalendarSettings().then((()=>{this.saving=!1}))},...(0,o.OI)("google_calendar",["setGoogleCalendarWebMeetings","setGoogleCalendarDeleteEvents","setGoogleCalendarRefreshInterval"]),...(0,o.nv)("google_calendar",["updateGoogleCalendarSettings"])}},Al=xl,Pl=(0,q.Z)(Al,wl,Tl,!1,null,null,null),Ml=Pl.exports,El={name:"settingsGoogleCalendarList",store:wv,components:{Loading:et,Empty:Jt,GoogleCalendarSync:Sl,GoogleCalendarSettings:Ml},data(){return{loading:!0,error:!1,errorMessage:""}},mounted(){this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars().then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0,this.errorMessage=this.translations.wizard.googleCalendar.failedToFetch}))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("google_calendar",["googleCalendars"]),...(0,o.Se)("google_calendar",["googleCalendarAccountName","googleCalendarAccountEmail"]),...(0,o.Se)("appointment_types",["editableAppointmentTypeIds"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{disconnectAccount(){this.googleCalendarDeauth()},editAppointmentType(){let t=this.editableAppointmentTypeIds[0];Pf.push(`/ssa/appointment-types/type/${t}`)},openBulkEdit(){this.updateBulkEditing(this.editableAppointmentTypeIds),Pf.push({name:"appointment-type-bulk-edit",params:{section:"googleCalendar"}})},...(0,o.nv)("google_calendar",["fetchGoogleCalendars","googleCalendarDeauth"]),...(0,o.OI)("appointment_types",["updateBulkEditing"])}},Dl=El,$l=(0,q.Z)(Dl,_l,fl,!1,null,null,null),Ol=$l.exports,Il=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("empty",{attrs:{label:t.translations.settings.featureNotEnabled,description:t.translations.settings.featureNotEnabledDescription}},[s("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/settings/all"}},[t._v(" "+t._s(t.translations.settings.returnToSettings)+" ")])],1)},zl=[],jl={name:"settingNotEnabled",components:{Empty:Jt},data(){return{}},computed:{...(0,o.rn)("translations",["translations"])}},Ll=jl,Nl=(0,q.Z)(Ll,Il,zl,!1,null,null,null),Ul=Nl.exports,Gl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ssa-calendar-event-customization"},[s("h2",[t._v(t._s(t.translations.settings.calendar_events.title))]),s("p",[t._v(t._s(t.translations.settings.calendar_events.description))]),s("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.customizeCalendarEvents,callback:function(e){t.customizeCalendarEvents=e},expression:"customizeCalendarEvents"}},[t._v(" "+t._s(t.translations.settings.calendar_events.switch_label)+" ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.customizeCalendarEvents,expression:"customizeCalendarEvents"}],staticClass:"event-settings"},[s("accordion",t._l(t.typesKeys,(function(e){return s("accordion-item",{key:e,attrs:{label:t.translations.settings.calendar_events.types[e].title,message:t.calendarEventsHelper[e],index:e,section:"event-types",open:t.section,error:!t.typesValid[e]},on:{updateActive:t.updateSection}},[s("settings-calendar-events-edit",{attrs:{type:e},on:{change:t.validate}})],1)})),1),s("div",{staticClass:"button-bar"},[s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.invalidEvents},on:{click:t.saveEvents}},[t._v(" "+t._s(t.translations.settings.calendar_events.save)+" ")]),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),s("md-snackbar",{ref:"saveCalendarEvents",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.calendar_events.success))])])],1)],1)},Fl=[],Wl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["customer"===t.type?s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.eventTypeDescription)+" ")]):s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.eventTypeDescription)+" "+t._s(t.translations.settings.calendar_events.sample_appointment_types)+" "+t._s(t.sampleAppointmentTypes)+". ")]),s("fieldset",{staticClass:"md-fieldset has-top-menu required"},[s("legend",[t._v(" Event Title ")]),s("token-text",{attrs:{options:t.notificationTokens,error:t.errors.title,required:!0,"plain-text":!0},on:{validate:t.validateTitle},model:{value:t.eventTitle,callback:function(e){t.eventTitle=e},expression:"eventTitle"}})],1),s("fieldset",{staticClass:"md-fieldset has-top-menu required"},[s("legend",[t._v(" Event Location ")]),s("token-text",{attrs:{options:t.notificationTokens,error:t.errors.location,required:!0,"plain-text":!0},on:{validate:t.validateLocation},model:{value:t.eventLocation,callback:function(e){t.eventLocation=e},expression:"eventLocation"}})],1),s("fieldset",{staticClass:"md-fieldset has-top-menu required"},[s("legend",[t._v("Event Details")]),s("token-text",{attrs:{options:t.notificationTokens,error:t.errors.details,required:!0,"plain-text":!0},on:{validate:t.validateDetails},model:{value:t.eventDetails,callback:function(e){t.eventDetails=e},expression:"eventDetails"}})],1)],1)},Bl=[],Rl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"token-text"},[s("div",{staticClass:"token-toolbar"},[t.showPreview?s("foxy-icon-button",{attrs:{theme:"light-green",theming:"primary"},on:{click:t.displayPreview}},[t._v("remove_red_eye ")]):t._e(),s("foxy-menu",{attrs:{options:t.options,icon:"text_fields",theme:"light-green",theming:"primary"},on:{selection:t.insertMessageToken}})],1),s("at",{attrs:{ats:["{{"],members:t.options,suffix:"}}"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}},[s("div",{ref:"messageContent",class:t.errorMessage?"error":"",attrs:{contenteditable:"","data-lt-active":"false","data-gramm":"false"},on:{paste:t.sanitize}})]),t.errorMessage?s("span",{staticClass:"md-error"},[t._v(t._s(t.errorMessage))]):t._e()],1)},ql=[],Hl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-menu-surface--anchor"},[s("foxy-icon-button",{on:{click:t.openMenu}},[t._v(t._s(t.icon))]),s("div",{ref:"foxyMenu",staticClass:"mdc-menu mdc-menu-surface"},[s("ul",{staticClass:"mdc-list",attrs:{role:"menu","aria-hidden":"true","aria-orientation":"vertical"}},t._l(t.options,(function(e,i){return s("li",{key:i,staticClass:"mdc-list-item",attrs:{role:"menuitem"}},[s("span",{staticClass:"mdc-list-item__text"},[t._v(t._s(e))])])})),0)])],1)},Zl=[];const Kl={inheritAttrs:!1},Vl=["primary","secondary","background","surface","on-primary","on-secondary","on-surface","primary-bg","secondary-bg","text-primary-on-light","text-secondary-on-light","text-hint-on-light","text-disabled-on-light","text-icon-on-light","text-primary-on-dark","text-secondary-on-dark","text-hint-on-dark","text-disabled-on-dark","text-icon-on-dark"],Yl={props:{theming:{type:String,default:""},theme:{type:String,default:"default"}},mounted(){Vl.indexOf(this.theming)>-1&&this.$el.classList.add("mdc-theme--"+this.theming),this.theme&&this.$el.classList.add("mdc-theme-name--"+this.theme)}};function Jl(t){return{version:"__VERSION__",install:e=>{for(let s in t){let i=t[s];e.component(i.name,i)}},components:t}}var Xl=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"mdc-icon-button material-icons",on:{click:t.handleClick}},[t._t("default")],2)},Ql=[],td=s(8578),ed={name:"mdc-icon-button",mixins:[Yl,Kl],data(){return{mdcRipple:void 0}},mounted(){this.mdcRipple=new td.F(this.$el),this.mdcRipple.unbounded=!0},methods:{handleClick(t){t.preventDefault(),this.$emit("click")}}},sd=ed,id=(0,q.Z)(sd,Xl,Ql,!1,null,null,null),nd=id.exports,ad=s(5448),od={name:"mdc-menu",mixins:[Kl,Yl],props:{options:[Array],icon:[String]},components:{FoxyIconButton:nd},data(){return{mdcMenu:void 0}},mounted(){this.mdcMenu=new ad.g(this.$refs.foxyMenu),this.mdcMenu.listen("MDCMenu:selected",this.handleSelection)},beforeDestroy(){this.mdcMenu.unlisten("MDCMenu:selected",this.handleSelection),this.mdcMenu.destroy()},methods:{handleSelection(t){this.$emit("selection",t)},openMenu(){this.mdcMenu.open=!0}}},rd=od,ld=(0,q.Z)(rd,Hl,Zl,!1,null,null,null),dd=ld.exports,pd=s(7601),cd=s.n(pd);const md=(t="")=>{let e=String(t);return e=e.replace(/&nbsp;/gi," "),e=e.replace(/&amp;/gi,"&"),e=e.replace(/<br>/gi,"\n"),e=e.replace(/<div>/gi,"\n"),e=e.replace(/<p>/gi,"\n"),e=e.replace(/<(.*?)>/g,""),e=e.split("\n").map(((t="")=>t.trim())).join("\n"),e=e.replace(/\n\n+/g,"\n\n"),e=e.replace(/[ ]+/g," "),e=e.trim(),e},ud=(t="")=>md(t).replace(/\n/g,"<br>"),gd=t=>{t.preventDefault();let e="";const s=!(!t.clipboardData||"object"!==typeof t.clipboardData||"function"!==typeof t.clipboardData.getData);s&&(e=t.clipboardData.getData("text/plain"));const i=document.createElement("textarea");i.innerHTML=e,e=i.innerText,e=md(e),"function"===typeof document.execCommand&&document.execCommand("insertText",!1,e)},hd=t=>{let e=0;const s="undefined"!==typeof window.getSelection;if(s){const s=window.getSelection();if(0!==s.rangeCount){const s=window.getSelection().getRangeAt(0),i=s.cloneRange();i.selectNodeContents(t),i.setEnd(s.endContainer,s.endOffset),e=i.toString().length}}return e},_d=(t,e)=>{for(var s of t.childNodes)if(3===s.nodeType){if(s.length>=e){var i=document.createRange(),n=window.getSelection();return i.setStart(s,e),i.collapse(!0),n.removeAllRanges(),n.addRange(i),-1}e-=s.length}else if(e=_d(s,e),-1===e)return-1;return e};var fd={name:"TokenText",props:{options:Array,value:String,plainText:Boolean,showPreview:{default:!1,type:Boolean},required:{default:!1,type:Boolean}},components:{FoxyMenu:dd,At:cd(),FoxyIconButton:nd},data(){return{error:null,debouncedValidation:null,caretPos:null}},watch:{message(){this.debouncedValidation(),this.$emit("preview"),this.plainText&&this.$nextTick((()=>{_d(this.$refs.messageContent,this.caretPos)}))}},mounted(){this.debouncedValidation=Ae().debounce(this.validate,500)},computed:{message:{get(){return this.plainText?ud(this.value):this.value},set(t){this.plainText?(this.caretPos=hd(this.$refs.messageContent),this.$emit("input",md(t))):this.$emit("input",t)}},errorMessage(){return this.required&&!this.trimmedMessage?this.translations.tokenText.errors.required:this.error?this.error:null},trimmedMessage(){return this.message.replace(/<[^>]+>/g,"").trim()},...(0,o.rn)("translations",["translations"])},methods:{displayPreview(){this.$emit("preview")},insertMessageToken(t){let e=this.$refs.messageContent,s=document.createTextNode("{{"+t.detail.item.innerText+"}}"),i=window.getSelection();if(!i.anchorNode||!i.anchorNode.isContentEditable&&!i.anchorNode.parentNode.isContentEditable){let t=document.createRange();return t.selectNodeContents(e),t.collapse(!1),t.insertNode(s),t.setStartAfter(s),i=window.getSelection(),i.removeAllRanges(),void i.addRange(t)}let n=i.getRangeAt(0);n.deleteContents(),n.insertNode(s),n.setStartAfter(s),i.removeAllRanges(),i.addRange(n),this.message=e.innerHTML},validate(){this.error=null,this.trimmedMessage?this.validateTwigString(this.message).then((()=>{this.error=null,this.$emit("validate",!0)})).catch((()=>{this.error=this.translations.tokenText.errors.validationError,this.$emit("validate",!1)})):this.required?this.$emit("validate",!1):this.$emit("validate",!0)},sanitize(t){this.plainText&&gd(t)},...(0,o.nv)(["validateTwigString"])}},yd=fd,vd=(0,q.Z)(yd,Rl,ql,!1,null,null,null),bd=vd.exports,kd={name:"SettingsCalendarEventsEdit",props:["type"],components:{TokenText:bd,Notification:vs},data(){return{notificationTokens:_,errors:{title:null,location:null,details:null}}},mounted(){this.validate()},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.Se)("appointment_types",["allCalendarEventTypes","appointmentTypesGroupedByEventType"]),eventSettings(){return this.allCalendarEventTypes[this.type]},eventTitle:{get(){return this.eventSettings.title},set(t){const e=Object.assign({},this.eventSettings);e.title=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventLocation:{get(){return this.eventSettings.location},set(t){const e=Object.assign({},this.eventSettings);e.location=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventDetails:{get(){return this.eventSettings.details},set(t){const e=Object.assign({},this.eventSettings);e.details=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventTypeDescription(){return["individual_shared","individual_admin","group_admin"].includes(this.type)&&this.settings.installed.staff&&this.settings.staff.enabled?this.translations.settings.calendar_events.types[this.type].description_staff:this.translations.settings.calendar_events.types[this.type].description},sampleAppointmentTypes(){const t=this.appointmentTypes.filter((t=>-1!==this.appointmentTypesGroupedByEventType[this.type].indexOf(t.id))).map((t=>`"${t.title}"`));if(t.length){if(1===t.length)return t[0];{const e=t.slice(0,3);if(t.length>1&&t.length<4){const t=e.pop();return`${e.join(", ")} ${this.translations.settings.calendar_events.and} ${t}`}if(t.length>=4)return`${e.join(", ")} ${this.translations.settings.calendar_events.and_more}`}}return null},helperText(){let t=`${this.eventTypeDescription} ${this.translations.settings.calendar_events.sample_appointment_types} ${this.sampleAppointmentTypes}`;return t}},methods:{validate(){Object.keys(this.errors).forEach((t=>{const e=""===this.eventSettings[t].replace(/<[^>]+>/g,"").trim();e||this.errors[t]?this.errors[t]=!0:this.errors[t]=!1})),this.$emit("change",this.type,this.errors)},validateTitle(t){this.errors.title=!t,this.validate()},validateLocation(t){this.errors.location=!t,this.validate()},validateDetails(t){this.errors.details=!t,this.validate()},...(0,o.OI)("google_calendar",["setCalendarEventType"])}},Cd=kd,Sd=(0,q.Z)(Cd,Wl,Bl,!1,null,null,null),wd=Sd.exports,Td={name:"SettingsCalendarEvents",components:{Accordion:Xs,AccordionItem:ni,SettingsCalendarEventsEdit:wd},data(){return{section:null,saving:!1,dirty:!1,typesValid:{}}},created(){this.typesKeys.forEach((t=>{this.$set(this.typesValid,t,!0)}))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("appointment_types",["allCalendarEventTypes","allowedEventTypes"]),customizeCalendarEvents:{get(){return this.settings.calendar_events.enabled},set(t){this.setCalendarEventsEnabled({settings:this.settings,value:t}),this.saveEvents()}},typesKeys(){return Object.keys(this.allCalendarEventTypes).filter((t=>this.allowedEventTypes.includes(t)))},invalidEvents(){return Object.values(this.typesValid).filter((t=>!t)).length>0},calendarEventsHelper(){let t={};return this.typesKeys.forEach((e=>{["individual_admin","group_admin"].includes(e)&&this.settings.installed.staff&&this.settings.staff.enabled?t[e]=this.translations.settings.calendar_events.types[e].helper_staff:t[e]=this.translations.settings.calendar_events.types[e].helper})),t}},methods:{...(0,o.OI)("google_calendar",["setCalendarEventsEnabled"]),...(0,o.nv)("google_calendar",["updateCalendarEventsSettings"]),updateSection(t){this.section=t||null},validate(t,e){this.dirty=!0;const s=0===Object.values(e).filter((t=>t)).length;this.$set(this.typesValid,t,s)},async saveEvents(){this.saving=!0;try{await this.updateCalendarEventsSettings(),this.saving=!1,this.dirty&&(this.$refs.saveCalendarEvents.open(),this.dirty=!1)}catch(t){console.log(t),this.saving=!1}}}},xd=Td,Ad=(0,q.Z)(xd,Gl,Fl,!1,null,null,null),Pd=Ad.exports,Md={name:"settingsGoogleCalendar",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:tr,GoogleCalendarAuth:hl,GoogleCalendarList:Ol,SettingNotEnabled:Ul,SettingsCalendarEvents:Pd},data(){return{}},mounted(){const t=this.account_authorized?{"ssasc-plugin-screen":j.google_calendar.account_activated}:{"ssasc-plugin-screen":j.google_calendar.enabled};this.getGuides(t)},computed:{account_authorized(){return this.settings.google_calendar.access_token},...(0,o.rn)(["settings"])},methods:{cancelEdit(){this.$emit("cancel")},...(0,o.nv)("guides",["getGuides"])}},Ed=Md,Dd=(0,q.Z)(Ed,ll,dl,!1,null,null,null),$d=Dd.exports,Od=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mailchimp-settings"},[s("settings-header"),t.settings.mailchimp.enabled?[t.account_authorized?s("mailchimp-list"):s("mailchimp-auth")]:s("setting-not-enabled")],2)},Id=[],zd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[s("md-input-container",{class:{"md-input-invalid":!t.validKey}},[s("label",{attrs:{for:"api_key"}},[t._v(" "+t._s(t.translations.settings.mailchimp.api_key)+" ")]),s("md-input",{attrs:{id:"api_key",required:""},model:{value:t.api_key,callback:function(e){t.api_key=e},expression:"api_key"}}),t.validKey?s("span",{staticClass:"md-helper-text"},[s("a",{attrs:{href:"https://admin.mailchimp.com/account/api/",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.mailchimp.api_key_helper_label)+" ")])]):s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.mailchimp.apiKeyError)+" ")])],1),s("div",{staticClass:"button-bar align-right"},[s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.mailchimp.saveAuthorize)+" ")]],2),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),s("md-snackbar",{ref:"mcError",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.errorMessage))])])],1)},jd=[],Ld={name:"settingsMailchimpAuth",data(){return{errorMessage:"",saving:!1,validKey:!0}},computed:{api_key:{get(){return this.settings.mailchimp.api_key||""},set(t){this.updateMailchimpApiKey({settings:this.settings,value:t.trim()})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.validateKey(),this.validKey&&(this.saving=!0,this.updateMailchimpSettings().then((()=>{this.authorizeMailchimp().then((()=>{this.saving=!1,this.updateMailchimpAuthorized({settings:this.settings,value:!0})})).catch((t=>{this.saving=!1,this.validKey=!1;let e=t.response_code,s=t.error.errors;this.errorMessage=s[e][0],this.$refs["mcError"].open()}))})))},validateKey(){this.api_key?this.validKey=!0:this.validKey=!1},...(0,o.OI)("mailchimp",["updateMailchimpApiKey","updateMailchimpAuthorized"]),...(0,o.nv)("mailchimp",["updateMailchimpSettings","authorizeMailchimp"])}},Nd=Ld,Ud=(0,q.Z)(Nd,zd,jd,!1,null,null,null),Gd=Ud.exports,Fd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("loading",{attrs:{message:t.loadingMessage}}):s("md-whiteframe",[s("md-toolbar",{staticClass:"md-accent"},[s("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[s("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.mailchimp.lists))]),t._v(t._s(t.settings.mailchimp.account_details.account_name))]),s("md-button",{on:{click:t.disconnect}},[t._v("Disconnect")])],1),s("md-list",t._l(t.settings.mailchimp.lists,(function(e){return s("md-list-item",{key:e.id},[s("span",[t._v(t._s(e.name))])])})),1)],1)],1)},Wd=[],Bd={name:"settingsMailchimpList",store:wv,components:{Loading:et},data(){return{loading:!0,loadingMessage:""}},mounted(){this.settings.mailchimp.lists.length?this.loading=!1:(this.loadingMessage=this.translations.settings.mailchimp.loadingLists,this.fetchMailchimpLists().then((()=>{this.loading=!1})))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{disconnect(){this.loadingMessage=this.translations.settings.mailchimp.deauthorize,this.loading=!0,this.deauthorizeMailchimp().then((()=>{this.loading=!1}))},...(0,o.nv)("mailchimp",["fetchMailchimpLists","deauthorizeMailchimp"])}},Rd=Bd,qd=(0,q.Z)(Rd,Fd,Wd,!1,null,null,null),Hd=qd.exports,Zd={name:"settingsMailchimp",store:wv,components:{SettingsHeader:tr,MailchimpAuth:Gd,MailchimpList:Hd,SettingNotEnabled:Ul},data(){return{}},mounted(){this.getGuides({"ssasc-plugin-screen":j.mailchimp})},computed:{account_authorized(){return this.settings.mailchimp.account_details},...(0,o.rn)(["settings"])},methods:{cancelEdit(){this.$emit("cancel")},...(0,o.nv)("guides",["getGuides"])}},Kd=Zd,Vd=(0,q.Z)(Kd,Od,Id,!1,null,null,null),Yd=Vd.exports,Jd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"webex-settings"},[t.header?s("settings-header"):t._e(),t.settings.webex.enabled||t.showDisabled?[t.account_authorized?s("webex-user"):s("webex-auth")]:s("setting-not-enabled")],2)},Xd=[],Qd=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"webex-settings"},[s("p",[t._v(" "+t._s(t.translations.settings.webex.notConnected)+" ")]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.webex.saveAuthorize)+" ")]],2),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},tp=[],ep={name:"settingsWebexAuth",data(){return{saving:!1}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("webex",["webexAuthUrl"])},methods:{saveSettings(){this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:null;this.updateWebexEnabled(!0),this.webexAuth({ssa_redirect:this.$route.path,ssa_base_url:t}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.webexAuthUrl:window.location.href=this.webexAuthUrl}))},...(0,o.OI)("webex",["updateWebexEnabled"]),...(0,o.nv)("webex",["webexAuth"])}},sp=ep,ip=(0,q.Z)(sp,Qd,tp,!1,null,null,null),np=ip.exports,ap=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("loading",{attrs:{message:t.translations.settings.webex.verifying}}):t._e(),!t.loading&&t.error?s("empty",{attrs:{label:t.errorMessage,description:t.translations.settings.webex.failedToFetchDescription}},[s("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.webex.disconnect))])],1):t._e(),!t.loading&&t.webexUser?s("md-whiteframe",[s("md-toolbar",{staticClass:"md-primary"},[s("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[s("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.webex.account))])]),s("md-button",{on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.webex.disconnect))])],1),s("md-layout",{attrs:{"md-gutter":""}},[s("div",{staticClass:"ssa-webex-user"},[s("div",{staticClass:"avatar"},[t.webexUser.avatar?s("md-avatar",{staticClass:"md-primary",attrs:{"md-large":""}},[s("img",{attrs:{src:t.webexUser.avatar,alt:t.webexUser.first_name}})]):s("md-avatar",{staticClass:"md-avatar-icon md-primary",attrs:{"md-large":""}},[s("md-icon",[t._v("person")])],1)],1),s("div",{staticClass:"user"},[s("div",{staticClass:"profile"},[s("h3",{staticClass:"md-display-1"},[t._v(t._s(t.webexUser.first_name)+" "+t._s(t.webexUser.last_name))]),s("p",{staticClass:"md-subhead"},[s("strong",[t._v(t._s(t.translations.settings.zoom.userEmail)+":")]),s("br"),t._v(t._s(t.webexUser.email))])])])])])],1):t._e()],1)},op=[],rp={name:"settingsWebexUser",store:wv,components:{Loading:et,Empty:Jt},data(){return{loading:!0,error:!1,errorMessage:""}},mounted(){this.webexUser?this.loading=!1:this.fetchWebexUser().then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0,this.errorMessage=this.translations.settings.webex.failedToFetch}))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("webex",["webexUser"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{disconnectAccount(){this.webexDeauth().then((()=>{window.location.reload()}))},...(0,o.nv)("webex",["fetchWebexUser","webexDeauth"])}},lp=rp,dp=(0,q.Z)(lp,ap,op,!1,null,null,null),pp=dp.exports,cp={name:"settingsZoom",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:tr,WebexAuth:np,WebexUser:pp,SettingNotEnabled:Ul},computed:{account_authorized(){return this.settings.webex.auth_code},...(0,o.rn)(["settings"])},methods:{cancelEdit(){this.$emit("cancel")},...(0,o.nv)("guides",["getGuides"])}},mp=cp,up=(0,q.Z)(mp,Jd,Xd,!1,null,null,null),gp=up.exports,hp=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"zoom-settings"},[t.header?s("settings-header"):t._e(),t.settings.zoom.enabled||t.showDisabled?[t.account_authorized?s("zoom-user"):s("zoom-auth")]:s("setting-not-enabled")],2)},_p=[],fp=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"zoom-settings"},[s("p",[t._v(" "+t._s(t.translations.settings.zoom.notConnected)+" ")]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.zoom.saveAuthorize)+" ")]],2),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},yp=[],vp={name:"settingsZoomAuth",data(){return{saving:!1}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("zoom",["zoomAuthUrl"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.updateZoomEnabled({settings:this.settings,value:!0}),this.zoomAuth({ssa_redirect:window.ssa_is_embed?this.$route.path:null,ssa_base_url:window.ssa_is_embed?t:null}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.zoomAuthUrl:window.location.href=this.zoomAuthUrl}))},...(0,o.OI)("zoom",["updateZoomEnabled"]),...(0,o.nv)("zoom",["zoomAuth"])}},bp=vp,kp=(0,q.Z)(bp,fp,yp,!1,null,null,null),Cp=kp.exports,Sp=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("loading",{attrs:{message:"Verifying your Zoom user"}}):t._e(),!t.loading&&t.error?s("empty",{attrs:{label:t.errorMessage,description:t.translations.wizard.zoom.failedToFetchDescription}},[s("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.zoom.disconnect))])],1):t._e(),!t.loading&&t.zoomUser?s("md-whiteframe",[s("md-toolbar",{staticClass:"md-primary"},[s("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[s("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.zoom.account))])]),s("md-button",{on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.zoom.disconnect))])],1),s("md-layout",{attrs:{"md-gutter":""}},[s("div",{staticClass:"ssa-zoom-user"},[s("div",{staticClass:"avatar"},[t.zoomUser.pic_url?s("md-avatar",{staticClass:"md-primary",attrs:{"md-large":""}},[s("img",{attrs:{src:t.zoomUser.pic_url,alt:t.zoomUser.first_name}})]):s("md-avatar",{staticClass:"md-avatar-icon md-primary",attrs:{"md-large":""}},[s("md-icon",[t._v("person")])],1)],1),s("div",{staticClass:"user"},[s("div",{staticClass:"profile"},[s("h3",{staticClass:"md-display-1"},[t._v(t._s(t.zoomUser.first_name)+" "+t._s(t.zoomUser.last_name))]),s("p",{staticClass:"md-subhead"},[s("strong",[t._v(t._s(t.translations.settings.zoom.userEmail)+":")]),s("br"),t._v(t._s(t.zoomUser.email))])]),s("div",{staticClass:"meeting-url"},[s("p",[s("strong",[t._v(t._s(t.translations.settings.zoom.userMeetingUrl)+":")]),s("br"),t._v(" "+t._s(t.zoomUser.meeting_url))])])])])])],1):t._e()],1)},wp=[],Tp={name:"settingsZoomUser",store:wv,components:{Loading:et,Empty:Jt},data(){return{loading:!0,error:!1,errorMessage:""}},mounted(){this.zoomUser?this.loading=!1:this.fetchZoomUser().then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0,this.errorMessage=this.translations.wizard.zoom.failedToFetch}))},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("zoom",["zoomUser"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{disconnectAccount(){this.zoomDeauth().then((()=>{window.location.reload()}))},...(0,o.nv)("zoom",["fetchZoomUser","zoomDeauth"])}},xp=Tp,Ap=(0,q.Z)(xp,Sp,wp,!1,null,null,null),Pp=Ap.exports,Mp={name:"settingsZoom",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:tr,ZoomAuth:Cp,ZoomUser:Pp,SettingNotEnabled:Ul},data(){return{}},mounted(){this.getGuides({"ssasc-plugin-screen":j.zoom})},computed:{account_authorized(){return this.settings.zoom.auth_code},...(0,o.rn)(["settings"])},methods:{cancelEdit(){this.$emit("cancel")},...(0,o.nv)("guides",["getGuides"])}},Ep=Mp,Dp=(0,q.Z)(Ep,hp,_p,!1,null,null,null),$p=Dp.exports,Op=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"advanced-scheduling-settings"},[s("settings-header",{attrs:{loading:t.saving}}),s("div",{staticClass:"md-switch-with-helper"},[s("md-switch",{attrs:{id:"advanced_scheduling_enabled","md-theme":"reverse",name:"advanced_scheduling_enabled"},model:{value:t.advanced_scheduling_enabled,callback:function(e){t.advanced_scheduling_enabled=e},expression:"advanced_scheduling_enabled"}},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.label)+" ")]),s("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.advanced_scheduling.help)+" "),s("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/advanced-scheduling-options/",target:"_blank"}},[t._v(t._s(t.translations.settings.advanced_scheduling.help_link))])])],1),s("div",{staticClass:"md-switch-with-helper"},[s("md-switch",{attrs:{id:"separate_appointment_type_availability","md-theme":"reverse",name:"separate_appointment_type_availability"},model:{value:t.separate_appointment_type_availability,callback:function(e){t.separate_appointment_type_availability=e},expression:"separate_appointment_type_availability"}},[t._v(" "+t._s(t.translations.settings.developer.separate_appointment_type_availability.label)+" ")]),s("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.separate_appointment_type_availability.help)+" "),s("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/let-multiple-appointment-types-book-the-same-time-slot/",target:"_blank"}},[t._v(t._s(t.translations.settings.developer.separate_appointment_type_availability.help_link))])])],1),s("md-snackbar",{ref:"saveSettings",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.advanced_scheduling.saved))])])],1)},Ip=[],zp={name:"settingsAdvancedScheduling",components:{SettingsHeader:tr},data(){return{saving:!1}},mounted(){this.getGuides({"ssasc-plugin-screen":j.advanced_scheduling_options})},computed:{advanced_scheduling_enabled:{get(){return!!this.settings.advanced_scheduling.enabled},set(t){this.updateAdvancedSchedulingEnabled(t),this.saving=!0,this.updateAdvancedSchedulingSettings().then((()=>{this.saving=!1,this.$refs.saveSettings.open()}))}},separate_appointment_type_availability:{get(){return this.settings.developer.separate_appointment_type_availability},set(t){this.setSeparateAppointmentTypeAvailability(t),this.saving=!0,this.updateDeveloperSettings().then((()=>{this.saving=!1,this.$refs.saveSettings.open()}))}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("appointment_types",["editableAppointmentTypeIds"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{editAppointmentType(){let t=this.editableAppointmentTypeIds[0];Pf.push(`/ssa/appointment-types/type/${t}`)},openBulkEdit(){this.updateBulkEditing(this.editableAppointmentTypeIds),Pf.push({name:"appointment-type-bulk-edit",params:{section:"scheduling"}})},...(0,o.nv)(["fetchSettings","updateAdvancedSchedulingSettings"]),...(0,o.OI)(["updateAdvancedSchedulingEnabled","setSeparateAppointmentTypeAvailability"]),...(0,o.OI)("appointment_types",["updateBulkEditing"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("developer_settings",["updateDeveloperSettings"])}},jp=zp,Lp=(0,q.Z)(jp,Op,Ip,!1,null,null,null),Np=Lp.exports,Up=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"tracking-settings",attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSettings.apply(null,arguments)}}},[s("settings-header"),s("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),s("p",[t._v(t._s(t.translations.settings.tracking.instructions)+" "),s("a",{attrs:{href:"https://simplyscheduleappointments.com/document/conversion-tracking/",target:"_blank"}},[t._v(t._s(t.translations.settings.tracking.docLinkText))])]),s("p",[s("md-checkbox",{staticClass:"md-primary",attrs:{id:"event-tracking",name:"event-tracking",disabled:t.saving},model:{value:t.event_tracking,callback:function(e){t.event_tracking=e},expression:"event_tracking"}},[t._v(t._s(t.translations.settings.tracking.eventTracking))])],1),s("p",[s("md-checkbox",{staticClass:"md-primary",attrs:{id:"page-tracking",name:"page-tracking",disabled:t.saving},model:{value:t.page_tracking,callback:function(e){t.page_tracking=e},expression:"page_tracking"}},[t._v(t._s(t.translations.settings.tracking.pageTracking))])],1),s("div",{staticClass:"button-bar align-right"},[s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(t._s(t.translations.general.saving))]:[t._v(t._s(t.translations.general.save))]],2),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},Gp=[],Fp={name:"settingsTracking",components:{SettingsHeader:tr},data(){return{saving:!1,dirty:!1}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(t=>{"ok"===t?(s(),this.fetchSettings()):s(!1)}))}else s()},watch:{event_tracking:function(t,e){t!==e&&(this.dirty=!0)},page_tracking:function(t,e){t!==e&&(this.dirty=!0)}},mounted(){this.getGuides({"ssasc-plugin-screen":j.tracking})},computed:{event_tracking:{get(){return this.settings.tracking.event_tracking},set(t){this.setEventTracking(t)}},page_tracking:{get(){return this.settings.tracking.page_tracking},set(t){this.setPageTracking(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{saveSettings(){this.saving=!0,this.saveTrackingSettings().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")}))},...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("tracking",["saveTrackingSettings"]),...(0,o.OI)(["setEventTracking","setPageTracking"]),...(0,o.nv)("guides",["getGuides"])}},Wp=Fp,Bp=(0,q.Z)(Wp,Up,Gp,!1,null,null,null),Rp=Bp.exports,qp=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[t.currentUserCan("ssa_manage_site_settings")?[s("settings-header"),t.settings.blackout_dates.enabled?[t.saving?s("loading",{attrs:{message:t.translations.settings.blackout.saving}}):s("fieldset",{staticStyle:{padding:"0"}},[s("view-selector"),s("date-select-and-list",{attrs:{saving:t.quickSaving},model:{value:t.blackout_dates,callback:function(e){t.blackout_dates=e},expression:"blackout_dates"}})],1)]:s("setting-not-enabled")]:s("no-permission"),s("md-snackbar",{ref:"savedMessage",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.blackout.saved))])])],2)},Hp=[],Zp=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-toolbar",{staticClass:"md-transparent"},[t.canSelectBlackoutType&&!t.loading?s("md-input-container",{staticClass:"title"},[s("label",{attrs:{for:"blackout-view"}},[s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.selectTarget)+" ")])]),s("md-select",{attrs:{name:"blackout-view",id:"blackout-view"},model:{value:t.blackoutView,callback:function(e){t.blackoutView=e},expression:"blackoutView"}},[t.currentUserCan("ssa_manage_site_settings")?s("md-option",{attrs:{value:"global"}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(t.translations.settings.blackout.view.global)+" ")]):t._e(),t.currentUserCan("ssa_manage_staff_blackout_dates")&&this.user.staff_id?s("md-option",{attrs:{value:this.user.staff_id}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(t.translations.settings.blackout.view.self)+" ")]):t._e(),t._l(t.staffExcludingSelfOptions,(function(e){return s("md-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(e.display_name)+" ")])}))],2)],1):s("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.blackout.title)+" "),t.loading?s("md-spinner",{attrs:{"md-size":20,"md-indeterminate":""}}):t._e()],1),s("div",{staticStyle:{flex:"1"}})],1)},Kp=[],Vp={name:"blackoutViewSelector",data(){return{loading:!0}},mounted(){(this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_staff_blackout_dates"))&&"undefined"===typeof this.staff&&this.staffModule.enabled?this.fetchStaff().then((()=>{this.loading=!1})).catch(((t,e)=>{console.log(e)})):this.loading=!1},computed:{blackoutView:{get(){return this.$route.params.staffId?this.$route.params.staffId:"global"},set(t){"global"===t?this.$router.push({name:"settings-blackout"}):this.$router.push({name:"settings-blackout-staff",params:{staffId:t}})}},canSelectBlackoutType(){return!!this.staffModule.enabled&&(this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_staff_blackout_dates")||this.currentUserCan("ssa_manageStaff")&&this.currentUserCan("ssa_manage_staff_blackout_dates"))},staffExcludingSelfOptions(){return this.currentUserCan("ssa_manage_staff")?this.staffExcludingSelf:[]},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["user"]),...(0,o.rn)("staff",["staff"]),...(0,o.Se)("staff",["currentUserCan","staffExcludingSelf","staffModule"])},methods:{...(0,o.nv)("staff",["fetchStaff"])}},Yp=Vp,Jp=(0,q.Z)(Yp,Zp,Kp,!1,null,null,null),Xp=Jp.exports,Qp=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-layout",{attrs:{"md-gutter":24}},[s("md-layout",[s("div",{staticClass:"full-width"},[s("multi-date-picker",{attrs:{readonly:t.readonly,limit:t.limit},model:{value:t.selectedDates,callback:function(e){t.selectedDates=e},expression:"selectedDates"}})],1)]),s("md-layout",{attrs:{"md-column":""}},[s("md-toolbar",{attrs:{"md-theme":"white"}},[s("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.settings.blackout.selected)+" ")]),s("div",{staticStyle:{flex:"1"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}]},[s("md-spinner",{attrs:{"md-size":20,"md-indeterminate":""}}),t._v(" "+t._s(t.translations.general.saving)+" ")],1)]),t.allDateData.length?s("md-list",{staticClass:"md-dense"},t._l(t.allDateData,(function(e,i){return s("md-list-item",{key:i,class:{past:t.moment(e.date).isBefore(t.moment(),"day")}},[s("span",[t._v(" "+t._s(t.moment(e.date).format(t.settings.global.date_format_moment))+" ")]),e.readonly?[s("md-icon",[t._v("public")]),s("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(" "+t._s(t.translations.settings.blackout.view.global)+" ")])]:s("md-button",{staticClass:"md-icon-button md-list-action md-accent",on:{click:function(s){return t.deleteDate(e.date)}}},[s("md-icon",[t._v("close")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.actions.delete)+" "+t._s(t.moment(e.date).format(t.settings.global.date_format_moment))+" ")])],1)],2)})),1):s("empty",{attrs:{label:t.translations.settings.blackout.emptyLabel,description:t.translations.settings.blackout.emptyDesc}})],1)],1)},tc=[],ec=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cov-date-body md-theme-light-green"},[s("div",{staticClass:"cov-date-monthly"},[s("button",{staticClass:"cov-date-previous",on:{click:function(e){return e.preventDefault(),t.prevMonth.apply(null,arguments)}}},[s("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_left")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.previousMonth)+" ")])],1),s("div",{staticClass:"cov-date-caption"},[s("button",{staticClass:"caption-year",on:{click:function(e){return e.preventDefault(),t.showYear.apply(null,arguments)}}},[t._v(" "+t._s(t.currentYear)+" ")]),s("span",{on:{click:function(e){t.displayType="month"}}},[t._v(" "+t._s(t.displayMonth)+" ")])]),s("button",{staticClass:"cov-date-next",on:{click:function(e){return e.preventDefault(),t.nextMonth.apply(null,arguments)}}},[s("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_right")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.nextMonth)+" ")])],1)]),"day"===t.displayType?s("div",{ref:"dayList",staticClass:"cov-date-box",attrs:{tabindex:"-1"}},[s("div",{staticClass:"cov-picker-box"},[s("div",{staticClass:"week"},[s("ul",t._l(t.week,(function(e){return s("li",{key:e},[t._v(t._s(e))])})),0)]),s("div",{staticClass:"days"},t._l(t.days,(function(e,i){return s("div",{key:i,staticClass:"day",class:{selected:e.selected,readonly:e.readonly,unavailable:e.unavailable,"passive-day":!e.inMonth},on:{click:function(s){return t.checkDay(e)}}},[t._v(" "+t._s(e.value)+" "),e.readonly?s("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(" "+t._s(t.translations.settings.blackout.view.global)+" ")]):t._e()],1)})),0)])]):"year"===t.displayType?s("div",{staticClass:"cov-date-box list-box"},[s("fieldset",{ref:"yearList",staticClass:"cov-picker-box date-list",attrs:{id:"yearList",tabindex:"-1"}},[s("legend",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.selectYear)+" ")]),t._l(t.year,(function(e,i){return s("label",{key:i,staticClass:"date-item"},[s("input",{staticClass:"screen-reader-text",attrs:{type:"checkbox"},domProps:{value:e},on:{change:function(s){return t.setYear(e)}}}),t._v(" "+t._s(e)+" ")])}))],2)]):"month"===t.displayType?s("div",{staticClass:"cov-date-box list-box"},[s("div",{staticClass:"cov-picker-box date-list"},t._l(t.month,(function(e,i){return s("div",{key:i,staticClass:"date-item",on:{click:function(s){return t.setMonth(e)}}},[t._v(t._s(e))])})),0)]):t._e()])},sc=[],ic=s(7133),nc=s.n(ic),ac={name:"datePicker",props:{required:{type:Boolean,default:!1},value:{required:!0},readonly:{type:Array,default(){return[]}},limit:{type:Array,default(){return[]}}},data(){return{currentMoment:null,displayType:"day",month:nc().months(),year:[]}},mounted(){this.showDay()},computed:{week(){var t=nc().weekdaysMin(!1);if(this.settings.global.start_of_week>0){var e=t.slice(0,this.settings.global.start_of_week),s=t.slice(this.settings.global.start_of_week);t=[...s,...e]}return t},displayMonth(){return this.currentMoment?this.currentMoment.format("MMMM"):""},currentYear(){return this.currentMoment?this.currentMoment.format("YYYY"):""},currentMonth(){return this.currentMoment?this.currentMoment.format("MM"):""},currentDay(){return this.currentMoment?this.currentMoment.format("DD"):""},days(){if(!this.currentMoment)return;let t=[],e=this.currentMoment.daysInMonth();for(let a=1;a<=e;++a)t.push({value:a,inMonth:!0,unavailable:!1,selected:!1,readonly:!1,moment:nc()(this.currentMoment).date(a)}),this.checkBySelectDays(a,t);let s=nc()(this.currentMoment).date(1).day(),i=this.currentMoment.clone().subtract(1,"month");s=0===s?7:s,s=this.settings.global.start_of_week>s?s+7:s;for(let a=0;a<s-this.settings.global.start_of_week;a++){let e={value:i.daysInMonth()-a,inMonth:!1,action:"previous",unavailable:!1,selected:!1,readonly:!1,moment:nc()(this.currentMoment).date(1).subtract(a+1,"days")};t.unshift(e)}let n=42-t.length;for(let a=1;a<=n;a++){let e={value:a,inMonth:!1,action:"next",unavailable:!1,selected:!1,readonly:!1,moment:nc()(this.currentMoment).add(1,"months").date(a)};t.push(e)}if(this.limit.length>0)for(let a of this.limit)switch(a.type){case"fromto":t=this.limitFromTo(a,t);break;case"weekday":t=this.limitWeekDay(a,t);break}return t=this.checkReadOnlyDays(t),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{prevMonth(){var t=this.currentMoment.clone().subtract(1,"month");t.isBefore(nc()(),"month")||(this.currentMoment=t,this.showDay())},nextMonth(){this.currentMoment=this.currentMoment.clone().add(1,"month"),this.showDay()},showDay(){this.currentMoment=this.currentMoment?this.currentMoment:nc()(),this.displayType="day",this.$nextTick((()=>{this.$refs.dayList.focus()}))},checkBySelectDays(t,e){this.value.forEach((s=>{this.currentYear===nc()(s).format("YYYY")&&this.currentMonth===nc()(s).format("MM")&&t===Math.ceil(nc()(s).format("D"))&&(e[t-1].selected=!0)}))},checkReadOnlyDays(t){if(!this.readonly||!this.readonly.length)return t;let e=new Set(this.readonly);return t.map((t=>{!t.unavailable&&t.inMonth&&e.has(t.moment.format($))&&(t.selected=!0,t.readonly=!0)})),t},limitWeekDay(t,e){return e.map((e=>{-1===t.available.indexOf(Math.floor(e.moment.format("d")))&&(e.unavailable=!0)})),e},limitFromTo(t,e){return(t.from||t.to)&&e.map((e=>{this.getLimitCondition(t,e)&&(e.unavailable=!0)})),e},getLimitCondition(t,e){let s=e.moment.clone().startOf("day");return t.from&&!t.to?!s.isAfter(t.from):!t.from&&t.to?!s.isBefore(t.to):!s.isBetween(t.from,t.to)},checkDay(t){if(t.unavailable&&!t.selected||""===t.value||t.readonly)return!1;t.inMonth||("next"===t.action?this.nextMonth():this.prevMonth());let e=nc()(this.currentYear+"-"+this.currentMonth+"-"+t.value,$).format($),s=this.value.indexOf(e),i=this.value.slice();!0===t.selected?(this.$set(t,"selected",!1),-1!==s&&i.splice(s,1)):(this.$set(t,"selected",!0),-1===s&&i.push(e)),this.picked(i)},showYear(){let t=nc()(this.currentMoment).year(),e=nc()().year();t=e<t?e:t,this.year=[];let s=[];for(let i=t;i<t+10;++i)s.push(i);this.year=s,this.displayType="year",this.$nextTick((()=>{this.addYear()}))},addYear(){let t=this.$refs.yearList;t.focus(),t.addEventListener("scroll",(()=>{if(t.scrollTop<t.scrollHeight-100){let t=this.year.length,e=this.year[t-1];this.year.push(e+1)}}),!1)},setYear(t){this.currentMoment=nc()(t+"-"+this.currentMonth+"-"+this.currentDay,$),this.showDay(this.currentMoment)},setMonth(t){let e=this.month.indexOf(t)+1;e<10&&(e="0"+e),this.currentMoment=nc()(this.currentYear+"-"+e+"-"+this.currentDay,$),this.showDay(this.currentMoment)},picked(t){this.$emit("input",t),this.$emit("change",t)}}},oc=ac,rc=(0,q.Z)(oc,ec,sc,!1,null,null,null),lc=rc.exports,dc={name:"blackoutDateSelectAndView",components:{MultiDatePicker:lc,Empty:Jt},props:["value","saving","readonly"],data(){return{moment:W(),selectedDates:[]}},mounted(){this.selectedDates=this.value},watch:{selectedDates(t){this.$emit("input",t)},value(t,e){t.join(",")!==e.join(",")&&(this.selectedDates=this.value)}},computed:{allDateData(){if(!this.readonly)return this.selectedDates.map((t=>({date:t,readonly:!1})));let t=new Set(this.readonly),e=new Set([...this.selectedDates,...this.readonly]);return e=Array.from(e),e.sort(),e.map((e=>({date:e,readonly:t.has(e)})))},date(){return{time:W()().tz(this.settings.global.timzone_string).format($)}},limit(){return[{type:"fromto",from:W()().tz(this.settings.global.timezone_string).subtract(1,"day").format($)}]},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{deleteDate(t){let e=this.selectedDates.filter((e=>e!==t));this.selectedDates=e}}},pc=dc,cc=(0,q.Z)(pc,Qp,tc,!1,null,"3eb64bd4",null),mc=cc.exports,uc={name:"settingsBlackout",components:{NoPermission:ee,viewSelector:Xp,dateSelectAndList:mc,SettingsHeader:tr,SettingNotEnabled:Ul,Loading:et},data(){return{moment:W(),quickSaving:!1,saving:!1,limit:[]}},mounted(){Ae().isEmpty(this.settings.blackout_dates)&&this.fetchBlackoutSettings(),this.getGuides({"ssasc-plugin-screen":j.blackout})},beforeRouteLeave(t,e,s){this.saving=!0,this.updateBlackoutSettings().then((()=>{this.saving=!1,s()}))},watch:{blackout_dates:{handler:function(t,e){t.length!==e.length&&this.quickSaveDates()},deep:!0}},computed:{blackout_dates:{get(){return Ae().sortBy(this.settings.blackout_dates.dates,(t=>W()(t).format($)))},set(t){this.updateBlackoutDates({settings:this.settings,value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{quickSaveDates:Ae().debounce((function(){this.quickSaving=!0,this.updateBlackoutSettings().then((()=>{this.quickSaving=!1,this.$refs.savedMessage&&this.$refs.savedMessage.open()}))}),3e3),...(0,o.nv)(["fetchSettings"]),...(0,o.OI)("blackout",["updateBlackoutDates"]),...(0,o.nv)("guides",["getGuides"]),...(0,o.nv)("blackout",["fetchBlackoutSettings","updateBlackoutSettings"])}},gc=uc,hc=(0,q.Z)(gc,qp,Hp,!1,null,null,null),_c=hc.exports,fc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[t.currentUserCanBlackout?t.loading?s("loading",{attrs:{message:t.translations.settings.blackout.loading}}):[t.currentUserCan("ssa_manage_settings")?s("settings-header"):t._e(),t.settings.blackout_dates.enabled?[t.saving?s("loading",{attrs:{message:t.translations.settings.blackout.saving}}):s("fieldset",{staticStyle:{padding:"0"}},[s("view-selector"),s("date-select-and-list",{attrs:{readonly:t.global_blackout_dates,saving:t.quickSaving},on:{input:t.handleUpdatedValue},model:{value:t.blackout_dates,callback:function(e){t.blackout_dates=e},expression:"blackout_dates"}})],1)]:s("setting-not-enabled")]:s("no-permission"),s("md-snackbar",{ref:"savedMessage",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.blackout.saved))])])],2)},yc=[],vc={name:"settingsBlackoutStaff",components:{NoPermission:ee,viewSelector:Xp,dateSelectAndList:mc,SettingsHeader:tr,SettingNotEnabled:Ul,Loading:et},props:["staffId"],data(){return{loading:!0,limit:[],moment:W(),quickSaving:!1,saving:!1,staffSwitched:!1}},mounted(){"undefined"===typeof this.staff?this.fetchStaff().then((()=>{this.matchCurrentStaff(),this.loading=!1})).catch(((t,e)=>{console.log(e)})):(this.matchCurrentStaff(),this.staffSwitched=!0,this.loading=!1)},beforeRouteEnter(t,e,s){s((i=>{i.navigationGuard(t,e,s)}))},beforeRouteUpdate(t,e,s){this.navigationGuard(t,e,s)},beforeRouteLeave(t,e,s){this.saving=!0,this.saveStaff().then((()=>{this.saving=!1,s()}))},watch:{staffId(){this.saving=!0,this.saveStaff().then((()=>{this.saving=!1,this.matchCurrentStaff(),this.staffSwitched=!0}))}},computed:{blackout_dates:{get(){return this.currentStaff&&this.currentStaff.blackout_dates&&this.currentStaff.blackout_dates.dates?Ae().sortBy(this.currentStaff.blackout_dates.dates,(t=>W()(t).format($))):[]},set(t){this.setStaffBlackoutDates(t)}},currentUserCanBlackout(){return this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_staff_blackout_dates")},global_blackout_dates(){return Ae().sortBy(this.settings.blackout_dates.dates,(t=>W()(t).format($)))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("staff",["currentStaff","staff"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsStaff","currentUserStaffId","staffModule"])},methods:{handleUpdatedValue(){this.staffSwitched?this.staffSwitched=!1:this.quickSaveDates()},matchCurrentStaff(){this.setCurrentStaff(this.staff.find((t=>t.id===this.staffId)))},navigationGuard(t,e,s){this.currentUserCan("ssa_manage_staff")?s():this.currentUserIsStaff?this.$router.push("/ssa/settings/blackout/"+this.currentUserStaffId):this.$router.push("/ssa")},quickSaveDates:Ae().debounce((function(){this.quickSaving=!0,this.saveStaff().then((()=>{this.quickSaving=!1,this.$refs.savedMessage&&this.$refs.savedMessage.open()}))}),3e3),...(0,o.nv)(["fetchSettings"]),...(0,o.nv)("staff",["fetchStaff","saveStaff"]),...(0,o.OI)("staff",["setCurrentStaff","setStaffBlackoutDates"])}},bc=vc,kc=(0,q.Z)(bc,fc,yc,!1,null,"35a9af80",null),Cc=kc.exports,Sc=[{path:"blackout",name:"settings-blackout",component:_c},{path:"blackout/:staffId",name:"settings-blackout-staff",component:Cc,props:!0}],wc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notifications-all"},[s("router-view",{on:{saved:t.backToList}})],1)},Tc=[],xc={name:"notificationsAll",data(){return{}},methods:{backToList(){this.$router.push("/ssa/settings/notifications/list")}}},Ac=xc,Pc=(0,q.Z)(Ac,wc,Tc,!1,null,null,null),Mc=Pc.exports,Ec=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notifications-settings"},[s("settings-header"),t.settings.notifications.enabled?[s("md-toolbar",{staticClass:"md-transparent"},[s("div",{staticStyle:{flex:"1"}},[s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.notifications.title))])]),s("md-button",{staticClass:"md-primary",on:{click:t.addNotification}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")],1)],1),t.smsModule.installed?s("md-card",{staticClass:"settings",class:{disabled:!t.sms_enabled},attrs:{"md-with-hover":t.sms_enabled},nativeOn:{click:function(e){return t.maybeEdit.apply(null,arguments)}}},[s("md-card-header",[s("md-card-media",[s("img",{attrs:{src:t.api.admin_static_url+"/images/settings-sms.svg",alt:"SMS"}})]),s("md-card-header-text",[s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.sms.title))]),t.smsModule.enabled&&!t.smsModule.active?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.sms.noConnection)+" ")]):t.smsModule.enabled&&t.settings.sms.twilio_test_mode_enabled?s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.testModeWarning)+" ")]):t._e()],1)],1),s("md-card-actions",{staticClass:"split-actions"},[s("md-switch",{attrs:{"md-theme":"reverse"},nativeOn:{click:function(e){return e.stopPropagation(),t.doNothing.apply(null,arguments)}},model:{value:t.sms_enabled,callback:function(e){t.sms_enabled=e},expression:"sms_enabled"}}),s("span",{staticStyle:{flex:"1"}}),s("md-button",{on:{click:t.editSms}},[t._v(" "+t._s(t.translations.actions.edit)+" "),s("div",{staticClass:"screen-reader-text"},[t._v(t._s(t.translations.settings.sms.title))])])],1)],1):t._e(),t.settings.notifications.notifications.length?[s("notification-filter"),t.filteredNotifications.length?s("md-list",{staticClass:"md-double-line notification-list"},t._l(t.filteredNotifications,(function(e){return s("list-item",{key:e.id,attrs:{notification:e},on:{edit:t.editNotification,clone:t.cloneNotification,delete:t.confirmDelete}})})),1):s("empty",{attrs:{label:t.translations.settings.notifications.filter.empty_label,description:t.translations.settings.notifications.filter.empty_desc}})]:s("empty",{attrs:{label:t.translations.settings.notifications.empty}},[s("md-button",{staticClass:"md-primary md-raised",on:{click:t.addNotification}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")],1)],1),s("md-dialog",{ref:"confirmDelete"},[s("md-dialog-title",[t._v(t._s(t.translations.settings.notifications.confirmDelete))]),t.deletedId||0===t.deletedId?s("md-dialog-content",[t._v(" "+t._s(t.settings.notifications.notifications[t.deletedIndex].title)+" ")]):t._e(),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.settings.notifications.confirmDeleteCancel))]),s("md-button",{on:{click:t.deleteNotification}},[t._v(t._s(t.translations.settings.notifications.confirmDeleteOk))])],1)],1),s("md-dialog",{ref:"enableSetting"},[s("md-dialog-title",[t._v(t._s(t.translations.settings.sms.title))]),s("md-dialog-content",[s("p",[t._v(t._s(t.translations.settings.disabledWarning))])]),s("md-dialog-actions",[s("md-button",{on:{click:t.closeDialogs}},[t._v(t._s(t.translations.general.cancel))]),s("md-button",{staticClass:"md-primary",on:{click:t.enableThis}},[t._v(t._s(t.translations.settings.enable))])],1)],1)]:s("setting-not-enabled")],2)},Dc=[],$c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-list-item",{class:{"foxy-saving":t.saving}},[s("md-switch",{attrs:{"md-theme":"reverse",disabled:t.saving},model:{value:t.notificationActive,callback:function(e){t.notificationActive=e},expression:"notificationActive"}}),s("div",{staticClass:"md-list-text-container",on:{click:t.edit}},[s("span",[t._v(" "+t._s(t.displayTitle(t.notification))+" "),t.smsModule.active?["email"===t.notification.type?s("md-icon",{staticClass:"small md-primary"},[t._v(" email ")]):"sms"===t.notification.type?s("md-icon",{staticClass:"small md-primary"},[t._v(" sms ")]):t._e()]:t._e()],2),s("span",[t.remindersInstalled&&t.notification.duration>0?[t._v(" "+t._s(t.displayDuration(t.notification.duration)+" "+t.translations.settings.notifications.when[t.notification.when].toLowerCase()+" ")+" ")]:t._e(),t._v(" "+t._s(t.translations.settings.notifications.triggers[t.notification.trigger])+" ")],2)]),s("md-menu",{attrs:{"md-direction":"bottom left"}},[s("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":""}},[s("md-icon",{staticClass:"md-primary"},[t._v(" settings ")])],1),s("md-menu-content",[s("md-menu-item",{on:{click:t.edit}},[s("md-icon",{staticClass:"md-primary"},[t._v("edit")]),s("span",[t._v(t._s(t.translations.actions.edit))])],1),s("md-menu-item",{on:{click:t.clone}},[s("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),s("span",[t._v(t._s(t.translations.actions.clone))])],1),s("md-menu-item",{on:{click:t.deleteThis}},[s("md-icon",{staticClass:"md-primary"},[t._v("delete")]),s("span",[t._v(t._s(t.translations.actions.delete))])],1)],1)],1)],1)},Oc=[],Ic={name:"notificationListItem",props:["notification"],data(){return{saving:!1}},computed:{notificationActive:{get(){return!Object.prototype.hasOwnProperty.call(this.notification,"active")||this.notification.active},set(t){let e=Ae().cloneDeep(this.notification);e.active=t,this.setSingleNotification({id:this.notification.id,notification:e}),this.saving=!0,this.saveNotificationSingle(this.notification.id).then((()=>{this.saving=!1}))}},...(0,o.rn)("translations",["translations"]),...(0,o.Se)(["displayDuration"]),...(0,o.Se)("notifications",["remindersInstalled","smsModule"])},methods:{clone(){this.$emit("clone",this.notification.id)},deleteThis(){console.log("list item is emitting delete",this.notification.id),this.$emit("delete",this.notification.id)},displayTitle(){return this.notification.title?this.notification.title:this.notification.subject},edit(){this.$emit("edit",this.notification.id)},...(0,o.nv)("notifications",["saveNotificationSingle"]),...(0,o.OI)(["setSingleNotification"])}},zc=Ic,jc=(0,q.Z)(zc,$c,Oc,!1,null,null,null),Lc=jc.exports,Nc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notification-filter"},[s("md-toolbar",{staticClass:"md-transparent"},[s("div",{staticStyle:{flex:"1"}}),s("md-button",{staticClass:"md-primary indicator-button",on:{click:t.toggleFilters}},[s("md-icon",[t._v("filter_list")]),t._v(" "+t._s(t.translations.settings.notifications.filter.filter)+" ")],1)],1),t.openFilters?s("fieldset",{ref:"filterToolbar",staticClass:"appointment-filter-bar"},[s("legend",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.settings.notifications.filter.legend)+" ")]),s("div",{staticClass:"clear"}),s("div",{staticClass:"appointment-filter-bar-wrap"},[t.smsModule.enabled?s("div",{staticClass:"filter-field"},[s("md-input-container",[s("label",{attrs:{for:"notification-type"}},[t._v(" "+t._s(t.translations.settings.notifications.filter.fields.type)+" "),t.filter.notification_type.length?[t._v(" ("+t._s(t.filter.notification_type.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),s("md-select",{attrs:{name:"notification-type",id:"notification-type",multiple:""},model:{value:t.filterNotificationType,callback:function(e){t.filterNotificationType=e},expression:"filterNotificationType"}},[s("md-option",{attrs:{value:"email"}},[t._v(t._s(t.translations.settings.notifications.fields.email))]),s("md-option",{attrs:{value:"sms"}},[t._v(t._s(t.translations.settings.notifications.fields.sms))])],1)],1)],1):t._e(),s("div",{staticClass:"filter-field"},[s("md-input-container",[s("label",{attrs:{for:"appointment-type"}},[t._v(" "+t._s(t.translations.settings.notifications.filter.fields.appointment_type)+" "),t.filter.appointment_type.length?[t._v(" ("+t._s(t.filter.appointment_type.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),s("md-select",{attrs:{name:"appointment-type",id:"appointment-type",multiple:""},model:{value:t.filterAppointmentType,callback:function(e){t.filterAppointmentType=e},expression:"filterAppointmentType"}},t._l(t.editableAppointmentTypes,(function(e,i){return s("md-option",{key:i,attrs:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),1)],1)],1)]),s("div",{staticClass:"appointment-filter-bar-wrap"},[s("div",{staticClass:"filter-field"},[s("md-input-container",[s("label",{attrs:{for:"trigger"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.trigger)+" "),t.filter.trigger.length?[t._v(" ("+t._s(t.filter.trigger.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),s("md-select",{attrs:{name:"trigger",id:"trigger",multiple:""},model:{value:t.filterTrigger,callback:function(e){t.filterTrigger=e},expression:"filterTrigger"}},t._l(t.notificationTriggers,(function(e,i){return s("md-option",{key:i,attrs:{value:e}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[e])+" ")])})),1)],1)],1),s("div",{staticClass:"filter-field"},[s("md-input-container",[s("label",{attrs:{for:"sent-to"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.sentTo)+" "),t.filter.sent_to.length?[t._v(" ("+t._s(t.filter.sent_to.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),s("md-select",{attrs:{name:"sent-to",id:"sent-to",multiple:""},model:{value:t.filterSentTo,callback:function(e){t.filterSentTo=e},expression:"filterSentTo"}},t._l(t.sentToOptions,(function(e,i){return s("md-option",{key:i,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1)],1),s("div",{staticClass:"filter-button"},[s("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied},on:{click:t.resetFilter}},[s("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.settings.notifications.filter.reset)+" ")],1)],1)])]):t._e()],1)},Uc=[],Gc={name:"filterNotifications",data(){return{openFilters:!1,notificationTriggers:m}},beforeMount(){this.remindersInstalled&&(this.notificationTriggers=u)},mounted(){},computed:{filterAppointmentType:{get(){return this.filter.appointment_type},set(t){this.setFilter({key:"appointment_type",value:t})}},filterNotificationType:{get(){return this.filter.notification_type},set(t){this.setFilter({key:"notification_type",value:t})}},filterSentTo:{get(){return this.filter.sent_to},set(t){this.setFilter({key:"sent_to",value:t})}},filterTrigger:{get(){return this.filter.trigger},set(t){this.setFilter({key:"trigger",value:t})}},...(0,o.rn)("notifications",["filter"]),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("notifications",["filterApplied","remindersInstalled","sentToOptions","smsModule"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"])},methods:{resetFilter(){this.setFilter(f),this.openFilters=!1},toggleFilters(){this.openFilters=!this.openFilters},...(0,o.OI)("notifications",["setFilter"])}},Fc=Gc,Wc=(0,q.Z)(Fc,Nc,Uc,!1,null,null,null),Bc=Wc.exports,Rc={name:"settingsNotifications",components:{SettingsHeader:tr,Empty:Jt,Notification:vs,ListItem:Lc,SettingNotEnabled:Ul,NotificationFilter:Bc},data(){return{deletedId:null}},watch:{sms_enabled(){this.getNotificationGuides()}},mounted(){this.getNotificationGuides()},computed:{deletedIndex(){if(this.deletedId)return this.settings.notifications.notifications.findIndex((t=>t.id===this.deletedId))},sms_enabled:{get(){return!!Object.prototype.hasOwnProperty.call(this.settings,"sms")&&(!!this.settings.sms.enabled&&!!this.settings.installed.sms)},set(t){this.setSmsEnabled(t),this.saveSmsSettings()}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)("notifications",["filteredNotifications","remindersInstalled","smsModule"])},methods:{addNotification(){this.$router.push({name:"notification-single"})},cancelDelete(){this.$refs["confirmDelete"].close()},cloneNotification(t){this.cloneSettingsNotification(t);let e=this.settings.notifications.notifications[this.settings.notifications.notifications.length-1].id;this.saveNotificationSingle(e),this.$router.push({name:"notification-single",params:{id:e}})},closeDialogs(){this.$refs["enableSetting"].close()},confirmDelete(t){this.deletedId=t,this.$refs["confirmDelete"].open()},deleteNotification(){this.deleteNotificationSingle(this.deletedId),this.deletedId=null,this.$refs["confirmDelete"].close()},displayTitle(t){return t.title?t.title:t.subject},doNothing(){},editNotification(t){this.$router.push({name:"notification-single",params:{id:t}})},editSms(){this.$router.push("/ssa/settings/notifications/sms")},enableThis(){this.sms_enabled=!0,this.editSms()},maybeEdit(){this.sms_enabled?this.editSms():this.$refs["enableSetting"].open()},getNotificationGuides(){let t=[j.notifications.list];this.smsModule.installed&&this.smsModule.enabled&&t.push(j.notifications.sms_enabled),this.getGuides({"ssasc-plugin-screen":t})},...(0,o.OI)(["cloneSettingsNotification","deleteSettingsNotification","setSmsEnabled"]),...(0,o.nv)("notifications",["deleteNotificationSingle","saveNotificationSingle","saveSmsSettings"]),...(0,o.nv)("guides",["getGuides"])}},qc=Rc,Hc=(0,q.Z)(qc,Ec,Dc,!1,null,null,null),Zc=Hc.exports,Kc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"notification-edit"},[s("md-button",{on:{click:t.cancelEdit}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),s("md-dialog",{ref:"confirmLeaveDirty"},[s("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.notifications.confirmIgnoreChangesTitle)}}),s("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.notifications.confirmIgnoreChangesContent)}}),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.notifications.confirmIgnoreChangesCancel))]),s("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.notifications.confirmIgnoreChangesOkay))])],1)],1),s("md-dialog",{ref:"noPhoneFields"},[s("md-dialog-title",[t._v(t._s(t.translations.settings.sms.noPhoneFieldsTitle))]),s("md-dialog-content")],1),s("h2",{staticClass:"md-title"},[t.id||0===t.id?[s("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}}),t._v(" "+t._s(t.translations.settings.notifications.actions.edit)+" ")]:[t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")]],2),s("md-input-container",[s("label",{attrs:{for:"title"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.title)+" ")]),s("md-input",{attrs:{id:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t.smsModule.active||!t.smsModule.installed?s("fieldset",{staticClass:"check-list"},[s("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.type)+" ")]),s("md-radio",{attrs:{id:"type-email",name:"type-email","md-value":"email"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.email)+" ")]),s("md-radio",{attrs:{disabled:!t.smsModule.installed,id:"type-sms",name:"type-sms","md-value":"sms"},nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.sms)+" "),t.smsModule.installed?t._e():s("span",{staticClass:"link-hint"},[t._v(" "+t._s(t.translations.promo.smsUpgrade.radioHint)+" ")])])],1):t._e(),"sms"===t.type?s("fieldset",{staticClass:"md-fieldset check-list",class:{"md-fieldset-invalid":!t.validSmsTo}},[s("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.smsTo)+" ")]),t.validSmsTo?t._e():s("p",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.notifications.messages.smsToError)+" ")]),s("ul",[s("li",[t.settings.global.admin_phone?s("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"admin-phone",value:"{{ admin_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.general.phone)+" ")]):[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),s("span",[t._v(" "+t._s(t.translations.settings.notifications.messages.noAdminPhone)+" "),s("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v("Add phone")])],1)]],2),s("li",[t.settings.installed.staff&&t.settings.staff.enabled?s("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"team-member-phone",value:"{{ team_member_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.notifications.team_member_phone)+" ")]):t._e()],1),s("li",[t.noPhone?[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),s("span",[t._v(" "+t._s(t.translations.settings.notifications.messages.noCustomerEmail)+" "),s("router-link",{attrs:{to:"/ssa/appointment-types/edit/customerInfo"}},[t._v(t._s(t.translations.settings.advanced_scheduling.editTypes))])],1)]:s("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"customer-phone",value:"{{ customer_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.notifications.customer_phone)+" ")])],2)])]):[s("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.sentTo,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validTo,required:!0},on:{validateBeforeAdd:t.validateTo},model:{value:t.sent_to,callback:function(e){t.sent_to=e},expression:"sent_to"}}),s("p",[s("md-button",{staticClass:"md-primary md-link",on:{click:t.toggleShowCc}},[t._v(t._s(t.translations.settings.notifications.ccSent))])],1),t.showCc?[s("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.cc,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validCc},on:{validateBeforeAdd:t.validateCc},model:{value:t.cc,callback:function(e){t.cc=e},expression:"cc"}}),s("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.bcc,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validBcc},on:{validateBeforeAdd:t.validateBcc},model:{value:t.bcc,callback:function(e){t.bcc=e},expression:"bcc"}})]:t._e()],t.remindersInstalled?s("fieldset",{staticClass:"md-fieldset contains-layout"},[s("legend",[t._v(t._s(t.translations.settings.notifications.fields.triggerLegend))]),s("md-layout",{attrs:{"md-gutter":!0}},[s("md-layout",[s("duration",{attrs:{allowNull:!0,"error-text":t.durationError},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}})],1),s("md-layout",[s("md-input-container",[s("label",{attrs:{for:"when"}},[t._v(t._s(t.translations.settings.notifications.fields.when))]),s("md-select",{attrs:{id:"when",disabled:t.disableWhen},model:{value:t.when,callback:function(e){t.when=e},expression:"when"}},[s("md-option",{attrs:{value:"after"}},[t._v(t._s(t.translations.settings.notifications.when.after))]),s("md-option",{attrs:{value:"before"}},[t._v(t._s(t.translations.settings.notifications.when.before))])],1)],1)],1),s("md-layout",[s("md-input-container",[s("label",{attrs:{for:"trigger"}},[t._v(t._s(t.translations.settings.notifications.fields.trigger))]),s("md-select",{attrs:{id:"trigger",required:!0},model:{value:t.trigger,callback:function(e){t.trigger=e},expression:"trigger"}},t._l(t.notificationTriggers,(function(e){return s("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[e])+" ")])})),1)],1)],1)],1),s("transition",{attrs:{name:"fade"}},[t.showWarning?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(t._s(t.translations.settings.notifications.warnings.cronWarning)+" "),s("a",{attrs:{href:"https://simplyscheduleappointments.com/document/notifications-and-wordpress-cron/",target:"_blank"}},[t._v(t._s(t.translations.settings.notifications.warnings.cronLinkText))])]):t._e()],1)],1):s("md-input-container",{class:{"md-input-invalid":!t.validTrigger}},[s("label",{attrs:{for:"trigger"}},[t._v(t._s(t.translations.settings.notifications.fields.trigger))]),s("md-select",{attrs:{id:"trigger",required:""},model:{value:t.trigger,callback:function(e){t.trigger=e},expression:"trigger"}},t._l(t.notificationTriggers,(function(e){return s("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[e])+" ")])})),1),t.validTrigger?t._e():s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.notifications.messages.triggerError))])],1),s("fieldset",{staticClass:"md-fieldset",class:{"md-fieldset-invalid":!t.validAppointmentTypes}},[s("legend",[t._v(t._s(t.translations.settings.appointmentTypesTitle))]),t.validAppointmentTypes?t._e():s("p",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.notifications.messages.appointmentTypesError))]),t.noPhone?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.sms.noPhoneFields)+" ")]):t.notAllPhone?s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.onlyPhoneFields)+" ")]):t._e(),s("md-list",[t.notAllPhone?t._e():s("md-list-item",[s("md-checkbox",{on:{change:t.toggleAll},model:{value:t.all,callback:function(e){t.all=e},expression:"all"}},[t._v(t._s(t.translations.settings.appointmentTypeAll))])],1),t.all?t._e():t._l(t.appointmentTypeOptions,(function(e){return s("md-list-item",{key:e.id},[s("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+e.id,name:"appointment-types","md-value":e.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(e.title)+" ")])],1)}))],2)],1),"email"===t.type?s("fieldset",{staticClass:"md-fieldset has-top-menu required",class:{"md-fieldset-invalid":!t.validSubject}},[s("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.subject)+" ")]),s("token-text",{attrs:{options:t.notificationTokens,required:!0},on:{validate:t.validateSubject},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1):t._e(),s("fieldset",{staticClass:"md-fieldset has-top-menu required",class:{"md-fieldset-invalid":!t.validMessage}},[s("legend",[t._v(t._s(t.translations.settings.notifications.fields.message))]),s("token-text",{attrs:{options:t.notificationTokens,required:!0,showPreview:!1},on:{validate:t.validateMessage},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("fieldset",{staticClass:"md-fieldset has-top-menu required"},[s("preview",{attrs:{message:t.message,selectedAppointmentTypes:t.appointment_types}})],1),s("div",{staticClass:"button-bar"},[s("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.isValid},on:{click:t.saveNotification}},[t._v(" "+t._s(t.translations.general.save)+" ")]),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),s("notification-details"),s("md-dialog",{ref:"upgradeSms"},[s("promo-sms",{attrs:{dismissable:!1},on:{promoClicked:t.closeDialog}})],1)],2)},Vc=[],Yc=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"mdc-evolution-chip mdc-theme-name--light-green",class:{"mdc-ripple-upgraded--background-focused":t.focused},attrs:{role:"presentation",id:t.id}},[s("span",{staticClass:"mdc-evolution-chip__cell mdc-evolution-chip__cell--primary",attrs:{role:"gridcell"}},[s("button",{staticClass:"mdc-evolution-chip__action mdc-evolution-chip__action--primary",attrs:{type:"button",tabindex:"0","data-mdc-deletable":"true","aria-label":"Press backspace or delete to remove"}},[s("span",{staticClass:"mdc-evolution-chip__ripple mdc-evolution-chip__ripple--primary"}),s("span",{staticClass:"mdc-evolution-chip__text-label"},[t._v(t._s(t.value))])])]),t.trailingIcon?s("button",{staticClass:"mdc-evolution-chip__action mdc-evolution-chip__action--trailing",attrs:{type:"button",tabindex:"-1","data-mdc-deletable":"true","aria-hidden":"true"},on:{click:function(e){return t.$emit("remove",t.id)}}},[s("span",{staticClass:"mdc-evolution-chip__ripple mdc-evolution-chip__ripple--trailing"}),s("span",{staticClass:"mdc-evolution-chip__icon mdc-evolution-chip__icon--trailing material-icons"},[t._v(t._s(t.trailingIcon))])]):t._e()])},Jc=[],Xc={name:"mdc-chp",mixins:[Yl,Kl],props:{value:[String],focused:[Boolean],leadingIcon:[String],trailingIcon:[String]},data(){return{}},computed:{id(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}},Qc=Xc,tm=(0,q.Z)(Qc,Yc,Jc,!1,null,null,null),em=tm.exports,sm=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classes,attrs:{role:"listbox","aria-orientation":"horizontal","aria-multiselectable":"true"}},[s("span",{ref:"chips",staticClass:"mdc-evolution-chip-set__chips",attrs:{role:"presentation"}},t._l(t.chips,(function(e,i){return s("foxy-chip",{key:i,attrs:{theming:t.theming,theme:t.theme,"trailing-icon":t.trailingIcon,"leading-icon":t.leadingIcon,value:e,focused:t.focused===e},on:{remove:t.handleRemove}})})),1)])},im=[],nm=s(4450),am={name:"mdc-chip-set",props:{chips:[Array],focused:[String],input:[Boolean],newChip:[Object],trailingIcon:[String],leadingIcon:[String]},mixins:[Yl,Kl],components:{FoxyChip:em},data(){return{mdcChipSet:void 0,classes:{"mdc-evolution-chip-set":!0,"mdc-evolution-chip-set--input":this.input}}},watch:{newChip(t){this.handleAdd(t)}},mounted(){this.mdcChipSet=new nm.Q(this.$el),this.mdcChipSet.listen("MDCChipSet:removal",this.handleRemove)},beforeDestroy(){this.mdcChipSet.unlisten("MDCChipSet:removal",this.handleRemove),this.mdcChipSet.destroy()},methods:{handleAdd(t){this.$emit("addChip",t.text)},handleRemove(t){const e=this.$el.querySelector('.mdc-evolution-chip[id="'+t+'"] .mdc-evolution-chip__text-label').innerHTML.trim();this.$emit("removeChip",e)}}},om=am,rm=(0,q.Z)(om,sm,im,!1,null,null,null),lm=rm.exports,dm=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fieldset",{class:t.containerClasses},[s("legend",[t._v(" "+t._s(t.label)+" ")]),s("div",{class:t.chipContainerClasses,on:{click:t.focusInput}},[s("foxy-chip-set",{ref:"chipSet",attrs:{chips:t.componentValue,focused:t.focused,input:!0,"new-chip":t.addedChip,theme:t.theme,theming:t.theming,"trailing-icon":"close"},on:{removeChip:t.removeChip,addChip:t.addChip},nativeOn:{keydown:function(e){return t.backspaceRemoveChip.apply(null,arguments)}}}),s("label",[s("span",{staticClass:"screen-reader-text"}),s("input",{ref:"chipInput",attrs:{type:"text"},on:{focus:function(e){return t.setFocus(!0,e)},blur:function(e){return t.setFocus(!1,e)},keydown:t.handleInput}})]),t.displayOptions.length?s("foxy-menu",{attrs:{options:t.displayOptions,icon:"email"},on:{selection:t.handleTokenSelection}}):t._e()],1),s("div",{staticClass:"helper-text"},[t.validAdd&&t.helpText?[t._v(" "+t._s(t.helpText)+" ")]:!t.validAdd&&t.errorText?[t._v(" "+t._s(t.errorText)+" ")]:t._e()],2)])},pm=[],cm={name:"mdc-chip-set-editable",props:{errorText:[String],helpText:[String],label:[String],options:[Array],required:[Boolean],value:[Array],validAdd:[Boolean]},mixins:[Yl],components:{FoxyChipSet:lm,FoxyMenu:dd},data(){return{addedChip:null,componentValue:this.value.slice(0),hasFocus:!1,focused:null}},watch:{value(){this.componentValue=this.value.slice(0)}},computed:{containerClasses(){return{"md-fieldset":!0,"field-wrapper":!0,invalid:!this.validAdd,required:this.required}},chipContainerClasses(){return{"editable-chip-set":!0,"has-focus":this.hasFocus}},displayOptions(){return this.options.filter((t=>this.value.indexOf(t)<0))}},methods:{addChip(t){let e=this.value.slice(0);e.push(t),this.$emit("input",e)},backspaceRemoveChip(t){"Backspace"!==t.key&&8!==t.keyCode||!document.activeElement.classList.contains("mdc-evolution-chip")||this.removeLastChip()},focusInput(){this.$refs.chipInput.focus(),this.focused=null},handleInput(t){let e=!1,s=t.target.value.trim();if(!s.length)return this.$emit("validateBeforeAdd",""),void("keydown"!==t.type||"Backspace"!==t.key&&8!==t.keyCode||this.focusLastChip());"keydown"!==t.type||"Enter"!==t.key&&13!==t.keyCode&&","!==t.key&&188!==t.keyCode||(e=!0,t.preventDefault()),"blur"===t.type&&(e=!0),e&&(this.$emit("validateBeforeAdd",s),this.$nextTick((()=>{this.validAdd&&(this.addedChip={text:s},t.target.value="")})))},removeChip(t){let e=this.value.findIndex((e=>e===t)),s=this.value.slice(0);s.splice(e,1),this.$emit("input",s)},focusLastChip(){if(this.focused)return void this.removeLastChip();let t=this.value[this.value.length-1],e=this.$refs.chipSet.$el,s=e.querySelector(".mdc-evolution-chip:last-child");s&&(this.focused=t,s.focus())},handleTokenSelection(t){this.addedChip={text:t.detail.item.innerText}},removeLastChip(){this.removeChip(this.focused),this.focusInput()},setFocus(t,e){this.hasFocus=t,t||this.handleInput(e)}}},mm=cm,um=(0,q.Z)(mm,dm,pm,!1,null,null,null),gm=um.exports,hm=(Jl({FoxyChip:em,FoxyChipSet:lm,FoxyChipSetEditable:gm}),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("foxy-form-field",[s("div",{ref:"checkbox",staticClass:"mdc-checkbox"},[s("input",t._b({staticClass:"mdc-checkbox__native-control",attrs:{type:"checkbox",id:t.id},domProps:{checked:t.shouldBeChecked,value:t.value},on:{change:t.updateInput}},"input",t.$attrs,!1)),s("div",{staticClass:"mdc-checkbox__background"},[s("svg",{staticClass:"mdc-checkbox__checkmark",attrs:{viewBox:"0 0 24 24"}},[s("path",{staticClass:"mdc-checkbox__checkmark-path",attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}})]),s("div",{staticClass:"mdc-checkbox__mixedmark"})])]),s("label",{attrs:{for:t.id}},[t._t("default")],2)])}),_m=[],fm=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mdc-form-field",class:t.classes},[t._t("default")],2)},ym=[],vm=s(9534),bm={props:{alignEnd:{type:Boolean,default:!1}},data(){return{mdcFormField:void 0}},mounted(){this.mdcFormField=new vm.b(this.$el)},beforeDestroy(){this.mdcFormField.destroy()},computed:{classes(){return{"mdc-form-field--align-end":this.alignEnd}}}},km=bm,Cm=(0,q.Z)(km,fm,ym,!1,null,null,null),Sm=Cm.exports,wm=s(3416),Tm={name:"foxy-checkbox-multi",components:{FoxyFormField:Sm},mixins:[Kl,Yl],model:{prop:"modelValue",event:"change"},props:{value:{type:String},modelValue:{type:Array,default:()=>[]},id:{type:String,required:!0}},data(){return{mdcCheckbox:void 0}},mounted(){this.mdcCheckbox=new wm.B(this.$refs.checkbox)},beforeDestroy(){this.mdcCheckbox.destroy()},computed:{shouldBeChecked(){return this.modelValue.includes(this.value)}},methods:{updateInput(t){let e=t.target.checked,s=[...this.modelValue];e?s.push(this.value):s.splice(s.indexOf(this.value),1),this.$emit("change",s)}}},xm=Tm,Am=(0,q.Z)(xm,hm,_m,!1,null,null,null),Pm=Am.exports,Mm=(Jl({FoxyCheckboxMulti:Pm}),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notification-details"},[s("md-divider"),s("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.notifications.tokenDetailsTitle))]),s("p",[t._v(t._s(t.translations.settings.notifications.tokenDetails)+" "),s("a",{attrs:{href:"https://twig.symfony.com/",target:"_blank"}},[t._v("Twig documentation")])]),s("md-table",[s("md-table-header",[s("tr",[s("md-table-head",[t._v("Token")]),s("md-table-head",[t._v("Description")])],1)]),s("md-table-body",t._l(t.notificationTokens,(function(e,i){return s("tr",{key:i},[s("md-table-cell",[s("code",[t._v(t._s(e))])]),s("md-table-cell",[t._v(t._s(t.translations.settings.notifications.tokens[e]))])],1)})),0)],1)],1)}),Em=[],Dm={name:"notificationDetails",props:["index"],data(){return{notificationTokens:_}},computed:{...(0,o.rn)("translations",["translations"])}},$m=Dm,Om=(0,q.Z)($m,Mm,Em,!1,null,null,null),Im=Om.exports,zm=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"preview"},[t.loading?s("loading",{attrs:{message:t.translations.settings.notifications.preview.gettingAppointments}}):[s("div",{staticClass:"preview-wrapper"},[s("div",{staticClass:"preview-description"},[s("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.notifications.preview.title))]),t.matchingAppointments.length?s("md-input-container",[s("label",{attrs:{for:"appointment"}},[t._v(t._s(t.translations.settings.notifications.preview.selectAppointment))]),s("select2",{attrs:{name:"appointment",id:"appointment",disabled:t.fetching},on:{input:t.previewAppointment},model:{value:t.viewAppointment,callback:function(e){t.viewAppointment=e},expression:"viewAppointment"}},t._l(t.matchingAppointments,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.customer_information.Name)+" ")])})),0)],1):s("md-input-container",[s("label",{attrs:{for:"appointmentType"}},[t._v(t._s(t.translations.settings.notifications.preview.selectAppointmentType))]),s("select2",{attrs:{name:"appointmentType",id:"appointmentType",disabled:t.fetching},on:{input:t.previewAppointmentType},model:{value:t.viewAppointmentType,callback:function(e){t.viewAppointmentType=e},expression:"viewAppointmentType"}},t._l(t.appointmentTypes,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),0)],1),s("p",[t._v(t._s(t.translations.settings.notifications.preview.description))])],1),s("md-card",{staticClass:"preview-container"},[t.fetching?s("loading",{attrs:{size:"title",message:t.translations.settings.notifications.preview.formattingPreview}}):s("div",{staticClass:"preview",domProps:{innerHTML:t._s(t.settings.notifications.preview)}})],1)],1)]],2)},jm=[],Lm={name:"NotificationPreview",props:["message","selectedAppointmentTypes"],components:{Loading:et,select2:mn},data(){return{fetching:!1,loading:!0,now:W().utc().locale("en").format("YYYY-MM-DD"),moment:W(),viewAppointment:null,viewAppointmentType:null,debouncePreview:null}},mounted(){if(this.upcomingAppointments&&this.upcomingAppointments.length)return this.loading=!1,this.selectDefaultAppointment(),void this.setDebouncePreview();this.fetchAppointments({end_date_min:this.now,order:"ASC",status:["booked"]}).then((()=>{this.loading=!1,this.selectDefaultAppointment(),this.setDebouncePreview()}))},watch:{message(){"function"===typeof this.debouncePreview&&this.debouncePreview()}},computed:{matchingAppointments(){let t=this.upcomingAppointments;return this.selectedAppointmentTypes.length&&(t=t.filter((t=>this.selectedAppointmentTypes.indexOf(t.appointment_type_id)>-1))),Ae().sortBy(t,(t=>t.date_created))},appointmentTypes(){let t=this.editableAppointmentTypes;return this.selectedAppointmentTypes.length&&(t=t.filter((t=>this.selectedAppointmentTypes.indexOf(t.id)>-1))),t},showTz(){let t=this.detectedTimezone;return t!==this.settings.global.timezone_string},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)(["detectedTimezone"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("appointments",["upcomingAppointments"])},methods:{previewAppointment(){this.fetching=!0,this.fetchNotificationPreview({template:this.message,appointment_id:this.viewAppointment}).then((()=>{this.fetching=!1}))},previewAppointmentType(){this.fetching=!0,this.fetchNotificationPreview({template:this.message,appointment_type_id:this.viewAppointmentType}).then((()=>{this.fetching=!1}))},selectDefaultAppointment(){this.matchingAppointments.length?(this.viewAppointment=this.matchingAppointments[0].id,this.previewAppointment()):(this.viewAppointmentType=this.selectedAppointmentTypes[0].id,this.previewAppointmentType())},setDebouncePreview(){this.debouncePreview=Ae().debounce((()=>{this.matchingAppointments.length?this.previewAppointment():this.previewAppointmentType()}),2e3)},...(0,o.nv)("notifications",["fetchNotificationPreview"]),...(0,o.nv)("appointments",["fetchAppointments"])}},Nm=Lm,Um=(0,q.Z)(Nm,zm,jm,!1,null,null,null),Gm=Um.exports,Fm=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[s("md-card-media",[s("a",{attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[s("img",{staticClass:"promo-img promo-plus",attrs:{src:t.api.admin_static_url+"/images/promo-sms.svg",alt:"Simply Schedule Appointments Plus"}})])]),s("md-card-header",[s("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.promo.smsUpgrade.title)+" ")])]),s("md-card-content",[s("md-card-area",{attrs:{"md-inset":""}},[s("p",[t._v(" "+t._s(t.translations.promo.smsUpgrade.text)+" ")])]),s("md-card-actions",[s("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.smsUpgrade.cta)+" ")])],1)],1)],1)},Wm=[],Bm={name:"plusPromo",store:wv,props:{dismissable:{default:!0}},computed:{upgradeUrlParsed(){const t=at.split("?"),e=t[0];let s=t.length>1?dt().parse(t[1]):null;return s=Object.assign(s,{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"sms",utm_content:"sms-pro-popup"}),`${e}?${dt().stringify(s)}`},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api"])},methods:{promoClicked(){this.$emit("promoClicked")},...(0,o.nv)("notices",["updateDismissedNotices"]),...(0,o.OI)("notices",["updateNotices"])}},Rm=Bm,qm=(0,q.Z)(Rm,Fm,Wm,!1,null,null,null),Hm=qm.exports,Zm={name:"notificationEdit",props:["id"],components:{duration:mi,FoxyChipSetEditable:gm,FoxyCheckboxMulti:Pm,Notification:vs,NotificationDetails:Im,Preview:Gm,PromoSms:Hm,TokenText:bd},data(){return{all:!0,dirty:!1,emailOptions:[],saving:!1,showCc:!1,notification:{type:"email"},notificationTriggers:m,notificationEmailOptions:g,notificationStaffEmailOptions:h,notificationTokens:_,validAppointmentTypes:!0,validBcc:!0,validCc:!0,validMessage:!0,validSubject:!0,validTo:!0,validSmsTo:!0,validTrigger:!0,validDuration:!0,leaveWithoutSaving:!1}},beforeMount(){if(this.id||0===this.id){let t=this.settings.notifications.notifications.find((t=>t.id===this.id));this.notification=Ae().cloneDeep(t)}if(!Object.prototype.hasOwnProperty.call(this.notification,"id")||!this.notification.id){let t=new Date;this.$set(this.notification,"id",t.getTime())}Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")||this.$set(this.notification,"appointment_types",[]),Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")&&this.notification.appointment_types.length&&(this.all=!1),(this.notification.cc||this.notification.bcc)&&(this.showCc=!0),Object.prototype.hasOwnProperty.call(this.notification,"schema")||(this.notification.schema="2019-04-02"),this.remindersInstalled&&(this.notificationTriggers=u),this.emailOptions.length||(this.settings.installed.staff&&this.settings.staff.enabled?this.emailOptions=this.notificationStaffEmailOptions:this.emailOptions=this.notificationEmailOptions)},mounted(){document.execCommand("defaultParagraphSeparator",!1,"p"),this.getGuides({"ssasc-plugin-screen":this.guidesList})},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{notification:{handler:function(t,e){this.dirty=!Ae().isEmpty(e)},deep:!0},all(t){t&&(this.validAppointmentTypes=!0)}},computed:{active:{get(){return!Object.prototype.hasOwnProperty.call(this.notification,"active")||this.notification.active},set(t){this.$set(this.notification,"active",t)}},title:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"title")?this.notification.title:""},set(t){this.$set(this.notification,"title",t)}},type:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"type")?this.notification.type:"email"},set(t){this.$set(this.notification,"type",t),this.appointment_types=[],this.all=!this.notAllPhone}},sent_to:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"sent_to")?this.notification.sent_to:[]},set(t){this.$set(this.notification,"sent_to",t)}},sms_to:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"sms_to")?this.notification.sms_to:[]},set(t){this.$set(this.notification,"sms_to",t)}},cc:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"cc")?this.notification.cc:[]},set(t){this.$set(this.notification,"cc",t)}},bcc:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"bcc")?this.notification.bcc:[]},set(t){this.$set(this.notification,"bcc",t)}},trigger:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"trigger")?this.notification.trigger:"appointment_booked"},set(t){this.$set(this.notification,"trigger",t),"appointment_start_date"!==t&&this.$set(this.notification,"when","after"),t&&(this.validTrigger=!0)}},when:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"when")?this.notification.when:"after"},set(t){this.$set(this.notification,"when",t)}},duration:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"duration")?this.notification.duration:0},set(t){this.$set(this.notification,"duration",t)}},appointment_types:{get(){return this.notification.appointment_types},set(t){this.$set(this.notification,"appointment_types",t),(t.length||this.all)&&(this.validAppointmentTypes=!0)}},subject:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"subject")?this.notification.subject:""},set(t){this.$set(this.notification,"subject",t),(t||"sms"===this.notification.type)&&(this.validSubject=!0)}},message:{get(){return Object.prototype.hasOwnProperty.call(this.notification,"message")?this.notification.message:""},set(t){this.$set(this.notification,"message",t),t&&(this.validMessage=!0)}},disableWhen(){return"appointment_start_date"!==this.trigger},notAllPhone(){return this.smsModule.active&&"sms"===this.type&&this.phoneAppointmentTypes.length<this.editableAppointmentTypes.length},noPhone(){return this.smsModule.active&&"sms"===this.type&&!this.phoneAppointmentTypes.length},appointmentTypeOptions(){return"sms"===this.type?this.phoneAppointmentTypes:this.editableAppointmentTypes},showWarning(){let t=1440,e=parseInt(this.duration,10);return this.duration<0||("appointment_start_date"===this.trigger&&e<t||"appointment_start_date"!==this.trigger&&e>0&&e<t)},durationError(){return this.duration<0?this.translations.appointmentTypes.negativeDuration:null},isValid(){let t;return"email"==this.type?t=this.validTrigger&&this.validAppointmentTypes&&this.validSubject&&this.validMessage:"sms"==this.type&&(t=this.validTrigger&&this.validAppointmentTypes&&this.validMessage),t},guidesList(){let t=[j.notifications.edit];return this.smsModule.installed&&this.smsModule.enabled&&t.push(j.notifications.sms_enabled),this.settings.installed.staff&&this.settings.staff.enabled&&t.push(j.notifications.staff_enabled),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("notifications",["phoneAppointmentTypes","smsModule","remindersInstalled","validateEmail"])},methods:{cancelEdit(){this.$router.push("/ssa/settings/notifications/list")},closeDialog(){this.$refs["upgradeSms"].close()},saveNotification(){this.validationCheck()&&(this.saving=!0,this.stripSubject(),this.id||0===this.id?this.setSingleNotification({id:this.id,notification:this.notification}):this.addSettingsNotification(this.notification),this.saveNotificationSingle(this.notification.id).then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})))},maybeShowUpgrade(){this.smsModule.installed||this.$refs["upgradeSms"].open()},stripSubject(){if(!Object.prototype.hasOwnProperty.call(this.notification,"subject"))return;let t=this.notification.subject,e=t.replace(/&nbsp;/g," ");this.$set(this.notification,"subject",e)},toggleAll(t){if(t)return void this.$set(this.notification,"appointment_types",[]);let e=this.editableAppointmentTypes.map((t=>t.id));this.$set(this.notification,"appointment_types",e)},toggleShowCc(){this.showCc=!this.showCc},validateBcc(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validBcc=!0:this.validBcc=this.validateEmail(t):this.validBcc=!0},validateCc(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validCc=!0:this.validCc=this.validateEmail(t):this.validCc=!0},validateTo(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validTo=!0:this.validTo=this.validateEmail(t):this.validTo=!0},validateSubject(t){this.validSubject=t},validateMessage(t){this.validMessage=t},validationCheck(){return this.validTo="email"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"sent_to")&&this.notification.sent_to.length>0,this.validSmsTo="sms"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"sms_to")&&this.notification.sms_to.length>0,this.validTrigger=!!this.notification.trigger,this.validSubject="email"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"subject")&&this.notification.subject.length,this.validMessage=Object.prototype.hasOwnProperty.call(this.notification,"message")&&this.notification.message.length,this.validAppointmentTypes=Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")&&this.notification.appointment_types.length||this.all,this.validDuration=parseInt(this.duration)>=0,this.validTo&&this.validSmsTo&&this.validTrigger&&this.validSubject&&this.validMessage&&this.validAppointmentTypes&&this.validDuration},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.OI)(["addSettingsNotification","setNotificationPreview","setSingleNotification"]),...(0,o.nv)("notifications",["saveNotificationSingle"]),...(0,o.nv)("guides",["getGuides"])}},Km=Zm,Vm=(0,q.Z)(Km,Kc,Vc,!1,null,null,null),Ym=Vm.exports,Jm=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSms.apply(null,arguments)}}},[s("md-dialog",{ref:"confirmLeaveDirty"},[s("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.sms.confirmIgnoreChangesTitle)}}),s("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.sms.confirmIgnoreChangesContent)}}),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.sms.confirmIgnoreChangesCancel))]),s("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.sms.confirmIgnoreChangesOkay))])],1)],1),s("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.errors.troubleSaving))]),s("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),s("md-snackbar",{ref:"twilioError",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.errorMessage))])]),s("md-snackbar",{ref:"testMessageSent",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.testMessageStatus))])]),s("div",{staticClass:"settings-header"},[s("router-link",{attrs:{tag:"md-button",to:"/ssa/settings/notifications"}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.notifications.returnToNotifications)+" ")],1),s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.sms.title))])],1),t.settings.sms.enabled?[t.twilio_test_mode_enabled?s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.testModeWarning)+" ")]):t._e(),s("accordion",[s("accordion-item",{attrs:{label:t.translations.settings.sms.basics,message:t.translations.settings.sms.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[s("md-input-container",{class:{"md-input-invalid":t.$v.twilio_account_sid.$invalid&&t.$v.twilio_account_sid.$dirty}},[s("label",{attrs:{for:"twilio_account_sid"}},[t._v(t._s(t.translations.settings.sms.twilioAccountSid))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.twilio_account_sid.$model,callback:function(e){t.$set(t.$v.twilio_account_sid,"$model","string"===typeof e?e.trim():e)},expression:"$v.twilio_account_sid.$model"}}),t.$v.twilio_account_sid.$invalid&&t.$v.twilio_account_sid.$dirty?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidError)+" - "),s("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidHelp)+" ")])]):s("span",{staticClass:"md-helper-text"},[s("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidHelp)+" ")])])],1),s("md-input-container",{class:{"md-input-invalid":t.$v.twilio_auth_token.$invalid&&t.$v.twilio_auth_token.$dirty}},[s("label",{attrs:{for:"twilio_auth_token"}},[t._v(t._s(t.translations.settings.sms.twilioAuthToken))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.twilio_auth_token.$model,callback:function(e){t.$set(t.$v.twilio_auth_token,"$model","string"===typeof e?e.trim():e)},expression:"$v.twilio_auth_token.$model"}}),t.$v.twilio_auth_token.$invalid&&t.$v.twilio_auth_token.$dirty?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenError)+" - "),s("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenHelp)+" ")])]):s("span",{staticClass:"md-helper-text"},[s("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenHelp)+" ")])])],1),s("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validPhone}},[s("label",{attrs:{for:"twilio_send_from_phone"}},[t._v(t._s(t.translations.settings.sms.twilioSendFromPhone))]),s("telephone",{attrs:{required:"",placeholder:"",disabled:t.saving,"input-options":{"aria-describedby":"twilio_send_from_phone_error twilio_send_from_phone_helper",id:"twilio_send_from_phone"}},on:{validate:t.validatePhone},model:{value:t.twilio_send_from_phone,callback:function(e){t.twilio_send_from_phone="string"===typeof e?e.trim():e},expression:"twilio_send_from_phone"}}),t.validPhone?s("span",{staticClass:"md-helper-text",attrs:{id:"twilio_send_from_phone_helper"}},[s("a",{attrs:{href:"https://www.twilio.com/console/sms/services",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneHelp)+" ")])]):s("span",{staticClass:"md-error",attrs:{id:"twilio_send_from_phone_error"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneError)+" - "),s("a",{attrs:{href:"https://www.twilio.com/console/sms/services",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneHelp)+" ")])])],1)],1),s("accordion-item",{attrs:{label:t.translations.settings.sms.sendTest,message:t.translations.settings.sms.sendTestMessage,index:"2",open:t.section},on:{updateActive:t.updateSection}},[t.dirty||t.missing?s("empty",{attrs:{label:"Settings not saved",description:"Save your settings before attempting to send a test message"}}):[s("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validTestPhone}},[s("label",{attrs:{for:"twilio_test_phone"}},[t._v(t._s(t.translations.settings.sms.sendTestTo))]),s("telephone",{attrs:{required:"",placeholder:"",disabled:t.sendingTest,"input-options":{"aria-describedby":"twilio_test_phone_error twilio_test_phone_helper",id:"twilio_test_phone"}},on:{validate:t.validateTestPhone},model:{value:t.testPhone,callback:function(e){t.testPhone="string"===typeof e?e.trim():e},expression:"testPhone"}}),t.validTestPhone?s("span",{staticClass:"md-helper-text",attrs:{id:"twilio_test_phone_helper"}},[t._v(" "+t._s(t.translations.settings.sms.sendTestToHelp)+" ")]):s("span",{staticClass:"md-error",attrs:{id:"twilio_test_phone_error"}},[t._v(" "+t._s(t.translations.settings.sms.sendTestToError)+" ")])],1),s("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:t.sendingTest},on:{click:t.sendTest}},[t._v(" "+t._s(t.translations.settings.sms.sendTest)+" ")])]],2)],1),s("div",{staticClass:"button-bar"},[s("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/notifications",disabled:t.saving}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSms}},[t._v(" "+t._s(t.translations.general.save)+" ")]),s("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:s("setting-not-enabled")],2)},Xm=[],Qm={name:"notifications-sms",mixins:[ui.oE],components:{Accordion:Xs,AccordionItem:ni,Notification:vs,Telephone:Ko,Empty:Jt,SettingNotEnabled:Ul},data(){return{dirty:!1,errorMessage:"",saving:!1,section:"0",sendingTest:!1,testMessageStatus:"",testPhone:null,validPhone:!0,validTestPhone:!0,leaveWithoutSaving:!1}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{sms:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{twilio_account_sid:{required:gi.C1},twilio_auth_token:{required:gi.C1},twilio_send_from_phone:{required:gi.C1},twilio_test_account_sid:{required:(0,gi.CF)("twilio_test_mode_enabled")},twilio_test_auth_token:{required:(0,gi.CF)("twilio_test_mode_enabled")}},mounted(){this.getGuides({"ssasc-plugin-screen":j.notifications.sms})},computed:{twilio_account_sid:{get(){return this.settings.sms.twilio_account_sid},set(t){this.updateTwilioAccountSid(t)}},twilio_auth_token:{get(){return this.settings.sms.twilio_auth_token},set(t){this.updateTwilioAuthToken(t)}},twilio_send_from_phone:{get(){return this.settings.sms.twilio_send_from_phone},set(t){this.updateTwilioSendFromPhone(t)}},twilio_test_mode_enabled:{get(){return!!this.settings.sms.twilio_test_mode_enabled},set(t){this.updateTwilioTestModeEnabled(t)}},twilio_test_account_sid:{get(){return this.settings.sms.twilio_test_account_sid},set(t){this.updateTwilioTestAccountSid(t)}},twilio_test_auth_token:{get(){return this.settings.sms.twilio_test_auth_token},set(t){this.updateTwilioTestAuthToken(t)}},missing(){return this.twilio_test_mode_enabled?!this.twilio_test_account_sid||!this.twilio_test_auth_token||!this.twilio_send_from_phone:!this.twilio_send_from_phone||!this.twilio_account_sid||!this.twilio_auth_token},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("notifications",["sms","smsModule"])},methods:{retrySave(){this.$refs.errorSaving.close(),this.saveSmsSettings()},saveSms(){this.validatePhone(),this.$v.$touch(),this.$v.$invalid||!this.validPhone?this.section="0":(this.saving=!0,this.saveSmsSettings().then((()=>{this.authorizeTwilio().then((()=>{this.dirty=!1,this.saving=!1,this.$router.push("/ssa/settings/notifications")})).catch((t=>{this.saving=!1;let e=t.response_code,s=t.error.errors;this.errorMessage=s[e][0],this.$refs["twilioError"].open()}))})).catch(((t,e)=>{console.log("failed to save",e),this.saving=!1,this.$refs.errorSaving.open()})))},sendTest(){this.testPhone?(this.sendingTest=!0,this.sendTestMessage(this.testPhone).then((()=>{this.sendingTest=!1,this.testMessageStatus=this.translations.settings.sms.sendTestSuccess,this.$refs["testMessageSent"].open()})).catch((t=>{this.sendingTest=!1,console.log(t),this.testMessageStatus=this.translations.settings.sms.sendTestFailure,this.$refs["testMessageSent"].open()}))):this.validTestPhone=!1},updateSection(t){this.section=t||null},validatePhone(t=!0){this.twilio_send_from_phone?this.validPhone=t:this.validPhone=!1},validateTestPhone(t){this.validTestPhone=t},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("notifications",["authorizeTwilio","saveSmsSettings","sendTestMessage","updateTwilioAccountSid","updateTwilioAuthToken","updateTwilioSendFromPhone","updateTwilioTestModeEnabled","updateTwilioTestAccountSid","updateTwilioTestAuthToken"]),...(0,o.nv)("guides",["getGuides"])}},tu=Qm,eu=(0,q.Z)(tu,Jm,Xm,!1,null,null,null),su=eu.exports,iu=[{path:"notifications",component:Mc,redirect:"/ssa/settings/notifications/list",meta:{ssa_manage_site_settings:!0},children:[{path:"list",name:"notifications-list",component:Zc},{path:"notification/:id?",name:"notification-single",component:Ym,props:!0},{path:"sms",name:"notifications-sms",component:su}]}],nu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payments-settings"},["payments-all"===t.$route.name?s("settings-header"):s("payments-header"),s("router-view")],1)},au=[],ou=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payments-header"},[s("router-link",{attrs:{tag:"md-button",to:"/ssa/settings/payments/all"}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.payments.returnToPayments)+" ")],1),t.headline?s("h2",{staticClass:"md-title"},[t._v(t._s(t.headline))]):t._e()],1)},ru=[],lu={name:"payments-header",data(){return{}},computed:{headline(){let t;switch(this.$route.name){case"payments-paypal":t="PayPal";break;case"payments-stripe":t="Stripe";break}return t},...(0,o.rn)("translations",["translations"])}},du=lu,pu=(0,q.Z)(du,ou,ru,!1,null,null,null),cu=pu.exports,mu={name:"settingsPayments",components:{SettingsHeader:tr,PaymentsHeader:cu},data(){return{}}},uu=mu,gu=(0,q.Z)(uu,nu,au,!1,null,null,null),hu=gu.exports,_u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"payments-settings settings-list"},[t.settings.payments.enabled?[s("md-input-container",[s("label",{attrs:{for:"default_currency"}},[t._v(t._s(t.translations.settings.payments.defaultCurrency))]),s("select2",{attrs:{name:"default_currency",id:"default_currency"},model:{value:t.default_currency,callback:function(e){t.default_currency=e},expression:"default_currency"}},t._l(t.currencies,(function(e){return s("option",{key:e.number,domProps:{value:e.code}},[t._v(t._s(e.currency)+" ("+t._s(e.code)+")")])})),0)],1),s("md-layout",{staticClass:"settings-list-container",attrs:{"md-gutter":!0}},[s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/logo-stripe.svg",title:"Stripe","card-style":"payments-settings"},on:{edit:function(e){return t.editPayments("stripe")}},model:{value:t.stripe_enabled,callback:function(e){t.stripe_enabled=e},expression:"stripe_enabled"}},[t.stripeModule.enabled&&!t.stripeModule.active?s("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.noConnection)+" ")]):t.stripeModule.test_mode?s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.testModeWarning)+" ")]):t._e()],1),s("settings-card",{attrs:{image:t.api.admin_static_url+"/images/logo-paypal.svg",title:"PayPal","card-style":"payments-settings"},on:{edit:function(e){return t.editPayments("paypal")}},model:{value:t.paypal_enabled,callback:function(e){t.paypal_enabled=e},expression:"paypal_enabled"}},[t.paypalModule.enabled&&!t.paypalModule.active?s("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.noConnection)+" ")]):t.paypalModule.sandbox?s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sandboxMode)+" ")]):t._e()],1),s("router-view")],1)]:s("setting-not-enabled")],2)},fu=[],yu={name:"settingsPaymentsAll",components:{SettingsCard:Eo,Select2:mn,Notification:vs,SettingNotEnabled:Ul},data(){return{currencies:x}},watch:{guidesList(){this.getGuides({"ssasc-plugin-screen":this.guidesList})}},mounted(){this.getGuides({"ssasc-plugin-screen":this.guidesList})},computed:{default_currency:{get(){return this.settings.payments.default_currency},set(t){this.updateDefaultCurrency(t)}},stripe_enabled:{get(){return!!this.settings.stripe.enabled},set(t){this.updateStripeEnabled(t)}},paypal_enabled:{get(){return!!this.settings.paypal.enabled},set(t){this.updatePaypalEnabled(t)}},woocommerce_enabled(){return!1},guidesList(){let t=[j.payments.all];return this.stripe_enabled&&t.push(j.payments.stripe_enabled),this.paypal_enabled&&t.push(j.payments.paypal_enabled),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.Se)("payments",["paypalModule","stripeModule"])},methods:{editPayments(t){this.$router.push(`/ssa/settings/payments/${t}`)},...(0,o.nv)("payments",["updatePaypalEnabled","updateStripeEnabled","updateDefaultCurrency"]),...(0,o.nv)("guides",["getGuides"])}},vu=yu,bu=(0,q.Z)(vu,_u,fu,!1,null,null,null),ku=bu.exports,Cu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.savePaypal.apply(null,arguments)}}},[t.settings.paypal.enabled?[s("md-dialog",{ref:"confirmLeaveDirty"},[s("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.payments.confirmIgnoreChangesTitle)}}),s("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.payments.confirmIgnoreChangesContent)}}),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesCancel))]),s("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesOkay))])],1)],1),s("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.errors.troubleSaving))]),s("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),t.showSslWarning?s("notification",{attrs:{icon:"error",theme:"red"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sslWarning)+" ")]):t.paypalModule.sandbox?s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sandboxMode)+" ")]):t._e(),s("accordion",[s("accordion-item",{attrs:{label:t.translations.settings.payments.basics,message:t.translations.settings.payments.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[s("md-input-container",{class:{"md-input-invalid":t.$v.paypal_display_title.$invalid&&t.$v.paypal_display_title.$dirty}},[s("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.displayTitle))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.paypal_display_title.$model,callback:function(e){t.$set(t.$v.paypal_display_title,"$model",e)},expression:"$v.paypal_display_title.$model"}}),t.$v.paypal_display_title.$invalid&&t.$v.paypal_display_title.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.displayTitleError))]):s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.displayTitleHelp))])],1),s("md-input-container",[s("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.description))]),s("md-input",{attrs:{disabled:t.saving},model:{value:t.paypal_description,callback:function(e){t.paypal_description=e},expression:"paypal_description"}}),s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.descriptionHelp))])],1),s("md-input-container",{class:{"md-input-invalid":t.$v.paypal_email.$invalid&&t.$v.paypal_email.$dirty}},[s("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.paypal.email))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.paypal_email.$model,callback:function(e){t.$set(t.$v.paypal_email,"$model","string"===typeof e?e.trim():e)},expression:"$v.paypal_email.$model"}}),t.$v.paypal_email.$invalid&&t.$v.paypal_email.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.paypal.emailError))]):s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.paypal.emailHelp))])],1),s("md-input-container",{staticClass:"md-copyable"},[s("label",{attrs:{for:"ipn_url"}},[t._v(t._s(t.translations.settings.payments.paypal.ipn_url))]),s("md-input",{ref:"ipnUrlValue",attrs:{readonly:"",disabled:t.saving},nativeOn:{click:function(e){return t.copyIpnUrl.apply(null,arguments)}},model:{value:t.ipn_url,callback:function(e){t.ipn_url=e},expression:"ipn_url"}}),s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.paypal.ipnHelpPrefix)+" "),s("a",{attrs:{href:"https://simplyscheduleappointments.com/document/paypal-ipn-settings/",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.paypal.ipnHelp))])]),s("md-button",{staticClass:"md-icon-button md-copy-input",on:{click:t.copyIpnUrl}},[s("md-icon",[t._v("file_copy")])],1),s("md-snackbar",{ref:"ipnNotice",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.payments.paypal.ipnCopied))])])],1)],1),s("accordion-item",{attrs:{label:t.translations.settings.payments.advanced,message:t.translations.settings.payments.advancedMessage,index:"1",open:t.section},on:{updateActive:t.updateSection}},[s("p",[t._v(t._s(t.translations.settings.payments.paypal.sandboxHelp1)+" "),s("a",{attrs:{href:"https://developer.paypal.com/",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.paypal.sandboxHelp2))])]),s("md-list",[s("md-list-item",[s("md-checkbox",{attrs:{disabled:t.saving},model:{value:t.paypal_sandbox_enabled,callback:function(e){t.paypal_sandbox_enabled=e},expression:"paypal_sandbox_enabled"}},[t._v(t._s(t.translations.settings.payments.paypal.enableSandbox))])],1)],1)],1)],1),s("div",{staticClass:"button-bar"},[s("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments",disabled:t.saving}},[t._v(t._s(t.translations.general.cancel))]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.savePaypal}},[t._v(t._s(t.translations.general.save))]),s("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:s("setting-not-enabled")],2)},Su=[],wu={name:"payments-paypal",mixins:[ui.oE],components:{Accordion:Xs,AccordionItem:ni,Notification:vs,SettingNotEnabled:Ul},data(){return{section:"0",dirty:!1,saving:!1,showSslWarning:!1,leaveWithoutSaving:!1}},mounted(){this.getGuides({"ssasc-plugin-screen":j.paypal}),Ae().isEmpty(this.support)?this.fetchSupportDetails().then((()=>{this.maybeShowSslWarning()})):this.maybeShowSslWarning()},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{paypal:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{paypal_display_title:{required:gi.C1},paypal_email:{required:gi.C1,email:gi.Do}},computed:{ipn_url(){return this.settings.paypal.ipn_url},paypal_description:{get(){return this.settings.paypal.description},set(t){this.updatePaypalDescription(t)}},paypal_display_title:{get(){return this.settings.paypal.title},set(t){this.updatePaypalTitle(t)}},paypal_email:{get(){return this.settings.paypal.email},set(t){this.updatePaypalEmail(t)}},paypal_identity_token:{get(){return this.settings.paypal.identity_token},set(t){this.updatePaypalIdentityToken(t)}},paypal_sandbox_enabled:{get(){return this.settings.paypal.sandbox_enabled},set(t){this.updatePaypalSandbox(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","support"]),...(0,o.Se)("payments",["paypalModule"])},methods:{copyIpnUrl(){let t=this.$refs["ipnUrlValue"].$el,e=t.value.trim();e&&(t.select(),document.execCommand("copy"),this.$refs["ipnNotice"].open())},maybeShowSslWarning(){"good"!==this.support.site_status.https_status.status&&(this.showSslWarning=!0)},savePaypal(){this.$v.$touch(),this.$v.$invalid?this.section="0":(this.saving=!0,this.savePaypalSettings().then((()=>{this.dirty=!1,this.saving=!1,this.$router.push("/ssa/settings/payments")})).catch((()=>{this.saving=!1,this.$refs.errorSaving.open()})))},retrySave(){this.$refs.errorSaving.close(),this.savePaypal()},updateSection(t){this.section=t||null},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)(["fetchSupportDetails"]),...(0,o.nv)("payments",["savePaypalSettings","updatePaypalDescription","updatePaypalEmail","updatePaypalIdentityToken","updatePaypalSandbox","updatePaypalTitle"]),...(0,o.nv)("guides",["getGuides"])}},Tu=wu,xu=(0,q.Z)(Tu,Cu,Su,!1,null,null,null),Au=xu.exports,Pu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveStripe.apply(null,arguments)}}},[t.settings.stripe.enabled?[s("md-dialog",{ref:"confirmLeaveDirty"},[s("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.payments.confirmIgnoreChangesTitle)}}),s("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.payments.confirmIgnoreChangesContent)}}),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesCancel))]),s("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesOkay))])],1)],1),s("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.errors.troubleSaving))]),s("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),t.stripeModule.test_mode?s("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.testModeWarning)+" ")]):t._e(),s("accordion",[s("accordion-item",{attrs:{label:t.translations.settings.payments.basics,message:t.translations.settings.payments.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[s("md-input-container",{class:{"md-input-invalid":t.$v.stripe_display_title.$invalid&&t.$v.stripe_display_title.$dirty}},[s("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.displayTitle))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.stripe_display_title.$model,callback:function(e){t.$set(t.$v.stripe_display_title,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_display_title.$model"}}),t.$v.stripe_display_title.$invalid&&t.$v.stripe_display_title.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.displayTitleError))]):s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.displayTitleHelp))])],1),s("md-input-container",[s("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.description))]),s("md-input",{attrs:{disabled:t.saving},model:{value:t.stripe_description,callback:function(e){t.stripe_description="string"===typeof e?e.trim():e},expression:"stripe_description"}}),s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.descriptionHelp))])],1),s("md-input-container",{class:{"md-input-invalid":t.$v.stripe_statement_descriptor.$invalid&&t.$v.stripe_statement_descriptor.$dirty}},[s("label",{attrs:{for:"descriptor"}},[t._v(t._s(t.translations.settings.payments.statementDescriptor))]),s("md-input",{attrs:{disabled:t.saving},model:{value:t.$v.stripe_statement_descriptor.$model,callback:function(e){t.$set(t.$v.stripe_statement_descriptor,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_statement_descriptor.$model"}}),t.$v.stripe_statement_descriptor.$invalid&&t.$v.stripe_statement_descriptor.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.statementDescriptorError))]):s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.statementDescriptorHelp))])],1),s("md-input-container",{class:{"md-input-invalid":t.$v.stripe_publishable_key.$invalid&&t.$v.stripe_publishable_key.$dirty}},[s("label",{attrs:{for:"publishable_key"}},[t._v(t._s(t.translations.settings.payments.stripe.publishableKey))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.stripe_publishable_key.$model,callback:function(e){t.$set(t.$v.stripe_publishable_key,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_publishable_key.$model"}}),t.$v.stripe_publishable_key.$invalid&&t.$v.stripe_publishable_key.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.stripe.publishableKeyError)+" – "),s("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])]):s("span",{staticClass:"md-helper-text"},[s("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.publishableKeyHelp))])])],1),s("md-input-container",{class:{"md-input-invalid":t.$v.stripe_secret_key.$invalid&&t.$v.stripe_secret_key.$dirty}},[s("label",{attrs:{for:"secret_key"}},[t._v(t._s(t.translations.settings.payments.stripe.secretKey))]),s("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.stripe_secret_key.$model,callback:function(e){t.$set(t.$v.stripe_secret_key,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_secret_key.$model"}}),t.$v.stripe_secret_key.$invalid&&t.$v.stripe_secret_key.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.stripe.secretKeyError)+" – "),s("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])]):s("span",{staticClass:"md-helper-text"},[s("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.secretKeyHelp))])])],1),s("md-input-container",{staticClass:"md-copyable"},[s("label",{attrs:{for:"webhook"}},[t._v(t._s(t.translations.settings.payments.stripe.webhook))]),s("md-input",{ref:"webhookValue",attrs:{readonly:"",disabled:t.saving},nativeOn:{click:function(e){return t.copyWebhook.apply(null,arguments)}},model:{value:t.stripe_webhook,callback:function(e){t.stripe_webhook=e},expression:"stripe_webhook"}}),s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.stripe.webhookHelpPrefix)+" "),s("a",{attrs:{href:"https://dashboard.stripe.com/account/webhooks",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.webhookHelpTarget))])]),s("md-button",{staticClass:"md-icon-button md-copy-input",on:{click:t.copyWebhook}},[s("md-icon",[t._v("file_copy")])],1)],1),s("md-snackbar",{ref:"webhookNotice",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.payments.stripe.webhookCopied))])])],1),s("accordion-item",{attrs:{label:t.translations.settings.payments.advanced,message:t.translations.settings.payments.advancedMessage,index:"1",open:t.section},on:{updateActive:t.updateSection}},[s("p",[t._v(t._s(t.translations.settings.payments.stripe.testModeHelp))]),s("md-list",[s("md-list-item",[s("md-checkbox",{attrs:{disabled:t.saving},model:{value:t.stripe_test_mode_enabled,callback:function(e){t.stripe_test_mode_enabled=e},expression:"stripe_test_mode_enabled"}},[t._v(t._s(t.translations.settings.payments.stripe.testMode))])],1)],1),s("md-input-container",{class:{"md-input-invalid":t.$v.stripe_test_publishable_key.$invalid&&t.$v.stripe_test_publishable_key.$dirty}},[s("label",{attrs:{for:"test-publishable-key"}},[t._v(t._s(t.translations.settings.payments.stripe.testPublishableKey))]),s("md-input",{attrs:{disabled:t.saving},model:{value:t.$v.stripe_test_publishable_key.$model,callback:function(e){t.$set(t.$v.stripe_test_publishable_key,"$model",e)},expression:"$v.stripe_test_publishable_key.$model"}}),t.$v.stripe_test_publishable_key.$invalid&&t.$v.stripe_test_publishable_key.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.stripe.testPublishableKeyError)+" – "),s("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])]):s("span",{staticClass:"md-helper-text"},[s("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testPublishableKeyHelp))])])],1),s("md-input-container",{class:{"md-input-invalid":t.$v.stripe_test_secret_key.$invalid&&t.$v.stripe_test_secret_key.$dirty}},[s("label",{attrs:{for:"test-secret-key"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKey))]),s("md-input",{attrs:{disabled:t.saving},model:{value:t.$v.stripe_test_secret_key.$model,callback:function(e){t.$set(t.$v.stripe_test_secret_key,"$model",e)},expression:"$v.stripe_test_secret_key.$model"}}),t.$v.stripe_test_secret_key.$invalid&&t.$v.stripe_test_secret_key.$dirty?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyError)+" – "),s("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])]):s("span",{staticClass:"md-helper-text"},[s("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])])],1)],1)],1),s("div",{staticClass:"button-bar"},[s("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments",disabled:t.saving}},[t._v(t._s(t.translations.general.cancel))]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStripe}},[t._v(t._s(t.translations.general.save))]),s("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:s("setting-not-enabled")],2)},Mu=[];const Eu=gi.BM.regex("statementValidator",/^(?=[^a-z]*[a-z])(?:(?![<>\\'"])[ -~]){1,11}$/i);var Du={name:"payments-stripe",mixins:[ui.oE],components:{Accordion:Xs,AccordionItem:ni,Notification:vs,SettingNotEnabled:Ul},data(){return{section:"0",dirty:!1,saving:!1,leaveWithoutSaving:!1}},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{stripe:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{stripe_display_title:{required:gi.C1},stripe_publishable_key:{required:gi.C1},stripe_secret_key:{required:gi.C1},stripe_test_publishable_key:{required:(0,gi.CF)("stripe_test_mode_enabled")},stripe_test_secret_key:{required:(0,gi.CF)("stripe_test_mode_enabled")},stripe_statement_descriptor:{statementValidator:Eu}},mounted(){this.getGuides({"ssasc-plugin-screen":j.stripe})},computed:{stripe_description:{get(){return this.settings.stripe.description},set(t){this.updateStripeDescription(t)}},stripe_statement_descriptor:{get(){return this.settings.stripe.statement_descriptor},set(t){this.updateStripeStatementDescriptor(t)}},stripe_display_title:{get(){return this.settings.stripe.title},set(t){this.updateStripeTitle(t)}},stripe_publishable_key:{get(){return this.settings.stripe.publishable_key},set(t){this.updateStripePublishableKey(t)}},stripe_secret_key:{get(){return this.settings.stripe.secret_key},set(t){this.updateStripeSecretKey(t)}},stripe_webhook(){return this.settings.stripe.webhook},stripe_test_mode_enabled:{get(){return this.settings.stripe.test_mode_enabled},set(t){this.updateStripeTestMode(t)}},stripe_test_publishable_key:{get(){return this.settings.stripe.test_publishable_key},set(t){this.updateStripeTestPublishableKey(t)}},stripe_test_secret_key:{get(){return this.settings.stripe.test_secret_key},set(t){this.updateStripeTestSecretKey(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("payments",["stripe","stripeModule"])},methods:{saveStripe(){this.$v.$touch(),this.$v.$invalid?this.section="0":(this.saving=!0,this.saveStripeSettings().then((()=>{this.dirty=!1,this.saving=!1,this.$router.push("/ssa/settings/payments")})).catch((()=>{this.saving=!1,this.$refs.errorSaving.open()})))},retrySave(){this.$refs.errorSaving.close(),this.saveStripe()},copyWebhook(){let t=this.$refs["webhookValue"].$el,e=t.value.trim();e&&(t.select(),document.execCommand("copy"),this.$refs["webhookNotice"].open())},updateSection(t){this.section=t||null},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("payments",["saveStripeSettings","updateStripeDescription","updateStripeStatementDescriptor","updateStripeTitle","updateStripePublishableKey","updateStripeSecretKey","updateStripeTestMode","updateStripeTestPublishableKey","updateStripeTestSecretKey"]),...(0,o.nv)("guides",["getGuides"])}},$u=Du,Ou=(0,q.Z)($u,Pu,Mu,!1,null,null,null),Iu=Ou.exports,zu=[{path:"payments",component:hu,redirect:"/ssa/settings/payments/all",meta:{ssa_manage_site_settings:!0},children:[{path:"all",name:"payments-all",component:ku},{path:"paypal",name:"payments-paypal",component:Au},{path:"stripe",name:"payments-stripe",component:Iu}]}],ju=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"webhooks-all"},[s("router-view",{on:{saved:t.backToList}})],1)},Lu=[],Nu={name:"webhooksAll",store:wv,data(){return{}},mounted(){this.getGuides({"ssasc-plugin-screen":j.webhooks})},methods:{backToList(){this.$router.push("/ssa/settings/webhooks/list")},...(0,o.nv)("guides",["getGuides"])}},Uu=Nu,Gu=(0,q.Z)(Uu,ju,Lu,!1,null,null,null),Fu=Gu.exports,Wu=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"webhooks-settings"},[s("settings-header"),t.settings.webhooks.enabled?[s("md-toolbar",{staticClass:"md-transparent"},[s("div",{staticStyle:{flex:"1"}},[s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.title))])]),s("md-button",{staticClass:"md-primary",on:{click:t.addWebhook}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.webhooks.actions.addNew)+" ")],1)],1),t.settings.webhooks.webhooks.length?s("md-list",{staticClass:"md-double-line webhook-list"},t._l(t.settings.webhooks.webhooks,(function(e,i){return s("md-list-item",{key:i},[s("div",{staticClass:"md-list-item-container"},[s("div",{staticClass:"md-list-text-container",on:{click:function(e){return t.editWebhook(i)}}},[s("span",[t._v(t._s(e.title))]),s("span",[1===e.triggers.length?[t._v(t._s(t.translations.settings.webhooks.fields.trigger_single))]:[t._v(t._s(t.translations.settings.webhooks.fields.trigger_plural))],t._l(e.triggers,(function(s,i){return[t._v(t._s(t.translations.settings.webhooks.fields.triggerNames[s])),i<e.triggers.length-1?[t._v(", ")]:t._e()]}))],2)]),s("md-menu",[s("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":""}},[s("md-icon",{staticClass:"md-primary"},[t._v("settings")])],1),s("md-menu-content",[s("md-menu-item",{on:{click:function(e){return t.editWebhook(i)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("edit")]),s("span",[t._v(t._s(t.translations.actions.edit))])],1),s("md-menu-item",{on:{click:function(e){return t.cloneWebhook(i)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),s("span",[t._v(t._s(t.translations.actions.clone))])],1),s("md-menu-item",{on:{click:function(e){return t.confirmDelete(i)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("delete")]),s("span",[t._v(t._s(t.translations.actions.delete))])],1)],1)],1),s("md-divider")],1)])})),1):s("empty",{attrs:{label:t.translations.settings.webhooks.empty}},[s("md-button",{staticClass:"md-primary md-raised",on:{click:t.addWebhook}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.webhooks.actions.addNew)+" ")],1)],1),s("md-dialog",{ref:"confirmDelete"},[s("md-dialog-title",[t._v(t._s(t.translations.settings.webhooks.confirmDelete))]),t.deletedIndex||0===t.deletedIndex?s("md-dialog-content",[t._v(" "+t._s(t.settings.webhooks.webhooks[t.deletedIndex].title)+" ")]):t._e(),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.settings.webhooks.confirmDeleteCancel))]),s("md-button",{on:{click:t.deleteWebhook}},[t._v(t._s(t.translations.settings.webhooks.confirmDeleteOk))])],1)],1)]:s("setting-not-enabled")],2)},Bu=[],Ru={name:"settingsWebhooksList",components:{SettingsHeader:tr,Empty:Jt,SettingNotEnabled:Ul},data(){return{deletedIndex:null}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{addWebhook(){this.$router.push({name:"webhook-single"})},editWebhook(t){this.$router.push({name:"webhook-single",params:{index:t}})},cloneWebhook(t){this.cloneSettingsWebhook({index:t,settings:this.settings}),this.updateWebhooksSettings(),this.$router.push({name:"webhook-single",params:{index:this.settings.webhooks.webhooks.length-1}})},deleteWebhook(){this.deleteSettingsWebhook({index:this.deletedIndex,settings:this.settings}),this.deletedIndex=null,this.$refs["confirmDelete"].close(),this.updateWebhooksSettings()},confirmDelete(t){this.deletedIndex=t,this.$refs["confirmDelete"].open()},cancelDelete(){this.$refs["confirmDelete"].close()},...(0,o.OI)("webhooks",["deleteSettingsWebhook","cloneSettingsWebhook"]),...(0,o.nv)("webhooks",["updateWebhooksSettings"])}},qu=Ru,Hu=(0,q.Z)(qu,Wu,Bu,!1,null,null,null),Zu=Hu.exports,Ku=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"webhook-edit"},[s("md-button",{on:{click:t.cancelEdit}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),s("md-dialog",{ref:"confirmLeaveDirty"},[s("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.webhooks.confirmIgnoreChangesTitle)}}),s("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.webhooks.confirmIgnoreChangesContent)}}),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.webhooks.confirmIgnoreChangesCancel))]),s("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.webhooks.confirmIgnoreChangesOkay))])],1)],1),s("h2",{staticClass:"md-title"},[t.index||0===t.index?[t._v(t._s(t.translations.settings.webhooks.actions.edit))]:[t._v(t._s(t.translations.settings.webhooks.actions.addNew))]],2),s("md-input-container",[s("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.webhooks.fields.title))]),s("md-input",{attrs:{id:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),s("md-input-container",{staticClass:"md-refreshable",class:{"md-input-invalid":!t.validToken}},[s("label",{attrs:{for:"token"}},[t._v(t._s(t.translations.settings.webhooks.fields.token))]),s("md-input",{attrs:{id:"token",required:""},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}}),s("md-button",{staticClass:"md-icon-button md-refresh-input",on:{click:t.refreshToken}},[s("md-icon",[t._v("refresh")])],1),t.validToken?s("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.webhooks.fields.token_help))]):s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.token_error))])],1),s("md-snackbar",{ref:"tokenNotice",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.settings.webhooks.fields.token_copied))])]),s("fieldset",{staticClass:"md-fieldset"},[s("legend",[t._v(t._s(t.translations.settings.webhooks.fields.triggers)+" *")]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.validTriggers,expression:"!validTriggers"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredTriggers))]),t.webhookTriggers.length?s("md-list",t._l(t.webhookTriggers,(function(e,i){return s("md-list-item",{key:i},[s("md-checkbox",{staticClass:"md-primary",attrs:{id:"trigger-"+i,name:"triggers","md-value":e},model:{value:t.triggers,callback:function(e){t.triggers=e},expression:"triggers"}},[t._v(" "+t._s(t.translations.settings.webhooks.fields.triggerNames[e])+" ")])],1)})),1):t._e()],1),s("fieldset",{staticClass:"md-fieldset"},[s("legend",[t._v(t._s(t.translations.settings.webhooks.fields.urls)+" *")]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.validUrls,expression:"!validUrls"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredUrls))]),s("md-list",[Object.prototype.hasOwnProperty.call(t.webhook,"urls")&&t.webhook.urls.length?t._l(t.webhook.urls,(function(e,i){return s("md-list-item",{key:i},[s("span",[s("md-icon",[t._v("link")]),t._v(" "+t._s(e)+" ")],1),s("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(e){return t.removeUrl(i)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("clear")])],1)],1)})):t._e(),s("md-list-item",[s("md-input-container",{class:{"md-input-invalid":!t.validUrls||t.urlExists||!t.validUrl}},[s("label",{attrs:{for:"url"}},[t._v("Add URL")]),s("md-input",{attrs:{placeholder:"https://",id:"label"},nativeOn:{keyup:function(e){return t.addUrl.apply(null,arguments)},blur:function(e){return t.addUrl.apply(null,arguments)}},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t.urlExists?s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.url_exists))]):t.validUrl?t._e():s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.url_invalid))])],1)],1)],2)],1),s("fieldset",{staticClass:"md-fieldset"},[s("legend",[t._v(t._s(t.translations.settings.appointmentTypesTitle)+" *")]),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.validAppointmentTypes,expression:"!validAppointmentTypes"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredAppointmentTypes))]),s("md-list",[s("md-list-item",[s("md-checkbox",{on:{change:t.toggleAll},model:{value:t.all,callback:function(e){t.all=e},expression:"all"}},[t._v(t._s(t.translations.settings.appointmentTypeAll))])],1),t.all?t._e():t._l(t.editableAppointmentTypes,(function(e){return s("md-list-item",{key:e.id},[s("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+e.id,name:"appointment-types","md-value":e.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(e.title)+" ")])],1)}))],2)],1),s("div",{staticClass:"button-bar"},[s("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(t._s(t.translations.general.cancel))]),s("md-button",{staticClass:"md-raised md-primary",on:{click:t.saveWebhook}},[t._v(t._s(t.translations.general.save))]),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),s("webhook-details",{attrs:{index:this.index}})],1)},Vu=[],Yu=(s(8675),s(3462),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"webhook-details"},[s("md-divider"),s("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.details.deliveryHeaders))]),s("p",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetails))]),s("md-table",[s("md-table-header",[s("md-table-row",[s("md-table-head",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetailHeader))]),s("md-table-head",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetailDescription))])],1)],1),s("md-table-body",[s("md-table-row",[s("md-table-cell",[s("code",[t._v("Content-Type")])]),s("md-table-cell",[t._v("application/json; charset=utf-8")])],1)],1)],1),s("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.details.deliveryExample))]),t._m(0)],1)}),Ju=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pre",[s("code",[t._v('{\n  "action": "appointment_booked", // possible values of `appointment_booked`, `appointment_edited`, `appointment_canceled`\n  "action_noun": "appointment",\n  "action_verb": "booked", // possible values of `booked`, `edited`, `canceled`\n  "signature": {\n    "token": "1a2b3c4d5e6f..."  // so you can verify that the delivered webhook originated from this site\n    "site_name": "This WordPress Site"  // in case you have multiple sites sharing the same webhook\n    "site_url": "https://thissite.com"  //  in case you have multiple sites sharing the same webhook\n    "network_site_url": "1a2b3c4d5e6f..."  // only different than `site_url` if using multisite\n  },\n  "appointment": {\n    "id": "123", // Unique ID to reference this appointment\n    "appointment_type_id": "36", // Unique value that is consistent even if the type\'s name/slug changes\n    "appointment_type_slug": "2hr-call",\n    "customer_id": "1",\n    "customer_information": {\n      "Name": "Nathan Tyler",\n      "Email": "nathan@tylerdigital.com"\n      // values from your custom fields will also be included here\n    },\n    "start_date": "2018-09-20 16:15:00", // all dates are stored in the UTC timezone\n    "end_date": "2018-09-20 18:15:00",\n    "status": "booked", // possible values of `booked` or `canceled`\n    "date_created": "2018-09-19 01:00:44",\n    "date_modified": "2018-09-19 01:00:44",\n    "public_edit_url": "http://yoursite.com/appointments/change/e7b9a0a37d18e86ef11b2da12345678900",\n    "price_full": 100.00,\n    "payment_method": "stripe",\n    "appointment_type_title": "2hr Call",\n    "local_time_for": {\n      "appointment_type": {\n        // dates and times shifted (from UTC) to the appointment type\'s timezone\n        "raw": {\n          "start_date": "2018-09-20 16:15:00",\n          "end_date": "2018-09-20 18:15:00",\n          "date_created": "2018-09-19 01:00:44",\n          "date_modified": "2018-09-19 01:00:44"\n        },\n        "formatted": {\n          "start_date": "September 20, 2018 4:15 pm PDT",\n          "end_date": "September 20, 2018 6:15 pm PDT",\n          "date_created": "September 19, 2018 1:00 am PDT",\n          "date_modified": "September 19, 2018 1:00 am PDT"\n        }\n      }\n    }\n  }\n}\n')])])}],Xu={name:"webhookDetails",props:["index"],data(){return{}},computed:{...(0,o.rn)("translations",["translations"])}},Qu=Xu,tg=(0,q.Z)(Qu,Yu,Ju,!1,null,null,null),eg=tg.exports,sg={name:"webhookEdit",props:["index"],components:{WebhookDetails:eg},data(){return{all:!0,dirty:!1,saving:!1,webhook:{},webhookTriggers:T,url:"",urlExists:!1,validAppointmentTypes:!0,validToken:!0,validTriggers:!0,validUrl:!0,validUrls:!0,leaveWithoutSaving:!1}},beforeMount(){if(this.index||0===this.index){let t=Ae().cloneDeep(this.settings.webhooks.webhooks[this.index]);this.webhook=t}Object.prototype.hasOwnProperty.call(this.webhook,"token")&&this.webhook.token||this.refreshToken(),Object.prototype.hasOwnProperty.call(this.webhook,"triggers")||this.$set(this.webhook,"triggers",[]),Object.prototype.hasOwnProperty.call(this.webhook,"urls")||this.$set(this.webhook,"urls",[]),Object.prototype.hasOwnProperty.call(this.webhook,"appointment_types")||this.$set(this.webhook,"appointment_types",[]),Object.prototype.hasOwnProperty.call(this.webhook,"appointment_types")&&this.webhook.appointment_types.length&&(this.all=!1),Object.prototype.hasOwnProperty.call(this.webhook,"schema")||(this.webhook.schema="2018-09-20")},beforeRouteLeave(t,e,s){if(this.dirty){let t="confirmLeaveDirty";this.$refs[t].open(),this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}else s()},watch:{webhook:{handler:function(t,e){this.dirty=!Ae().isEmpty(e)},deep:!0}},computed:{title:{get(){return Object.prototype.hasOwnProperty.call(this.webhook,"title")?this.webhook.title:""},set(t){this.$set(this.webhook,"title",t)}},token:{get(){return Object.prototype.hasOwnProperty.call(this.webhook,"token")?this.webhook.token:""},set(t){this.$set(this.webhook,"token",t)}},triggers:{get(){return this.webhook.triggers},set(t){this.$set(this.webhook,"triggers",t)}},appointment_types:{get(){return this.webhook.appointment_types},set(t){this.$set(this.webhook,"appointment_types",t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"])},methods:{cancelEdit(){this.$router.push("/ssa/settings/webhooks/list")},generateToken(){let t=new Uint8Array(12);return window.crypto.getRandomValues(t),Array.from(t,(t=>("0"+t.toString(16)).substr(-2))).join("")},refreshToken(){let t=this.generateToken();this.$set(this.webhook,"token",t)},isValidUrl(t){try{let e=t;return e.toLowerCase(),e=new URL(t),!0}catch(e){return!1}},addUrl(t){if(this.validUrl=!0,"keyup"===t.type&&13!==t.keyCode)return;if(!this.url)return;if(!this.isValidUrl(this.url))return void(this.validUrl=!1);let e=Object.prototype.hasOwnProperty.call(this.webhook,"urls")?this.webhook.urls.slice(0):[],s=e.findIndex((t=>t===this.url));s>-1?this.urlExists=!0:(this.urlExists=!1,e.push(this.url),this.$set(this.webhook,"urls",e),this.validateRequiredFields(),this.url="")},removeUrl(t){let e=this.webhook.urls.slice(0);e.splice(t,1),this.$set(this.webhook,"urls",e)},validateRequiredFields(){this.validTriggers=this.webhook.triggers.length,this.validUrls=this.webhook.urls.length,this.validAppointmentTypes=this.webhook.appointment_types.length||this.all,this.validToken=this.webhook.token.length},saveWebhook(){this.validateRequiredFields(),this.validUrls&&this.validTriggers&&this.validAppointmentTypes&&this.validToken&&(this.saving=!0,this.index||0===this.index?this.updateSingleWebhook({index:this.index,webhook:this.webhook,settings:this.settings}):this.addSettingsWebhook({webhook:this.webhook,settings:this.settings}),this.updateWebhooksSettings().then((()=>{this.saving=!1,this.dirty=!1,this.$emit("saved")})))},toggleAll(t){if(t)return void this.$set(this.webhook,"appointment_types",[]);let e=this.editableAppointmentTypes.map((t=>t.id));this.$set(this.webhook,"appointment_types",e)},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.OI)("webhooks",["updateSingleWebhook","addSettingsWebhook"]),...(0,o.nv)("webhooks",["updateWebhooksSettings"])}},ig=sg,ng=(0,q.Z)(ig,Ku,Vu,!1,null,null,null),ag=ng.exports,og=[{path:"webhooks",component:Fu,redirect:"/ssa/settings/webhooks/list",meta:{ssa_manage_site_settings:!0},children:[{path:"list",name:"webhooks-list",component:Zu},{path:"webhook/:index?",name:"webhook-single",component:ag,props:!0}]}],rg=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"staff-all"},[t.loading?s("loading",{attrs:{message:t.translations.settings.staff.loading}}):s("router-view")],1)},lg=[],dg={name:"staffAll",components:{Loading:et},data(){return{loading:!0}},mounted(){this.init()},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["staff","users"])},methods:{init(){return"undefined"===typeof this.staff?(this.loading=!0,void this.fetchStaff().then((()=>this.init())).catch((t=>{console.log("Error loading staff",t)}))):this.users?("staff-all"===this.$route.name&&this.syncStaffFromUsers(),void(this.loading=!1)):(this.loading=!0,void this.fetchUsers().then((()=>this.init())).catch((t=>{console.log("Error loading WP users",t)})))},...(0,o.nv)("staff",["fetchStaff","fetchUsers","syncStaffFromUsers"])}},pg=dg,cg=(0,q.Z)(pg,rg,lg,!1,null,null,null),mg=cg.exports,ug=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"staff-listing"},[s("settings-header"),s("md-toolbar",{staticClass:"md-transparent"},[s("md-input-container",{staticClass:"title"},[s("label",{attrs:{for:"staff-view"}},[s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.staff.selectStaff)+" ")])]),s("md-select",{attrs:{name:"staff-view",id:"staff-view"},model:{value:t.staffView,callback:function(e){t.staffView=e},expression:"staffView"}},[s("md-option",{attrs:{value:"publish"}},[t._v(t._s(t.translations.settings.staff.title))]),s("md-option",{attrs:{value:"draft"}},[t._v(t._s(t.translations.settings.staff.status.inactive))])],1)],1),s("div",{staticStyle:{flex:"1"}}),s("md-button",{staticClass:"md-primary",on:{click:t.addStaff}},[s("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")],1)],1),s("md-dialog",{ref:"confirmDelete"},[s("md-dialog-title",[t._v(" "+t._s(t.translations.settings.staff.confirmDelete)+" ")]),t.pendingStaff?s("md-dialog-content"):t._e(),s("md-dialog-actions",[s("md-button",{on:{click:t.cancelDelete}},[t._v(" "+t._s(t.translations.settings.staff.confirmDeleteCancel)+" ")]),s("md-button",{on:{click:t.deleteSelectedStaff}},[t._v(" "+t._s(t.translations.settings.staff.confirmDeleteOk)+" ")])],1)],1),t.displayStaff.length?s("md-list",{staticClass:"staff-list md-triple-line"},t._l(t.displayStaff,(function(e){return s("md-list-item",{key:e.id,class:{"status-deleting":e.id===t.pendingId},on:{click:function(s){return t.editStaff(e.id)}}},[s("md-avatar",{staticClass:"border-theme",attrs:{"md-theme":"light-green"}},[0!==parseInt(e.user_id,10)?s("img",{attrs:{src:t.userGravatar(e.user_id),alt:""}}):s("md-icon",{staticClass:"md-size-2x md-primary"},[t._v(" account_circle ")])],1),s("div",{staticClass:"md-list-text-container"},[s("span",[t._v(" "+t._s(e.name?e.name:e.display_name)+" "),0!==parseInt(e.user_id,10)?[s("a",{staticClass:"staff-wp-indicator",attrs:{href:t.wpUserLink(e.user_id)}},[t._v(" WP "),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.staff.connectedUserEdit)+" ")])])]:t._e()],2),s("span",[t._v(t._s(e.email))]),t.smsModule.enabled?s("span",[t._v(t._s(e.phone))]):t._e()]),s("md-menu",[s("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":"",disabled:t.saving}},[s("md-icon",{staticClass:"md-primary"},[t._v("settings")])],1),s("md-menu-content",["publish"===e.status?[s("md-menu-item",{on:{click:function(s){return t.editStaff(e.id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("edit")]),s("span",[t._v(t._s(t.translations.actions.edit))])],1),s("md-menu-item",{on:{click:function(s){return t.toggleStaff(e.id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("block")]),s("span",[t._v(t._s(t.translations.actions.deactivate))])],1)]:[s("md-menu-item",{on:{click:function(s){return t.toggleStaff(e.id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("how_to_reg")]),s("span",[t._v(t._s(t.translations.actions.activate))])],1),s("md-menu-item",{on:{click:function(s){return t.confirmDelete(e.id)}}},[s("md-icon",{staticClass:"md-primary"},[t._v("delete")]),s("span",[t._v(t._s(t.translations.actions.delete))])],1)]],2)],1)],1)})),1):s("empty",{attrs:{label:t.emptyLabel,description:t.emptyDescription}},["publish"===t.staffView?s("md-button",{staticClass:"md-raised md-primary",on:{click:t.addStaff}},[t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")]):t._e()],1)],1)},gg=[],hg={name:"settingsStaff",components:{SettingsHeader:tr,Empty:Jt},data(){return{pendingId:null,saving:!1,staffView:"publish"}},mounted(){this.getGuides({"ssasc-plugin-screen":j.teams.list})},computed:{displayStaff(){return"publish"===this.staffView?this.staffStatusPublish:this.staffStatusDraft},emptyDescription(){return"publish"===this.staffView?this.translations.settings.staff.emptyDescription:this.translations.settings.staff.emptyInactiveDescription},emptyLabel(){return"publish"===this.staffView?this.translations.settings.staff.emptyLabel:this.translations.settings.staff.emptyInactiveLabel},pendingStaff(){if(this.pendingId)return this.staff.find((t=>t.id.toString()===this.pendingId.toString()))},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.rn)("staff",["staff"]),...(0,o.Se)(["wpUserLink"]),...(0,o.Se)("staff",["staffStatusDraft","staffStatusPublish","userGravatar"]),...(0,o.Se)("notifications",["smsModule"])},methods:{addStaff(){this.defineNewStaffMember(),this.$router.push({name:"staff-single"})},cancelDelete(){this.$refs["confirmDelete"].close()},confirmDelete(t){this.$refs["confirmDelete"].open(),this.pendingId=t},deleteSelectedStaff(){let t=this.pendingId;this.$refs["confirmDelete"].close(),this.deleteStaff(t).then((()=>{})).catch((t=>{console.log(t)}))},editStaff(t){if(this.saving)return;let e=this.staff.find((e=>e.id===t));this.setCurrentStaff(e),this.$router.push({name:"staff-single",params:{id:t}})},toggleStaff(t){if(this.saving)return;this.saving=!0,this.pendingId=t;let e=this.staff.find((e=>e.id===t));this.setCurrentStaff(e);let s="publish"===e.status?"draft":"publish";this.setCurrentStaff({key:"status",value:s}),this.saveStaff().then((()=>{this.saving=!1,this.pendingId=null})).catch((t=>{console.log(t)}))},...(0,o.nv)("staff",["deleteStaff","saveStaff"]),...(0,o.OI)("staff",["defineNewStaffMember","setCurrentStaff"]),...(0,o.nv)("guides",["getGuides"])}},_g=hg,fg=(0,q.Z)(_g,ug,gg,!1,null,null,null),yg=fg.exports,vg=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"staff-edit",class:{saving:t.saving},attrs:{novalidate:""}},[t.currentUserCan("ssa_manage_staff")?s("md-button",{on:{click:t.cancelEdit}},[s("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1):t._e(),s("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.pageTitle)+" ")]),s("md-dialog",{ref:"confirmLeaveDirty"},[s("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.staff.confirmIgnoreChangesTitle)}}),s("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.staff.confirmIgnoreChangesContent)}}),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.staff.confirmIgnoreChangesCancel))]),s("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.staff.confirmIgnoreChangesOkay))])],1)],1),s("md-dialog-confirm",{ref:"confirmLeaveIncomplete",attrs:{"md-title":t.translations.settings.staff.confirmDelete,"md-content-html":t.translations.settings.staff.confirmImcompleteContent,"md-ok-text":t.translations.settings.staff.confirmDeleteOk,"md-cancel-text":t.translations.settings.staff.confirmIncompleteCancel}}),s("md-dialog-confirm",{ref:"existingStaff",attrs:{"md-title":t.editExistingText["title"],"md-content-html":t.editExistingText["content-html"],"md-ok-text":t.editExistingText["ok-text"],"md-cancel-text":t.editExistingText["cancel-text"]}}),s("md-dialog-confirm",{ref:"linkToUser",attrs:{"md-title":t.translations.settings.staff.linkUser.title,"md-content-html":"<p>"+t.translations.settings.staff.linkUser.htmlIntro+"</p><p><strong>"+t.translations.settings.staff.fields.name.label+": </strong>"+t.currentUser.name+"<br/><strong>"+t.translations.settings.staff.fields.email.label+": </strong>"+t.currentUser.email+"</p><p>"+t.translations.settings.staff.linkUser.htmlExplanation+"</p>","md-ok-text":t.translations.settings.staff.linkUser.okText,"md-cancel-text":t.translations.settings.staff.linkUser.cancelText}}),s("md-dialog-alert",{ref:"emailTaken",attrs:{"md-title":t.translations.settings.staff.emailTaken.title,"md-content-html":t.translations.settings.staff.emailTaken["content-html"]}}),s("md-snackbar",{ref:"saveStatus",attrs:{"md-position":"top center"}},[s("span",[t._v(" "+t._s(t.translations.settings.staff.actions.saved)+" ")])]),t.loading?s("loading",{attrs:{message:t.translations.settings.staff.loading}}):t.id?[s("md-tabs",{ref:"staffTabs",staticClass:"md-transparent"},[s("md-tab",{ref:"contactTab",attrs:{id:"contact","md-active":"contact"===t.activeTab,"md-label":t.translations.settings.staff.editProfile.contact},nativeOn:{focusin:function(e){return t.updateTab("contact")}}},[s("edit-contact",{attrs:{"available-email":t.availableEmail,"user-id":t.userId,saving:t.saving},on:{validationCheck:t.validateContact}})],1),t.currentUserCan("ssa_manage_staff")?s("md-tab",{attrs:{"md-active":"permissions"===t.activeTab,id:"permissions","md-label":t.translations.settings.staff.editProfile.permissions},nativeOn:{focusin:function(e){return t.updateTab("permissions")}}},[0!==t.userId?s("edit-permissions",{attrs:{id:t.id,"user-id":t.userId,saving:t.saving}}):s("empty",{attrs:{label:t.translations.settings.staff.not_connected.title,description:t.translations.settings.staff.not_connected.desc}},[s("p",[t._v(" "+t._s(t.currentStaff.email)+" ")]),s("md-button",{staticClass:"md-raised md-primary",attrs:{href:t.api.admin_url+"user-new.php"}},[t._v(" "+t._s(t.translations.settings.staff.not_connected.addNew)+" ")])],1)],1):t._e(),s("md-tab",{attrs:{"md-active":"availability"===t.activeTab,id:"availability","md-label":t.translations.settings.staff.editProfile.availability},nativeOn:{focusin:function(e){return t.updateTab("availability")}}},[s("edit-availability",{attrs:{"all-appointment-types":t.allAppointmentTypes,id:t.id},on:{toggleAll:t.toggleAllAppointmentTypes}})],1),s("md-tab",{attrs:{"md-active":"web_meetings"===t.activeTab,id:"web_meetings","md-label":t.translations.settings.staff.editProfile.web_meetings},nativeOn:{focusin:function(e){return t.updateTab("web_meetings")}}},[s("edit-web-meetings")],1)],1),s("div",{staticClass:"button-bar"},[s("md-button",{staticClass:"md-raised",attrs:{disabled:t.saving},on:{click:t.cancelEdit}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStaffForm}},[t._v(" "+t._s(t.translations.general.save)+" ")]),t.saving?s("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)]:[s("user-selector",{attrs:{disabled:t.saving,label:t.translations.settings.staff.fields.email.label,help:t.translations.settings.staff.fields.email.help},on:{input:t.createStaffFromEmail}})]],2)},bg=[],kg=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-layout",{attrs:{"md-vertical-align":"center","md-gutter":16}},[s("md-layout",[s("md-input-container",{class:{"md-input-invalid":t.error}},[s("label",{attrs:{for:"selectUser"}},[t._v(" "+t._s(t.label)+" ")]),t.unattachedUsers.length?s("md-autocomplete",{attrs:{disabled:t.disabled,list:t.unattachedUsers,"print-attribute":"email","filter-list":t.userFilter,"min-chars":0,"max-height":6,debounce:300},on:{change:t.userCallback,selected:t.userCallback},model:{value:t.selectedEmail,callback:function(e){t.selectedEmail=e},expression:"selectedEmail"}}):s("md-input",{attrs:{disabled:t.disabled},on:{change:t.userCallback},model:{value:t.selectedEmail,callback:function(e){t.selectedEmail=e},expression:"selectedEmail"}}),t.error?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.error)+" ")]):t.help?s("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.help)+" ")]):t._e()],1)],1),s("md-layout",{attrs:{"md-flex":"none"}},[s("div",[s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.disabled},on:{click:t.handleCreate}},[t._v(" "+t._s(t.translations.settings.staff.actions.create)+" ")])],1)])],1)},Cg=[],Sg={name:"userSelector",components:{},props:{disabled:{type:Boolean},help:{type:String},label:{type:String},value:{type:String}},data(){return{error:!1,selectedDisplayName:null,selectedEmail:null,selectedUser:null}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["users"]),...(0,o.Se)("notifications",["validateEmail"]),...(0,o.Se)("staff",["unattachedUsers"])},methods:{handleCreate(){this.selectedEmail&&this.validateEmail(this.selectedEmail)?(this.error=!1,this.$emit("input",{user_id:this.selectedUser,email:this.selectedEmail,display_name:this.selectedDisplayName})):this.error=!0},userCallback(t){if("object"===typeof t&&Object.prototype.hasOwnProperty.call(t,"email"))return this.selectedEmail=t.email.toLowerCase(),this.selectedUser=t.id,void(this.selectedDisplayName=t.display_name);if(!this.validateEmail(t))return;this.error=!1,this.selectedEmail=t;let e=this.users.find((t=>t.email.toLowerCase()===this.selectedEmail));this.selectedUser=e?e.id:0,this.selectedDisplayName=e?e.display_name:""},userFilter(t,e){return t.filter((t=>-1!==t.email.toLowerCase().indexOf(e.toLowerCase()))).slice(0,5)},...(0,o.nv)("staff",["fetchUsers"])}},wg=Sg,Tg=(0,q.Z)(wg,kg,Cg,!1,null,null,null),xg=Tg.exports,Ag=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-staff-contact"},[0===t.userId?s("md-input-container",{class:{"md-input-invalid":t.$v.name.$error}},[s("label",{attrs:{for:"name"}},[t._v(" "+t._s(t.translations.settings.staff.fields.name.label)+" ")]),s("md-input",{attrs:{disabled:t.saving,id:"name",required:""},model:{value:t.$v.name.$model,callback:function(e){t.$set(t.$v.name,"$model",e)},expression:"$v.name.$model"}}),t.$v.name.$error?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.name.error)+" ")]):t._e()],1):t._e(),0!==t.userId?s("md-toolbar",{staticClass:"md-transparent"},[s("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.settings.staff.connectedUser)+" ")]),s("md-button",{staticClass:"md-raised md-primary",attrs:{href:t.wpUserLink(t.currentStaff.user_id)}},[t._v(" "+t._s(t.translations.settings.staff.connectedUserEdit)+" ")])],1):t._e(),s("md-input-container",{class:{"md-input-invalid":t.$v.display_name.$error}},[s("label",{attrs:{for:"display_name"}},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.label)+" ")]),s("md-input",{attrs:{disabled:t.saving||0!==t.userId,id:"display_name",required:""},model:{value:t.$v.display_name.$model,callback:function(e){t.$set(t.$v.display_name,"$model",e)},expression:"$v.display_name.$model"}}),t.$v.display_name.$error?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.error)+" ")]):s("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.help)+" ")])],1),s("md-input-container",{class:{"md-input-invalid":t.$v.email.$error||!t.availableEmail}},[s("label",{attrs:{for:"email"}},[t._v(" "+t._s(t.translations.settings.staff.fields.email.label)+" ")]),s("md-input",{attrs:{id:"email",disabled:t.saving||0!==t.userId,required:""},model:{value:t.$v.email.$model,callback:function(e){t.$set(t.$v.email,"$model",e)},expression:"$v.email.$model"}}),t.availableEmail?t.$v.email.$error?s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.error)+" ")]):t._e():s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.errorTaken)+" ")])],1),t.smsModule.active?s("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validPhone}},[s("label",{attrs:{for:"phone"}},[t._v(" "+t._s(t.translations.settings.staff.fields.phone.label)+" ")]),s("telephone",{attrs:{placeholder:"",disabled:t.saving,"input-options":{id:"phone"}},on:{validate:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t.validPhone?t._e():s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.general.phone_error)+" ")])],1):t._e()],1)},Pg=[],Mg={name:"settingsContactStaffEdit",components:{Telephone:Ko},mixins:[ui.oE],props:["userId","saving","availableEmail"],data(){return{validPhone:!0}},validations:{name:{required:gi.C1},display_name:{required:gi.C1},email:{required:gi.C1,email:gi.Do}},computed:{display_name:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:""},set(t){this.setCurrentStaff({key:"display_name",value:t}),this.validationCheck()}},email:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"email")?this.currentStaff.email.toLowerCase():""},set(t){this.setCurrentStaff({key:"email",value:t.toLowerCase()}),this.validationCheck()}},name:{get(){let t="";return t=0===this.userId?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"name")?this.currentStaff.name:"":this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:"",t},set(t){this.setCurrentStaff({key:"name",value:t}),this.validationCheck()}},phone:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"phone")?this.currentStaff.phone:""},set(t){this.setCurrentStaff({key:"phone",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["currentStaff"]),...(0,o.Se)(["wpUserLink"]),...(0,o.Se)("notifications",["smsModule"])},methods:{checkPhone(t){this.validPhone=t,this.validationCheck()},validationCheck(){this.$v.$touch(),this.$emit("validationCheck",!this.$v.name.$invalid&&!this.$v.display_name.$invalid&&!this.$v.email.$invalid&&this.validPhone)},...(0,o.OI)("staff",["setCurrentStaff"])}},Eg=Mg,Dg=(0,q.Z)(Eg,Ag,Pg,!1,null,null,null),$g=Dg.exports,Og=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-staff-permissions"},[t.settings.blackout_dates.enabled&&0!==t.userId&&t.currentUserCan("ssa_manage_staff")?s("div",{staticClass:"md-checkbox-with-note"},[s("md-checkbox",{attrs:{id:"blackout",name:"blackout",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_blackout_dates,callback:function(e){t.manages_blackout_dates=e},expression:"manages_blackout_dates"}},[t._v(" "+t._s(t.translations.settings.staff.fields.blackout.label)+" ")])],1):t._e(),0!==t.userId&&t.currentUserCan("ssa_manage_staff")?s("div",{staticClass:"md-checkbox-with-note"},[s("md-checkbox",{attrs:{id:"working-hour-access",name:"working-hour-access",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_working_hours,callback:function(e){t.manages_working_hours=e},expression:"manages_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.manages_working_hours.label)+" ")])],1):t._e(),t.settings.google_calendar.enabled&&0!==t.userId?s("div",{staticClass:"md-checkbox-with-note"},[s("md-checkbox",{attrs:{id:"google-calendar",name:"google-calendar",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_google,callback:function(e){t.manages_google=e},expression:"manages_google"}},[t._v(" "+t._s(t.translations.settings.staff.fields.gcalendar.label)+" ")])],1):t._e()])},Ig=[],zg={name:"settingsPermissionsStaffEdit",props:["userId","saving","id"],data(){return{}},computed:{adminManagingSelf(){return this.currentUserIsSelf&&this.currentUserCan("ssa_manage_staff")},manages_blackout_dates:{get(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_blackout_dates"))&&!!parseInt(this.currentStaff.manages_blackout_dates,10)},set(t){this.setCurrentStaff({key:"manages_blackout_dates",value:t})}},manages_google:{get(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_google"))&&!!parseInt(this.currentStaff.manages_google,10)},set(t){this.setCurrentStaff({key:"manages_google",value:t})}},manages_working_hours:{get(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_working_hours"))&&!!parseInt(this.currentStaff.manages_working_hours,10)},set(t){this.setCurrentStaff({key:"manages_working_hours",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("staff",["currentStaff"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsSelf"])},methods:{...(0,o.OI)("staff",["setCurrentStaff"])}},jg=zg,Lg=(0,q.Z)(jg,Og,Ig,!1,null,null,null),Ng=Lg.exports,Ug=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-staff-availability"},[t.currentUserCan("ssa_manage_staff")?s("fieldset",{staticClass:"md-fieldset",class:{"md-fieldset-invalid":!t.validAppointmentTypes}},[s("legend",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]),t.validAppointmentTypes?t._e():s("p",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.error)+" ")]),t.editableAppointmentTypes.length?t.staffAppointmentTypes.length?t.notAllStaff?s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.someStaffAppointmentTypes)+" ")]):t._e():s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.noStaffAppointmentTypes)+" ")]):s("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.noAppointmentTypes)+" ")]),s("md-list",[t.notAllStaff?t._e():s("md-list-item",[s("md-checkbox",{model:{value:t.allTypes,callback:function(e){t.allTypes=e},expression:"allTypes"}},[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.all)+" ")])],1),t.allTypes?t._e():t._l(t.staffAppointmentTypes,(function(e){return s("md-list-item",{key:e.id},[s("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+e.id,name:"appointment-types","md-value":e.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(e.title)+" ")])],1)}))],2)],1):[s("div",{staticClass:"md-heading-group"},[s("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")])]),t.appointment_types.length?s("ul",t._l(t.appointment_types,(function(t){return s("appointment-type-read-only",{key:t.id,attrs:{id:t}})})),1):s("p",[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.error_staff)+" ")])],t.settings.blackout_dates.enabled&&(t.canEditOwnBlackoutDates||t.currentUserCan("ssa_manage_staff"))?[s("div",{staticClass:"md-heading-group"},[s("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.blackout.title)+" ")]),s("p",[t._v(" "+t._s(t.translations.settings.blackout.description)+" ")])]),s("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/blackout/"+t.id}},[t._v(" "+t._s(t.translations.settings.staff.fields.blackout.editText)+" ")])]:t._e(),t.currentUserCan("ssa_manage_staff")||t.canEditOwnWorkingHours?[s("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.staff.fields.working_hours.label)+" ")]),s("fieldset",{staticClass:"md-fieldset field-wrapper"},[s("legend",[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.legend)+" ")]),s("md-radio",{attrs:{id:"custom_working_hours_off",name:"custom_working_hours","md-value":!1,"aria-described-by":"custom-working-hours-help"},model:{value:t.custom_working_hours,callback:function(e){t.custom_working_hours=e},expression:"custom_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.labelOff)+" ")]),s("md-radio",{attrs:{id:"custom_working_hours_on",name:"custom_working_hours","md-value":!0,"aria-described-by":"custom-working-hours-help"},model:{value:t.custom_working_hours,callback:function(e){t.custom_working_hours=e},expression:"custom_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.labelOn)+" ")]),s("div",{staticClass:"custom-working-hours-help",attrs:{"aria-live":"polite"}},[s("p",[t.custom_working_hours?[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.helpOn)+" ")]:[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.helpOff)+" ")]],2)])],1),t.custom_working_hours?s("p",[s("strong",[t._v(t._s(t.translations.settings.staff.fields.working_hours.timezone_label))]),t._v(" "+t._s(t.formatTimezone(t.settings.global.timezone_string))),s("br"),s("strong",[t._v(t._s(t.translations.settings.staff.fields.working_hours.current_time_label))]),t._v(" "+t._s(t.moment.tz(t.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment))+" ")]):t._e(),t.custom_working_hours?s("availability-picker",{attrs:{increment:30},model:{value:t.working_hours,callback:function(e){t.working_hours=e},expression:"working_hours"}}):t._e()]:t._e(),t.managesGoogle?[s("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.wizard.appointmentType.googleCalendar)+" ")]),0!==t.userId&&t.currentUserCan("ssa_manage_staff")&&!t.currentUserIsSelf?s("p",[t.googleCalendarConnected?[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_connected)+" "),t.calendarsConnected?[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_calendars)+" "),s("br"),s("strong",[t._v(" "+t._s(t.translations.settings.staff.google.admin.calendars_connected)+" ")]),t._v(" "+t._s(t.currentStaff.google.excluded_calendars.length)+" ")]:[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_no_calendars)+" ")],s("div",[s("md-button",{staticClass:"md-primary",attrs:{disabled:t.disconnecting},on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1),t.disconnecting?s("md-spinner"):t._e()]:[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_not_connected)+" ")]],2):t._e(),t.canConnectOwnGoogleAccount?[t.googleCalendarConnected?s("google-calendar-list"):s("google-calendar-auth")]:t._e()]:t._e()],2)},Gg=[],Fg=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[t._v(" "+t._s(t.title)+" ("+t._s(t.duration)+") ")])},Wg=[],Bg={props:["id"],computed:{appointmentType(){let t=this.appointmentTypes.find((t=>parseInt(t.id,10)===parseInt(this.id,10)));return t},title(){return this.appointmentType?this.appointmentType.title:""},duration(){let t=this.appointmentType?this.appointmentType.duration:0;return this.displayDuration(t)},...(0,o.rn)("appointment_types",["appointmentTypes"]),...(0,o.Se)(["displayDuration"])}},Rg=Bg,qg=(0,q.Z)(Rg,Fg,Wg,!1,null,null,null),Hg=qg.exports,Zg=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.authorizeGoogle}},[t._v(" "+t._s(t.translations.settings.staff.google.actions.connect)+" ")])],1)},Kg=[],Vg={name:"staffGoogleCalendarAuth",data(){return{saving:!1}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("google_calendar",["googleAuthUrl"]),...(0,o.rn)("staff",["currentStaff"])},methods:{authorizeGoogle(){this.saving=!0;const t=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.googleCalendarAuth({ssa_redirect:this.$route.path,ssa_base_url:t,staff_id:this.currentStaff.id}).then((()=>{this.saving=!1,window.ssa_is_embed?window.top.location.href=this.googleAuthUrl:window.location.href=this.googleAuthUrl}))},...(0,o.nv)("google_calendar",["googleCalendarAuth"])}},Yg=Vg,Jg=(0,q.Z)(Yg,Zg,Kg,!1,null,null,null),Xg=Jg.exports,Qg=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("loading",{attrs:{size:"body",message:t.loadingMessage}}):t.error?s("empty",{attrs:{label:t.translations.settings.staff.google.check_settings}},[s("md-button",{staticClass:"md-raised",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1):t.googleCalendarConnected?[s("md-button",{staticClass:"md-raised",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")]),s("fieldset",{staticClass:"md-fieldset",staticStyle:{"margin-top":"1rem"}},[s("legend",[t._v(" "+t._s(t.translations.wizard.appointmentType.checkCalendars)+" ")]),s("p",[t._v(t._s(t.translations.wizard.appointmentType.checkCalendarsDesc))]),s("md-list",t._l(t.googleCalendars,(function(e){return s("md-list-item",{key:e.gcal_id},[s("md-checkbox",{attrs:{id:e.gcal_id,name:e.gcal_id,"md-value":e.gcal_id},model:{value:t.googleCalendarsAvailability,callback:function(e){t.googleCalendarsAvailability=e},expression:"googleCalendarsAvailability"}},[t._v(" "+t._s(e.summary)+" ")])],1)})),1)],1)]:t._e()],2)},th=[],eh={name:"staffGoogleCalendarList",components:{Loading:et,Empty:Jt},data(){return{loading:!0,loadingMessage:"",error:!1}},mounted(){this.loadingMessage=this.translations.settings.google_calendar.loadingCalendars,this.setGoogleAccountConnected(),this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars({staff_id:this.currentStaff.id}).then((()=>{this.loading=!1})).catch((t=>{console.log(t),this.loading=!1,this.error=!0}))},computed:{googleCalendarConnected(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token")&&!Ae().isEmpty(this.currentStaff.google_access_token)},googleCalendarsAvailability:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"excluded_calendars")?this.currentStaff.google.excluded_calendars:[]},set(t){let e=this.currentStaff.google||{},s=Object.assign({},e,{excluded_calendars:t});this.setCurrentStaff({key:"google",value:s})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["currentStaff","googleCalendars"])},methods:{disconnectAccount(){this.loadingMessage=this.translations.settings.google_calendar.disconnecting,this.loading=!0,this.googleCalendarDeauth({staff_id:this.currentStaff.id}).then((()=>{this.loading=!1,this.saveStaff()}))},setGoogleAccountConnected(){let t=this.currentStaff.google||{},e=Object.assign({},t,{connected:this.googleCalendarConnected}),s=JSON.stringify(t),i=JSON.stringify(e);s!==i&&(this.setCurrentStaff({key:"google",value:e}),this.saveStaff())},...(0,o.nv)("google_calendar",["fetchGoogleCalendars"]),...(0,o.nv)("staff",["googleCalendarDeauth","saveStaff"]),...(0,o.OI)("staff",["setCurrentStaff"])}},sh=eh,ih=(0,q.Z)(sh,Qg,th,!1,null,null,null),nh=ih.exports,ah={name:"settingsAvailabilityStaffEdit",props:["id","allAppointmentTypes"],components:{Notification:vs,AvailabilityPicker:Oi,AppointmentTypeReadOnly:Hg,GoogleCalendarAuth:Xg,GoogleCalendarList:nh},data(){return{defaultStaff:E,disconnecting:!1,moment:W(),validAppointmentTypes:!0}},computed:{allTypes:{get(){return this.allAppointmentTypes},set(t){this.$emit("toggleAll",t);let e=this.staffAppointmentTypes.map((t=>t.id));this.setCurrentStaff({key:"appointment_types",value:e})}},appointment_types:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")?this.currentStaff.appointment_types.map(String):[]},set(t){this.setCurrentStaff({key:"appointment_types",value:t}),this.validAppointmentTypes=t.length}},calendarsConnected(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"excluded_calendars")&&this.currentStaff.google.excluded_calendars.length},canConnectOwnGoogleAccount(){return!(!this.settings.google_calendar.enabled||!Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token"))&&(!!this.currentUserIsSelf||this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.managesGoogle)},canEditOwnBlackoutDates(){return this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.castToBoolean(this.currentStaff.manages_blackout_dates)},canEditOwnWorkingHours(){return this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.castToBoolean(this.currentStaff.manages_working_hours)},custom_working_hours:{get(){return!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"custom_working_hours"))&&this.castToBoolean(this.currentStaff.custom_working_hours)},set(t){this.setCurrentStaff({key:"custom_working_hours",value:t})}},googleCalendarConnected(){return this.currentUserIsStaff||this.currentUserIsSelf?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token")&&!Ae().isEmpty(this.currentStaff.google_access_token):!!(this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"connected"))&&this.currentStaff.google.connected},managesGoogle(){return!(!this.settings.google_calendar.enabled||!this.settings.google_calendar.access_token)&&(!("0"===this.currentStaff.user_id||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_google"))&&this.castToBoolean(this.currentStaff.manages_google))},notAllStaff(){return this.editableAppointmentTypes.length&&this.staffAppointmentTypes.length<this.editableAppointmentTypes.length},working_hours:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"working_hours")?this.currentStaff.working_hours:Object.assign({},this.defaultStaff.working_hours)},set(t){this.setCurrentStaff({key:"working_hours",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("staff",["currentStaff"]),...(0,o.Se)(["castToBoolean","formatTimezone","staffAppointmentTypes"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsSelf","currentUserIsStaff","currentUserStaffId","userId"])},methods:{disconnectAccount(){this.disconnecting=!0,this.googleCalendarDeauth({staff_id:this.currentStaff.id}).then((()=>{this.disconnecting=!1,this.saveStaff()}))},...(0,o.OI)("staff",["setCurrentStaff"]),...(0,o.nv)("staff",["googleCalendarDeauth","saveStaff"])}},oh=ah,rh=(0,q.Z)(oh,Ug,Gg,!1,null,null,null),lh=rh.exports,dh=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit-staff-web-meetings"},[[s("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.staff.webMeetings.headline)+" ")]),s("fieldset",{staticClass:"md-fieldset field-wrapper"},[s("p",[t._v(t._s(t.translations.settings.staff.webMeetings.web_meetings_url))]),s("md-input-container",[s("md-input",{attrs:{placeholder:"https://",maxlength:"255",id:"web_meetings_url"},model:{value:t.web_meetings_url,callback:function(e){t.web_meetings_url=e},expression:"web_meetings_url"}}),s("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.errorTaken)+" ")])],1)],1)]],2)},ph=[],ch={name:"settingsWebMeetingsEdit",computed:{web_meetings_url:{get(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"web_meetings_url")?this.currentStaff.web_meetings_url:null},set(t){this.setCurrentStaff({key:"web_meetings_url",value:t})}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)("staff",["currentStaff"])},methods:{...(0,o.OI)("staff",["setCurrentStaff"])}},mh=ch,uh=(0,q.Z)(mh,dh,ph,!1,null,null,null),gh=uh.exports,hh={name:"settingsStaffEdit",components:{Loading:et,UserSelector:xg,EditContact:$g,EditPermissions:Ng,EditAvailability:lh,EditWebMeetings:gh,Empty:Jt},props:["id"],data(){return{allAppointmentTypes:!0,activeTab:"contact",availableEmail:!0,dirty:!1,currentUser:{name:"",email:""},defaultStaff:E,editExistingText:{title:"","content-html":"Edit","ok-text":"","cancel-text":""},incomplete:!1,loading:!0,linkUser:!1,saving:!1,validContact:!0,leaveWithoutSaving:!1}},mounted(){this.onMountOrUpdate(),this.getGuides({"ssasc-plugin-screen":j.teams.edit})},beforeRouteEnter(t,e,s){s((i=>{i.navigationGuard(t,e,s)}))},beforeRouteUpdate(t,e,s){this.onMountOrUpdate(),this.navigationGuard(t,e,s)},beforeRouteLeave(t,e,s){if(this.incomplete){let t="confirmLeaveIncomplete";return this.$refs[t].open(),void this.$refs[t].$on("close",(t=>{"ok"===t?(this.deleteCurrentStaff(),s()):s(!1)}))}if(this.dirty){let t="confirmLeaveDirty";return this.$refs[t].open(),void this.$refs[t].$on("close",(()=>{this.leaveWithoutSaving?s():s(!1)}))}s()},watch:{currentStaffString(t,e){this.dirty=e!==t,this.incomplete=t&&0===parseInt(this.currentStaff.user_id,10)&&(!this.currentStaff.name||!this.currentStaff.display_name)}},computed:{currentStaffString(){return JSON.stringify(this.currentStaff)},name(){let t="";return t=0===this.userId?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"name")?this.currentStaff.name:"":this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:"",t},notAllStaff(){return this.editableAppointmentTypes.length&&this.staffAppointmentTypes.length<this.editableAppointmentTypes.length},pageTitle(){let t=this.translations.settings.staff.actions.addNew;return this.id&&(t=this.name?this.name:this.translations.settings.staff.emptyEditTitle),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings"]),...(0,o.rn)("staff",["currentStaff","staff","users"]),...(0,o.Se)(["staffAppointmentTypes"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("staff",["currentUserCan","currentUserIsSelf","currentUserIsStaff","currentUserStaffId","userId"])},methods:{activateContactTab(){let t=this.$refs.staffTabs.$el,e=t.querySelector(".md-tab-header");e.click();let s=this.$refs.contactTab.$el,i=s.querySelector(".md-input-invalid input");setTimeout((()=>{i.focus()}),300)},cancelEdit(){this.currentUserCan("ssa_manage_staff")?this.$router.push("/ssa/settings/staff"):this.$router.push("/ssa/appointments")},checkEmail(){let t=this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"email")?this.currentStaff.email.toLowerCase():"",e=this.staff.find((t=>t.id===this.currentStaff.id)).email.toLowerCase(),s=this.staff.map((t=>t.email?t.email.toLowerCase():"")),i=s.filter((t=>t!==e));if(this.availableEmail=i.indexOf(t)<0,!this.availableEmail){let t="emailTaken";return void this.$refs[t].open()}if(0!==parseInt(this.currentStaff.user_id,10))return;let n=this.users.find((e=>t===e.email.toLowerCase()));if(n&&!this.linkUser){this.availableEmail=!1,this.currentUser={name:n.display_name,email:n.email.toLowerCase()};let e="linkToUser";this.$refs[e].open(),this.$refs[e].$on("close",(e=>{if("ok"===e)this.availableEmail=!0,this.linkUser=!0,this.setCurrentStaff({key:"user_id",value:n.id}),this.saveStaffForm();else{this.availableEmail=!0,this.linkUser=!1;let e=this.staff.find((t=>t.id===this.currentStaff.id)),s=e.email.toLowerCase();t=s}}))}},createStaffFromEmail(t){let e=this.staff.find((e=>e.email.toLowerCase()===t.email.toLowerCase()));e?this.editExisting(e):(this.saving=!0,t=Object.assign({},this.defaultStaff,t),this.setCurrentStaff(t),this.updateAllAppointmentTypes(),this.saveStaff().then((()=>{this.saving=!1,this.$router.push({name:"staff-single",params:{id:this.currentStaff.id}})})))},deleteCurrentStaff(){let t=this.currentStaff.id;console.log("currentStaff ID",t),this.deleteStaff(t).then((()=>{})).catch((t=>{console.log(t)}))},editExisting(t){let e=this.translations.settings.staff.editExisting[t.status];this.editExistingText=e;let s="existingStaff";this.$refs[s].open(),this.$refs[s].$on("close",(e=>{"ok"===e?(this.setCurrentStaff(t),"publish"!==t.status&&this.setCurrentStaff({key:"status",value:"publish"}),this.saving=!0,this.saveStaff().then((()=>{this.saving=!1,this.updateAllAppointmentTypes()})).catch((t=>{console.log(t)})),this.$router.push("/ssa/settings/staff/profile/"+t.id)):this.$router.push("/ssa/settings/staff")}))},loadStaff(){let t=this.staff.find((t=>parseInt(t.id,10)===parseInt(this.id,10)));this.setCurrentStaff(t),this.syncStaffFromUsers()},navigationGuard(t,e,s){this.currentUserCan("ssa_manage_staff")?(t.params.id||this.setCurrentStaff(void 0),s()):this.currentUserIsStaff?this.$router.push("/ssa/settings/staff/profile/"+this.currentUserStaffId):this.$router.push("/ssa")},onMountOrUpdate(){this.id?(this.loadStaff(),Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")&&this.currentStaff.appointment_types.length?(this.loading=!1,this.updateAllAppointmentTypes()):this.fetchSingleStaff(this.id).then((()=>{this.loading=!1,this.updateAllAppointmentTypes()}))):this.loading=!1},saveStaffForm(){if(this.checkEmail(),this.updateAllAppointmentTypes(),!this.validContact||!this.availableEmail)return this.saving=!1,void this.activateContactTab();this.saving=!0,this.saveStaff().then((()=>{this.dirty=!1,this.saving=!1,this.linkUser=!1,this.currentUserCan("ssa_manage_staff")?this.$router.push("/ssa/settings/staff"):this.$refs.saveStatus.open()})).catch((t=>{console.log("failed to save",t),this.saving=!1}))},toggleAllAppointmentTypes(t){this.allAppointmentTypes=t},updateAllAppointmentTypes(){Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")&&(this.allAppointmentTypes=this.currentStaff.appointment_types.length===this.editableAppointmentTypes.length,this.notAllStaff&&(this.allAppointmentTypes=!1))},updateTab(t){this.activeTab=t},validateContact(t){this.validContact=t},dialogLeaveWithoutSaving(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()},...(0,o.nv)("staff",["deleteStaff","fetchSingleStaff","saveStaff","syncStaffFromUsers"]),...(0,o.OI)("staff",["setCurrentStaff"]),...(0,o.nv)("guides",["getGuides"])}},_h=hh,fh=(0,q.Z)(_h,vg,bg,!1,null,null,null),yh=fh.exports,vh=[{path:"staff",component:mg,redirect:"/ssa/settings/staff/all",children:[{path:"all",name:"staff-all",component:yg,meta:{ssa_manage_staff:!0}},{path:"profile/:id?",name:"staff-single",component:yh,props:!0}]}],bh=[{path:"settings",component:_o,redirect:"/ssa/settings/all",children:[{path:"all",name:"settings-all",component:Io,meta:{ssa_manage_site_settings:!0}},{path:"license",name:"settings-license",component:Go,meta:{ssa_manage_site_settings:!0}},{path:"general",name:"settings-general",component:nr,meta:{ssa_manage_site_settings:!0}},{path:"developer",name:"settings-developer",component:Pr,meta:{ssa_manage_site_settings:!0}},{path:"import-export",name:"settings-import-export",component:Gr,meta:{ssa_manage_site_settings:!0}},{path:"styles",name:"settings-styles",component:el,meta:{ssa_manage_site_settings:!0}},{path:"translations",name:"settings-translations",component:rl,meta:{ssa_manage_site_settings:!0}},{path:"google-calendar",name:"settings-google-calendar",component:$d,meta:{ssa_manage_site_settings:!0}},{path:"mailchimp",name:"settings-mailchimp",component:Yd,meta:{ssa_manage_site_settings:!0}},{path:"webex",name:"settings-webex",component:gp,meta:{ssa_manage_site_settings:!0}},{path:"zoom",name:"settings-zoom",component:$p,meta:{ssa_manage_site_settings:!0}},{path:"advanced-scheduling",name:"settings-advanced-scheduling",component:Np,meta:{ssa_manage_site_settings:!0}},{path:"tracking",name:"settings-tracking",component:Rp,meta:{ssa_manage_site_settings:!0}},...Sc,...iu,...zu,...og,...vh]}],kh=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"support"},[s("router-view")],1)},Ch=[],Sh={name:"supportHome",data(){return{}}},wh=Sh,Th=(0,q.Z)(wh,kh,Ch,!1,null,null,null),xh=Th.exports,Ah=function(){var t=this,e=this,s=e.$createElement,i=e._self._c||s;return i("div",{staticClass:"support"},[!0===e.error?i("empty",{attrs:{label:e.errorLabel,description:e.errorDescription}},[e.error_exit?i("md-button",{staticClass:"md-raised md-primary",on:{click:function(){return t.error=!1}}},[e._v(" "+e._s(e.translations.support.showDebugging)+" ")]):e._e()],1):!0===e.loading?i("loading",{attrs:{message:e.loadingMessage}}):[i("md-toolbar",{staticClass:"md-transparent"},[i("div",{staticStyle:{flex:"1"}},[i("h2",{staticClass:"md-title"},[e._v(" "+e._s(e.translations.support.supportTitle)+" ")])]),i("md-button",{staticClass:"md-primary md-raised",attrs:{id:"contact-team"},on:{click:e.openContactForm}},[i("md-icon",[e._v(" contact_support ")]),e._v(" "+e._s(e.translations.support.contact)+" ")],1)],1),i("p",[e._v(" "+e._s(e.translations.support.supportDetails)+" ")]),i("ul",{staticClass:"icon-list"},e._l(e.siteStatusList,(function(t,s){return i("li",{key:s},[i("div",{staticClass:"icon"},[i("md-icon",{staticClass:"md-primary",attrs:{"md-theme":e.statusTheme(t.status)}},["error"===t.status?[e._v(" error ")]:"warning"===t.status?[e._v(" warning ")]:[e._v(" check_circle ")]],2)],1),i("div",{staticClass:"details"},[i("h3",{staticClass:"detail-header"},[e._v(" "+e._s(e.translations.support[s])+" ")]),e._l(t.notices,(function(t,s){return i("p",{key:s,domProps:{innerHTML:e._s(t)}})}))],2)])})),0),i("hr"),i("h2",{staticClass:"md-title"},[e._v(" "+e._s(e.translations.support.moreDetails)+" ")]),i("support-local",{on:{localUpdate:e.updateEnvironment}}),i("hr"),i("h2",{staticClass:"md-title"},[e._v(" "+e._s(e.translations.support.debugger)+" ")]),i("debugger")],i("md-dialog",{ref:"contactForm",attrs:{"md-open-from":"#contact-team","md-close-to":"#contact-team"}},[i("contact-support",{attrs:{messageInfo:e.debuggingInfo},on:{close:e.closeContactForm}})],1)],2)},Ph=[],Mh=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"support-local"},[s("ul",{staticClass:"icon-list"},t._l(t.systemDetails,(function(e,i){return s("li",{key:i},[s("div",{staticClass:"icon"},[s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"light-blue"}},[t._v("info")])],1),s("div",{staticClass:"details"},[s("h2",{staticClass:"detail-header"},[t._v(t._s(t.translations.support[i]))]),s("p",[t._v(t._s(e))])])])})),0)])},Eh=[],Dh={name:"supportLocal",data(){return{systemDetails:{os:"",screenResolution:"",webBrowser:"",webBrowserSize:"",siteUrl:""}}},mounted(){this.detectOS(),this.detectScreenResolution(),this.detectBrowser(),this.detectBrowserSize(),this.detectSiteUrl(),this.detectHomeUrl()},updated(){this.$emit("localUpdate",this.systemDetails)},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api"])},methods:{detectOS(){let t=navigator.appVersion.toLowerCase(),e=this.translations.support.unknown;-1!==t.indexOf("win")&&(e="Windows"),-1!==t.indexOf("mac")&&(e="MacOS"),-1!==t.indexOf("x11")&&(e="UNIX"),-1!==t.indexOf("linux")&&(e="Linux"),this.$set(this.systemDetails,"os",e)},detectScreenResolution(){let t=this.translations.support.unknown,e=screen.width,s=screen.height;t=e+" x "+s,this.$set(this.systemDetails,"screenResolution",t)},detectBrowser(){let t=this.translations.support.unknown,e=navigator.userAgent,s=navigator.appName,i=parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10),a="",o="",r="";-1!==(o=e.indexOf("OPR/"))?(s="Opera",i=e.substring(o+4)):-1!==(o=e.indexOf("opera"))?(s="Opera",i=e.substring(o+6),-1!==(o=e.indexOf("version"))&&(i=e.substring(o+8))):-1!==(o=e.indexOf("MSIE"))?(s="Microsoft Internet Explorer",i=e.substring(o+5)):-1!==(o=e.indexOf("Chrome"))?(s="Chrome",i=e.substring(o+7)):-1!==(o=e.indexOf("Safari"))?(s="Safari",i=e.substring(o+7),-1!==(o=e.indexOf("Version"))&&(i=e.substring(o+8))):-1!==(o=e.indexOf("Firefox"))?(s="Firefox",i=e.substring(o+8)):(a=e.lastIndexOf(" ")+1)<(o=e.lastIndexOf("/"))&&(s=e.substring(a,o),i=e.substring(o+1),s.toLowerCase()===s.toUpperCase()&&(s=navigator.appName)),-1!==(r=i.indexOf(";"))&&(i=i.substring(0,r)),-1!==(r=i.indexOf(" "))&&(i=i.substring(0,r)),n=parseInt(i,10),isNaN(n)&&(i=parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10)),t=s+" "+n+" ("+i+")",this.$set(this.systemDetails,"webBrowser",t)},detectBrowserSize(){let t=this.translations.support.unknown,e=0,s=0;document.body&&document.body.offsetWidth&&(e=document.body.offsetWidth,s=document.body.offsetHeight),"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(e=document.documentElement.offsetWidth,s=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(e=window.innerWidth,s=window.innerHeight),t=e+" x "+s,this.$set(this.systemDetails,"webBrowserSize",t)},detectSiteUrl(){let t=this.translations.support.unknown;this.api&&this.api.site_url&&(t=this.api.site_url),this.$set(this.systemDetails,"siteUrl",t)},detectHomeUrl(){let t=this.translations.support.unknown;this.api&&this.api.home_url&&(t=this.api.home_url),this.$set(this.systemDetails,"homeUrl",t)}}},$h=Dh,Oh=(0,q.Z)($h,Mh,Eh,!1,null,null,null),Ih=Oh.exports,zh=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"support-debugger"},[s("md-tabs",{staticClass:"md-transparent"},[s("md-tab",{attrs:{id:"ssa","md-label":t.translations.support.debugLogs}},[s("div",{staticClass:"support-debugger-toolbar"},[s("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.ssa_debug_mode,callback:function(e){t.ssa_debug_mode=e},expression:"ssa_debug_mode"}},[s("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.support.enableDebugLog))]),t.savingSSADebug?s("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}):t._e()],1),t.ssa_debug_mode?s("div",{staticClass:"support-debugger-actions"},[s("md-menu",{attrs:{"md-align-trigger":""}},[s("md-button",{attrs:{"md-menu-trigger":""}},[s("span",[t._v(t._s(t.translations.support.debugLogOptions))]),t._v(" "),s("md-icon",{staticClass:"md-size-1x"},[t._v("expand_more")])],1),s("md-menu-content",[s("md-menu-item",{staticClass:"refresh-debug-log",on:{click:function(e){return t.refreshDebugLog("ssa")}}},[s("span",[t._v(t._s(t.translations.support.debugLogRefresh))]),s("md-icon",[t._v("refresh")])],1),t.logUrls.ssa?s("md-menu-item",{staticClass:"download-debug-log",on:{click:function(e){return t.downloadLog("ssa")}}},[s("span",[t._v(t._s(t.translations.support.debugLogDownload))]),s("md-icon",[t._v("get_app")])],1):t._e(),s("md-menu-item",{staticClass:"clear-debug-log",on:{click:function(e){return t.clearLogFile("ssa")}}},[s("span",[t._v(t._s(t.translations.support.debugLogClear))]),s("md-icon",[t._v("delete")])],1)],1)],1)],1):t._e()],1),t.ssa_debug_mode?s("div",{staticClass:"support-debugger-log-container"},[t.loadClickedSSADebug?t._e():s("div",{staticClass:"support-debugger-loading"},[s("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.loadLog("ssa")}}},[t._v(t._s(t.translations.support.loadDebugLog))])],1),t.loadClickedSSADebug?[t.loadingSSADebug?s("div",{staticClass:"support-debugger-loading"},[s("md-spinner",{attrs:{"md-size":48,"md-indeterminate":""}}),s("div",{staticClass:"support-debugger-loading-label"},[t._v(t._s(t.translations.support.debugLogLoading))])],1):t._e(),t.debugLog&&t.debugLog.ssa&&!t.loadingSSADebug?s("pre",{staticClass:"support-debugger-contents",domProps:{innerHTML:t._s(t.debugLog.ssa)}}):t._e(),t.debugLog&&t.debugLog.ssa||t.loadingSSADebug?t._e():s("div",{staticClass:"support-debugger-log-empty"},[s("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),s("h3",[t._v(t._s(t.translations.support.debugLogEmpty))]),s("p",[t._v(t._s(t.translations.support.debugLogEmptyDetails))])],1),t.logUrls.ssa?s("a",{ref:"logSSALink",staticStyle:{display:"none"},attrs:{href:t.logUrls.ssa,download:""}}):t._e()]:t._e()],2):t._e()]),t.ssa_debug_mode?s("md-tab",{attrs:{id:"wp","md-label":t.translations.support.debugLogsWP}},[s("div",{staticClass:"support-debugger-toolbar"},[s("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.debug_mode,callback:function(e){t.debug_mode=e},expression:"debug_mode"}},[s("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.support.enableDebugLogWP))]),t.savingWPDebug?s("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}):t._e()],1),t.debug_mode?s("div",{staticClass:"support-debugger-actions"},[s("md-menu",{attrs:{"md-align-trigger":""}},[s("md-button",{attrs:{"md-menu-trigger":""}},[s("span",[t._v(t._s(t.translations.support.debugLogOptions))]),t._v(" "),s("md-icon",{staticClass:"md-size-1x"},[t._v("expand_more")])],1),s("md-menu-content",[s("md-menu-item",{staticClass:"refresh-debug-log",on:{click:function(e){return t.refreshDebugLog("wp")}}},[s("span",[t._v(t._s(t.translations.support.debugLogRefresh))]),s("md-icon",[t._v("refresh")])],1),t.logUrls.wp?s("md-menu-item",{staticClass:"download-debug-log",on:{click:function(e){return t.downloadLog("wp")}}},[s("span",[t._v(t._s(t.translations.support.debugLogDownload))]),s("md-icon",[t._v("get_app")])],1):t._e(),s("md-menu-item",{staticClass:"clear-debug-log",on:{click:function(e){return t.clearLogFile("wp")}}},[s("span",[t._v(t._s(t.translations.support.debugLogClear))]),s("md-icon",[t._v("delete")])],1)],1)],1)],1):t._e()],1),t.debug_mode?s("div",{staticClass:"support-debugger-log-container"},[t.loadClickedWPDebug?t._e():s("div",{staticClass:"support-debugger-loading"},[s("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.loadLog("wp")}}},[t._v(t._s(t.translations.support.loadDebugLog))])],1),t.loadClickedWPDebug?[t.loadingWPDebug?s("div",{staticClass:"support-debugger-loading"},[s("md-spinner",{attrs:{"md-size":48,"md-indeterminate":""}}),s("div",{staticClass:"support-debugger-loading-label"},[t._v(t._s(t.translations.support.debugLogLoadingWP))])],1):t._e(),t.debugLog&&t.debugLog.wp&&!t.loadingWPDebug?s("pre",{staticClass:"support-debugger-contents",domProps:{innerHTML:t._s(t.debugLog.wp)}}):t._e(),t.debugLog&&t.debugLog.wp||t.loadingWPDebug?t._e():s("div",{staticClass:"support-debugger-log-empty"},[s("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),s("h3",[t._v(t._s(t.translations.support.debugLogEmpty))]),s("p",[t._v(t._s(t.translations.support.debugLogEmptyDetails))])],1),t.logUrls.wp?s("a",{ref:"logWPLink",staticStyle:{display:"none"},attrs:{href:t.logUrls.wp,download:""}}):t._e()]:t._e()],2):t._e()]):t._e()],1)],1)},jh=[],Lh={name:"supportDebugger",data(){return{savingSSADebug:!1,loadingSSADebug:!1,savingWPDebug:!1,loadingWPDebug:!1,savingMap:{ssa:"savingSSADebug",wp:"savingWPDebug"},loadingMap:{ssa:"loadingSSADebug",wp:"loadingWPDebug"},loadClickedSSADebug:!1,loadClickedWPDebug:!1}},computed:{debug_mode:{get(){return this.settings.developer.debug_mode},set(t){this.setWPDebugMode(t)}},ssa_debug_mode:{get(){return this.settings.developer.ssa_debug_mode},set(t){this.setSSADebugMode(t)}},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","debugLog","logUrls"])},methods:{loadLog(t){"ssa"===t&&(this.loadClickedSSADebug=!0,this.ssa_debug_mode&&(this.loadingSSADebug=!0,this.fetchSSADebugLog().then((()=>{this.loadingSSADebug=!1})))),"wp"===t&&(this.loadClickedWPDebug=!0,this.debug_mode&&(this.loadingWPDebug=!0,this.fetchWPDebugLog().then((()=>{this.loadingWPDebug=!1}))))},clearLogFile(t){const e=this.savingMap[t];this[e]=!0,"ssa"===t?this.clearSSADebugLog().then((()=>{this[e]=!1,this.fetchLogUrls()})):this.clearWPDebugLog().then((()=>{this[e]=!1,this.fetchLogUrls()}))},refreshDebugLog(t){const e=this.loadingMap[t];this[e]=!0,"ssa"===t?(this.setSSADebugLog(null),this.fetchSSADebugLog().then((()=>{this[e]=!1}))):(this.setWPDebugLog(null),this.fetchWPDebugLog().then((()=>{this[e]=!1})))},downloadLog(t){"ssa"===t&&this.$refs.logSSALink.click(),"wp"===t&&this.$refs.logWPLink.click()},...(0,o.nv)(["fetchSettings","fetchWPDebugLog","fetchSSADebugLog","fetchLogUrls","clearWPDebugLog","clearSSADebugLog"]),...(0,o.OI)(["setWPDebugMode","setSSADebugMode","setSSADebugLog","setWPDebugLog"]),...(0,o.nv)("developer_settings",["updateDeveloperSettings"])},watch:{ssa_debug_mode(){this.savingSSADebug=!0,this.loadingSSADebug=!0,this.ssa_debug_mode||(this.debug_mode=!1),this.updateDeveloperSettings().then((()=>{this.$emit("saved"),this.savingSSADebug=!1,this.ssa_debug_mode?this.debugLog.ssa?this.loadingSSADebug=!1:this.fetchSSADebugLog().then((()=>{this.loadingSSADebug=!1})):this.loadingSSADebug=!1}))},debug_mode(){this.savingWPDebug=!0,this.loadingWPDebug=!0,this.updateDeveloperSettings().then((()=>{this.savingWPDebug=!1,this.$emit("saved"),this.debug_mode?this.debugLog.wp?this.loadingWPDebug=!1:this.fetchWPDebugLog().then((()=>{this.loadingWPDebug=!1})):this.loadingWPDebug=!1}))}},mounted(){this.fetchLogUrls()}},Nh=Lh,Uh=(0,q.Z)(Nh,zh,jh,!1,null,null,null),Gh=Uh.exports,Fh=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-layout",{staticClass:"ssa-contact-support"},[t.loading||!t.submitted||t.error?t._e():[s("md-dialog-title",[t._v(" "+t._s(t.dialogTitle)+" ")]),s("md-dialog-content",[s("p",{staticStyle:{"margin-bottom":"1em"}},[t._v(t._s(t.translations.support.successMessage))]),s("p",[t._v(t._s(t.translations.support.successMessageDetails))])]),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.closeForm}},[t._v(t._s(t.translations.general.ok))])],1)],t.loading?s("md-dialog-content",[s("empty",{staticStyle:{"min-width":"720px","min-height":"400px"}},[s("loading",{attrs:{message:t.translations.support.sendingMessage}})],1)],1):t._e(),t.loading||t.submitted&&!t.error?t._e():s("md-layout",{staticClass:"ssa-contact-support"},[s("md-layout",{attrs:{"md-flex":"75"}},[s("div",{staticStyle:{display:"flex","flex-flow":"column"}},[s("md-dialog-title",[t._v(" "+t._s(t.dialogTitle)+" ")]),s("md-dialog-content",[t.submitted?t._e():s("notification",{staticStyle:{"margin-top":"0"},attrs:{icon:"info"}},[Object.prototype.hasOwnProperty.call(t.messageInfo,"time_slot")?[t._v(" "+t._s(t.translations.support.disclosureTime)),s("br"),t._v(" "+t._s(t.messageInfo.time_slot.appointment_type.title)+" "+t._s(t.moment(t.messageInfo.time_slot["time-value-localized"],t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" ")]:[t._v(" "+t._s(t.translations.support.disclosure)+" ")]],2),t.submitted&&t.error?s("notification",{attrs:{theme:"red",icon:"error"}},[s("p",[t._v(t._s(t.translations.support.messageFailedDescription))]),s("md-layout",{attrs:{"md-gutter":"","md-vertical-align":"center"}},[s("md-layout",{attrs:{"md-flex":"50"}},[s("h4",[t._v(t._s(t.translations.support.messageFailedDetails))])]),s("md-layout",{attrs:{"md-flex":"50","md-align":"end"}},[s("md-button",{staticClass:"support-error-copy md-dense",on:{click:t.copyExportCode}},[t._v(t._s(t.translations.settings.import_export.copy)+" "),s("md-icon",{staticClass:"md-primary"},[t._v("file_copy")])],1)],1)],1),t.error?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.error,expression:"error"}],ref:"errorDetails",staticClass:"support-error-raw",attrs:{readonly:""},domProps:{value:t.error},on:{input:function(e){e.target.composing||(t.error=e.target.value)}}}):t._e(),s("md-snackbar",{ref:"errorDetailsNotice",attrs:{"md-position":"top center"}},[s("span",[t._v(t._s(t.translations.support.exportCopied))])])],1):t._e(),s("md-input-container",{class:{"md-input-invalid":!t.isEmailValid}},[s("label",[t._v(" "+t._s(t.translations.support.fromEmail)+" ")]),s("md-input",{attrs:{required:""},model:{value:t.reply_to,callback:function(e){t.reply_to=e},expression:"reply_to"}}),t.isEmailValid?t._e():s("span",{staticClass:"md-error"},[t._v(t._s(t.translations.support.invalidEmail))])],1),s("md-input-container",[s("label",[t._v(" "+t._s(t.translations.support.message)+" ")]),s("md-textarea",{attrs:{required:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("div",{staticClass:"md-checkbox-with-note"},[s("md-checkbox",{staticClass:"with-help",attrs:{id:"include_settings",name:"includeSettings"},model:{value:t.include_settings,callback:function(e){t.include_settings=e},expression:"include_settings"}},[t._v(" "+t._s(t.translations.support.includeSettings)+" ")]),s("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.support.includeDescription)+" ")])],1),s("md-checkbox",{staticClass:"with-help",attrs:{id:"include_active_plugins",name:"includeActivePlugins"},model:{value:t.include_active_plugins,callback:function(e){t.include_active_plugins=e},expression:"include_active_plugins"}},[t._v(" "+t._s(t.translations.support.includePlugins)+" ")])],1),s("md-dialog-actions",[s("md-button",{on:{click:t.closeForm}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),s("md-button",{staticClass:"md-primary",attrs:{disabled:!t.message||!t.reply_to},on:{click:t.sendMessage}},[t._v(" "+t._s(this.translations.support.sendMessage)+" ")])],1)],1)]),s("md-layout",[s("support-guides")],1)],1)],2)},Wh=[],Bh=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ssa-guides contact"},[s("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.support.guides.title_contact))]),t.supportGuidesLoading?s("empty",[s("md-spinner",{attrs:{"md-indeterminate":""}}),s("p",[t._v(t._s(t.translations.support.guides.loading))])],1):t._e(),t.supportGuidesLoading?t._e():[t.currentSupportGuides.length?[s("md-list",t._l(t.dipslayGuides,(function(e){return s("md-list-item",{key:e.id,attrs:{href:e.link,target:"_blank"}},[s("md-avatar",[s("img",{attrs:{src:e.icon,alt:""}})]),s("div",{staticClass:"ssa-guide-label",domProps:{innerHTML:t._s(e.title)}})],1)})),1),t.currentSupportGuides.length>3?s("md-card-actions",[s("md-button",{staticStyle:{width:"100%"},on:{click:function(e){t.showAllGuides=!t.showAllGuides}}},[t._v(t._s(this.showAllGuides?t.translations.support.guides.less:t.translations.support.guides.more))])],1):t._e()]:t._e(),t.currentSupportGuideKey&&0===t.currentSupportGuides.length?[s("md-card-content",[s("p",{staticClass:"md-subhead"},[t._v(t._s(t.translations.support.guides.notFound))])])]:t._e()]],2)},Rh=[],qh={name:"SupportGuides",components:{Empty:Jt},data(){return{showAllGuides:!1}},watch:{currentSupportGuides:function(t){t.length&&(this.showAllGuides=!1)}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)("guides",["supportGuidesLoading","currentSupportGuideKey"]),...(0,o.Se)("guides",["currentSupportGuides"]),dipslayGuides(){const t=this.showAllGuides?this.currentSupportGuides:this.currentSupportGuides.slice(0,3);return t.map((t=>{let e={...t};const s={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_content:ae()(t.title,{lower:!0,strict:!0})};return e.link=`${t.link}?${dt().stringify(s)}`,e}))}}},Hh=qh,Zh=(0,q.Z)(Hh,Bh,Rh,!1,null,null,null),Kh=Zh.exports,Vh={name:"contact-support",components:{Notification:vs,Empty:Jt,Loading:et,SupportGuides:Kh},props:["messageInfo"],data(){return{include_active_plugins:!0,include_settings:!0,messagePayload:{},moment:W(),loading:!1,error:null,submitted:!1}},watch:{message(){this.maybeLoadGuides()}},mounted(){Object.prototype.hasOwnProperty.call(this.messagePayload,"reply_to")&&this.messagePayload.reply_to||(this.$set(this.messagePayload,"reply_to",this.settings.global.admin_email),this.getSupportGuides({"ssasc-plugin-screen":j.support_ticket["default"]}))},computed:{message:{get(){return Object.prototype.hasOwnProperty.call(this.messagePayload,"message")?this.messagePayload.message:""},set(t){this.$set(this.messagePayload,"message",t)}},reply_to:{get(){return Object.prototype.hasOwnProperty.call(this.messagePayload,"reply_to")?this.messagePayload.reply_to:this.settings.global.admin_email},set(t){this.$set(this.messagePayload,"reply_to",t)}},isEmailValid(){return""===this.reply_to||this.validateEmail(this.reply_to)},settings_enabled(){let t={};for(var e in this.settings)Object.prototype.hasOwnProperty.call(this.settings[e],"enabled")&&(t[e]=this.settings[e]["enabled"]);return t},dialogTitle(){return this.loading?null:this.submitted&&!this.error?this.translations.support.successTitle:this.translations.support.contact},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","timestampFormat"]),...(0,o.rn)("import_export",["exportCode"]),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("notifications",["validateEmail"]),...(0,o.Se)("guides",["getSupportGuidesTerms"])},methods:{closeForm(){this.$emit("close"),setTimeout((()=>{this.submitted=!1,this.error=null,this.loading=!1}),500)},generateSessionId(){let t=new URL(this.api.home_url).host,e=W().utc().isoWeek();return t+"-week"+e},async sendMessage(){if(this.loading=!0,this.submitted=!1,this.error=null,Object.prototype.hasOwnProperty.call(this.settings,"license")&&this.$set(this.messagePayload,"license",this.settings.license.license),this.$set(this.messagePayload,"session_id",this.generateSessionId()),this.$set(this.messagePayload,"include_active_plugins",this.include_active_plugins),this.include_settings){const t={settings:!0,appointment_types:!0,appointments:!0,anonymize_customer_information:!0,appointments_limit:500,backup:!1};await this.fetchExportCode(t),this.$set(this.messagePayload,"export_code",JSON.stringify(this.exportCode))}this.$set(this.messagePayload,"environment",this.messageInfo.environment),this.$set(this.messagePayload,"home_url",this.messageInfo.home_url),this.$set(this.messagePayload,"real_timezone",this.messageInfo.real_timezone),this.$set(this.messagePayload,"site_status",this.messageInfo.site_status),this.$set(this.messagePayload,"site_url",this.messageInfo.site_url),this.$set(this.messagePayload,"embed_url",this.messageInfo.embed_url),this.sendSupportMessage(this.messagePayload).catch((t=>{this.handleErrorMessage(t)})).then((()=>{this.loading=!1,this.submitted=!0}))},handleErrorMessage(t){this.loading=!1,this.error=t.responseText},maybeLoadGuides:Ae().debounce((function(){if(!this.message||this.message.length<3)return void this.getSupportGuides({"ssasc-plugin-screen":j.support_ticket["default"]});const t=this.getSupportGuidesTerms(this.message);t.length>0&&this.getSupportGuides({"ssasc-plugin-screen":t})}),500),copyExportCode(){this.$refs.errorDetails.select(),document.execCommand("copy"),this.$refs.errorDetailsNotice.open()},...(0,o.nv)("guides",["getSupportGuides"]),...(0,o.nv)("import_export",["fetchExportCode","sendSupportMessage"])}},Yh=Vh,Jh=(0,q.Z)(Yh,Fh,Wh,!1,null,null,null),Xh=Jh.exports,Qh={name:"supportDetails",components:{Empty:Jt,Loading:et,SupportLocal:Ih,Debugger:Gh,ContactSupport:Xh},data(){return{debuggingInfo:{},error:!1,errorDescription:"",errorLabel:"",loading:!0,loadingMessage:"",moment:W()}},beforeMount(){this.loadingMessage=this.translations.support.loadingSupport},mounted(){this.getGuides({"ssasc-plugin-screen":j.support}),this.fetchSupportDetails().then((()=>{this.loading=!1,this.updateDebuggingInfo()})).catch((t=>{this.loading=!1,this.error=!0,this.errorLabel=t}))},computed:{error_exit(){return!Ae().isEmpty(this.support)},siteStatusList(){if(!this.support.site_status)return[];let t={};return Object.keys(this.support.site_status).forEach((e=>{"ssa_version"!==e&&(t[e]=this.support.site_status[e])})),t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","support"]),...(0,o.Se)(["detectedTimezone"])},methods:{statusTheme(t){switch(t){case"good":return"light-green";case"warning":return"amber";case"error":return"red";default:return"light-green"}},updateEnvironment(t){this.$set(this.debuggingInfo,"environment",t)},openContactForm(){this.$refs.contactForm.open()},closeContactForm(){this.$refs.contactForm.close()},updateDebuggingInfo(){let t={appointment_types:[],global_settings:this.settings.global,home_url:this.api.home_url,embed_url:this.api.embed_url,real_timezone:this.detectedTimezone,settings:{},site_status:this.support.site_status,site_url:this.api.site_url};this.debuggingInfo=t},...(0,o.nv)(["fetchSupportDetails"]),...(0,o.nv)("guides",["getGuides"])}},t_=Qh,e_=(0,q.Z)(t_,Ah,Ph,!1,null,null,null),s_=e_.exports,i_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"availability-detective"},[t.currentUserCan("ssa_manage_site_settings")?[s("md-toolbar",{staticClass:"md-transparent"},[s("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])]),s("div",{staticStyle:{padding:"1rem"}},[s("p",[t._v(" "+t._s(t.translations.support.availabilityDetective.intro)+" ")]),s("form",{attrs:{novalidate:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[s("div",{staticStyle:{"padding-bottom":"1rem"}},[s("md-input-container",[s("label",{attrs:{for:"appointment-type"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.appointmentType.label)+" ")]),s("md-select",{attrs:{name:"appointment-type",id:"appointment-type"},model:{value:t.appointmentTypeId,callback:function(e){t.appointmentTypeId=e},expression:"appointmentTypeId"}},t._l(t.availableAppoinmentTypes,(function(e){return s("md-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),1)],1)],1),t.selectedAppointmentType?s("md-layout",{attrs:{"md-gutter":40}},[s("md-layout",{attrs:{"md-flex":60}},[s("div",[s("h3",{staticClass:"md-title",staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.date.title)+" ")]),s("availability-date-picker",{model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}}),t.selectedDate?s("fieldset",{staticStyle:{padding:"0"}},[s("legend",{staticClass:"md-title",staticStyle:{"margin-bottom":"1rem"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.time.title)+" ")]),s("availability-time-picker",{attrs:{date:t.selectedDate,"appointment-type":t.selectedAppointmentType},on:{input:t.handleTimeSelect},model:{value:t.selectedTime,callback:function(e){t.selectedTime=e},expression:"selectedTime"}})],1):t._e()],1)]),s("md-layout",{attrs:{"md-flex":40}},[s("div",[s("h3",{staticClass:"md-title",staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.summary)+" ")]),s("p",[s("strong",[t._v(t._s(t.translations.appointmentTypes.title))]),t._v(" "+t._s(t.selectedAppointmentType.title)+" ")]),s("p",[s("strong",[t._v(t._s(t.translations.appointmentTypes.duration))]),t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.duration))+" ")]),s("hr"),s("display-availability",{attrs:{availability:t.selectedAppointmentType.availability,weekdays:t.weekdays,format:t.settings.global.time_format_moment,"availability-type":t.selectedAppointmentType.availability_type,"highlight-day":t.selectedDay}}),s("hr"),parseInt(t.selectedAppointmentType.buffer_before,10)>0?s("div",{staticClass:"about-appt-type-list"},[s("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_before.title)+" ")]),s("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_before.desc)+" ")]),s("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.buffer_before))+" ")])]):t._e(),parseInt(t.selectedAppointmentType.buffer_after,10)>0?s("div",{staticClass:"about-appt-type-list"},[s("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_after.title)+" ")]),s("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_after.desc)+" ")]),s("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.buffer_after))+" ")])]):t._e(),t.bookingWindowDisplay?s("div",{staticClass:"about-appt-type-list"},[s("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.booking_window.title)+" ")]),s("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.booking_window.desc)+" ")]),s("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.bookingWindowDisplay)+" ")])]):t._e(),t.availabilityWindowDisplay?s("div",{staticClass:"about-appt-type-list"},[s("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.availability_window.title)+" ")]),s("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.availability_window.desc)+" ")]),s("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.availabilityWindowDisplay)+" ")])]):t._e(),parseInt(t.selectedAppointmentType.min_booking_notice,10)>0?s("div",{staticClass:"about-appt-type-list"},[s("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.title)+" ")]),s("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.desc)+" ")]),s("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.min_booking_notice))+" ")]),s("p",{staticClass:"prop-explanation"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.explanation)),s("br"),t._v(" "+t._s(t.minBookingNoticeDisplay)+" ")])]):t._e(),parseInt(t.selectedAppointmentType.max_booking_notice,10)>0?s("div",{staticClass:"about-appt-type-list"},[s("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.title)+" ")]),s("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.desc)+" ")]),s("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.max_booking_notice))+" ")]),s("p",{staticClass:"prop-explanation"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.explanation)),s("br"),t._v(" "+t._s(t.maxBookingNoticeDisplay)+" ")])]):t._e()],1)])],1):t._e()],1)])]:s("no-permission")],2)},n_=[],a_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"availability-display"},[s("ul",{staticClass:"availability-list"},t._l(t.displayDays,(function(e){return s("li",{key:e,class:{selected:e===t.highlightDay}},[s("strong",[t._v(t._s(e))]),s("div",{staticClass:"avail"},[t.formattedAvail[e]&&t.formattedAvail[e].length?t._l(t.formattedAvail[e],(function(i){return s("div",{key:e+"-"+i.time_start,staticClass:"times"},[t._v(" "+t._s(i.time_start)+" "),"start_times"!==t.availabilityType?[t._v(" - "+t._s(i.time_end)+" ")]:t._e()],2)})):s("div",{staticClass:"times none"},[t._v("None")])],2)])})),0)])},o_=[],r_={name:"displayAvailability",props:["availability","weekdays","format","availabilityType","showDay","highlightDay"],computed:{displayDays(){return this.showDay?[this.showDay]:this.weekdays},formattedAvail(){var t=Ae().cloneDeep(this.availability);for(var e in t){var s=t[e];s.map((t=>{t.time_start=this.formatTime(t.time_start),t.time_end=this.formatTime(t.time_end)}))}return t},...(0,o.rn)(["settings"])},methods:{formatTime(t){var e=W()(t,"HH:mm:ss");return e.format(this.settings.global.time_format_moment)}}},l_=r_,d_=(0,q.Z)(l_,a_,o_,!1,null,null,null),p_=d_.exports,c_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cov-date-body md-theme-light-green"},[s("div",{staticClass:"cov-date-monthly"},[s("button",{staticClass:"cov-date-previous",on:{click:function(e){return e.preventDefault(),t.prevMonth.apply(null,arguments)}}},[s("md-icon",{staticClass:"md-size-2x"},[t._v(" keyboard_arrow_left ")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.previousMonth)+" ")])],1),s("div",{staticClass:"cov-date-caption"},[s("button",{staticClass:"caption-year"},[t._v(" "+t._s(t.currentYear)+" ")]),s("span",[t._v(" "+t._s(t.displayMonth)+" ")])]),s("button",{staticClass:"cov-date-next",on:{click:function(e){return e.preventDefault(),t.nextMonth.apply(null,arguments)}}},[s("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_right")]),s("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.nextMonth)+" ")])],1)]),s("div",{ref:"dayList",staticClass:"cov-date-box",attrs:{tabindex:"-1"}},[s("div",{staticClass:"cov-picker-box"},[s("div",{staticClass:"week"},[s("ul",t._l(t.week,(function(e){return s("li",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]),s("div",{staticClass:"days"},t._l(t.days,(function(e,i){return s("div",{key:i,staticClass:"day",class:{selected:e.selected,readonly:e.readonly,unavailable:e.unavailable,"passive-day":!e.inMonth},on:{click:function(s){return t.checkDay(e)}}},[t._v(" "+t._s(e.value)+" ")])})),0)])])])},m_=[],u_={name:"availabilityDatePicker",props:{value:{default:"",type:String,required:!0}},data(){return{currentMoment:null}},mounted(){this.showDay()},computed:{currentMonth(){return this.currentMoment?this.currentMoment.format("MM"):""},currentYear(){return this.currentMoment?this.currentMoment.format("YYYY"):""},days(){if(!this.currentMoment)return;let t=W()(this.currentMoment).date(1).day(),e=this.currentMoment.clone().subtract(1,"month");t=0===t?7:t,t=this.settings.global.start_of_week>t?t+7:t;let s=t-this.settings.global.start_of_week,i=s<7?s:0,n=this.currentMoment.clone().startOf("month").subtract(i,"days"),a=this.currentMoment.month(),o=n.clone().add(7,"days"),r=1;while(o.month()===a)r++,o.add(7,"days");let l=[],d=this.currentMoment.daysInMonth();for(let c=1;c<=d;++c)l.push({value:c,inMonth:!0,unavailable:!1,selected:!1,readonly:!1,moment:W()(this.currentMoment).date(c)}),this.checkSelectedDay(c,l);if(s<7)for(let c=0;c<t-this.settings.global.start_of_week;c++){let t={value:e.daysInMonth()-c,inMonth:!1,action:"previous",unavailable:!1,selected:!1,readonly:!1,moment:W()(this.currentMoment).date(1).subtract(c+1,"days")};l.unshift(t)}let p=7*r-l.length;for(let c=1;c<=p;c++){let t={value:c,inMonth:!1,action:"next",unavailable:!1,selected:!1,readonly:!1,moment:W()(this.currentMoment).add(1,"months").date(c)};l.push(t)}return l},displayMonth(){return this.currentMoment?this.currentMoment.format("MMMM"):""},week(){var t=W().weekdaysMin(!1);if(this.settings.global.start_of_week>0){var e=t.slice(0,this.settings.global.start_of_week),s=t.slice(this.settings.global.start_of_week);t=[...s,...e]}return t},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{checkDay(t){if(t.unavailable&&!t.selected||""===t.value||t.readonly)return!1;t.inMonth||("next"===t.action?this.nextMonth():this.prevMonth());let e=W()(this.currentYear+"-"+this.currentMonth+"-"+t.value,$).format($);this.$emit("input",e)},checkSelectedDay(t,e){this.currentYear===W()(this.value).format("YYYY")&&this.currentMonth===W()(this.value).format("MM")&&t===Math.ceil(W()(this.value).format("D"))&&(e[t-1].selected=!0)},nextMonth(){this.currentMoment=this.currentMoment.clone().add(1,"month"),this.showDay()},prevMonth(){var t=this.currentMoment.clone().subtract(1,"month");t.isBefore(W()(),"month")||(this.currentMoment=t,this.showDay())},showDay(){this.currentMoment=this.currentMoment?this.currentMoment:W()()}}},g_=u_,h_=(0,q.Z)(g_,c_,m_,!1,null,null,null),__=h_.exports,f_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"time-picker"},[t.availableTimes.length?t._l(t.availableTimes,(function(e,i){return s("availability-time-picker-option",{key:i,attrs:{time:e,"appointment-type-id":t.appointmentTypeId},on:{support:t.handleSupport}})})):t._e(),t.availableTimes.length||t.selectedAvailability.length?t._e():s("empty",{attrs:{label:t.translations.support.availabilityDetective.noAvailability.noSlots.label,description:t.translations.support.availabilityDetective.noAvailability.noSlots.description}},[s("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/appointment-types/type/"+t.appointmentTypeId}},[t._v(" "+t._s(t.translations.support.availabilityDetective.noAvailability.noSlots.action)+" ")])],1),!t.availableTimes.length&&t.selectedAvailability.length?s("empty",{attrs:{label:t.translations.support.availabilityDetective.noAvailability.tooShortSlots.label,description:t.translations.support.availabilityDetective.noAvailability.tooShortSlots.description}},[s("strong",[t._v(t._s(t.translations.appointmentTypes.duration))]),t._v(" "+t._s(t.displayDuration(t.duration))+" "),s("display-availability",{staticStyle:{"min-width":"15rem"},attrs:{availability:t.availability,weekdays:t.daysOfWeek,format:t.settings.global.time_format_moment,availabilityType:t.availabilityType,"show-day":t.selectedDay}}),s("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/appointment-types/type/"+t.appointmentTypeId}},[t._v(" "+t._s(t.translations.support.availabilityDetective.noAvailability.tooShortSlots.action)+" ")])],1):t._e(),s("md-dialog",{ref:"contactForm"},[s("contact-support",{attrs:{messageInfo:t.supportMessage},on:{close:t.closeContactForm,done:t.handleDoneMessage,starting:t.handleStartMessage}})],1),s("md-dialog",{ref:"sending",attrs:{"md-click-outside-to-close":!1,"md-esc-to-close":!1}},[s("md-dialog-content",[s("div",{staticStyle:{"text-align":"center"}},[s("md-spinner",{staticStyle:{margin:"0 auto"},attrs:{"md-indeterminate":""}}),s("div",[t._v(" "+t._s(t.translations.support.sendingMessage)+" ")])],1)])],1),s("md-dialog",{ref:"messageSuccess"},[s("md-dialog-title",[t._v(" "+t._s(t.translations.support.successTitle)+" ")]),s("md-dialog-content",[s("p",{staticStyle:{"margin-bottom":"1em"}},[t._v(" "+t._s(t.translations.support.successMessage)+" ")]),s("p",[t._v(" "+t._s(t.translations.support.successMessageDetails)+" ")])]),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:t.closeMessageSuccess}},[t._v(" "+t._s(t.translations.general.ok)+" ")])],1)],1)],2)},y_=[],v_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"time-picker-option",class:t.status},[s("button",{staticClass:"time-button",attrs:{disabled:"unchecked"!==t.status},on:{click:t.checkAvailability}},[t._v(" "+t._s(t.time.display)+" ")]),s("div",{staticClass:"status-message",attrs:{"aria-live":"polite"}},["checking"===t.status?s("div",{staticClass:"checking"},[s("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}),t._v(" "+t._s(t.translations.support.availabilityDetective.status.checking)+" ")],1):t._e(),"available"===t.status||"not-available"===t.status?s("div",{class:t.status},[s("div",{staticClass:"status-tag"},["available"===t.status?[t._v(" "+t._s(t.translations.support.availabilityDetective.status.available)+" ")]:[t._v(" "+t._s(t.translations.support.availabilityDetective.status.not_available)+" ")]],2),s("div",{staticClass:"explanation"},t._l(t.reasons,(function(e,i){return s("div",{key:"reason-"+i},[s("p",{staticClass:"md-subheading",staticStyle:{margin:"0"}},[t._v(" "+t._s(e.reason_title)+" ")]),s("p",{staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(e.reason_description)+" "),Object.prototype.hasOwnProperty.call(e,"help_center_url")&&e.help_center_url?s("a",{attrs:{href:e.help_center_url}},[t._v(" "+t._s(t.translations.support.availabilityDetective.getMore)+" ")]):t._e(),Object.prototype.hasOwnProperty.call(e,"ssa_path")&&e.ssa_path?s("router-link",{attrs:{to:e.ssa_path}},[t._v(" "+t._s(e.reason_title)+" ")]):t._e()],1),s("div",{staticClass:"availability-support"},[t._v(" "+t._s(t.translations.support.supportRequestIntro)+" "),s("md-button",{staticClass:"md-raised",on:{click:t.handleSupport}},[t._v(" "+t._s(t.translations.support.supportRequestCta)+" ")])],1)])})),0)]):t._e()])])},b_=[],k_={name:"availabilityTimePickerOption",props:["time","appointmentTypeId"],data(){return{reasons:[],status:"unchecked"}},watch:{time:{deep:!0,handler(){this.status="unchecked",this.reasons=[]}}},computed:{...(0,o.rn)("translations",["translations"])},methods:{checkAvailability(){this.status="checking",this.fetchAvailability({start_date:this.time.value,appointment_type_id:this.appointmentTypeId}).then((t=>{this.status=t.is_bookable?"available":"not-available",this.reasons=t.reasons})).catch(((t,e)=>{console.log("Error",e),this.status="errorChecking"}))},handleSupport(){let t={"time-value-utc":this.time.value,"time-value-localized":this.time.valueTz,status:this.status,reasons:this.reasons};this.$emit("support",t)},...(0,o.nv)(["fetchAvailability"])}},C_=k_,S_=(0,q.Z)(C_,v_,b_,!1,null,null,null),w_=S_.exports,T_={name:"availabilityTimePicker",props:["value","appointmentType","date"],components:{AvailabilityTimePickerOption:w_,Empty:Jt,DisplayAvailability:p_,ContactSupport:Xh},data(){return{selectedTime:"",supportMessage:{}}},computed:{appointmentTypeId(){return this.appointmentType.id},availability(){return this.appointmentType.availability},availabilityType(){return this.appointmentType.availability_type},duration(){return this.appointmentType.duration},increment(){return this.appointmentType.availability_increment},availableTimes(){if("start_times"===this.availabilityType)return this.selectedAvailability.map((t=>{let e=W().tz(this.date+" "+t.time_start,this.timestampFormat,this.settings.global.timezone_string);return{display:e.format(this.settings.global.time_format_moment),value:e.utc().format(this.timestampFormat)}}));if("available_blocks"===this.availabilityType){let t=[];return this.selectedAvailability.map((e=>{let s=W().tz(this.date+" "+e.time_start,this.timestampFormat,this.settings.global.timezone_string),i=W().tz(this.date+" "+e.time_end,this.timestampFormat,this.settings.global.timezone_string),n=s.clone(),a=s.clone().add(this.duration,"minutes");while(a.isSameOrBefore(i))t.push({display:n.format(this.settings.global.time_format_moment),valueTz:n.format(this.timestampFormat),value:n.clone().utc().format(this.timestampFormat)}),n.add(this.increment,"minutes"),a.add(this.increment,"minutes")})),t}return null},daysOfWeek(){return this.weekdays(0)},selectedAvailability(){return this.availability[this.selectedDay]},selectedDay(){let t=W()(this.date),e=t.isoWeekday(),s=7===e?0:e;return this.daysOfWeek[s]},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["api","settings","timestampFormat"]),...(0,o.Se)(["displayDuration","weekdays"])},methods:{closeContactForm(){this.$refs.contactForm.close()},closeMessageSuccess(){this.$refs.messageSuccess.close()},handleDoneMessage(){this.$refs.sending.close(),this.$refs.messageSuccess.open()},handleStartMessage(){this.$refs.contactForm.close(),this.$refs.sending.open()},handleSupport(t){t.appointment_type=this.appointmentType,this.supportMessage={global_settings:this.settings.global,home_url:this.api.home_url,real_timezone:W().tz.guess(),settings:{},site_url:this.api.site_url,time_slot:t},this.$refs.contactForm.open()}}},x_=T_,A_=(0,q.Z)(x_,f_,y_,!1,null,null,null),P_=A_.exports,M_={name:"availabilityDetective",components:{NoPermission:ee,DisplayAvailability:p_,AvailabilityDatePicker:__,AvailabilityTimePicker:P_},data(){return{appointmentTypeId:"",selectedDate:"",selectedTime:""}},computed:{availabilityWindowDisplay(){if(!this.selectedAppointmentType)return;let t=W().utc(this.selectedAppointmentType.availability_start_date,this.timestampFormat).tz(this.settings.global.timezone_string),e=W().utc(this.selectedAppointmentType.availability_end_date,this.timestampFormat).tz(this.settings.global.timezone_string);if(t.isValid()||e.isValid()){let s=t.isValid()?t.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.availability_window.no_value;return s+=" - ",s+=e.isValid()?e.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.availability_window.no_value,s}return null},bookingWindowDisplay(){if(!this.selectedAppointmentType)return;let t=W().utc(this.selectedAppointmentType.booking_start_date,this.timestampFormat).tz(this.settings.global.timezone_string),e=W().utc(this.selectedAppointmentType.booking_end_date,this.timestampFormat).tz(this.settings.global.timezone_string);if(t.isValid()||e.isValid()){let s=t.isValid()?t.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.booking_window.no_value;return s+=" - ",s+=e.isValid()?e.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.booking_window.no_value,s}return null},handleTimeSelect(){return null},maxBookingNoticeDisplay(){if(this.selectedAppointmentType&&0!==parseInt(this.selectedAppointmentType.max_booking_notice,10))return W()().add(this.selectedAppointmentType.max_booking_notice,"minutes").format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment)},minBookingNoticeDisplay(){if(this.selectedAppointmentType&&0!==parseInt(this.selectedAppointmentType.min_booking_notice,10))return W()().add(this.selectedAppointmentType.min_booking_notice,"minutes").format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment)},selectedAppointmentType(){if(this.appointmentTypeId)return this.editableAppointmentTypes.find((t=>t.id===this.appointmentTypeId))},availableAppoinmentTypes(){return this.editableAppointmentTypes.filter((t=>"deleted"!==t.status))},selectedDay(){let t=W()(this.selectedDate),e=t.isoWeekday(),s=7===e?0:e;return this.weekdaysIsoOrder[s]},weekdays(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysIsoOrder(){return this.getWeekdays(0)},...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings","timestampFormat"]),...(0,o.Se)({displayDuration:"displayDuration",getWeekdays:"weekdays"}),...(0,o.Se)("appointment_types",["editableAppointmentTypes"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{}},E_=M_,D_=(0,q.Z)(E_,i_,n_,!1,null,null,null),$_=D_.exports,O_=[{path:"support",component:xh,redirect:"/ssa/support/help",children:[{path:"help",name:"support-help",component:s_,meta:{ssa_manage_site_settings:!0}},{path:"availability-detective",name:"support-availability-detective",component:$_,meta:{ssa_manage_site_settings:!0}}]}],I_=[{path:"/ssa",name:"Settings",component:ue,children:[...Es,...po,...bh,...O_]}],z_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wizard view-container"},[s("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.license.heading))]),s("license-key",{on:{validatedLicense:t.nextStep}}),t.validLicense?t._e():s("router-link",{staticClass:"md-raised md-primary ssa-wizard-skip",attrs:{tag:"md-button",to:"/wizard/review"}},[t._v("Skip this for now")])],1)},j_=[],L_={name:"wizardLicense",store:wv,components:{licenseKey:wo},data(){return{validLicense:!1}},computed:{...(0,o.rn)("translations",["translations"])},methods:{nextStep(){this.validLicense=!0,Pf.push("/wizard/review")}}},N_=L_,U_=(0,q.Z)(N_,z_,j_,!1,null,null,null),G_=U_.exports,F_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wizard view-container"},[t.settings.installed.license?s("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.general.heading))]):s("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.general.headingFirst))]),s("md-theme",{attrs:{"md-name":"reverse"}},[s("ul",{staticClass:"settings-list"},[s("li",[s("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.timezone)+" ")]),s("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatTimezone(t.detectedTimezone))+" "),s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),s("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.timezone))])],1)],1)]),s("li",[s("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.dateFormat))]),s("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatDateDisplay(t.moment()))+" — "),s("code",[t._v(t._s(t.settings.global.date_format))]),s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),s("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.dateFormat))])],1)],1)]),s("li",[s("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.timeFormat))]),s("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatTimeDisplay(t.moment()))+" — "),s("code",[t._v(t._s(t.settings.global.time_format))]),s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),s("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.timeFormat))])],1)],1)]),s("li",[s("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.weekStartsOn))]),s("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.startOfWeekDisplay(t.settings.global.start_of_week))+" "),s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),s("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.weekStartsOn))])],1)],1)]),s("li",[s("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.contact))]),s("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.settings.global.staff_name)+" "),s("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),s("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.apptContact))])],1)],1),s("p",{staticClass:"settings-list-content"},[t._v(t._s(t.settings.global.company_name))]),s("p",{staticClass:"settings-list-content"},[t._v(t._s(t.settings.global.admin_email))])])])]),s("div",{staticClass:"button-bar transparent"},[s("router-link",{staticClass:"md-raised md-accent",attrs:{tag:"md-button",to:"/wizard/settings"},nativeOn:{click:function(e){return t.saveTimezone.apply(null,arguments)}}},[t._v(t._s(t.translations.wizard.settings.general.decline))]),s("md-button",{staticClass:"md-raised md-primary ssa-wizard-accept-settings",on:{click:t.nextStep}},[t._v(t._s(t.translations.wizard.settings.general.accept))])],1),s("router-link",{staticClass:"md-fab md-fab-bottom-right md-primary",attrs:{to:"/ssa",tag:"md-button"}},[s("md-icon",[t._v("settings")]),s("md-tooltip",{attrs:{"md-direction":"left"}},[t._v(t._s(t.translations.wizard.settings.general.exit))])],1)],1)},W_=[],B_={name:"wizardReview",store:wv,data(){return{moment:W()}},computed:{...(0,o.Se)(["formatDateDisplay","formatTimeDisplay","formatTimezone","startOfWeekDisplay","detectedTimezone"]),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{nextStep(){this.saveTimezone(),this.settings.installed.google_calendar?Pf.push("/wizard/google-calendar"):Pf.push("/wizard/appt-type")},saveTimezone:function(){this.detectedTimezone!==this.settings.global.timezone_string&&(this.updateTimezoneString({settings:this.settings,value:this.detectedTimezone}),this.updateGlobalSettings())},...(0,o.OI)("global_settings",["updateTimezoneString"]),...(0,o.nv)("global_settings",["updateGlobalSettings"])}},R_=B_,q_=(0,q.Z)(R_,F_,W_,!1,null,"73b433f2",null),H_=q_.exports,Z_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?s("loading",{attrs:{message:t.loadingMessage}}):s("div",{staticClass:"appt-type-wizard view-container"},[s("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.appointmentType.heading))]),s("md-stepper",{attrs:{"md-vertical":"","md-theme":t.currentAppointmentType.label},on:{change:t.saveAppointmentType,completed:t.completeWizard}},[s("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.basics,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validTitle,"md-continue":t.validTitle,"md-message":t.titleMessage,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue}},[s("basics",{on:{titlecheck:t.validateTitle,slugcheck:t.validateSlug}})],1),s("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.availability,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validAvailabilityWindow,"md-continue":t.validAvailabilityWindow,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.availabilityMessage}},[s("availability",{on:{availabilityWindowCheck:t.validateAvailabilityWindow}})],1),s("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.scheduling,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validBookingWindow,"md-continue":t.validBookingWindow,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.schedulingMessage}},[s("scheduling",{on:{bookingWindowCheck:t.validateBookingWindow}})],1),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.access_token?s("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.googleCalendar,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.googleCalendarMessage}},[s("google-calendar")],1):t._e(),s("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.customerInfo,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.customerInfoMessage}},[s("customer-information")],1),s("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.review,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.reviewMessage}},[s("review")],1)],1)],1)},K_=[],V_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-review",class:t.currentAppointmentType.label},[s("md-layout",{attrs:{"md-row":""}},[s("md-layout",{attrs:{"md-column":""}},[s("h2",{staticClass:"md-display-1"},[t._v(t._s(t.currentAppointmentType.title)+" "),s("span",{staticClass:"md-subheading"},[t._v(t._s(t.displayDuration(t.currentAppointmentType.duration)))])])])],1),s("md-layout",{attrs:{"md-row":"","md-gutter":!0}},[s("md-layout",{attrs:{"md-column":""}},[s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.availability))]),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.availabilityMessage))])]),s("md-card-content",[s("displayavailability",{attrs:{availability:t.currentAppointmentType.availability,weekdays:t.weekdays,format:t.settings.global.time_format_moment,"availability-type":t.currentAppointmentType.availability_type}})],1)],1),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.access_token?s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendar))]),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendarMessage))])]),s("md-card-content",[s("ul",[s("li",[s("strong",[t._v(t._s(t.translations.wizard.appointmentType.checkCalendars)+":")]),t._v(" "+t._s(t.displayGoogleCalendarAvailability.join(", ")))]),s("li",[s("strong",[t._v(t._s(t.translations.appointmentTypes.appointmentSync)+":")]),t._v(" "+t._s(t.displayGoogleCalendarBooking))])])])],1):t._e()],1),s("md-layout",{attrs:{"md-column":""}},[s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.scheduling))]),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.schedulingMessage))])]),s("md-card-content",[s("ul",{staticClass:"options-list"},[s("li",[s("strong",[t._v("Buffer Before:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.buffer_before)))]),s("li",[s("strong",[t._v("Buffer After:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.buffer_after)))]),s("li",[s("strong",[t._v("Minimum Booking Notice:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.min_booking_notice)))]),s("li",[s("strong",[t._v("Limit Per Day:")]),t._v(" "+t._s(t.displayMaxEventCount))])])])],1),s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.customerInfo))]),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.customerInfoMessage))])]),s("md-card-content",[s("ul",{staticClass:"options-list"},[t._l(t.currentAppointmentType[t.customerInformationKey],(function(e,i){return[e.display?s("li",{key:i},[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[e.field])+" "),e.required?[t._v("*")]:t._e()],2):t._e()]}))],2)])],1)],1),s("md-layout",{attrs:{"md-column":""}},[s("md-card",[s("md-card-header",[s("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.booking))]),s("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.bookingMessage))])]),s("md-card-content",[s("p",[t._v(t._s(t.translations.wizard.appointmentType.generalBooking))]),s("p",[s("code",[t._v("[ssa_booking]")])]),s("p",[t._v(t._s(t.translations.wizard.appointmentType.specialBooking))]),s("p",[s("code",[t._v("[ssa_booking type="+t._s(t.currentAppointmentType.slug)+"]")])])])],1)],1)],1)],1)},Y_=[],J_={name:"appointmentTypeReview",store:wv,components:{displayavailability:p_},data(){return{}},computed:{customerInformationKey(){return this.settings.installed.license?"custom_customer_information":"customer_information"},weekdays(){return this.getWeekdays(this.settings.global.start_of_week)},displayMaxEventCount(){var t=parseInt(this.currentAppointmentType.max_event_count,10);return 0===t?"Unlimited":t},displayGoogleCalendarBooking(){if(!this.currentAppointmentType.google_calendar_booking)return;let t=this.googleCalendars.find((t=>t.gcal_id===this.currentAppointmentType.google_calendar_booking));return t.title},displayGoogleCalendarAvailability(){if(!this.currentAppointmentType.google_calendars_availability)return;let t=this.googleCalendars.filter((t=>this.currentAppointmentType.google_calendars_availability.indexOf(t.gcal_id)>-1));return t.map((t=>t.title))},...(0,o.Se)({displayDuration:"displayDuration",getWeekdays:"weekdays"}),...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"]),...(0,o.rn)("google_calendar",["googleCalendars"]),...(0,o.rn)("appointment_types",["currentAppointmentType"])},methods:{}},X_=J_,Q_=(0,q.Z)(X_,V_,Y_,!1,null,null,null),tf=Q_.exports,ef={name:"WizardAppointmentType",store:wv,components:{availability:Vi,basics:vi,scheduling:en,googleCalendar:Pn,customerInformation:Ca,review:tf,loading:et},data(){return{loading:!1,loadingMessage:this.$store.state.translations.translations.wizard.appointmentType.loading,options:hi,moment:W(),validTitle:!0,validSlug:!0,validAvailabilityWindow:!0,validBookingWindow:!0,titleMessage:"",availabilityMessage:"",schedulingMessage:""}},beforeMount:function(){var t={title:"",id:"",slug:"",duration:"",label:"",availability:{},buffer_before:"",buffer_after:"",max_event_count:"",min_booking_notice:"",customer_information:[]};wv.commit("getAppointmentType",t),this.titleMessage=this.translations.wizard.appointmentType.basicsMessage,this.availabilityMessage=this.translations.wizard.appointmentType.availabilityMessage,this.schedulingMessage=this.translations.wizard.appointmentType.schedulingMessage},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["timestampFormat","settings"]),...(0,o.rn)("appointment_types",["appointmentTypes","currentAppointmentType"])},mounted:function(){this.createNewAppointmentType()},methods:{validateTitle(t){this.validTitle=t,this.titleMessage=this.validTitle?this.translations.wizard.appointmentType.basicsMessage:this.translations.errors.appointmentTypeTitle},validateSlug(t){this.validSlug=t},validateAvailabilityWindow(t){this.validAvailabilityWindow=t,this.availabilityMessage=this.validAvailabilityWindow?this.translations.wizard.appointmentType.availabilityMessage:this.translations.settings.advanced_scheduling.availability_window_error},validateBookingWindow(t){this.validBookingWindow=t,this.schedulingMessage=this.validBookingWindow?this.translations.wizard.appointmentType.schedulingMessage:this.translations.settings.advanced_scheduling.booking_window_error},saveAppointmentType:function(t){t<1||this.updateAppointmentType()},completeWizard(){this.updateWizardCompleted({settings:this.settings,value:W().utc().format(this.timestampFormat)}),this.updateGlobalSettings(),Pf.push("/wizard/complete")},...(0,o.OI)("global_settings",["updateWizardCompleted"]),...(0,o.OI)("appointment_types",["getAppointmentType"]),...(0,o.nv)("global_settings",["updateGlobalSettings"]),...(0,o.nv)("appointment_types",["updateAppointmentType","createNewAppointmentType"])}},sf=ef,nf=(0,q.Z)(sf,Z_,K_,!1,null,"b9fdb75e",null),af=nf.exports,of=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-wizard view-container"},[s("settings-global",{attrs:{button:t.translations.general.saveContinue},on:{saved:t.nextStep}})],1)},rf=[],lf={name:"wizardSettings",store:wv,components:{settingsGlobal:nr},data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{nextStep(){this.settings.installed.google_calendar?Pf.push("/wizard/google-calendar"):Pf.push("/wizard/appt-type")}}},df=lf,pf=(0,q.Z)(df,of,rf,!1,null,null,null),cf=pf.exports,mf=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wizard-complete view-container"},[s("h2",{staticClass:"md-display-2"},[t._v(t._s(t.translations.wizard.complete.headline))]),s("p",[t._v(t._s(t.translations.wizard.complete.shortcodeInstructions))]),t._m(0),s("p",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.complete.subhead))]),s("img",{staticStyle:{"max-width":"15rem",height:"auto"},attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-standing.svg"}}),s("div",{staticClass:"button-bar"},[t.currentUserCan("ssa_manage_others_appointments")?s("md-button",{staticClass:"md-raised md-primary",on:{click:t.loadBookingEmbed}},[t._v(" "+t._s(t.translations.wizard.complete.booking)+" ")]):t._e(),s("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/settings"}},[t._v(" "+t._s(t.translations.wizard.complete.settings)+" ")]),s("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[t._v(" "+t._s(t.translations.wizard.complete.apptType)+" ")])],1),s("md-dialog",{ref:"bookingDialog",staticClass:"ssa-booking-dialog"},[s("button",{staticClass:"close",on:{click:function(e){return t.$refs.bookingDialog.close()}}},[s("md-icon",[t._v("close")])],1),s("md-dialog-content",[s("div",{staticClass:"ssa-booking-iframe-container",domProps:{innerHTML:t._s(t.bookingEmbed)}})]),s("md-dialog-actions",[s("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1)],1)},uf=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("code",[t._v("[ssa_booking]")])])}],gf={name:"wizardComplete",store:wv,data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["bookingEmbed","settings"]),...(0,o.Se)("staff",["currentUserCan"])},methods:{loadBookingEmbed(){this.fetchBookingEmbed().then((()=>{this.$refs.bookingDialog.open()}))},...(0,o.nv)(["fetchBookingEmbed"])}},hf=gf,_f=(0,q.Z)(hf,mf,uf,!1,null,null,null),ff=_f.exports,yf=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"appt-type-wizard view-container"},[s("md-whiteframe",[s("h3",{staticClass:"md-display-1"},[t.settings.google_calendar.access_token?[t._v(" "+t._s(t.translations.wizard.googleCalendar.connectSuccess)+" ")]:[t._v(" "+t._s(t.translations.wizard.googleCalendar.wantToConnect)+" ")]],2),s("settings-google-calendar",{attrs:{header:!1,showDisabled:!0}})],1),t.settings.google_calendar.access_token?s("md-button",{staticClass:"md-raised md-primary",on:{click:t.nextStep}},[t._v(t._s(t.translations.wizard.next))]):s("router-link",{staticClass:"md-raised md-primary ssa-wizard-skip",attrs:{tag:"md-button",to:"/wizard/appt-type"}},[t._v(t._s(t.translations.wizard.skip))])],1)},vf=[],bf={name:"wizardGoogleCalendar",store:wv,components:{settingsGoogleCalendar:$d},data(){return{}},computed:{...(0,o.rn)("translations",["translations"]),...(0,o.rn)(["settings"])},methods:{nextStep(){this.updateGoogleCalendarEnabled({settings:this.settings,value:!0}),this.updateGoogleCalendarSettings(),Pf.push("/wizard/appt-type")},...(0,o.nv)("google_calendar",["updateGoogleCalendarSettings"]),...(0,o.OI)("google_calendar",["updateGoogleCalendarEnabled"])}},kf=bf,Cf=(0,q.Z)(kf,yf,vf,!1,null,"174d6aa0",null),Sf=Cf.exports,wf=[{path:"/wizard/license",name:"Wizard License",component:G_,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/review",name:"Wizard Review",component:H_,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/settings",name:"Wizard Settings",component:cf,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/google-calendar",name:"Wizard Google Calendar",component:Sf,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/appt-type",name:"Wizard Appointment Type",component:af,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/complete",name:"Wizard Complete",component:ff,meta:{ssa_manage_site_settings:!0}}];i["default"].use(N.Z);const Tf=[{path:"/",name:"Hello",component:Z}],xf=[...Tf,...I_,...wf];let Af=new N.Z({routes:xf,scrollBehavior(t,e,s){return s||{x:0,y:0}}});Af.beforeEach(((t,e,s)=>{t.matched.some((t=>t.meta.notAllowed))&&s("/");let i=!0,n=wv.state.user?wv.state.user.capabilities:[];!n.length&&window.ssa&&window.ssa.user&&(n=window.ssa.user.capabilities?window.ssa.user.capabilities:[]);let a={ssa_manage_appointment_types:t.matched.some((t=>t.meta.ssa_manage_appointment_types)),ssa_manage_site_settings:t.matched.some((t=>t.meta.ssa_manage_site_settings)),ssa_manage_appointments:t.matched.some((t=>t.meta.ssa_manage_appointments)),ssa_manage_others_appointments:t.matched.some((t=>t.meta.ssa_manage_others_appointments)),ssa_manage_staff:t.matched.some((t=>t.meta.ssa_manage_staff)),ssa_manage_staff_blackout_dates:t.matched.some((t=>t.meta.ssa_manage_staff_blackout_dates))},o=Object.keys(a),r=o.filter((t=>a[t]));i=!r.length||r.some((t=>-1!==n.indexOf(t))),window.ssa,s(i)}));var Pf=Af,Mf={castToBoolean:()=>t=>{let e=typeof t;switch(e){case"string":{let e=parseInt(t,10);return isNaN(e)?"true"===t:Boolean(e)}case"number":return Boolean(t);case"boolean":return t;default:return!!t}},displayDuration:t=>e=>{var s=parseInt(e,10),i="minutes",n=s;s%10080===0?(n=s/10080,i="weeks"):s%1440===0?(n=s/1440,i="days"):s%60===0&&(n=s/60,i="hours");let a=1===n?t.translations.translations.time.units[i].single:t.translations.translations.time.units[i].plural;return n+" "+a},formatDateDisplay:t=>e=>e.format(t.settings.global.date_format_moment),formatTimeDisplay:t=>e=>e.format(t.settings.global.time_format_moment),allSupportedTimezones:()=>{let t=W().tz.names();const e=t.filter((t=>!z.includes(t)&&-1===t.indexOf("GMT")));return e},detectedTimezone:()=>{const t=W().tz.guess();return z.includes(t)||-1!==t.indexOf("GMT")?"UTC":t},formatTimezone:()=>t=>{if(!t)return"";let e=t.replace(/_/g," ");return e},getClosest:()=>(t,e)=>{for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},localStorageGet:()=>t=>{const e=localStorage.getItem(t);if(!e)return null;const s=JSON.parse(e),i=new Date;return i.getTime()>s.expiry?(localStorage.removeItem(t),null):s.value},localStorageSet:()=>(t,e,s=0)=>{const i=new Date,n={value:e,expiry:i.getTime()+s};localStorage.setItem(t,JSON.stringify(n))},startOfWeekDisplay:()=>t=>{var e=parseInt(t,10);return W().weekdays(e)},weekdays:()=>t=>{W().locale("en-US");var e=W().weekdays(!1);if(t=t?parseInt(t,10):0,t>0){var s=e.splice(0,t);e=[...e,...s]}return e},wpUserIds:t=>{if(!t.appointments.length)return;let e=t.appointments.map((t=>t.customer_id)),s=t.appointments.map((t=>t.author_id)),i=[...e,...s],n=new Set(i);return Array.from(n)},wpUserGravatar:t=>e=>{let s=t.wpUsers.find((t=>t.id.toString()===e.toString()));if(s)return s.gravatar_url},wpUserLink:t=>e=>t.api.admin_url+"user-edit.php?user_id="+e,wpUserName:t=>e=>{let s=t.wpUsers.find((t=>t.id.toString()===e.toString()));if(s)return s.name},advancedSchedulingModule:t=>{if(!t.settings||!t.settings.installed)return;let e={};return e.installed=t.settings.installed.advanced_scheduling,e.upgrade=!t.settings.installed.advanced_scheduling,t.settings.advanced_scheduling?e.enabled=t.settings.advanced_scheduling.enabled&&t.settings.installed.advanced_scheduling:e.enabled=!1,e},webMeetingsProviders:t=>{if(!t.settings||!t.settings.installed)return;let e=[{name:"custom",installed:!0,enabled:!0}],s={name:"google",installed:t.settings.installed.google_calendar,enabled:t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.web_meetings};e.push(s);let i={name:"webex",installed:t.settings.installed.webex,enabled:Object.prototype.hasOwnProperty.call(t.settings,"webex")&&t.settings.webex.enabled};e.push(i);let n={name:"zoom",installed:t.settings.installed.zoom,enabled:Object.prototype.hasOwnProperty.call(t.settings,"zoom")&&t.settings.zoom.enabled};e.push(n);let a={name:"staff",installed:t.settings.installed.zoom,enabled:Object.prototype.hasOwnProperty.call(t.settings,"staff")&&t.settings.staff.enabled&&["any","all"].includes(t.appointment_types.currentAppointmentType.staff.required)};return e.push(a),e},staffAppointmentTypes:(t,e)=>t.appointment_types.appointmentTypes?e["appointment_types/editableAppointmentTypes"].filter((t=>Object.prototype.hasOwnProperty.call(t,"staff")&&Object.prototype.hasOwnProperty.call(t.staff,"required")&&""!==t.staff.required)):[],staffMissingWebMeetingsUrl:t=>{if(!t.staff.staff||0===t.staff.staff.length)return!1;const e=t.staff.staff.filter((t=>!t.web_meetings_url||""===t.web_meetings_url));return e.length>0},currentStaffMissingWebMeetingsUrl:t=>{if(!t.staff.staff||0===t.staff.staff.length)return!1;const e=t.appointment_types.currentAppointmentType.staff_ids.map((t=>t.toString())),s=t.staff.staff.filter((t=>e.includes(t.id)&&(!t.web_meetings_url||""===t.web_meetings_url)));return s.length>0}},Ef={fetchApi({commit:t}){return new Promise(((e,s)=>{ln().ajax({url:"getApi.php",method:"GET",dataType:"json",cache:!1,contentType:"application/json"}).done((s=>{t("defineApi",s.api),t("defineUser",s.user),e()})).fail(((t,e,i)=>{console.log(t,e,i),s({xhr:t,error:i})}))}))},callAsync({state:t}){return new Promise((e=>{ln().ajax({url:t.api.root+"/async",method:"POST"}).done((()=>{e()}))}))},fetchTelCountryCode({commit:t,state:e,dispatch:s}){if(!e.settings.global.country_code)return new Promise(((e,i)=>{ln().ajax({url:"//ip2c.org/s",method:"GET"}).done((i=>{let n=(i||"").toString();n&&"1"===n[0]?t("setTelCountryCode",n.substr(2,2)):s("fetchTelCountryCodeSecondTry"),e()})).fail((t=>{s("fetchTelCountryCodeSecondTry"),i(t)}))}));t("setTelCountryCode",e.settings.global.country_code)},fetchTelCountryCodeSecondTry({commit:t}){return new Promise(((e,s)=>{ln().ajax({url:"//ip-api.com/json/?fields=status,message,countryCode",method:"GET",dataType:"json",contentType:"application/json"}).done((s=>{t("setTelCountryCode",s.countryCode),e()})).fail((t=>{s(t)}))}))},fetchSettings({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateAllSettings",e.data),s()})).fail(((t,e,s)=>{i({xhr:t,error:s})}))}))},updateAdvancedSchedulingSettings({commit:t,state:e,dispatch:s}){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/settings/advanced_scheduling",method:"POST",dataType:"json",data:JSON.stringify(e.settings.advanced_scheduling),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateAdvancedSchedulingSettings",e.data),s("callAsync"),i()})).fail((t=>{n(t)}))}))},updateNotificationsSettings({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/notifications",method:"POST",dataType:"json",data:JSON.stringify(e.settings.notifications),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateNotificationsSettings",e.data),s()})).fail((t=>{i(t)}))}))},fetchInstalledSettings({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/installed",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"installed",settings:e.data}),s()})).fail(((t,e,s)=>{i(t,s)}))}))},fetchLicenseSettings({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/license",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"license",settings:e}),s()})).fail(((t,e,s)=>{i(t,s)}))}))},updateLicenseSettings({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/license",method:"POST",dataType:"json",data:JSON.stringify({license:e.settings.license.license}),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"license",settings:e}),s()})).fail((t=>{i(t)}))}))},validateTwigString({state:t},e){if(e)return new Promise(((s,i)=>{ln().ajax({url:t.api.root+"/templates/validate",method:"POST",cache:!1,dataType:"json",data:JSON.stringify({message:e}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{t.success?s(t):i(t.error)})).fail((t=>{i(t.responseJSON)}))}))},fetchSupportDetails({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/support_status",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setSupport",e.data),s()})).fail(((t,e,s)=>{i(s)}))}))},fetchWPDebugLog({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/support_debug/wp",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setWPDebugLog",e),s()})).fail(((t,e,s)=>{i(s)}))}))},fetchSSADebugLog({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/support_debug/ssa",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setSSADebugLog",e),s()})).fail(((t,e,s)=>{i(s)}))}))},clearWPDebugLog({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/support_debug/wp/delete",method:"POST",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("setWPDebugLog",null),s()})).fail(((t,e,s)=>{i(s)}))}))},clearSSADebugLog({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/support_debug/ssa/delete",method:"POST",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("setSSADebugLog",null),s()})).fail(((t,e,s)=>{i(s)}))}))},fetchLogUrls({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/support_debug/logs",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setLogUrls",e),s()})).fail(((t,e,s)=>{i(s)}))}))},fetchAvailability({state:t},e){return new Promise(((s,i)=>{ln().ajax({url:t.api.root+"/availability/troubleshoot",method:"GET",data:e,dataType:"json",contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{s(t)})).fail(((t,e,s)=>{i(s)}))}))},fetchWPUsers({commit:t,state:e,getters:s}){if(s["staff/currentUserCan"]("ssa_manage_appointments"))return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/customers",method:"GET",data:{ids:JSON.stringify(s.wpUserIds)},dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setWpUsers",e.data),i(e)})).fail(((t,e,s)=>{n(s)}))}))},fetchBookingEmbed({commit:t,state:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/embed",method:"GET",data:{ajax:!0},cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setBookingEmbed",e),s()})).fail(((t,e,s)=>{i(s)}))}))}},Df={defineApi(t,e){t.api=e},defineUser(t,e){t.user=e},setTelCountryCode(t,e){t.telCountryCode=e},updateAllSettings(t,e){t.settings=e},updateSettings(t,e){i["default"].set(t.settings,e.key,e.settings)},setBookingApiEmbed(t,e){i["default"].set(t.settings.developer,"booking_api_embed",e)},setCapacityAvailability(t,e){i["default"].set(t.settings.developer,"capacity_availability",e)},setBetaBookingApp(t,e){i["default"].set(t.settings.developer,"beta_booking_app",e)},setSeparateAppointmentTypeAvailability(t,e){i["default"].set(t.settings.developer,"separate_appointment_type_availability",e)},setSSADebugMode(t,e){i["default"].set(t.settings.developer,"ssa_debug_mode",e)},setWPDebugMode(t,e){i["default"].set(t.settings.developer,"debug_mode",e)},updateAdvancedSchedulingEnabled(t,e){i["default"].set(t.settings.advanced_scheduling,"enabled",e)},updateAdvancedSchedulingSettings(t,e){i["default"].set(t.settings,"advanced_scheduling",e)},updateNotificationsSettings(t,e){i["default"].set(t.settings,"notifications",e)},setNotificationsEnabled(t,e){i["default"].set(t.settings.notifications,"enabled",e)},addSettingsNotification(t,e){e.last_modified=W().utc().format(t.timestampFormat),t.settings.notifications.notifications.splice(t.settings.notifications.notifications.length,0,e)},cloneSettingsNotification(t,e){let s=t.settings.notifications.notifications.find((t=>t.id===e)),i=Ae().cloneDeep(s),n=new Date;i.id=n.getTime(),t.settings.notifications.notifications.splice(t.settings.notifications.notifications.length,0,i)},deleteSettingsNotification(t,e){let s=t.settings.notifications.notifications.findIndex((t=>t.id===e));t.settings.notifications.notifications.splice(s,1)},setSingleNotification(t,{id:e,notification:s}){let i=t.settings.notifications.notifications.findIndex((t=>t.id===e));s.last_modified=W().utc().format(t.timestampFormat),t.settings.notifications.notifications.splice(i,1,s)},setNotificationPreview(t,e){i["default"].set(t.settings.notifications,"preview",e)},setSmsEnabled(t,e){i["default"].set(t.settings.sms,"enabled",e)},setSmsSetting(t,e){i["default"].set(t.settings.sms,e.key,e.value)},setSmsSettings(t,e){i["default"].set(t.settings,"sms",e)},setPaymentsEnabled(t,e){i["default"].set(t.settings.payments,"enabled",e)},setPaymentsSettings(t,e){i["default"].set(t.settings,"payments",e)},setDefaultCurrency(t,e){i["default"].set(t.settings.payments,"default_currency",e)},setStripeEnabled(t,e){i["default"].set(t.settings.stripe,"enabled",e)},setStripeSetting(t,e){i["default"].set(t.settings.stripe,e.key,e.value)},setStripeSettings(t,e){i["default"].set(t.settings,"stripe",e)},setPaypalEnabled(t,e){i["default"].set(t.settings.paypal,"enabled",e)},setPaypalSetting(t,e){i["default"].set(t.settings.paypal,e.key,e.value)},setPaypalSettings(t,e){i["default"].set(t.settings,"paypal",e)},setStaffEnabled(t,e){i["default"].set(t.settings.staff,"enabled",e)},setStaffSettings(t,e){i["default"].set(t.settings,"staff",e)},setTrackingEnabled(t,e){i["default"].set(t.settings.tracking,"enabled",e)},setTrackingSettings(t,e){i["default"].set(t.settings,"tracking",e)},setEventTracking(t,e){i["default"].set(t.settings.tracking,"event_tracking",e)},setPageTracking(t,e){i["default"].set(t.settings.tracking,"page_tracking",e)},updateLicenseKey(t,e){i["default"].set(t.settings.license,"license",e)},setSupport(t,e){t.support=e},setWPDebugLog(t,e){t.debugLog.wp=e},setSSADebugLog(t,e){t.debugLog.ssa=e},setLogUrls(t,e){t.logUrls=e},setWpUsers(t,e){t.wpUsers=e},setBookingEmbed(t,e){t.bookingEmbed=e}},$f={csvData:(t,e,s,i)=>t=>{let s=new Set;t.map((t=>{let e=Object.keys(t.customer_information);e.map((t=>{s.add(t)}))}));let n=t.map((t=>{const n="canceled"===t.status&&"0"!==t.rescheduled_to_appointment_id.toString()?"rescheduled":t.status;let a={"Appointment ID":t.id,"Appointment start date":e.csvFormatDate(t.start_date),"Appointment start time":e.csvFormatTime(t.start_date),"Appointment end date":e.csvFormatDate(t.end_date),"Appointment end time":e.csvFormatTime(t.end_date),"Appointment type":t.type_title,Status:n,"Customer timezone":t.customer_timezone,"Date created":e.csvFormatDateUtc(t.date_created),"Payment method":t.payment_method,"Payment amount":t.payment_received,"Team member(s)":i["staff/appointmentStaffNames"](t),"Edit link":t.public_edit_url};for(let e of s)a[e]="",Object.prototype.hasOwnProperty.call(t.customer_information,e)&&t.customer_information[e]&&("string"===typeof t.customer_information[e]?a[e]=t.customer_information[e]:Array.isArray(t.customer_information[e])&&(a[e]=t.customer_information[e].join(", ")));return a}));return n},csvExportFile:(t,e)=>t=>{let s=e.csvData(t),i="data:text/csv;charset=utf-8,";i+=['"'+Object.keys(s[0]).join('","')+'"',...s.map((t=>'"'+Object.values(t).join('","')+'"'))].join("\n").replace(/(^\[)|(\]$)/gm,"").replace(/#/g,encodeURIComponent("#"));const n=encodeURI(i);console.log(n);const a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download","appointments.csv"),a.click()},csvFormatDate:(t,e,s)=>t=>W().tz(t,s.timestampFormat,s.settings.global.timezone_string).format(s.settings.global.date_format_moment),csvFormatTime:(t,e,s)=>t=>W().tz(t,s.timestampFormat,s.settings.global.timezone_string).format(s.settings.global.time_format_moment+" z"),csvFormatDateUtc:(t,e,s)=>t=>W().utc(t,s.timestampFormat).tz(s.settings.global.timezone_string).format(s.settings.global.date_format_moment),csvFormatTimeUtc:(t,e,s)=>t=>W().utc(t,s.timestampFormat).tz(s.settings.global.timezone_string).format(s.settings.global.time_format_moment+" z"),appointmentCount(t,e,s){if(!t.appointments||!t.appointments.length)return[];let i=[],n=W().utc();return i=t.appointments.filter((e=>{let i=!0;if("range"===t.filter.time)if(t.filter.date_range_min||t.filter.date_range_max){let n=!0,a=!0;if(t.filter.date_range_min){let i=W().utc(t.filter.date_range_min,s.timestampFormat);n=W().utc(e.start_date,s.timestampFormat).isSameOrAfter(i,"minute")}if(t.filter.date_range_max){let i=W().utc(t.filter.date_range_max,s.timestampFormat);a=W().utc(e.end_date,s.timestampFormat).isSameOrBefore(i,"minute")}i=n&&a}else i=!1;else i="upcoming"===t.filter.time?W().utc(e.end_date,s.timestampFormat).isSameOrAfter(n,"day"):W().utc(e.end_date,s.timestampFormat).isBefore(n,"day");let a=!t.filter.status||!t.filter.status.length||t.filter.status.includes(e.status),o=!t.filter.appointment_type_id||!t.filter.appointment_type_id.length||t.filter.appointment_type_id.includes(e.appointment_type_id),r=!t.filter.staff||!t.filter.staff.length||t.filter.staff.some((t=>e.staff_ids.includes(parseInt(t,10))));return i&&a&&o&&r})),i},displayAppointments(t,e,s,i){if(!e.appointmentCount||!e.appointmentCount.length)return[];let n=e.appointmentCount;n=n.map((t=>e.prepAppointment(t)));let a=n.reduce(((t,e)=>{let s="type-"+e.appointment_type_id;return s+="-time-"+e.start_date,i["appointment_types/groupAppointmentTypeIds"].length&&i["appointment_types/groupAppointmentTypeIds"].includes(e.appointment_type_id)&&e.group_id>0?s+="-group-"+e.group_id:s+="-appt-"+e.id,Object.prototype.hasOwnProperty.call(t,s)||(t[s]={start_date:e.start_date,group_id:e.group_id,appointments:[]}),t[s]["appointments"].push(e),t}),{});return n=Object.values(a),n=n.sort(((t,e)=>t.start_date<e.start_date?-1:t.start_date>e.start_date?1:0)),"past"===t.filter.time&&(n=n.reverse()),e.definedRange||(n=n.slice(0,t.perPage*t.page)),n},definedRange(t){return"range"===t.filter.time&&t.filter.date_range_min&&t.filter.date_range_max},filterApplied(t){let e=Ae().cloneDeep(v),s=Ae().cloneDeep(t.filter);return delete e.time,delete s.time,e=JSON.stringify(e),s=JSON.stringify(s),e!==s},groupAppointmentStatus:()=>t=>{let e=t.reduce(((t,e)=>Math.min(y.indexOf(e.status),t)),10);return y[e]},prepAppointment:(t,e,s)=>e=>{if(Object.prototype.hasOwnProperty.call(e,"type_title")&&Object.prototype.hasOwnProperty.call(e,"type_label")&&Object.prototype.hasOwnProperty.call(e,"type_duration"))return e;var i={},n=W().utc(e.start_date).tz(s.settings.global.timezone_string).format(t.timestampFormat);i.start_date=n;var a=W().utc(e.end_date).tz(s.settings.global.timezone_string).format(t.timestampFormat);i.end_date=a;var o=s.appointment_types.appointmentTypes.find((t=>t.id===e.appointment_type_id));return o&&(i.type_title=o.title,i.type_label=o.label,i.type_duration=o.duration),i=Object.assign({},e,i),i},upcomingAppointments(t,e,s){if(!t.appointments||!t.appointments.length)return[];let i=[],n=W().utc();return i=t.appointments.filter((t=>W().utc(t.end_date,s.timestampFormat).isSameOrAfter(n,"day"))),i}},Of={cancelGroupAppointment({commit:t,dispatch:e,rootState:s},i){if(i)return new Promise(((n,a)=>{ln().ajax({url:s.api.root+"/appointments/groups/"+i+"/cancel",method:"POST",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{s?(t("setGroupCanceled",i),e("callAsync",null,{root:!0}),n()):a()})).fail(((t,e,s)=>{a(s)}))}));console.log("Cannot cancel group without ID")},deleteGroupAppointment({commit:t,dispatch:e,rootState:s},i){if(i)return new Promise(((n,a)=>{ln().ajax({url:s.api.root+"/appointments/groups/"+i+"/delete",method:"POST",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{s?(t("removeGroupAppointment",i),e("callAsync",null,{root:!0}),n()):a()})).fail(((t,e,s)=>{a(s)}))}));console.log("Cannot delete group without ID")},fetchAppointments({commit:t,dispatch:e,rootState:s,rootGetters:i},n){if(i["staff/currentUserCan"]("ssa_manage_appointments")||i["staff/currentUserCan"]("ssa_manage_others_appointments"))return new Promise(((i,a)=>{ln().ajax({url:s.api.root+"/appointments",method:"GET",dataType:"json",data:n,cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{t("updateAppointments",s.data),e("fetchWPUsers",{},{root:!0}),i()})).fail(((t,e,s)=>{a(s)}))}))},fetchAppointmentsFiltered({commit:t,state:e,dispatch:s,rootState:i,getters:n}){let a=W().utc().locale("en").format("YYYY-MM-DD"),o=e.filter,r={number:e.perPage,offset:(e.page-1)*e.perPage,orderby:"start_date"};if(r["status"]=o.status,r["appointment_type_id"]=o.appointment_type_id,r["staff_ids_any"]=o.staff,"past"===o.time)r["start_date_max"]=a,r["order"]="DESC";else if("range"===o.time){const t=o.date_range_min?W()(o.date_range_min).utc().locale("en").format(i.timestampFormat):null,e=o.date_range_max?W()(o.date_range_max).utc().locale("en").format(i.timestampFormat):null;e&&(r["start_date_max"]=e),t&&(r["start_date_min"]=t),t&&e&&(r["number"]=-1),r["order"]="ASC"}else r["start_date_min"]=a,r["order"]="ASC";return new Promise(((a,o)=>{ln().ajax({url:i.api.root+"/appointments",method:"GET",dataType:"json",data:r,cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((i=>{t("updateAppointments",i.data),n.definedRange?t("setLoadedAll",!0):t("setLoadedAll",i.data.length<e.perPage),s("fetchWPUsers",{},{root:!0}),a()})).fail(((t,e,s)=>{o(s)}))}))},fetchAppointment({commit:t,dispatch:e,rootState:s},i){return new Promise(((n,a)=>{ln().ajax({url:s.api.root+"/appointments/"+i,method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{t("updateAppointments",s.data),e("fetchWPUsers",{},{root:!0}),n()})).fail(((t,e,s)=>{a(s)}))}))},saveAppointment({commit:t,rootState:e,dispatch:s},i){return new Promise(((n,a)=>{ln().ajax({url:e.api.root+"/appointments/"+i.id,method:"POST",dataType:"json",data:JSON.stringify(i),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointmentData",{id:e.data.id,appt:e.data}),s("callAsync",null,{root:!0}),n()})).fail(((t,e,s)=>{a(s)}))}))},deleteAppointment({commit:t,rootState:e,dispatch:s},i){return new Promise(((n,a)=>{ln().ajax({url:e.api.root+"/appointments/"+i.id+"/delete",method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("removeAppointment",i.id),s("callAsync",null,{root:!0}),n()})).fail(((t,e,s)=>{a(s)}))}))},fetchAppointmentMeta({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/appointments/"+s.id+"/meta",method:"GET",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{let n={meta:e.data};t("setAppointmentData",{id:s.id,appt:n}),i()})).fail(((t,e,s)=>{n(s)}))}))},purgeAppointments({commit:t,rootState:e,dispatch:s},i){return new Promise(((n,a)=>{ln().ajax({url:e.api.root+"/appointments/purge",method:"GET",dataType:"json",data:i,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointments",[]),s("fetchAppointments"),n(e)})).fail((t=>{a(t.responseJSON)}))}))}},If={removeAppointment(t,e){let s=t.appointments.findIndex((t=>t.id===e));t.appointments.splice(s,1)},removeGroupAppointment(t,e){let s=t.appointments.filter((t=>t.group_id!==e));t.appointments=s},setFilter(t,e){Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.filter,e.key,e.value):t.filter=Ae().cloneDeep(e)},setAppointments(t,e){t.appointments=e},setGroupCanceled(t,e){let s=t.appointments.slice(0);s.forEach((t=>{Object.prototype.hasOwnProperty.call(t,"group_id")&&t.group_id===e&&(t.status="canceled")})),t.appointments=s},setLoadedAll(t,e){t.loadedAll=e},setPage(t,e){t.page=e},setPerPage(t,e){t.perPage=e},updateAppointments(t,e){let s=t.appointments.slice(0),i=e instanceof Array;if(i)s=s.concat(e),s=Ae().uniqBy(s,"id");else{let t=e.id,i=s.findIndex((e=>parseInt(t,10)===parseInt(e.id,10)));i>-1?s.splice(i,1,e):s=s.concat(e)}t.appointments=s},setAppointmentData(t,e){var s=t.appointments.findIndex((t=>t.id===e.id));if(s>-1){var i=Object.assign({},t.appointments[s],e.appt);t.appointments.splice(s,1,i)}}};const zf={appointments:[],filter:Ae().cloneDeep(v),loadedAll:!1,page:1,perPage:50};var jf={namespaced:!0,state:zf,getters:$f,actions:Of,mutations:If},Lf={stripe:(t,e,s)=>s.settings&&s.settings.stripe?s.settings.stripe:{},paymentsModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.payments,i.upgrade=!s.settings.installed.payments,s.settings.payments?i.enabled=s.settings.payments.enabled&&s.settings.installed.payments:i.enabled=!1,i},activePaymentMethods:(t,e,s)=>{let i=[];return s.settings&&s.settings.stripe?(s.settings.paypal.enabled&&s.settings.paypal.email&&i.push("paypal"),s.settings.stripe.enabled&&s.settings.stripe.publishable_key&&s.settings.stripe.secret_key&&i.push("stripe"),i):i},displayPrice:(t,e,s)=>(t,e)=>{if(!s.settings||!s.settings.global)return;let i=s.settings.global.locale.replace("_","-"),n=parseFloat(t);return n||0===n?new Intl.NumberFormat(i,{style:"currency",currency:e}).format(n):null},displayGateway:()=>t=>{let e="";switch(t){case"stripe":e="Stripe";break;case"paypal":e="PayPal";break;case"woocommerce":e="WooCommerce";break}return e},paypalModule:(t,e,s)=>{if(!e.paymentsModule)return;let i={};return i.installed=s.settings.installed.paypal,s.settings.paypal&&e.paymentsModule.enabled?i.enabled=s.settings.paypal.enabled&&s.settings.installed.paypal:i.enabled=!1,i.active=!Ae().isEmpty(s.settings.paypal.email),i.sandbox=s.settings.paypal.sandbox_enabled,i},stripeModule:(t,e,s)=>{if(!e.paymentsModule)return;let i={};return i.installed=s.settings.installed.stripe,s.settings.stripe&&e.paymentsModule.enabled?i.enabled=s.settings.stripe.enabled&&s.settings.installed.stripe:i.enabled=!1,i.active=!Ae().isEmpty(s.settings.stripe.secret_key)&&!Ae().isEmpty(s.settings.stripe.publishable_key),i.test_mode=s.settings.stripe.test_mode_enabled,i}},Nf={updatePaymentsEnabled({commit:t,dispatch:e},s){t("setPaymentsEnabled",s,{root:!0}),e("savePaymentsSettings")},savePaymentsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/payments",method:"POST",dataType:"json",data:JSON.stringify(e.settings.payments),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setPaymentsSettings",e.data,{root:!0}),s()})).fail((t=>{i(t)}))}))},updateDefaultCurrency({commit:t,dispatch:e},s){t("setDefaultCurrency",s,{root:!0}),e("savePaymentsSettings")},updateStripeEnabled({commit:t,dispatch:e},s){t("setStripeEnabled",s,{root:!0}),e("saveStripeSettings")},updateStripeDescription({commit:t},e){t("setStripeSetting",{key:"description",value:e},{root:!0})},updateStripeStatementDescriptor({commit:t},e){t("setStripeSetting",{key:"statement_descriptor",value:e},{root:!0})},updateStripeTitle({commit:t},e){t("setStripeSetting",{key:"title",value:e},{root:!0})},updateStripePublishableKey({commit:t},e){t("setStripeSetting",{key:"publishable_key",value:e},{root:!0})},updateStripeSecretKey({commit:t},e){t("setStripeSetting",{key:"secret_key",value:e},{root:!0})},updateStripeTestMode({commit:t},e){t("setStripeSetting",{key:"test_mode_enabled",value:e},{root:!0})},updateStripeTestPublishableKey({commit:t},e){t("setStripeSetting",{key:"test_publishable_key",value:e},{root:!0})},updateStripeTestSecretKey({commit:t},e){t("setStripeSetting",{key:"test_secret_key",value:e},{root:!0})},saveStripeSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/stripe",method:"POST",dataType:"json",data:JSON.stringify(e.settings.stripe),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setStripeSettings",e.data,{root:!0}),s()})).fail((t=>{i(t)}))}))},updatePaypalEnabled({commit:t,dispatch:e},s){t("setPaypalEnabled",s,{root:!0}),e("savePaypalSettings")},updatePaypalDescription({commit:t},e){t("setPaypalSetting",{key:"description",value:e},{root:!0})},updatePaypalEmail({commit:t},e){t("setPaypalSetting",{key:"email",value:e},{root:!0})},updatePaypalIdentityToken({commit:t},e){t("setPaypalSetting",{key:"identity_token",value:e},{root:!0})},updatePaypalSandbox({commit:t},e){t("setPaypalSetting",{key:"sandbox_enabled",value:e},{root:!0})},updatePaypalTitle({commit:t},e){t("setPaypalSetting",{key:"title",value:e},{root:!0})},savePaypalSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/paypal",method:"POST",dataType:"json",data:JSON.stringify(e.settings.paypal),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setPaypalSettings",e.data,{root:!0}),s()})).fail((t=>{i(t)}))}))},fetchPayments({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/payments",method:"GET",cache:!1,dataType:"json",data:{appointment_id:s},contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{let n={payments:e.data};t("appointments/setAppointmentData",{id:s,appt:n},{root:!0}),i()})).fail(((t,e,s)=>{n(s)}))}))}},Uf={};const Gf={stripe:{title:"Credit card",description:"Pay with your credit card via Stripe.",webhook:"blah blah blah",publishable_key:"",secret_key:"",test_mode_enabled:!1,test_publishable_key:"",test_secret_key:""}};var Ff={namespaced:!0,state:Gf,getters:Lf,actions:Nf,mutations:Uf},Wf={phoneAppointmentTypes:(t,e,s,i)=>{if(i["appointment_types/editableAppointmentTypes"])return i["appointment_types/editableAppointmentTypes"].filter((t=>{if(!Object.prototype.hasOwnProperty.call(t,"custom_customer_information")||Ae().isEmpty(t.custom_customer_information))return!1;let e=t.custom_customer_information.filter((t=>"phone"===t.type));return e.length>0}))},filterApplied(t){let e=Ae().cloneDeep(f),s=Ae().cloneDeep(t.filter);return e=JSON.stringify(e),s=JSON.stringify(s),e!==s},filteredNotifications:(t,e,s)=>{if(!s.settings||!s.settings.notifications||!s.settings.notifications.notifications)return;let i=[];return i=s.settings.notifications.notifications.filter((s=>{let i=!e.smsModule.enabled&&"email"===s.type;e.smsModule.enabled&&(i=!t.filter.notification_type||!t.filter.notification_type.length||t.filter.notification_type.includes(s.type));let n=t.filter.appointment_type&&t.filter.appointment_type.length,a=s.appointment_types&&s.appointment_types.length,o=!n||!a||t.filter.appointment_type.some((t=>s.appointment_types.includes(t))),r=!t.filter.trigger||!t.filter.trigger.length||t.filter.trigger.includes(s.trigger),l=t.filter.sent_to&&t.filter.sent_to.length,d=s.sent_to&&s.sent_to.length||s.sms_to&&s.sms_to.length,p=!l||!d||t.filter.sent_to.some((t=>"email"===s.type&&s.sent_to&&s.sent_to.includes(t)||"sms"===s.type&&s.sms_to&&s.sms_to.includes(t)));return i&&o&&r&&p})),i},sentToOptions:(t,e,s)=>{if(!s.settings||!s.settings.notifications||!s.settings.notifications.notifications)return[];let i=new Set;return s.settings.notifications.notifications.map((s=>{t.filter.notification_type.length&&!t.filter.notification_type.includes("email")||Object.prototype.hasOwnProperty.call(s,"sent_to")&&s.sent_to.forEach((t=>i.add(t))),e.smsModule.enabled&&s.sms_to&&(!t.filter.notification_type.length||t.filter.notification_type.includes("sms"))&&Object.prototype.hasOwnProperty.call(s,"sms_to")&&s.sms_to.forEach((t=>i.add(t)))})),Array.from(i)},sms:(t,e,s)=>s.settings&&s.settings.sms?s.settings.sms:{},smsModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.sms,s.settings.sms?i.enabled=s.settings.installed.sms&&s.settings.sms.enabled:i.enabled=!1,i.active=i.enabled&&!Ae().isEmpty(s.settings.sms.authorized_date),i.test_mode=i.enabled&&s.settings.sms.twilio_test_mode_enabled,i},remindersInstalled:(t,e,s)=>!!(s.settings&&s.settings.installed&&Object.prototype.hasOwnProperty.call(s.settings.installed,"reminders"))&&s.settings.installed.reminders,validateEmail:()=>t=>{let e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}},Bf={saveNotificationSingle({commit:t,rootState:e},s){let i=e.settings.notifications.notifications.find((t=>t.id===s));if(i)return new Promise(((n,a)=>{ln().ajax({url:e.api.root+"/notifications/"+s,method:"POST",dataType:"json",data:JSON.stringify(i),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setSingleNotification",{id:e.id,notification:e},{root:!0}),n()})).fail((t=>{a(t)}))}))},deleteNotificationSingle({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/notifications/"+s+"/delete",method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("deleteSettingsNotification",s,{root:!0}),i()})).fail((t=>{n(t)}))}))},saveNotificationsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/notifications",method:"POST",dataType:"json",data:JSON.stringify(e.settings.notifications),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateNotificationsSettings",e.data,{root:!0}),s()})).fail((t=>{i(t)}))}))},fetchNotificationPreview({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/notifications/preview",method:"POST",dataType:"json",data:JSON.stringify(s),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setNotificationPreview",e.data.preview,{root:!0}),i()})).fail((t=>{n(t)}))}))},saveSmsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/sms",method:"POST",dataType:"json",data:JSON.stringify(e.settings.sms),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setSmsSettings",e.data,{root:!0}),s()})).fail((t=>{i(t)}))}))},authorizeTwilio({rootState:t}){return new Promise(((e,s)=>{ln().ajax({url:t.api.root+"/sms/authorize",method:"POST",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{t.error&&t.error.errors&&t.error.errors.length?s(t):e()})).fail((t=>{s(t)}))}))},sendTestMessage({rootState:t},e){return new Promise(((s,i)=>{ln().ajax({url:t.api.root+"/sms/send_test",method:"POST",dataType:"json",data:JSON.stringify({phone:e}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{console.log(t.data),s()})).fail((t=>{i(t)}))}))},updateTwilioAccountSid({commit:t},e){t("setSmsSetting",{key:"twilio_account_sid",value:e},{root:!0})},updateTwilioAuthToken({commit:t},e){t("setSmsSetting",{key:"twilio_auth_token",value:e},{root:!0})},updateTwilioSendFromPhone({commit:t},e){t("setSmsSetting",{key:"twilio_send_from_phone",value:e},{root:!0})},updateTwilioTestModeEnabled({commit:t},e){t("setSmsSetting",{key:"twilio_test_mode_enabled",value:e},{root:!0})},updateTwilioTestAccountSid({commit:t},e){t("setSmsSetting",{key:"twilio_test_account_sid",value:e},{root:!0})},updateTwilioTestAuthToken({commit:t},e){t("setSmsSetting",{key:"twilio_test_auth_token",value:e},{root:!0})}},Rf={setFilter(t,e){Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.filter,e.key,e.value):t.filter=Ae().cloneDeep(e)}};const qf={filter:{notification_type:[],appointment_type:[],trigger:[],sent_to:[]}};var Hf={namespaced:!0,state:qf,getters:Wf,actions:Bf,mutations:Rf},Zf={appointmentStaffNames:t=>e=>{if(!e||!t.staff)return"";let s=[];Ae().isArray(e)?(e.map((t=>{s=s.concat(t.staff_ids)})),s=Ae().uniq(s)):s=e.staff_ids;let i=s.map((e=>{let s=t.staff.find((t=>parseInt(e,10)===parseInt(t.id,10)));return s?s.display_name:""}));return i.join(", ")},currentUserCan:(t,e,s)=>t=>!(!s.user||!s.user.capabilities.length)&&s.user.capabilities.indexOf(t)>-1,currentUserHasPermissions:(t,e,s)=>!(!s.user||!s.user.capabilities.length)&&(s.user&&s.user.capabilities.length),currentUserHasNav:(t,e,s)=>!(!s.user||!s.user.capabilities.length)&&(s.user&&s.user.capabilities.length>1),currentUserIsSelf:(t,e,s)=>!(!s.user||!t.currentStaff)&&t.currentStaff.user_id.toString()===s.user.user_id.toString(),currentUserIsStaff:(t,e,s)=>!(!s.user||!s.user.capabilities.length)&&(Object.prototype.hasOwnProperty.call(s.user,"staff_id")&&s.user.staff_id&&e.currentUserCan("ssa_manage_appointments")&&!e.currentUserCan("ssa_manage_staff")),currentUserStaffId:(t,e,s)=>s.user?s.user.staff_id:null,staffExcludingSelf:(t,e,s)=>e.staffStatusPublish.length?s.user&&s.user.staff_id?e.staffStatusPublish.filter((t=>t.id!==s.user.staff_id)):Ae().cloneDeep(e.staffStatusPublish):[],staffModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=!!Object.prototype.hasOwnProperty.call(s.settings.installed,"staff")&&s.settings.installed.staff,s.settings.staff?i.enabled=s.settings.installed.staff&&s.settings.staff.enabled:i.enabled=!1,i.upgrade=!s.settings.installed.staff,i},staffStatusDelete:t=>t.staff&&t.staff.length?t.staff.filter((t=>"delete"===t.status)):[],staffStatusDraft:t=>t.staff&&t.staff.length?t.staff.filter((t=>"draft"===t.status)):[],staffStatusPublish:t=>t.staff&&t.staff.length?t.staff.filter((t=>"publish"===t.status)):[],unattachedUsers:t=>{if(!t.users||!t.staff)return[];let e=t.staff.map((t=>parseInt(t.user_id,10)));return t.users.filter((t=>-1===e.indexOf(t.id)))},userGravatar:t=>e=>{if(!t.users)return;let s=t.users.find((t=>t.id.toString()===e.toString()));return s?s.gravatar_url:void 0},userId:t=>t.currentStaff&&Object.prototype.hasOwnProperty.call(t.currentStaff,"user_id")?parseInt(t.currentStaff.user_id,10):0},Kf={deleteStaff({commit:t,rootState:e,dispatch:s},i){let n=e.api.root+"/staff",a=n+"/"+i+"/delete";return new Promise(((n,o)=>{ln().ajax({url:a,method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("removeStaffMember",i),s("callAsync",null,{root:!0}),n()})).fail(((t,e,s)=>{o(s)}))}))},fetchSingleStaff({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/staff/"+s,method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setCurrentStaff",e.data),t("setStaffMember",s),i()})).fail((t=>{n(t)}))}))},fetchStaff({commit:t,dispatch:e,rootState:s}){return new Promise(((i,n)=>{ln().ajax({url:s.api.root+"/staff",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{t("setStaff",s.data),e("syncStaffFromUsers"),i()})).fail((t=>{n(t)}))}))},fetchUsers({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/users",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setUsers",e.data),s()})).fail((t=>{i(t)}))}))},googleCalendarDeauth({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/google_calendars/staff_disconnect",method:"POST",dataType:"json",data:s,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{e.data.google={connected:!1,excluded_calendars:[]},t("setCurrentStaff",e.data),i()})).fail((t=>{n(t)}))}))},saveStaff({commit:t,state:e,rootState:s,dispatch:i}){let n=s.api.root+"/staff",a=e.currentStaff&&e.currentStaff.id?n+"/"+e.currentStaff.id:n;return new Promise(((n,o)=>{ln().ajax({url:a,method:"POST",dataType:"json",data:JSON.stringify(e.currentStaff),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{t("setCurrentStaff",s.data),t("setStaffMember",e.currentStaff.id),i("callAsync",null,{root:!0}),n()})).fail((t=>{o(t)}))}))},saveStaffSettings({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/settings/staff",method:"POST",dataType:"json",data:JSON.stringify(e.settings.staff),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setStaffSettings",e.data,{root:!0}),s("callAsync",null,{root:!0}),i()})).fail((t=>{n(t)}))}))},syncStaffFromUsers({commit:t,state:e,dispatch:s}){if(!e.users||!e.staff)return;let i=!Ae().isEmpty(e.currentStaff)&&e.currentStaff.id?e.currentStaff.id:null;e.staff.map((i=>{let n=i.user_id?parseInt(i.user_id,10):0;if(t("setCurrentStaff",i),n&&0!==n){let a=e.users.find((t=>parseInt(t.id,10)===n));if(!a)return t("setCurrentStaff",{key:"user_id",value:0}),void s("saveStaff");let o=i.email.toLowerCase()!==a.email.toLowerCase(),r=i.display_name!==a.display_name,l=i.name!==a.display_name;(o||r||l)&&(t("setCurrentStaff",{key:"email",value:a.email.toLowerCase()}),t("setCurrentStaff",{key:"display_name",value:a.display_name}),t("setCurrentStaff",{key:"name",value:a.display_name}),s("saveStaff"))}if(0===n){let n=e.users.find((t=>t.email&&i.email&&t.email.toLowerCase()===i.email.toLowerCase()));if(!n)return;t("setCurrentStaff",{key:"user_id",value:n.id}),t("setCurrentStaff",{key:"email",value:n.email.toLowerCase()}),t("setCurrentStaff",{key:"display_name",value:n.display_name}),t("setCurrentStaff",{key:"name",value:n.display_name}),s("saveStaff")}})),t("setCurrentStaff",i?e.staff.find((t=>t.id===i)):void 0)},updateStaffEnabled({commit:t,dispatch:e},s){t("setStaffEnabled",s,{root:!0}),e("saveStaffSettings")}},Vf={addStaffMember(t){t.staff.push(t.currentStaff)},defineNewStaffMember(t){t.currentStaff=Ae().cloneDeep(E)},removeStaffMember(t,e){let s=t.staff.findIndex((t=>t.id===e)),i=Ae().cloneDeep(t.staff[s]);i.status="delete",t.staff.splice(s,1,i)},setCurrentStaff(t,e){t.currentStaff||(t.currentStaff={}),e&&Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.currentStaff,e.key,e.value):t.currentStaff=Ae().cloneDeep(e)},setStaff(t,e){t.staff=e},setStaffGoogleCalendars(t,e){t.googleCalendars=e},setStaffMember(t,e){if(!t.staff)return;let s=t.staff.findIndex((t=>t.id===e));s>=0?t.staff.splice(s,1,t.currentStaff):t.staff.push(t.currentStaff)},setUsers(t,e){t.users=e},setStaffBlackoutDates(t,e){t.currentStaff.blackout_dates||i["default"].set(t.currentStaff,"blackout_dates",{}),i["default"].set(t.currentStaff.blackout_dates,"dates",e.slice(0))}};const Yf={currentStaff:void 0,googleCalendars:[],staff:void 0,users:null};var Jf={namespaced:!0,state:Yf,getters:Zf,actions:Kf,mutations:Vf},Xf={trackingModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.tracking,s.settings.tracking?i.enabled=s.settings.installed.tracking&&s.settings.tracking.enabled:i.enabled=!1,i.upgrade=!s.settings.installed.tracking,i}},Qf={updateTrackingEnabled({commit:t,dispatch:e},s){t("setTrackingEnabled",s,{root:!0}),e("saveTrackingSettings")},saveTrackingSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/tracking",method:"POST",dataType:"json",data:JSON.stringify(e.settings.tracking),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setTrackingSettings",e.data,{root:!0}),s()})).fail((t=>{i(t)}))}))}},ty=s(9340),ey=s.n(ty);const sy={};var iy={namespaced:!0,state:sy,getters:Xf,actions:Qf,mutations:ey()},ny={getCurrentGuideKey:t=>e=>{if("undefined"===typeof e)return t.currentGuideKey;const s=Object.keys(e).reduce(((t,s)=>(t.push(`${s}:${e[s]}`),t)),[]).join("|");return s},currentGuides:t=>t.currentGuideKey&&0!==Object.keys(t.guides).length&&"undefined"!==typeof t.guides[t.currentGuideKey]?t.guides[t.currentGuideKey]:[],getSupportGuidesTerms:()=>t=>{let e=[],s=t.toLowerCase(),i=Object.keys(L);return i.forEach((t=>{L[t].some((t=>{const e=t.toLowerCase(),i=new RegExp(e+"\\b","g"),n=s.match(i);return n&&e===n[0]}))&&e.push(j.support_ticket[t])})),e.length?e:[j.support_ticket["default"]]},getCurrentSupportGuideKey:t=>e=>{if("undefined"===typeof e)return t.currentSupportGuideKey;const s=Object.keys(e).reduce(((t,s)=>(t.push(`${s}:${e[s]}`),t)),[]).join("|");return s},currentSupportGuides:t=>t.currentSupportGuideKey&&0!==Object.keys(t.supportGuides).length&&"undefined"!==typeof t.supportGuides[t.currentSupportGuideKey]?t.supportGuides[t.currentSupportGuideKey]:[]},ay={getGuides({commit:t,state:e,getters:s,rootState:i},n){return new Promise(((a,o)=>{const r=Object.assign({"ssasc-edition":i.user.guides_support},n);Object.keys(r).forEach((t=>{Array.isArray(r[t])&&(r[t]=r[t].join(","))}));const l=s["getCurrentGuideKey"](r);if(Object.prototype.hasOwnProperty.call(e.guides,l))return t("setCurrentGuideKey",l),void a();t("setGuidesLoading",!0),t("setCurrentGuideKey",l),ln().ajax({url:i.api.root+"/fetch-guides",method:"GET",data:r,cache:!0,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((e=>{Object.prototype.hasOwnProperty.call(e,"error")?(t("setGuides",{key:l,search:r,results:[]}),t("setGuidesLoading",!1)):(t("setGuides",{key:l,search:r,results:e}),t("setGuidesLoading",!1)),a()})).fail(((e,s,i)=>{t("setGuides",{key:l,search:r,results:[]}),t("setGuidesLoading",!1),o(i)}))}))},getSupportGuides({commit:t,state:e,getters:s,rootState:i},n){return new Promise(((a,o)=>{const r=Object.assign({"ssasc-edition":i.user.guides_support},n),l={"ssasc-edition":i.user.guides_support,"ssasc-plugin-screen":412};Object.keys(r).forEach((t=>{Array.isArray(r[t])&&(r[t]=r[t].join(","))}));const d=s["getCurrentSupportGuideKey"](r),p=s["getCurrentSupportGuideKey"](l);if(Object.prototype.hasOwnProperty.call(e.supportGuides,d))return e.supportGuides[d].length>0?t("setCurrentSupportGuideKey",d):t("setCurrentSupportGuideKey",p),void a();t("setSupportGuidesLoading",!0),ln().ajax({url:i.api.root+"/fetch-guides",method:"GET",data:r,cache:!0,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((e=>{e.length>0?(t("setSupportGuides",{key:d,search:r,results:e}),t("setCurrentSupportGuideKey",d)):t("setCurrentSupportGuideKey",p),t("setSupportGuidesLoading",!1),a()})).fail(((e,s,i)=>{t("setSupportGuidesLoading",!1),o(i)}))}))}},oy={setGuides(t,e){i["default"].set(t.guides,e.key,e.results)},setCurrentGuideKey(t,e){t.currentGuideKey=e},setGuidesLoading(t,e){t.guidesLoading=e},setSupportGuides(t,e){i["default"].set(t.supportGuides,e.key,e.results)},setCurrentSupportGuideKey(t,e){t.currentSupportGuideKey=e},setSupportGuidesLoading(t,e){t.supportGuidesLoading=e}};const ry={guides:{},currentGuideKey:null,guidesLoading:!1,supportGuides:{},currentSupportGuideKey:null,supportGuidesLoading:!1};var ly={namespaced:!0,state:ry,getters:ny,actions:ay,mutations:oy},dy={webexModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.webex,i.upgrade=!s.settings.installed.webex,s.settings.webex?i.enabled=s.settings.webex.enabled&&s.settings.installed.webex:i.enabled=!1,i}},py={webexAuth({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/webex/authorize_url",method:"GET",dataType:"json",cache:!1,data:s,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateWebexAuthUrl",e.data.authorize_url),i()})).fail((t=>{n(t)}))}))},webexDeauth({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/webex/disconnect",method:"POST",dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateWebexSettings",e.data),s()})).fail((t=>{i(t)}))}))},updateWebexSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/webex",method:"POST",dataType:"json",data:JSON.stringify(e.settings.webex),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateWebexSettings",e.data),s()})).fail((t=>{i(t)}))}))},fetchWebexUser({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/webex/me",method:"GET",cache:!1,dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateWebexUser",e),s()})).fail((t=>{i(t)}))}))}},cy={updateWebexEnabled(t,e){i["default"].set(wv.state.settings.webex,"enabled",e)},updateWebexSettings(t,e){wv.state.settings.webex=e},updateWebexAccessToken(t,e){i["default"].set(t.settings.webex,"access_token",e)},updateWebexUser(t,e){t.webexUser=e},updateWebexRedirectUrl(t,e){t.webexRedirectUrl=e},updateWebexAuthUrl(t,e){t.webexAuthUrl=e}};const my={webexAuthUrl:null,webexRedirectUrl:null,webexUser:null};var uy={namespaced:!0,state:my,getters:dy,actions:py,mutations:cy},gy={},hy={fetchTranslationSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/translation",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"translation",settings:e.data},{root:!0}),s()})).fail((t=>{i(t)}))}))},fetchLanguagePack({rootState:t},e){return new Promise(((s,i)=>{ln().ajax({url:t.api.root+"/translation/fetch",method:"POST",dataType:"json",data:JSON.stringify({locale:e}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{s()})).fail((t=>{i(t)}))}))}},_y={general:{loadingInitial:"Setting Up",save:"Save",saveContinue:"Save and Continue",saving:"Saving",ok:"OK",cancel:"Cancel",canceled:"Canceled",abandoned:"Abandoned",towp:"Back to WordPress dashboard",learnMore:"Learn more",selected:"selected"},actions:{activate:"Make active",clone:"Clone",deactivate:"Make inactive",delete:"Delete",recover:"Recover",edit:"Edit",editAsCustomer:"Edit as Customer",reschedule:"Reschedule",retry:"Retry"},time:{units:{minutes:{single:"minute",plural:"minutes"},hours:{single:"hour",plural:"hours"},days:{single:"day",plural:"days"},weeks:{single:"week",plural:"weeks"}}},errors:{heading:"Oh, for fox sake",intro:"We ran into a problem:",guidesText:"This is usually caused by a theme or plugin conflict.",guidesLinkLabel:"View our troubleshooting guide for more information.",errorDetails:"Show error details",appointmentLoading:"We were unable to load the appointments",appointmentTypeTitle:"Appointment type name is required",troubleSaving:"We were unable to save your changes",cantDeleteType:"Unable to delete appointment type",cantDeleteStaff:"Unable to delete staff",moreInfo:"More info",noAppointmentTypes:"First things first - set up your first appointment type.",noPermission:"What the fox?",noPermissionDesc:"It looks like you're not allowed to see this screen. Please check with your site administrator if you think this message is an error."},hello:{headline:"Welcome to Simply Schedule Appointments",subhead:"It looks like it's your first time here. Can we help you get set up?",accept:"Yes, help me please!",decline:"No, thanks. I got this."},wizard:{skip:"Skip this for now",next:"Next",settings:{license:{heading:"First things first. Got your license key handy?"},general:{loading:"Detecting your settings",headingFirst:"First things first, we detected these preferences. Are these correct?",heading:"Next, we detected these preferences. Are these correct?",accept:"Looks good! Let's go!",decline:"Needs some adjusting",exit:"Exit wizard and go to settings"}},appointmentType:{basics:"Basics",basicsMessage:"The basics for this type of appointment",capacity:"Capacity",capacityMessage:"How many customers can book at the same time?",stepper:{back:"Back",continue:"Continue"},heading:"Set up your first appointment type",loading:"Setting up your appointment type",availability:"Availability",availabilityMessage:"When are you available for this type of appointment?",apptSyncHeading:"Sync appointments with this calendar",apptSyncDesc:"When appointments are booked, create events on this Google Calendar",scheduling:"Scheduling Options",schedulingMessage:"Rules around how and when people can schedule this type of appointment",customerInfo:"Customer Information",customerInfoMessage:"What do you need to know about your customer?",notifications:"Notifications",notificationsMessage:"Options for sending customer and admin notifications",review:"Review",reviewMessage:"Make sure everything looks correct",googleCalendar:"Google Calendar",googleCalendarMessage:"Synchronize your appointments with your Google calendar",checkCalendars:"Check these calendars for conflicts",checkCalendarsDesc:"When booking appointments, check these calendars for times to exclude from available times",webMeetings:"Web Meetings",webMeetingsMessage:"Manage your Web Meetings settings for this appointment type",mailchimp:"MailChimp",mailchimpMessage:"Allow your customers to subscribe to a selected MailChimp list when booking an appointment",webhooks:"Webhooks",webhooksMessage:"Integrate Simply Schedule Appointments with other apps and services",booking:"Booking Info",bookingMessage:"Let your customers book this appointment type",generalBooking:"Use this shortcode in any post or page to create a general booking form where your customers can choose any appointment type",specialBooking:"Use this shortcode in any post or page to create a special booking form where your customers can book just this appointment type",payments:"Payments",paymentsMessage:"Take payments online at the time of booking",staff:"Team Members",staffMessage:"Which team members can take appointments of this type?"},googleCalendar:{wantToConnect:"Want to sync with Google Calendar?",showMeHow:"Show me how",connectSuccess:"Success! Your Google Calendar account is connected.",failedToFetch:"Unable to get your Google calendars",failedToFetchDescription:"Try disconnecting and reconnecting your Google account.",dontAdd:"Don't add newly booked appointments to my Google calendar",clientIdError:"Client ID is required for Google Calendar authorization",clientSecretError:"Client secret is required for Google Calendar authorization"},zoom:{wantToConnect:"Want to sync with Zoom?",connectSuccess:"Success! Your Zoom account is connected.",failedToFetch:"Unable to get your Zoom settings",failedToFetchDescription:"Try disconnecting and reconnecting your Zoom account.",clientIdError:"Client Id is required for Zoom authorization",apiSecretError:"Client Secret is required for Zoom authorization"},complete:{headline:"Congratulations! You're all set up.",shortcodeInstructions:"Display your booking form on any post or page with the shortcode, or use our Gutenberg block to add the booking form to a post or page.",subhead:"What would you like to do next?",booking:"Try booking an appointment",settings:"Go to settings",apptType:"Set up another appointment type"}},promo:{dismissNotice:"Dismiss this notice",proHeading:"Now available!",businessText:"Did you know we’re constantly working on new, powerful features for business customers? Sign up for our Business Edition today and receive our latest features as they’re released:",businessTextBullets:{team:"Team and Employee Scheduling",resources:"Manage Resources and Equipment",locations:"Manage Multiple Locations",views:"Custom Booking Views"},businessTextCta:{upgrade:"Unlock Business Features",view:"View All Editions"},plusText:"Interested in getting even more out of SSA? Consider upgrading to our Plus Edition and unlock awesome features like:",plusTextBullets:{google:"Google Calendar Sync",customFields:"Custom Fields",mailchimp:"Mailchimp Integration",capacity:"Multiple Bookings in the Same Time Slot",classes:"Book Classes and Group Events"},plusTextCta:{upgrade:"Unlock Plus features",view:"View All Editions"},proText:"Woah—looks like you’re really getting the hang of this whole scheduling thing. Just a suggestion, but you might be a great fit for our Pro Edition and its supercharged features:",proTextBullets:{payments:"Accept Payments via PayPal and Stripe",reminders:"Email and SMS Reminders",tracking:"Conversion and Goal Tracking",webhooks:"Unlimited Webhooks",zoom:"Live Customer Support via Zoom"},proTextCta:{upgrade:"Unlock Pro Features",view:"View All Editions"},smsUpgrade:{title:"Send Email and SMS reminders with Simply Schedule Appointments Pro",text:"Upgrade to Simply Schedule Appointments Pro to send email or SMS appointment confirmations and reminders before your appointments. Send automated followup messages after your appointments. SMS services use Twilio.",cta:"Upgrade now",radioHint:"Available in Pro"},zoomUpgrade:{title:"Schedule Zoom meetings with Simply Schedule Appointments",text:"Get even more out of SSA! Upgrade to the Plus Edition to unlock Zoom appointment scheduling and other awesome features like:"},zoomAnnounce:{title:"Available now! Schedule Zoom meetings",text:"Now you can use Simply Schedule Appointments to book Zoom calls with your customers. Learn how to get set up to use this new feature.",cta:"Learn how to schedule Zoom calls"},availablePlus:"Available in Plus",availablePro:"Available in Pro",availableBusiness:"Available in Business",capacityText:"Upgrade to allow multiple customers to book appointments at the same time! Also: sync appointments with your Google Calendar, add customers to your MailChimp list, and create booking forms for your customers.",webMeetingsText:"Upgrade to set dynamic web meeting URLs when customers book appointments. Also: sync appointments with your Google Calendar, add customers to your MailChimp list, and create booking forms for your customers."},settings:{enable:"Enable",disabledWarning:"This feature isn't enabled. Would you like to enable it now?",loadingAppointments:"Getting your appointments",appointmentsTitle:"Appointments",loadingApptTypes:"Getting your appointment types",appointmentTypesTitle:"Appointment Types",appointmentTypesDeleted:"Deleted Appointment Types",appointmentTypeAll:"All",settingsTitle:"Settings",comingSoon:"Coming Soon",beta:"Beta",openNavigation:"Open Navigation",returnToSettings:"Return to Settings",featureNotEnabled:"Feature not enabled",featureNotEnabledDescription:"This feature is not currently enabled. Please enable this feature to view the settings.",advanced_scheduling:{title:"Advanced Scheduling Options",label:"Enable Advanced Scheduling Options for Appointment Types",help:"Handle more complex scheduling with extra options.",help_link:"Learn more about these options.",editTypes:"Edit Appointment Types",booking_window_error:"The booking end date must be after the booking start date",availability_window_error:"The availability end date must be after the availability start date",saved:"Settings saved."},blackout:{title:"Blackout Dates",description:"Blackout dates are dates blocked off your calendar entirely for all appointment types. Perfect for vacation days, travel days, or other days when you're not available for appointments.",emptyLabel:"No blackout dates selected yet",emptyDesc:"Use the calendar to select blackout days",loading:"Loading team dates",selected:"Selected Dates",saved:"Updated blackout dates saved",saving:"Saving blackout dates",nextMonth:"Go to next month",previousMonth:"Go to previous month",selectYear:"Select a year",selectTarget:"Select who you are setting blackout dates for",view:{global:"Business-wide",self:"Myself"}},translations:{title:"Translations",description:"Download and install language packs from translate.wordpress.org, even if they are incomplete.",selectPack:"Select a translation pack",fetchInstall:"Download and Install",installedTranslations:"Installed translations",improveTranslation:"Improve this translation",languagePack:"Language pack",lastUpdated:"Last updated"},general:{title:"General Settings",timezone:"Timezone",timezoneWarning:"Your WordPress setting doesn't appear to match your current location.",genericTimezoneWarning:"You have an offset selected instead of a timezone. We recommend changing the setting to use a timezone appropriate for your country and region.",dateFormat:"Date Format",timeFormat:"Time Format",contact:"Appointment Contact",contact_helper:"Who are visitors booking their appointment with? (this is probably your name)",contact_error:"Appointment Contact name is required",business:"Business Name",business_error:"Business name is required",email:"Default Admin Email",email_helper:"SSA will send an email to this email when a visitor books an appointment.",email_error:"Appointment email address is required",phone:"Admin phone number",phone_error:"Please enter a valid phone number",phone_help:"Number where SMS reminders will be sent",weekStartsOn:"Week Starts On",bookAppointment:"Book an Appointment",confirmTitle:"Are you sure?",confirmContent:"Your settings won't be saved if you leave the page.",countryCode:{defaultValue:"Auto-detect",label:"Default country for telephone number fields"}},developerScreen:"Developer",developer:{title:"Developer Settings",booking_api_embed:{label:"Use the API to embed the booking form",help:"Try enabling this option if you're having issues with the booking form displaying correctly."},capacity_availability:{label:"Use the new availability algorithm",help:"Try the new scheduling calculator. May perform faster when booking."},disable_availability_caching:{label:"Disable availability caching",help:"This will slow down your site, so only disable if you are having trouble and are instructed to do so by support."},enqueue_everywhere:{label:"Enqueue scripts everywhere",help:"Load scripts on every page. Can be helpful if there are issues with loading the booking form via ajax"},beta_updates:{title:"Beta features",label:"Get beta (pre-release) versions of SSA",help:"Warning: Beta releases can be unstable. Please only enable this if instructed by support."},beta_calendar_events:{label:"Google Calendar Events Customization (Beta)",help:"Customize the content of events added to Google Calendar"},beta_booking_app:{label:"Booking App V2 (Beta)",help:"Set the Booking App V2 as the default booking app."},separate_appointment_type_availability:{label:"Give appointment types independent availability",help:"Enable each appointment type to have its own availability. Can book appointments of different types at the same time.",help_link:"Learn more about independent availability."}},jobs:{title:"Developer Jobs",jobs:{purge_appointments:{title:"Purge Appointments",description:"If your booking app is slow, purging past and canceled appointments can help improve performance.",action:"Purge now",settings:{past_appointments:"Purge past Appointments",abandoned_appointments:"Purge abandoned Appointments"},modal:{title:"Are you sure?",text:"This process will remove appointments from the database and you won’t be able to recover them. A .csv file containing all deleted appointments will be generated at the end of this process.",close:"Close",confirm:"Confirm",loading:"Purging appointments...",success:"Appointments successfully removed from the database.",error:"Something went wrong while running this job:",download:"Download .csv file"}}}},import_export:{title:"Import / Export",tabs:{export:"Export",import:"Import"},options:{settings:{label:"Export Settings",description:"Export all SSA settings, including extensions."},appointment_types:{label:"Export All Appointment Types",description:"Export your appointment types. Requires settings export."},appointments:{label:"Export All Appointments",description:"Export all of your existing appointments. Requires settings and appointment types export."},anonymize:{label:"Anonymize appointment data",description:"Anonymize names, emails, and all other customer information for those who have booked appointments. Helpful for sharing debugging data with support."},future_appointments_only:{label:"Only export upcoming appointments",description:"Include only upcoming appointments, excluding all past appointments. Helpful for busy sites with lots of appointments."}},generate_button:"Generate Code",generate_button_loading:"Generating...",copy:"Copy to clipboard",copied:"Export code copied to your clipboard.",send_to_support:"Send to Support",send_to_support_message:"SSA export code attached",send_to_support_success:"SSA export code sent to Support",import_button:"Import",import_button_loading:"Importing...",import_headline:"Import from another SSA install",import_copy:"Paste below the code you copied on another SSA install to import your data for things like plugin settings, appointment types, and scheduled appointments.",import_invalid_json_notice:"Invalid import code. Check if you have any issues on the SSA install you're trying to import from.",import_error_status_notice:"Oops! Something went wrong while importing your data. The server responded with the following errors:",import_success_redirect:"Click here if the page is not automatically refreshed.",restore_backup:"Restore previous backup"},google_calendar:{title:"Google",connect:"Connect Google Account",disconnect:"Disconnect",disconnecting:"Disconnecting your Google Account",account:"Connected account",enterApi:"Enter your Google API information below.",goButton:"Go Now",clientId:"Client ID",saveAuthorize:"Save and Authorize",clientSecret:"Client Secret",loadingCalendars:"Getting your calendars",calendarSync:"Calendar Sync",appointmentTypesEdit:"Edit Appointment Types",authSuccess:"Success! Your Google Calendar account is connected.",authNext:"Next, edit your appointment types to check your Google Calendar for appointment conflicts or to add newly booked appointments to your Google Calendar",webMeetingsHeadline:"Google Meet Web Meetings",webMeetingsToggleLabel:"Enable adding Google Meet links to my calendar events",deleteEventsHeadline:"Delete Canceled / Rescheduled Events",deleteEventsToggleLabel:"Delete Google Calendar events when appointments are canceled or rescheduled",refreshIntervalHeadline:"Refresh Google Calendars",refreshIntervalDesc:"How often should we check Google Calendar for new events?"},calendar_events:{title:"Customize your calendar event",description:"Personalize how your event content will look like when an event is created.",switch_label:"Customize event content",save:"Save Calendar Events Settings",success:"Calendar Events Settings saved.",sample_appointment_types:"Used on appointment types like",and:"and",and_more:"and more",types:{customer:{title:"Customer Confirmation Screen Event",helper:'What your customer will see after clicking "Add to my calendar”.',description:"Manually added to customer's calendar through the booking confirmation screen."},individual_admin:{title:"Admin Event",helper:"What you will see on the synced calendar.",helper_staff:"What you and your team members will see on the synced calendar.",description:"Automatically sent to the synced calendar in the Appointment Type’s Google settings tab.",description_staff:"Automatically sent to the synced calendar (and team members) in the Appointment Type’s Google settings tab."},individual_shared:{title:"Shared Event",helper:"What you and your customer will see if they are invited to the event.",description:"Google event added to the synced calendar in the Appointment Type’s Google settings tab. The event automatically invites the customer.",description_staff:"Google event added to the synced calendar in the Appointment Type’s Google settings tab. The event automatically invites the customer and team members assigned to the booking (if any)."},group_shared:{title:"Shared Group Event",helper:"What you and all attendees will see on the calendar.",description:"Google Invite sent to the synced calendar in the Appointment Type’s Google settings tab, the Team members assigned to the booking (if any), and all of the customers in the group booking."},group_admin:{title:"Admin Group Event",helper:"What you will see on the calendar for group events.",helper_staff:"What you and your team members will see on the calendar for group events.",description:"Sent to the synced calendar selected in the Appointment Type’s Google settings tab and can be updated every time a customer books the Group appointment.",description_staff:"Sent to the synced calendar selected (and team members) in the Appointment Type’s Google settings tab and can be updated every time a customer books the Group appointment."}},errors:{required:"This field is required."}},license:{manage:"Manage License",key:"License Key",remove:"Remove",validate:"Validate",validating:"Validating..."},mailchimp:{title:"MailChimp",api_key:"API Key",apiKeyError:"Please enter a valid API key",api_key_helper_label:"Where do I find this?",saveAuthorize:"Save and authorize",lists:"MailChimp Lists",loadingLists:"Getting your lists",deauthorize:"Disconnecting your account"},payments:{title:"Payments",returnToPayments:"Return to Payments",basics:"Basic Settings",basicsMessage:"The required settings for this payment gateway",advanced:"Advanced Settings",advancedMessage:"Optional settings to fine-tune the way this payment gateway works",displayTitle:"Display title",displayTitleHelp:"This controls the title which your customer sees during checkout.",displayTitleError:"The display title is required",description:"Description",descriptionHelp:"This controls the description which your customer sees during checkout.",statementDescriptor:"Statement Descriptor",statementDescriptorError:"11 characters maximum. Alphanumeric, at least one letter, and no < > \\ ' or \"",statementDescriptorHelp:"This gets displayed on your customer's credit card statement (after first 10 characters of your company name)",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this payment gateway will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",defaultCurrency:"Default currency",paypal:{email:"PayPal email address",emailHelp:"Please enter your PayPal email address; this is needed in order to take payment.",emailError:"A valid email address is required.",enableSandbox:"Enable PayPal sandbox",sandboxHelp1:"PayPal sandbox can be used to test payments.",sandboxHelp2:"Sign up for a developer account.",identityToken:"PayPal identity token",identityTokenHelp:"Optionally enable Payment Data Transfer (Profile > Profile and Settings > My Selling Tools > Website Preferences) and then copy your identity token here. This will allow payments to be verified without the need for PayPal IPN.",noConnection:"PayPal is not connected to your PayPal account",sandboxMode:"PayPal is in sandbox mode.",ipn_url:"IPN Notification URL",ipnCopied:"Your PayPal IPN Notification URL has been copied to your clipboard",ipnHelpPrefix:"You must add this URL to your PayPal settings.",ipnHelp:"Get instructions.",sslWarning:"A valid SSL certficate is required to use PayPal payments"},stripe:{publishableKey:"Publishable key",publishableKeyError:"A publishable key is required",publishableKeyHelp:"Get your API keys from your Stripe account.",secretKey:"Secret key",secretKeyError:"A secret key is required",secretKeyHelp:"Get your API keys from your Stripe account.",webhook:"Stripe Webhook URL",webhookHelpPrefix:"You must add this URL to",webhookHelpTarget:"your Stripe account Webhook settings",webhookCopied:"The webhook has been copied to your clipboard",testMode:"Enable test mode",testModeHelp:"Place the payment gateway in test mode using test API keys.",testPublishableKey:"Test publishable key",testPublishableKeyHelp:"Get your API keys from your Stripe account.",testPublishableKeyError:"The test publishable key is required for test mode",testSecretKey:"Test secret key",testSecretKeyHelp:"Get your API keys from your Stripe account.",testSecretKeyError:"The secret key is required for test mode",noConnection:"Stripe is not connected to your Stripe account",testModeWarning:"Stripe is in test mode."}},notifications:{title:"Notifications",intro:"These notifications are sent for this appointment type:",empty:"There are no notifications.",empty_appointment_type:"There are no notifications sent for this appointment type",returnToNotifications:"Return to notifications",customer_phone:"Customer phone number",team_member_phone:"Team member phone number",actions:{addNew:"Add a new notification",edit:"Edit notification",editAll:"Edit notifications"},fields:{title:"Name",type:"Type",email:"Email",sms:"SMS",sentTo:"Send to",smsTo:"Send to",cc:"Cc",bcc:"Bcc",trigger:"Trigger",triggerLegend:"When to send this notification",when:"When",subject:"Subject",message:"Message"},filter:{filter:"Filter",legend:"Notification Filters",empty_label:"No matching notifications",empty_desc:"No notifications match your filter selections. Adjust the filters or reset them.",fields:{type:"Notification Type",appointment_type:"Appointment Type"},reset:"Reset Filters",selected:"selected"},messages:{sentToError:"Please enter a valid email address",smsToError:"Please select at least one recipient",triggerError:"You must select a trigger for a notification",appointmentTypesError:"Please select at least one appointment type",subjectError:"Subject is required",messageError:"Message is required",noAdminPhone:"No admin phone number is set",noCustomerEmail:"No appointment types have phone number fields"},tokenDetailsTitle:"Notification Template Details",tokenDetails:"Notification templates are created with Twig. The following tokens are available.",tokens:{admin_email:"The appointment admin email",instructions:"The optional customer instructions associated with the selected appointment type.","Appointment.AppointmentType.title":"The title of the selected appointment type","Appointment.customer_information_summary":"Summary of the customer information fields for the appointment type","Appointment.customer_information.Name":"The customer's name","Appointment.date_timezone":"The admin timezone set in general settings","Appointment.customer_timezone":"The timezone to display for the customer","Appointment.public_edit_url":"The link to edit, cancel, or reschedule the appointment","Appointment.start_date":"The start date and time of the appointment",location:"The appointment location",customer_name:"The customer's name",customer_email:"The customer's email address.",attendees_list:"The list of all attendee's names for the appointment.","Global.home_url":"The URL of the site where Simply Schedule Appointments is installed","Global.company_name":"The name of the site where Simply Schedule Appointments is installed","Global.timezone_string":"The timezone selected in the Simply Schedule Appointments settings.",booking_url:"The page URL where the appointment booking happened.",booking_title:"The page title where the appointment booking happened.",booking_post_id:"The page ID where the appointment booking happened.",refund_policy:"The refund policy of the selected appointment type","add_to_calendar_link.ics":"The link to add the appointment to your calendar via an .ics file.","add_to_calendar_link.gcal":"The link to add the appointment to your Google Calendar."},triggers:{appointment_booked:"Appointment Booked",appointment_customer_information_edited:"Appointment Edited",appointment_canceled:"Appointment Canceled",appointment_rescheduled:"Appointment Rescheduled",appointment_start_date:"Time of Appointment"},warnings:{cronWarning:"This notification might be delayed or not sent as expected.",cronLinkText:"More details"},when:{after:"After",before:"Before"},confirmDelete:"Delete this notification?",confirmDeleteCancel:"Keep",confirmDeleteOk:"Delete",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this notification will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",ccSent:"Cc/Bcc",preview:{title:"Live Preview",description:"This is a live preview of how your message will look when it's sent out.",gettingAppointments:"Getting appointments...",selectAppointment:"Select an appointment",selectAppointmentType:"Select an appointment type",formattingPreview:"Formatting your preview..."}},sms:{title:"SMS",basics:"Basic settings",basicsMessage:"The required settings for Twilio",twilioAccountSid:"Twilio Account SID",twilioAccountSidError:"A Twilio Account SID is required",twilioAccountSidHelp:"Get your Twilio Account SID from your Twilio account",twilioAuthToken:"Twilio Auth Token",twilioAuthTokenError:"A Twilio Auth Token is required",twilioAuthTokenHelp:"Get your Twilio Auth Token from your Twilio account",twilioSendFromPhone:"Sending Phone Number (from Twilio)",twilioSendFromPhoneError:"You need a Twilio phone number to send SMS messages",twilioSendFromPhoneHelp:"Get a Twilio phone number",advanced:"Advanced settings",advancedMessage:"Optional advanced settings for Twilio",testMode:"Test mode",testModeHelp:"Place Twilio in test mode to use test account SID and test auth token",testModeWarning:"Twilio is in test mode.",twilioTestAccountSid:"Twilio Test Account SID",twilioTestAccountSidError:"The test account SID is required for test mode",twilioTestAccountSidHelp:"Get your Twilio Test Account SID from your Twilio account",twilioTestAuthToken:"Twilio Test Auth Token",twilioTestAuthTokenError:"The test account auth token is required for test mode",twilioTestAuthTokenHelp:"Get your Twilio Test Account Auth Token from your Twilio account",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to the SMS settings will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",noConnection:"Twilio is enabled, but your account is not connected.",onlyPhoneFields:"Only appointment types with at least one phone number field are displayed.",noPhoneFields:"None of your appointment types have phone number fields",noPhoneFieldsTitle:"No phone numbers",noPhoneFieldsContent:"None of your appointments types is collecting a phone number from your customers. There is no way to send an SMS notification.",sendTest:"Send a test message",sendTestMessage:"Test your Twilio API settings and ensure messages are delivered",sendTestTo:"Send to",sendTestToError:"Please enter a valid phone number",sendTestToHelp:"The phone number to send a test message to",sendTestSuccess:"Test message sent!",sendTestFailure:"Unable to send test message. Please check your settings."},staff:{title:"Team",action:"Manage team",actions:{addNew:"Add new team member",create:"Create team member",saved:"Changes saved"},appointment:{with:"with"},appointmentType:{staffEnableHeading:"Does this appointment type require a team member?",staffEnableDesc:"Shoud each customer booking this appointment type be matched with a team member?",allLabel:"All:",allDesc:"All of the selected team members are needed for an appointment",anyLabel:"Any:",anyDesc:"Match each customer with any one of the selected team members",noneLabel:"None:",noneDesc:"No team members are needed for this appointment type",teamLabel:"Team members who accept appointments of this type",staffWarning:"No team members are set to take appointments of this type. Please either set required to 'None' or select at least one team member",noWebMeetingUrl:"No web meeting URL"},confirmDelete:"Delete this team member?",confirmDeleteOk:"Delete",confirmDeleteCancel:"Keep",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this team member will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",confirmImcompleteContent:"Please enter the required fields and save if you'd like to keep this team member. Otherwise, you can delete this team member.",confirmIncompleteCancel:"Keep editing",connectedUser:"WordPress User",connectedUserEdit:"Edit User Profile",editExisting:{publish:{title:"This team member already exists","content-html":"Would you like to edit their profile?","ok-text":"Edit team member","cancel-text":"No thanks"},delete:{title:"This team member already exists","content-html":"This team member has been deleted. Would you like to restore their profile?","ok-text":"Restore team member","cancel-text":"No thanks"},draft:{title:"This team member already exists","content-html":"This team member is marked inactive. Would you like to reactivate their profile?","ok-text":"Activate team member","cancel-text":"No thanks"}},editProfile:{contact:"Contact",permissions:"Permissions",availability:"Availability",web_meetings:"Web Meetings"},emailTaken:{title:"Email address not available","content-html":"This email address is already assigned to another team member"},emptyEditTitle:"Editing team member",emptyLabel:"No team members added yet",emptyInactiveLabel:"No inactive team members",emptyDescription:"Looks like you're on your own so far. Click the button to add a new team member.",emptyInactiveDescription:"Looks like there aren't any inactive team members",fields:{name:{label:"Name",error:"Name is required"},display_name:{label:"Display name",error:"Display name is required",help:"Name that will be displayed to customers booking appointments"},email:{label:"Email",error:"Valid email address is required",errorTaken:"This email address is already assigned to another team member or a WordPress user",help:"Enter an email address to get started"},phone:{label:"Phone"},blackout:{label:"Can this team member manage their own blackout dates?",message:"This team member has blacked out dates.",editText:"View and edit blackout dates"},gcalendar:{label:"Can this team member connect their own Google account?",message:"This person has connected their Google account."},appointment_types:{error:"This team member isn't connected to any appointment types and cannot take appointments",error_staff:"You aren't connected to any appointment types and cannot take appointments. Please contact site admin.",all:"All appointment types"},manages_working_hours:{label:"Can this team member manage their own working hours?"},working_hours:{label:"Working Hours",timezone_label:"Working hours are in timezone:",current_time_label:"Current time is:"},custom_working_hours:{legend:"Use custom working hours?",labelOff:"Use default working hours",labelOn:"Set custom working hours",helpOn:"Select custom working hours. Team will be available for appointments where team schedule overlaps with appointment type schedule",helpOff:"Use schedule set for each appointment type"}},google:{actions:{connect:"Connect Google account"},admin:{staff_connected:"This team member has connected their Google account.",staff_no_calendars:"This team member has NOT selected any calendars to check for conflicts.",staff_calendars:"This team member is checking calendars for conflicts:",staff_not_connected:"This team member has not connected their Google account.",calendars_connected:"Calendars Connected:"},check_settings:"There was a problem fetching your calendars. Please contact the site admin."},linkUser:{title:"Link to WordPress user?",htmlIntro:"This email address belongs to a WordPress user account:",htmlExplanation:"Do you want to connect this team member to this WordPress user? If connected, the team member will be able to log in and manage their own profile and appointments.",okText:"Connect to user",cancelText:"Cancel email address change"},loading:"Loading team",not_connected:{title:"Team member is not a WordPress user",desc:"Since this team member cannot log into WordPress, they can't be assigned permissions to edit or manage their own profile. You can add a user to WordPress with this email address to connect this team member to a WordPress user:",addNew:"Add new WordPress user"},notices:{noAppointmentTypes:"You don't have any appointment types set up yet.",noStaffAppointmentTypes:"None of your appointment types are set up to match customers to team members. Be sure to edit your appointment types to enable team.",someStaffAppointmentTypes:"Only appointment types that have team enabled are shown"},profile:"My profile",selectStaff:"Select staff to display",status:{inactive:"Team - inactive"},webMeetings:{headline:"Web Meetings",web_meetings_url:"Enter a custom URL for a web meeting, for example, your Zoom Personal Meeting URL."}},styles:{title:"Styles",accentColor:"Accent color",backgroundColor:"Background color",contrast:"Contrast mode",contrastHelper:"Enable contrast mode if you're using a dark background color",font:"Font family",padding:"Padding",reset:"Reset to default",confirmTitle:"Are you sure?",confirmContent:"Your settings will be lost and all styles will be reset to the default values.",requiredPadding:"Padding is required. Enter 0 for no padding.",cssUnits:"You may use any valid CSS measurement unit: %, em, px, vw, rem, etc.",googleFonts:"View the Google Fonts library",customCSS:"Custom CSS",cssComment:"Enter your custom CSS here"},tracking:{eventTracking:"Track custom events",pageTracking:"Track page views",reset:"Reset",title:"Tracking",instructions:"Check the boxes below to enable tracking of page views and/or events. For more information on how tracking works and what gets tracked see our documentation:",docLinkText:"Conversion Tracking"},webhooks:{title:"Webhooks",actions:{addNew:"Add a new webhook",edit:"Edit webhook"},intro:"The following webhooks are triggered for this appointment type:",empty:"There are no webhooks.",empty_appointment_type:"There are no webhooks triggered by this appointment type",fields:{title:"Name",token:"Token",token_help:"This token will be sent in the outgoing payload to help you verify the request came from Simply Schedule Appointments",token_error:"Token is required. Hit the refresh button to generate a random token.",token_copied:"Token copied to clipboard",triggers:"Select the triggers for this webhook:",trigger_single:"Trigger:",trigger_plural:"Triggers:",triggerNames:{appointment_booked:"Appointment Booked",appointment_edited:"Appointment Edited",appointment_canceled:"Appointment Canceled"},urls:"URLs",url_exists:"That URL has already been added for this webhook",url_invalid:"Please enter a valid URL"},errors:{requiredTriggers:"You must select at least one trigger for this webhook",requiredUrls:"You must enter at least one URL for this webhook",requiredAppointmentTypes:"You must select at least one appointment type"},details:{deliveryHeaders:"Delivery headers",deliveryDetails:"HTTP POST payloads that are delivered to your webhook's configured URL endpoint will contain several special headers:",deliveryDetailHeader:"Header",deliveryDetailDescription:"Description",deliveryDetailsAdditional:"",deliveryExample:"Example delivery"},confirmDelete:"Delete this webhook?",confirmDeleteCancel:"Keep",confirmDeleteOk:"Delete",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this webhook will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing"},webex:{title:"Webex",account:"Connected account",disconnect:"Disconnect",notConnected:"Your Webex account isn't connected yet.",saveAuthorize:"Authorize Webex",failedToFetch:"Unable to get your Webex settings",failedToFetchDescription:"Try disconnecting and reconnecting your Webex account.",verifying:"Verifying your Webex user"},zoom:{title:"Zoom",account:"Connected account",disconnect:"Disconnect",clientId:"Client ID",saveAuthorize:"Authorize Zoom",clientSecret:"Client Secret",authRedirect:"Zoom oAuth Redirect URL (click to copy)",redirectCopied:"Zoom oAuth Redirect URL copied to clipboard",userEmail:"User Email",userMeetingUrl:"Personal Meeting Url",notConnected:"Your Zoom account isn't connected yet."}},appointmentTypes:{title:"Name",titleError:"Appointment types must have names",empty:"There are no appointment types.",shortcodeCopied:"Shortcode copied to clipboard",bulkEditExplanation:"Changes will be applied to the following appointment types: ",duration:"Duration",durationType:"Duration Units",negativeDuration:"Duration should not be negative.",label:"Label",slug:"Slug",slugError:"Slug is required for appointment types",bookingLayout:"Booking view",bookingLayouts:{week:"Weekly",month:"Monthly"},visibility:"Visibility",visibilityOptions:{public:"Public",private:"Private"},capacity:{fields:{capacity:{label:"Capacity",label_staff:"Total capacity",help:"How many people can book at the same time?",help_staff:"Limit for the total number of appointments allowed at the same time",help_group:"How many people can attend a group event?",error_bounds:"Capacity must be at least 1 and no more than 100,000",error_mismatch:"Total capacity must be equal to or greater than capacity"},capacity_type:{label:"Group event or individual?",help:"Should multiple bookings at the same time be treated as a single group appointment or separate individual appointments?",help_staff:"Individual means 1 booking per team member per time. Group means multiple bookings per team member."},has_max_capacity:{label:"Is there an overall limit for this appointment type?",help:"For example, no more than 10 customers allowed in the business at a time"},staff_capacity:{label:"Capacity",help:"How many people per team member can attend a group event?"}},capacityTypeOptions:{individual:"Individual",group:"Group"}},instructions:"Instructions",instructions_description:"Optional brief instructions to your customer to explain appointment logistics",instructions_placeholder:'e.g. "I\'ll call you" or "We\'ll meet at your office"',availabilityType:"How would you like to define your availability for this appointment type?",availabilityStartTimes:"Specific start times",availabilityStartTimesHelp:"Define specific appointment start times that your customers can select when booking",availabilityBlocks:"Available blocks",availabilityBlocksHelp:"Define blocks of availability and your customers can select any available time inside those blocks",availabilityToggle:"Toggle all",availabilityIncrement:"Show appointment start times every:",timezoneStyle:"Appointment timezone",timezoneStyleHelp:"Is this appointment type associated with a specific timezone?",timezoneStyleLocalized:"Localized",timezoneStyleLocked:"Locked",timezoneStyleLocalizedHelp:"Your customers will see available appointment times in their own timezone. Recommended for phone calls and online meetings.",timezoneStyleLockedHelp:"Your customers will see available appointment times in a your timezone. Recommended for in-person meetings.",timezoneStyleYourTimezone:"Your timezone is:",buffer:"Appointment buffer",buffer_help:"The amount of time that should be left free before and after an appointment.",buffer_before:"How much time should be left free before an appointment of this type?",buffer_after:"How much time should be left free after an appointment of this type?",limitmax:"Limit the number of appointments of this type that can be booked in a day?",max_event_count:"Max number of appointments of this type to book per day",notice:"Notice required",notice_help:"How much notice you need when someone books an appointment",min_booking_notice:"Notice",min_booking_notice_help:"Minimum notice required when booking",advance:"Advance",advance_help:"How far into the future customers should be able to book this type of appointment",max_booking_notice:"Advance",max_booking_notice_help:"How far in advance customers can book an appointment",max_booking_notice_error:"Advance required must be 1 minute or more",min_max_error:"The Notice Required must be less than the Advance setting",booking_window:"Booking window",booking_window_help:"Define a specific date range for when customers will have access to book this type of appointment",booking_start_date:"Start",booking_end_date:"End",availability_window:"Availability window",availability_window_help:"Define a specific date range for when appointments are available to be booked",availability_start_date:"Start",availability_end_date:"End",max:"Per day limit",max_help:"Limit how many appointments of this type can be booked per day",display:"Display",required:"Require",confirmDelete:"Delete this appointment type?",confirmDeleteAppointments:"The following appointments of this type are booked:",confirmDeleteOk:"Delete",confirmDeleteCancel:"Keep",appointmentSync:"Add new appointments to this calendar",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",saved:"saved",actions:{addNew:"Add New",create:"Create a new appointment type",edit:"Edit",bulkEdit:"Bulk Edit",clone:"Clone",delete:"Delete","add-field":"Add Field",cancel:"Cancel",update:"Update",editSingle:"Edit selected appointment types individually",back:"Back to Appointment Types",reorder:"Reorder",saveOrder:"Save order"},customer_information:{Name:"Name",Email:"Email",Phone:"Phone",Address:"Address",City:"City",State:"State",Zip:"Zip Code",Notes:"Notes"},custom_fields:{types:{"single-text":"Single Line Text","multi-text":"Multi Line Text",checkboxes:"Checkboxes",radios:"Radios",phone:"Phone number"},labels:{label:"Label",required:"Required",type:"Type",icon:"Icon",values:"Values","one-per-line":"One value-per-line",instructions:"Instructions"},actions:{menu:"Open menu for this field"},errors:{label:"Label is already taken"}},mailchimp:{optin:"Subscribe to newsletter",optinTextLabel:"Text to display next to opt in checkbox",optinTextError:"Opt in text is required",listSelect:"Customers will have the option to subscribe to which MailChimp list?",noLists:"There are no lists associated with your MailChimp account.",noSelection:"None",noConnection:"Mailchimp account hasn't been connected",setup:"Connect Mailchimp"},google_calendar:{noAccessToken:"Google Calendar account hasn't been connected",setup:"Connect Google Calendar",checkSettings:"Check Settings",checkSettingsMessage:"There was a problem fetching your calendars. Please check your settings",sharedCalendarEvent:"Invite the customer to the event?",sharedCalendarEventDesc:"When creating the Google Calendar event, add the customer as an invitee"},web_meetings:{providers:{google:{name:"Google Meet",label:"Google Meet - Generate a unique meeting URL",googleNoCalendarHeading:"No Google Calendar selected",noCalendarSelectedMessage:'To generate a Google Meet URL, you must select a Google Calendar for the "Sync appointments with this calendar" setting in the Google Calendar settings for this appointment type',googleEditSettings:"Edit Google Calendar Settings"},webex:{name:"Webex",label:"Webex - generate a unique meeting URL",legend:"Webex Meeting Options",options:{private:"Private Meeting: Host required to admit each meeting attendee",open:"Open Meeting: anyone with the link can immediately join"}},zoom:{name:"Zoom",label:"Zoom - generate a unique meeting URL",legend:"Zoom Meeting Options",options:{private:"Private Meeting: Host required to admit each meeting attendee",open:"Open Meeting: anyone with the link can immediately join"}},custom:{name:"Custom",label:"Custom - Enter a custom meeting URL",urlLabel:"Custom web meeting link",error:"Please enter a valid URL that is 256 characters or less",legend:"Enter a custom URL for a web meeting, for example, your Zoom Personal Meeting URL",settingsHeading:"Custom URL Settings"},staff:{name:"Staff",label:"Use Team Member's web meeting URL",warning:"Not all team members assigned to this appointment type have a web meeting URL",urlLabel:"Team member web meeting link",error:"Please enter a valid URL that is 256 characters or less",legend:"If a team member doesn't have a web meeting URL, use this URL for any scheduled appointments",settingsHeading:"Default URL"},none:{name:"None",label:"Do not create a meeting URL"}}},payments:{price:"Price",priceError:"Price must be greater than 0",priceUSDError:"Price must be greater than 0.50",displayPrice:"Display price",currency:"Currency",currencyError:"You must specify a currency to take payments",noGateways:"You don't have any payment gateways set up.",setup:"Set up payments",paymentMethods:"Payment Methods",paymentMethodsError:"You must specify at least one method to accept payments",requiredPayment:"Is payment required to book an appointment?",required:"Required: Customer must submit a valid payment to reserve an appointment time",optional:"Optional: Customer may reserve an appointment time without payment but has the option to pay",none:"No payment required",refundPolicy:"Refund policy",refundPolicyHelp:"This will be shown to your customers when booking and included in their confirmation email message"},notifications:{admin:"Send Admin Notification Email to",customer:"Send Customer Notification Email"},scheduling:{before:"Before",after:"After"},zoom:{noAuthCode:"Zoom account hasn't been connected",setup:"Connect Zoom"},webex:{noAuthCode:"Webex account hasn't been connected",setup:"Connect Webex"}},appointments:{cancel:"Cancel this appointment",past:"Past Appointments",rescheduled:"Rescheduled",upcoming:"Upcoming Appointments",dateRange:"Date Range",viewOriginal:"Original date/time",viewRescheduled:"New date/time",loadMore:"Load more appointments",allLoaded:"All appointments loaded",pendingPayment:"Pending Appointments",pendingPaymentDescription:"Pending appointments are appointments that a customer started booking, but did not complete the booking process to confirm the appointment. Usually that means payment was required for the appointment, but was never completed.",emptyPast:"There are no past appointments",emptyAll:"There are no appointments that match",emptyUpcoming:"There are no upcoming appointments scheduled.",pastEmpty:"No appointments have passed yet.",cancelConfirm:"Cancel this appointment?",cancelConfirmOk:"Cancel appointment",cancelConfirmCancel:"Keep appointment",deleteConfirm:"Delete this appointment?",cancelDeleteCancel:"Keep appointment",cancelDeleteOk:"Delete appointment",cancelRescheduleLink:"Reschedule / Cancel Link",cancelRescheduleLinkOpen:"Open Reschedule / Cancel Link",deleteConfirmExplanation:"This cannot be undone. All information associated with this appointment will be permanently removed",deleteConfirmExplanationCancelable:"Your customer will not receive any notification that the appointment was deleted. If you would like your customer to receive a notification of a canceled appointment, please cancel the appointment before deleting it.",deletedType:"Deleted appointment type",deletingSingle:"Deleting appointment",loadingSingle:"Getting your appointment details",viewDetails:"View appointment details",appointmentDetails:"Appointment Details",viewAll:"View all appointments",status:"Status",created:"Created",author:"Booked by",customer:"Customer",lastMod:"Last modified",errorNotFound:"Appointment not found",errorNotFoundDescription:"We weren't able to find that appointment on the books.",errorLoading:"Unable to get appointment",errorLoadingDescription:"We weren't able to get that appointment. Try refreshing the page.",metaLoading:"Checking appointment information",metaFields:{formidable_entry_admin_url:"Formidable Form",gravity_entry_admin_url:"Gravity Form",viewEntry:"View entry",booking_url:"Booking page URL",booking_title:"Booking page title",booking_post_id:"Booking page ID"},paymentLoading:"Checking for payments",paymentReceived:"Payment received",paymentInformation:"Payment Information",payments:{statuses:{pending:"Pending",succeeded:"Succeeded",failed:"Failed"},modes:{test:"Test Mode"},expires:"Exp."},statuses:{booked:"Booked",pending_form:"Pending Form Submission",pending_payment:"Pending Payment",canceled:"Canceled",abandoned:"Abandoned"},filter:{filter:"Filter",filterClose:"Close filters",export:"Export",exportTip:"Export visible appointments",timeLabel:"Display upcoming or past appointments",typeLabel:"Appointment Type(s)",startDate:"Start Date",endDate:"End Date",selected:"selected",staffLabel:"Team member",statusLabel:"Appointment Status",reset:"Reset filters",title:"Appointment Filters"},group:{people:"people",appointmentDetails:"Group Appointment Details",viewDetails:"View attendee details",cancelConfirm:"Cancel this group appointment?",cancelConfirmBody:"The following attendees for this group will be canceled:",cancelConfirmCancel:"Keep All",cancelConfirmOk:"Cancel All",deleteConfirm:"Delete this group appointment",cancelDeleteCancel:"Keep All",cancelDeleteOk:"Delete All",deleteConfirmExplanation:"This cannot be undone. All information associated with this group appointment will be permanently removed.",deleteConfirmExplanationCancelable:"The appointment attendees will not receive any notification that the appointment was deleted. If you would like the attendees to receive a notification of a canceled appointment, please cancel the group appointment before deleting it.",deleteConfirmBody:"The following attendees for this group will be deleted:",deleting:"Deleting group appointment"},tooManyToDisplay:{headline:"Lots of appointments!",explanation:"Looks like you've got a lot of appointments in this date range! You can use the Export button to export them all to a CSV file. Or you can click the button below to display them all here. Note that displaying so many appointments take a few minutes.",action:"Show All"},webMeetings:{label:"Web Meeting:"}},help:{timezone:"The timezone where you are located.",dateFormat:"The format you want to use for displaying the dates of your appointments and availability.",timeFormat:"The format you want to use for displaying the times of your appointments and availability",weekStartsOn:"The day that should be considered the first day of the week.",apptEmail:"The email address where admin notifications about appointments will be sent.",apptContact:"The name, business, and email address for the main person administering appointments"},support:{availabilityDetective:{intro:"Not sure why your availability for different appointment types isn't what you expected? We'll help you figure out what's going on.",title:"Availability Detective (beta)",appointmentType:{label:"Which appointment type?"},getMore:"Get more information",summary:"About this appointment type",noAvailability:{noSlots:{label:"No availability",description:"This appointment type has no availability on this day of the week",action:"Edit Appointment Type"},tooShortSlots:{label:"Not available for duration",description:"The duration of the appointment type is longer than any available times for booking on this day of the week.",action:"Edit Appointment Type"}},info:{buffer_before:{title:"Buffer before",desc:"Time to leave free before an appointment"},buffer_after:{title:"Buffer after",desc:"Time to leave free after an appointment"},booking_window:{title:"Booking Window",desc:"When the booking form is available for booking appointments",no_value:"Open"},availability_window:{title:"Availability Window",desc:"When appointments can be booked",no_value:"Open"},min_booking_notice:{title:"Minimum booking notice",desc:"How much notice is required when booking an appointment",explanation:"No appointments can be booked before:"},max_booking_notice:{title:"Advance notice",desc:"How far into the future appointments can be booked",explanation:"No appointments can be booked after:"},date:{title:"What date should be available?"},time:{title:"What time should be available?"}},status:{checking:"Checking availability",available:"Available",not_available:"Not available"}},dotorg_communication:"WordPress.org communication",https_status:"HTTPS status",json_extension:"JSON extension",loadingSupport:"Loading your support details",moreDetails:"More Details",os:"Operating system",php_version:"PHP version",php_timezone:"PHP default timezone",ssa_license:"License Status",scheduled_events:"Scheduled events",screenResolution:"Screen resolution",siteUrl:"Site URL",sql_server:"SQL server",ssl_support:"SSL support",supportDetails:"These details can help our support team troubleshoot any issues you might be having.",supportTitle:"Support",utf8mb4_support:"Utf8mb4 support",webBrowser:"Web browser",webBrowserSize:"Web browser size",wordpress_version:"WordPress version",plugin_version:"Simply Schedule Appointments version",homeUrl:"Home URL",unknown:"Unknown",contact:"Contact Support Team",sendMessage:"Send Message",message:"Message to the support team",fromEmail:"Your email address",invalidEmail:"Invalid email",disclosure:"Messages sent to the support team through this form will include the debugging information visible on this page.",disclosureTime:"Messages sent to the support team through this form will include debugging information about this appointment type and general settings",includeSettings:"Include information about settings and appointment types",includeDescription:"Checking this box sends us extra helpful information about your settings and appointment types. It *does not* include any private information or any information about your customers or your appointments.",includePlugins:"Include list of active plugins",sendingMessage:"Sending your message",successTitle:"Success!",exportCopied:"Export code copied to your clipboard.",successMessage:"Your message was sent. We'll be in touch as soon as possible.",successMessageDetails:"Our support hours are 9am-5pm Monday through Friday, Pacific, USA. We reply to support messages within one business day. Please add support@ssaplugin.com to your address book to ensure you receive our messages. If you do not receive a reply within one business day, please check your spam folder.",messageFailedDescription:"Something stopped us from being able to send your message, but never fear. You can simply email us at support@ssaplugin.com for assistance. Include the debugging information on this page to help us help you as quickly as possible.",messageFailedDetails:"Error details:",showDebugging:"Show debugging info",debugger:"Debugger",debugLogs:"Debug Logs",loadDebugLog:"Load debug log",debugLogsWP:"WordPress Debug Logs",enableDebugLog:"Enable Debug Log",enableDebugLogWP:"Enable WordPress Debug Log",debugLogOptions:"Debug Log Options",debugLogRefresh:"Refresh Debug Log",debugLogDownload:"Download Log File",debugLogClear:"Clear Log File",debugLogEmpty:"Your debug log file is empty",debugLogEmptyDetails:"We will display here the debug log contents as soon as the system starts to log information on the file.",debugLogLoading:"Loading debug log contents...",debugLogLoadingWP:"Loading WordPress debug log contents...",supportRequestIntro:"Need more help?",supportRequestCta:"Ask our support team",guides:{title:"Help Guides",title_contact:"These guides might help you",more:"Show More",less:"Show Less",notFound:"No help guides found.",loading:"Loading help guides..."}},tokenText:{errors:{required:"This field is required",validationError:"This template has invalid syntax. Check your Twig template variables for errors."}}},fy={defineTranslations(t,e){let s=Ae().isEmpty(e)?_y:e;t.translations=s}};const yy={translations:{}};var vy={namespaced:!0,state:yy,getters:gy,actions:hy,mutations:fy},by={editableAppointmentTypeIds:t=>{if(!t.appointmentTypes)return[];let e=t.appointmentTypes.filter((t=>"publish"===t.status));return e.map((t=>t.id))},editableAppointmentTypes:t=>t.appointmentTypes?t.appointmentTypes.filter((t=>"publish"===t.status)):[],deletedAppointmentTypes:t=>t.appointmentTypes?t.appointmentTypes.filter((t=>"delete"===t.status)):[],getAppointmentTypeById:t=>e=>{if(!t.appointmentTypes.length)return;let s=t.appointmentTypes.find((t=>t.id===e));return s},allCalendarEventTypes:(t,e,s)=>{const i=["event_type_customer","event_type_group_admin","event_type_group_shared","event_type_individual_admin","event_type_individual_shared"];let n={};return i.forEach((t=>{Object.prototype.hasOwnProperty.call(s.settings.calendar_events,t)&&(n[t.replace("event_type_","")]=s.settings.calendar_events[t])})),n},appointmentTypesGroupedByEventType:t=>{if(!t.appointmentTypes)return[];let e={customer:t.appointmentTypes.map((t=>t.id))};return t.appointmentTypes.filter((t=>"publish"===t.status)).forEach((t=>{""!==t.google_calendar_booking&&("0"===t.shared_calendar_event?"group"===t.capacity_type?Object.prototype.hasOwnProperty.call(e,"group_admin")?e.group_admin.push(t.id):e["group_admin"]=[t.id]:"individual"===t.capacity_type&&(Object.prototype.hasOwnProperty.call(e,"individual_admin")?e.individual_admin.push(t.id):e["individual_admin"]=[t.id]):"group"===t.capacity_type?Object.prototype.hasOwnProperty.call(e,"group_shared")?e.group_shared.push(t.id):e["group_shared"]=[t.id]:"individual"===t.capacity_type&&(Object.prototype.hasOwnProperty.call(e,"individual_shared")?e.individual_shared.push(t.id):e["individual_shared"]=[t.id]))})),e},allowedEventTypes:(t,e)=>Object.keys(e.appointmentTypesGroupedByEventType).length?Object.keys(e.appointmentTypesGroupedByEventType):[],groupAppointmentTypeIds:t=>{if(!t.appointmentTypes)return[];let e=t.appointmentTypes.filter((t=>t.capacity>1&&"group"===t.capacity_type));return e.map((t=>t.id))},updatedBulkAppointmentTypes:t=>Ae().isEmpty(t.currentAppointmentType)||Ae().isEmpty(t.bulkEditing)?[]:t.bulkEditing.map((e=>Object.assign({id:e},t.currentAppointmentType)))},ky={fetchAppointmentType({commit:t,state:e,rootState:s,dispatch:i},n){if(n)return new Promise(((a,o)=>{ln().ajax({url:s.api.root+"/appointment_types/"+n,method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((s=>{i("updateCurrentAppointmentType",s.data),Object.prototype.hasOwnProperty.call(e.currentAppointmentType,"id")&&e.currentAppointmentType.id&&t("setAppointmentType",e.currentAppointmentType),a()})).fail(((t,e,s)=>{o(s)}))}))},fetchAppointmentTypes({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/appointment_types",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointmentTypes",e.data),s()})).fail(((t,e,s)=>{i(s)}))}))},updateAppointmentTypes({commit:t,state:e,rootState:s,getters:i,dispatch:n},a){return new Promise(((o,r)=>{let l=e.appointmentTypes;a&&(t("prepBulkEditingForSave",null),l=i.updatedBulkAppointmentTypes),ln().ajax({url:s.api.root+"/appointment_types/bulk",method:"POST",dataType:"json",data:JSON.stringify({items:l}),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((e=>{t("setAppointmentTypes",e.data),n("callAsync",null,{root:!0}),o()})).fail(((t,e,s)=>{r(s)}))}))},updateAppointmentType({state:t,rootState:e,commit:s,dispatch:i}){var n=e.api.root+"/appointment_types",a=t.currentAppointmentType.id?n+"/"+t.currentAppointmentType.id:n;return new Promise(((n,o)=>{ln().ajax({url:a,method:"POST",dataType:"json",data:JSON.stringify(t.currentAppointmentType),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{i("updateCurrentAppointmentType",{key:"id",value:e.data.id}),i("updateCurrentAppointmentType",{key:"author_id",value:e.data.author_id}),i("updateCurrentAppointmentType",{key:"slug",value:e.data.slug}),i("updateCurrentAppointmentType",{key:"status",value:e.data.status}),s("setAppointmentType",t.currentAppointmentType),s("setCurrentAppointmentTypeIsDirty",!1),i("callAsync",null,{root:!0}),n()})).fail(((t,e,s)=>{o(s)}))}))},deleteAppointmentType({commit:t,rootState:e},s){var i=e.api.root+"/appointment_types",n=i+"/"+s+"/delete";return new Promise(((i,a)=>{ln().ajax({url:n,method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((()=>{t("removeAppointmentType",s),i()})).fail(((t,e,s)=>{a(s)}))}))},recoverAppointmentType({commit:t,rootState:e},s){var i=e.api.root+"/appointment_types",n=i+"/"+s+"/recover";return new Promise(((i,a)=>{ln().ajax({url:n,method:"POST",dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setAppointmentTypeProperties",{id:s,status:e.data.status}),i()})).fail(((t,e,s)=>{a(s)}))}))},createNewAppointmentType({commit:t,getters:e,rootState:s}){t("defineNewAppointmentType"),t("defineAppointmentTypeSortOrder",e.editableAppointmentTypes.length+1),t("defineAppointmentTypeCustomerInformation",s.settings),t("defineAppointmentTypeNotifications")},updateCloneAppointmentType({commit:t,dispatch:e,getters:s},i){return new Promise(((n,a)=>{e("fetchAppointmentType",i).then((()=>{t("cloneAppointmentType",i),t("defineAppointmentTypeSortOrder",s.editableAppointmentTypes.length+1),n()})).catch((t=>{a(t)}))}))},updateCurrentAppointmentType({state:t,commit:e},s){t.currentAppointmentType||e("setCurrentAppointmentType",{});const i=Ae().cloneDeep(t.currentAppointmentType);Object.prototype.hasOwnProperty.call(s,"key")?(e("updateCurrentAppointmentType",Ae().cloneDeep(s)),Ae().isEqual(i,t.currentAppointmentType)||e("setCurrentAppointmentTypeIsDirty",!0)):e("setCurrentAppointmentType",Ae().cloneDeep(s))},emptyCurrentAppointmentType({commit:t}){t("setCurrentAppointmentType"),t("setCurrentAppointmentTypeIsDirty",!1)}},Cy={addAppointmentType(t){t.appointmentTypes.push(t.currentAppointmentType)},setAppointmentType(t,e){if(t.appointmentTypes){var s=t.appointmentTypes.findIndex((t=>t.id===e.id));s>=0?t.appointmentTypes.splice(s,1,Ae().cloneDeep(e)):t.appointmentTypes.push(Ae().cloneDeep(e))}},setAppointmentTypeProperties(t,e){if(!t.appointmentTypes)return;let s=t.appointmentTypes.findIndex((t=>t.id===e.id));if(s>=0){let i=Ae().cloneDeep(t.appointmentTypes[s]);i=Object.assign(i,e),t.appointmentTypes.splice(s,1,i)}},setAppointmentTypesOrder(t,e){let s=e.map((t=>t.id));e.forEach(((t,e)=>{t.display_order=e}));let i=Ae().cloneDeep(t.appointmentTypes);i=i.filter((t=>s.indexOf(t.id)<0)),t.appointmentTypes=[...i,...e]},setAppointmentTypes(t,e){t.appointmentTypes=e},removeAppointmentType(t,e){var s=t.appointmentTypes.findIndex((t=>t.id===e));let i=Ae().cloneDeep(t.appointmentTypes[s]);i.status="delete",t.appointmentTypes.splice(s,1,i)},cloneAppointmentType(t,e){var s=t.appointmentTypes.find((t=>t.id===e)),i=Ae().cloneDeep(s);i=Object.assign(i,{id:null,date_created:null,date_modified:null,author_id:null}),delete i.slug,t.currentAppointmentType=i},setSelectedAppointmentTypeStatus(t,e){t.selectedApointmentTypeStatus=e},updateBulkEditing(t,e){t.bulkEditing=e},prepBulkEditingForSave(t){let e=Ae().cloneDeep(t.currentAppointmentType);for(let s in e)(Ae().isObject(e[s])&&Ae().isEmpty(e[s])||!e[s]&&0!==e[s])&&delete e[s];t.currentAppointmentType=e},getAppointmentType(t,e){t.currentAppointmentType=e},defineAppointmentTypeCustomerInformation(t,e){e.installed.license?i["default"].set(t.currentAppointmentType,"custom_customer_information",l):i["default"].set(t.currentAppointmentType,"customer_information",r)},defineAppointmentTypeSortOrder(t,e){i["default"].set(t.currentAppointmentType,"display_order",e)},defineAppointmentTypeNotifications(t){i["default"].set(t.currentAppointmentType,"notifications",c)},defineNewAppointmentType(t){t.currentAppointmentType=Ae().cloneDeep(b)},defineNewEmptyAppointmentType(t){t.currentAppointmentType=Ae().cloneDeep(C)},setCurrentAppointmentType(t,e){t.currentAppointmentType=e},updateCurrentAppointmentType(t,e){Object.prototype.hasOwnProperty.call(e,"key")?Ae().isArray(e.key)?i["default"].set(t.currentAppointmentType,e.key.slice(0),e.value):i["default"].set(t.currentAppointmentType,e.key,e.value):t.currentAppointmentType=Ae().cloneDeep(e)},setCurrentAppointmentTypeIsDirty(t,e){t.currentAppointmentTypeIsDirty=e}};const Sy={appointmentTypes:void 0,selectedApointmentTypeStatus:"publish",bulkEditing:[],currentAppointmentType:void 0,currentAppointmentTypeIsDirty:!1};var wy={namespaced:!0,state:Sy,getters:by,actions:ky,mutations:Cy},Ty={webhooksModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.webhooks,i.upgrade=!s.settings.installed.webhooks,s.settings.webhooks?i.enabled=s.settings.webhooks.enabled&&s.settings.installed.webhooks:i.enabled=!1,i}},xy={updateWebhooksSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/webhooks",method:"POST",dataType:"json",data:JSON.stringify(e.settings.webhooks),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateWebhooksSettings",{value:i.data,settings:e.settings}),s()})).fail((t=>{i(t)}))}))}},Ay={updateWebhooksEnabled(t,{value:e,settings:s}){i["default"].set(s.webhooks,"enabled",e)},updateWebhooksSettings(t,{value:e,settings:s}){i["default"].set(s,"webhooks",e)},addSettingsWebhook(t,{webhook:e,settings:s}){s.webhooks.webhooks.splice(s.webhooks.webhooks.length,0,e)},cloneSettingsWebhook(t,{index:e,settings:s}){let i=s.webhooks.webhooks[e],n=Ae().cloneDeep(i);n.token="",s.webhooks.webhooks.splice(s.webhooks.webhooks.length,0,n)},deleteSettingsWebhook(t,{index:e,settings:s}){s.webhooks.webhooks.splice(e,1)},updateSingleWebhook(t,{index:e,webhook:s,settings:i}){i.webhooks.webhooks.splice(e,1,s)}};const Py={};var My={namespaced:!0,state:Py,getters:Ty,actions:xy,mutations:Ay},Ey=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Baloo","Baloo Bhai","Baloo Bhaijaan","Baloo Bhaina","Baloo Chettan","Baloo Da","Baloo Paaji","Baloo Tamma","Baloo Tammudu","Baloo Thambi","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Battambang","Baumans","Bayon","Belgrano","Bellefair","Belleza","BenchNine","Bentham","Berkshire Swash","Beth Ellen","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Gothic A1","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Grenze","Griffy","Gruppo","Gudea","Gugi","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Josefin Sans","Josefin Slab","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kumar One","Kumar One Outline","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Muli","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Neucha","Neuton","New Rocker","News Cycle","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Red Hat Display","Red Hat Text","Redressed","Reem Kufi","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Song Myung","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Mono","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trirong","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],Dy={googleFontList(){return Ey}},$y={updateStyles({rootState:t}){return new Promise(((e,s)=>{ln().ajax({url:t.api.root+"/settings/styles",method:"POST",dataType:"json",data:JSON.stringify(t.settings.styles),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{e()})).fail((t=>{s(t)}))}))}},Oy={mergeDefaultStyles(t,e){let s=Ae().cloneDeep(e.styles);Object.keys(s).forEach((t=>""===s[t]&&delete s[t]));let n=Object.assign({},S,s);i["default"].set(e,"styles",n)},resetStyles(t,e){i["default"].set(e,"styles",Ae().cloneDeep(S))},updateAccentColor(t,{value:e,settings:s}){i["default"].set(s.styles,"accent_color",e)},updateBackgroundColor(t,{value:e,settings:s}){i["default"].set(s.styles,"background",e)},updateContrast(t,{value:e,settings:s}){i["default"].set(s.styles,"contrast",e)},updateFont(t,{value:e,settings:s}){i["default"].set(s.styles,"font",e)},updatePadding(t,{value:e,settings:s}){i["default"].set(s.styles,"padding",e)},setCss(t,{value:e,settings:s}){i["default"].set(s.styles,"css",e)}};const Iy={};var zy={namespaced:!0,state:Iy,getters:Dy,actions:$y,mutations:Oy},jy={},Ly={fetchDismissedNotices({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/notices",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("defineDismissedNotices",e.data.dismissed_notices),s()})).fail(((t,e,s)=>{i({xhr:t,error:s})}))}))},updateDismissedNotices({rootState:t},e){return new Promise(((s,i)=>{ln().ajax({url:t.api.root+"/notices/"+e,method:"POST",dataType:"json",data:JSON.stringify({global:!0}),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{s()})).fail((t=>{i(t)}))}))}},Ny={defineDismissedNotices(t,e){t.dismissedNotices=e},updateNotices(t,e){i["default"].set(t.dismissedNotices,e.key,e.settings)}};const Uy={dismissedNotices:void 0};var Gy={namespaced:!0,state:Uy,getters:jy,actions:Ly,mutations:Ny},Fy={},Wy={updateDeveloperSettings({rootState:t}){return new Promise(((e,s)=>{ln().ajax({url:t.api.root+"/settings/developer",method:"POST",dataType:"json",data:JSON.stringify(t.settings.developer),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{e()})).fail((t=>{s(t)}))}))}},By={setDisableAvailabilityCaching(t,{settings:e,value:s}){i["default"].set(e.developer,"disable_availability_caching",s)},setEnqueueEverywhere(t,{settings:e,value:s}){i["default"].set(e.developer,"enqueue_everywhere",s)},setBetaBookingApp(t,{settings:e,value:s}){i["default"].set(e.developer,"beta_booking_app",s)},setBetaCalendarEvents(t,{settings:e,value:s}){i["default"].set(e.developer,"beta_calendar_events",s)},setBetaUpdates(t,{settings:e,value:s}){i["default"].set(e.developer,"beta_updates",s)}};const Ry={};var qy={namespaced:!0,state:Ry,getters:Fy,actions:Wy,mutations:By},Hy={},Zy={fetchGlobalSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/global",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"global",settings:e.data},{root:!0}),s()})).fail(((t,e,s)=>{i(t,s)}))}))},updateGlobalSettings({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/settings/global",method:"POST",dataType:"json",data:JSON.stringify(e.settings.global),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{s("callAsync",null,{root:!0}),t("updateSettings",{key:"global",settings:e.data},{root:!0}),i()})).fail((t=>{n(t)}))}))}},Ky={setAdminPhone(t,{settings:e,value:s}){i["default"].set(e.global,"admin_phone",s)},setCountryCode(t,{settings:e,code:s}){i["default"].set(e.global,"country_code",s)},updateStartOfWeek(t,{settings:e,value:s}){i["default"].set(e.global,"start_of_week",s)},updateTimezoneString(t,{settings:e,value:s}){i["default"].set(e.global,"timezone_string",s)},updateDateFormat(t,{settings:e,value:s}){i["default"].set(e.global,"date_format",s)},updateTimeFormat(t,{settings:e,value:s}){i["default"].set(e.global,"time_format",s)},updateAdminEmail(t,{settings:e,value:s}){i["default"].set(e.global,"admin_email",s)},updateCompanyName(t,{settings:e,value:s}){i["default"].set(e.global,"company_name",s)},updateStaffName(t,{settings:e,value:s}){i["default"].set(e.global,"staff_name",s)},updateWizardCompleted(t,{settings:e,value:s}){i["default"].set(e.global,"wizard_completed",s)}};const Vy={};var Yy={namespaced:!0,state:Vy,getters:Hy,actions:Zy,mutations:Ky},Jy={},Xy={fetchBlackoutSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/blackout_dates",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateSettings",{key:"blackout_dates",settings:e.data},{root:!0}),s()})).fail(((t,e,s)=>{i(t,s)}))}))},updateBlackoutSettings({rootState:t,dispatch:e}){return new Promise(((s,i)=>{ln().ajax({url:t.api.root+"/settings/blackout_dates",method:"POST",dataType:"json",data:JSON.stringify(t.settings.blackout_dates),contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((()=>{e("callAsync",null,{root:!0}),s()})).fail((t=>{i(t)}))}))}},Qy={updateBlackoutDates(t,{settings:e,value:s}){i["default"].set(e.blackout_dates,"dates",s)},updateBlackoutEnabled(t,{settings:e,value:s}){i["default"].set(e.blackout_dates,"enabled",s)}};const tv={};var ev={namespaced:!0,state:tv,getters:Jy,actions:Xy,mutations:Qy},sv={googleCalendarAccountName:t=>{let e=t.googleCalendars.find((t=>t.primary));return e?e.title:""},googleCalendarModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.google_calendar,i.upgrade=!s.settings.installed.google_calendar,s.settings.google_calendar?i.enabled=s.settings.google_calendar.enabled&&s.settings.installed.google_calendar:i.enabled=!1,i},googleCalendarAccountEmail:t=>{let e=t.googleCalendars.find((t=>t.primary));return e},writeableGoogleCalendars:t=>t.googleCalendars.filter((t=>"owner"===t.role||"writer"===t.role))},iv={googleCalendarAuth({commit:t,rootState:e,dispatch:s},i){return Object.prototype.hasOwnProperty.call(i,"staff_id")||(i.staff_id=0),new Promise(((n,a)=>{ln().ajax({url:e.api.root+"/google_calendars/authorize_url",method:"GET",dataType:"json",cache:!1,data:i,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateGoogleAuthUrl",e.data.authorize_url),s("callAsync",null,{root:!0}),n()})).fail((t=>{a(t)}))}))},googleCalendarDeauth({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/google_calendars/disconnect",method:"POST",dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((n=>{t("setGoogleCalendarSettings",{settings:e.settings,value:n.data}),s("callAsync",null,{root:!0}),i()})).fail((t=>{n(t)}))}))},updateGoogleCalendarSettings({commit:t,rootState:e,dispatch:s}){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/settings/google_calendar",method:"POST",dataType:"json",data:JSON.stringify(e.settings.google_calendar),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((n=>{t("setGoogleCalendarSettings",{settings:e.settings,value:n.data}),s("callAsync",null,{root:!0}),i()})).fail((t=>{n(t)}))}))},fetchGoogleCalendars({commit:t,rootState:e},s){return s||(s={}),Object.prototype.hasOwnProperty.call(s,"staff_id")||(s=Object.assign(s,{staff_id:0})),new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/google_calendars",method:"GET",cache:!1,dataType:"json",data:s,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{0===s.staff_id?t("updateGoogleCalendars",e.data.google_calendars):e.data&&Object.prototype.hasOwnProperty.call(e.data,"google_calendars")&&t("staff/setStaffGoogleCalendars",e.data.google_calendars),i()})).fail((t=>{n(t)}))}))},updateCalendarEventsSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/calendar_events",method:"POST",dataType:"json",data:JSON.stringify(e.settings.calendar_events),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateCalendarEventsSettings",{settings:e.settings,data:i.data}),s()})).fail((t=>{i(t)}))}))}},nv={setGoogleCalendarSettings(t,{settings:e,value:s}){i["default"].set(e,"google_calendar",s)},updateGoogleCalendarClientId(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"client_id",s)},updateGoogleCalendarClientSecret(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"client_secret",s)},updateGoogleCalendarEnabled(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"enabled",s)},setGoogleCalendarWebMeetings(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"web_meetings",s)},setGoogleCalendarDeleteEvents(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"delete_canceled_events",s)},setGoogleCalendarRefreshInterval(t,{settings:e,value:s}){i["default"].set(e.google_calendar,"refresh_interval",s)},updateGoogleCalendars(t,e){t.googleCalendars=e},updateGoogleAuthUrl(t,e){t.googleAuthUrl=e},setCalendarEventType(t,e){i["default"].set(e.settings.calendar_events,`event_type_${e.key}`,e.value)},setCalendarEventsEnabled(t,e){i["default"].set(e.settings.calendar_events,"enabled",e.value)},updateCalendarEventsSettings(t,e){i["default"].set(e.settings.calendar_events,e.data)}};const av={googleAuthUrl:null,googleCalendars:[]};var ov={namespaced:!0,state:av,getters:sv,actions:iv,mutations:nv},rv={mailchimpModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.mailchimp,i.upgrade=!s.settings.installed.mailchimp,s.settings.mailchimp?i.enabled=s.settings.mailchimp.enabled&&s.settings.installed.mailchimp:i.enabled=!1,i}},lv={fetchMailchimpLists({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/mailchimp/lists",method:"GET",cache:!1,dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateMailchimpLists",{settings:e.settings,value:i.data.lists}),s()})).fail((t=>{i(t)}))}))},updateMailchimpSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/mailchimp",method:"POST",dataType:"json",data:JSON.stringify(e.settings.mailchimp),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateMailchimpSettings",{settings:e.settings,data:i.data}),s()})).fail((t=>{i(t)}))}))},authorizeMailchimp({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/mailchimp/authorize",method:"POST",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((n=>{n.error?i(n):(t("updateMailchimpSettings",{settings:e.settings,data:n.data}),s())})).fail((t=>{i(t)}))}))},deauthorizeMailchimp({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/mailchimp/deauthorize",method:"POST",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateMailchimpSettings",{settings:e.settings,data:i.data}),s()})).fail((t=>{i(t)}))}))}},dv={updateMailchimpEnabled(t,e){i["default"].set(e.settings.mailchimp,"enabled",e.value)},updateMailchimpSettings(t,e){i["default"].set(e.settings,"mailchimp",e.data)},updateMailchimpApiKey(t,e){i["default"].set(e.settings.mailchimp,"api_key",e.value)},updateMailchimpAuthorized(t,e){i["default"].set(e.settings.mailchimp,"authorized",e.value)},updateMailchimpLists(t,e){i["default"].set(e.settings.mailchimp,"lists",e.value)}};const pv={mailchimpLists:[]};var cv={namespaced:!0,state:pv,getters:rv,actions:lv,mutations:dv},mv={zoomModule:(t,e,s)=>{if(!s.settings||!s.settings.installed)return;let i={};return i.installed=s.settings.installed.zoom,i.upgrade=!s.settings.installed.zoom,s.settings.zoom?i.enabled=s.settings.zoom.enabled&&s.settings.installed.zoom:i.enabled=!1,i}},uv={zoomRedirectURI({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/zoom/redirect_url",method:"GET",cache:!1,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateZoomRedirectUrl",e),s()})).fail((t=>{i(t)}))}))},zoomAuth({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/zoom/authorize_url",method:"GET",dataType:"json",cache:!1,data:s,beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateZoomAuthUrl",e.data.authorize_url),i()})).fail((t=>{n(t)}))}))},zoomDeauth({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/zoom/disconnect",method:"POST",dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateZoomSettings",{settings:e.settings,value:i.data}),s()})).fail((t=>{i(t)}))}))},updateZoomSettings({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/settings/zoom",method:"POST",dataType:"json",data:JSON.stringify(e.settings.zoom),contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((i=>{t("updateZoomSettings",{settings:e.settings,value:i.data}),s()})).fail((t=>{i(t)}))}))},fetchZoomUser({commit:t,rootState:e}){return new Promise(((s,i)=>{ln().ajax({url:e.api.root+"/zoom/me",method:"GET",cache:!1,dataType:"json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("updateZoomUser",e),s()})).fail((t=>{i(t)}))}))}},gv={updateZoomEnabled(t,e){i["default"].set(e.settings.zoom,"enabled",e.value)},updateZoomSettings(t,e){e.settings.zoom=e.value},updateZoomUser(t,e){t.zoomUser=e},updateZoomRedirectUrl(t,e){t.zoomRedirectUrl=e},updateZoomAuthUrl(t,e){t.zoomAuthUrl=e}};const hv={zoomAuthUrl:null,zoomRedirectUrl:null,zoomUser:null};var _v={namespaced:!0,state:hv,getters:mv,actions:uv,mutations:gv},fv={},yv={fetchExportCode({commit:t,rootState:e},s){return new Promise(((i,n)=>{ln().ajax({url:e.api.root+"/support/export",method:"GET",cache:!1,data:s,dataType:"json",contentType:"application/json",beforeSend:t=>{t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((e=>{t("setExportCode",e),i()})).fail(((t,e,s)=>{n(s)}))}))},importJSONCode({rootState:t},e){return new Promise(((s,i)=>{ln().ajax({url:t.api.root+"/support/import",method:"POST",cache:!1,data:{content:e},dataType:"json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{s(t)})).fail((t=>{i(t.responseJSON)}))}))},sendSupportMessage({rootState:t},e){return new Promise(((s,i)=>{ln().ajax({url:t.api.root+"/support_ticket",method:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json",beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",t.api.nonce)}}).done((t=>{s(t)})).fail(((t,e,s)=>{i(t,s)}))}))}},vv={setExportCode(t,e){t.exportCode=e}};const bv={exportCode:null};var kv={namespaced:!0,state:bv,getters:fv,actions:yv,mutations:vv};i["default"].use(o.ZP);const Cv={api:void 0,bookingEmbed:null,telCountryCode:void 0,router:Pf,settings:{},support:{},debugLog:{wp:null,ssa:null},logUrls:{wp:null,ssa:null},timestampFormat:"YYYY-MM-DD HH:mm:ss",user:void 0,wpUsers:[]},Sv={appointments:jf,notifications:Hf,payments:Ff,staff:Jf,tracking:iy,guides:ly,webex:uy,translations:vy,appointment_types:wy,webhooks:My,styles:zy,notices:Gy,developer_settings:qy,global_settings:Yy,blackout:ev,google_calendar:ov,mailchimp:cv,zoom:_v,import_export:kv};var wv=new o.ZP.Store({state:Cv,getters:Mf,actions:Ef,mutations:Df,modules:Sv}),Tv={name:"app",store:wv,components:{loading:et},data(){return{router:Pf,loadingMessage:this.$store.state.translations.translations.general.loadingInitial,loading:!0,error:!1,errorHeading:this.$store.state.translations.translations.errors.heading,errorIntro:this.$store.state.translations.translations.errors.intro,errorGuidesText:this.$store.state.translations.translations.errors.guidesText,errorGuidesLinkLabel:this.$store.state.translations.translations.errors.guidesLinkLabel,errorDetails:this.$store.state.translations.translations.errors.errorDetails,errorMessage:"",errorResponse:null,showErrorResponse:!1,towp:this.$store.state.translations.translations.general.towp,api:window.ssa&&window.ssa.api?window.ssa.api:{},settings:window.ssa_settings?window.ssa_settings:{},user:window.ssa&&window.ssa.user?window.ssa.user:{},dismissedNotices:window.ssa_dismissed_notices,wpTranslations:{},appointmentTypes:{},isEmbed:window.ssa_is_embed||!1,moment:W()}},beforeCreate(){this.wpTranslations=window.ssa_translations?window.ssa_translations:{},this.$store.commit("translations/defineTranslations",this.wpTranslations),this.appointmentTypes=window.ssa_appointment_types?window.ssa_appointment_types:void 0,this.$store.commit("appointment_types/setAppointmentTypes",this.appointmentTypes)},mounted:function(){this.init()},computed:{...(0,o.Se)("staff",["currentUserCan"]),...(0,o.Se)("guides",["getCurrentGuideKey"])},methods:{init:function(){return"undefined"!==typeof this.$store.state.api||Ae().isEmpty(this.api)?"undefined"===typeof this.$store.state.api?(this.loading=!0,void this.$store.dispatch("fetchApi").then((()=>{this.getGuides({"ssasc-plugin-screen":j["default"]}),this.init()})).catch(((t,e)=>{console.log("Error loading API"),this.showError({error:e.error,response:e.xhr.responseText})}))):"undefined"!==typeof this.$store.state.notices.dismissedNotices||Ae().isEmpty(this.dismissedNotices)?"undefined"===typeof this.$store.state.notices.dismissedNotices?(this.loading=!0,void this.$store.dispatch("notices/fetchDismissedNotices").then((()=>this.init())).catch((t=>{console.log("Error loading Dismissed Notices"),this.showError({error:t.error,response:t.xhr.responseText})}))):Ae().isEmpty(this.$store.state.settings)&&!Ae().isEmpty(this.settings)?(this.$store.commit("updateAllSettings",this.settings),W().locale(this.$store.state.settings.global.locale),void this.init()):Ae().isEmpty(this.$store.state.settings)?(this.loading=!0,this.loadingMessage=this.$store.state.translations.translations.wizard.settings.general.loading,void this.$store.dispatch("fetchSettings").then((()=>{W().locale(this.$store.state.settings.global.locale),this.init()})).catch((t=>{console.log(t),this.showError({error:t.error,response:t.xhr.responseText})}))):(this.$store.state.settings.global.wizard_completed&&"Hello"===this.$route.name&&Pf.push("/ssa"),"undefined"===typeof this.$store.state.telCountryCode&&this.$store.dispatch("fetchTelCountryCode"),void(this.loading=!1)):(this.$store.commit("notices/defineDismissedNotices",this.dismissedNotices),void this.init()):(this.$store.commit("defineUser",this.user),this.$store.commit("defineApi",this.api),this.getGuides({"ssasc-plugin-screen":j["default"]}),void this.init())},showError:function(t){this.error=!0,this.errorMessage=t.error.toString(),this.errorResponse=t.response,this.loading=!1},...(0,o.nv)("guides",["getGuides"])}},xv=Tv,Av=(0,q.Z)(xv,n,a,!1,null,null,null),Pv=Av.exports,Mv=s(5822),Ev=s.n(Mv),Dv={install(t){t.component("foxy-checkbox-multi",Pm),t.component("foxy-chip",em),t.component("foxy-chip-set",lm),t.component("foxy-form-field",Sm),t.component("foxy-menu",dd)}},$v=s(7495),Ov=s.n($v);i["default"].config.productionTip=!1,i["default"].use(Ev()),i["default"].use(Dv),i["default"].use(Ov()),i["default"].material.registerTheme({default:{primary:{color:"light-green",hue:800},accent:{color:"deep-orange",hue:800},warn:"red"},reverse:{primary:{color:"deep-orange",hue:800},accent:{color:"light-green",hue:700}},red:{primary:"red"},pink:{primary:"pink"},purple:{primary:"purple"},"deep-purple":{primary:"deep-purple"},indigo:{primary:"indigo"},blue:{primary:"blue"},"light-blue":{primary:"light-blue"},cyan:{primary:"cyan"},teal:{primary:"teal"},green:{primary:"green"},"light-green":{primary:"light-green"},lime:{primary:"lime"},yellow:{primary:"yellow"},amber:{primary:"amber"},orange:{primary:"orange"},"deep-orange":{primary:"deep-orange"},brown:{primary:"brown"},grey:{primary:"grey"},"blue-grey":{primary:"blue-grey"},white:{primary:"white"},black:{primary:"black"}}),new i["default"]({render:t=>t(Pv),store:wv,router:Pf}).$mount("#ssa-admin-app")},9340:function(){},4654:function(){}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,a){if(!i){var o=1/0;for(p=0;p<t.length;p++){i=t[p][0],n=t[p][1],a=t[p][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(r=!1,a<o&&(o=a));if(r){t.splice(p--,1);var d=n();void 0!==d&&(e=d)}}return e}a=a||0;for(var p=t.length;p>0&&t[p-1][2]>a;p--)t[p]=t[p-1];t[p]=[i,n,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,a,o=i[0],r=i[1],l=i[2],d=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var p=l(s)}for(e&&e(i);d<o.length;d++)a=o[d],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(p)},i=self["webpackChunkssa_admin_app"]=self["webpackChunkssa_admin_app"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(1736)}));i=s.O(i)})();
//# sourceMappingURL=app.js.map