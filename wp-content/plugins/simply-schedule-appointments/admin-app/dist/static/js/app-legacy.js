(function(){var t={46700:function(t,e,n){var i={"./af":72398,"./af.js":72398,"./ar":44207,"./ar-dz":33382,"./ar-dz.js":33382,"./ar-kw":96525,"./ar-kw.js":96525,"./ar-ly":17098,"./ar-ly.js":17098,"./ar-ma":56483,"./ar-ma.js":56483,"./ar-sa":73961,"./ar-sa.js":73961,"./ar-tn":27401,"./ar-tn.js":27401,"./ar.js":44207,"./az":70903,"./az.js":70903,"./be":41174,"./be.js":41174,"./bg":94615,"./bg.js":94615,"./bm":20225,"./bm.js":20225,"./bn":69751,"./bn-bd":30544,"./bn-bd.js":30544,"./bn.js":69751,"./bo":46894,"./bo.js":46894,"./br":38566,"./br.js":38566,"./bs":40959,"./bs.js":40959,"./ca":52683,"./ca.js":52683,"./cs":14231,"./cs.js":14231,"./cv":999,"./cv.js":999,"./cy":64302,"./cy.js":64302,"./da":63601,"./da.js":63601,"./de":95509,"./de-at":42479,"./de-at.js":42479,"./de-ch":72924,"./de-ch.js":72924,"./de.js":95509,"./dv":19838,"./dv.js":19838,"./el":55113,"./el.js":55113,"./en-au":27377,"./en-au.js":27377,"./en-ca":29626,"./en-ca.js":29626,"./en-gb":55912,"./en-gb.js":55912,"./en-ie":12931,"./en-ie.js":12931,"./en-il":52243,"./en-il.js":52243,"./en-in":9779,"./en-in.js":9779,"./en-nz":49813,"./en-nz.js":49813,"./en-sg":54318,"./en-sg.js":54318,"./eo":74957,"./eo.js":74957,"./es":99243,"./es-do":67409,"./es-do.js":67409,"./es-mx":75188,"./es-mx.js":75188,"./es-us":16927,"./es-us.js":16927,"./es.js":99243,"./et":87731,"./et.js":87731,"./eu":21072,"./eu.js":21072,"./fa":29462,"./fa.js":29462,"./fi":29838,"./fi.js":29838,"./fil":73626,"./fil.js":73626,"./fo":6421,"./fo.js":6421,"./fr":70974,"./fr-ca":77780,"./fr-ca.js":77780,"./fr-ch":59719,"./fr-ch.js":59719,"./fr.js":70974,"./fy":98373,"./fy.js":98373,"./ga":83861,"./ga.js":83861,"./gd":44896,"./gd.js":44896,"./gl":20739,"./gl.js":20739,"./gom-deva":86737,"./gom-deva.js":86737,"./gom-latn":31979,"./gom-latn.js":31979,"./gu":32001,"./gu.js":32001,"./he":99671,"./he.js":99671,"./hi":82038,"./hi.js":82038,"./hr":11228,"./hr.js":11228,"./hu":30087,"./hu.js":30087,"./hy-am":83569,"./hy-am.js":83569,"./id":91977,"./id.js":91977,"./is":86853,"./is.js":86853,"./it":82140,"./it-ch":25626,"./it-ch.js":25626,"./it.js":82140,"./ja":24123,"./ja.js":24123,"./jv":26457,"./jv.js":26457,"./ka":30638,"./ka.js":30638,"./kk":16823,"./kk.js":16823,"./km":9493,"./km.js":9493,"./kn":11288,"./kn.js":11288,"./ko":29663,"./ko.js":29663,"./ku":70805,"./ku.js":70805,"./ky":87550,"./ky.js":87550,"./lb":76272,"./lb.js":76272,"./lo":99135,"./lo.js":99135,"./lt":91452,"./lt.js":91452,"./lv":35782,"./lv.js":35782,"./me":32181,"./me.js":32181,"./mi":50258,"./mi.js":50258,"./mk":35715,"./mk.js":35715,"./ml":50538,"./ml.js":50538,"./mn":83086,"./mn.js":83086,"./mr":75663,"./mr.js":75663,"./ms":35100,"./ms-my":92663,"./ms-my.js":92663,"./ms.js":35100,"./mt":50880,"./mt.js":50880,"./my":19099,"./my.js":19099,"./nb":38709,"./nb.js":38709,"./ne":32201,"./ne.js":32201,"./nl":21016,"./nl-be":61681,"./nl-be.js":61681,"./nl.js":21016,"./nn":25330,"./nn.js":25330,"./oc-lnc":27132,"./oc-lnc.js":27132,"./pa-in":30251,"./pa-in.js":30251,"./pl":93948,"./pl.js":93948,"./pt":89836,"./pt-br":36421,"./pt-br.js":36421,"./pt.js":89836,"./ro":28443,"./ro.js":28443,"./ru":20004,"./ru.js":20004,"./sd":54510,"./sd.js":54510,"./se":63148,"./se.js":63148,"./si":10542,"./si.js":10542,"./sk":77637,"./sk.js":77637,"./sl":85852,"./sl.js":85852,"./sq":90611,"./sq.js":90611,"./sr":10242,"./sr-cyrl":90302,"./sr-cyrl.js":90302,"./sr.js":10242,"./ss":91367,"./ss.js":91367,"./sv":42927,"./sv.js":42927,"./sw":5240,"./sw.js":5240,"./ta":82692,"./ta.js":82692,"./te":42132,"./te.js":42132,"./tet":88300,"./tet.js":88300,"./tg":37211,"./tg.js":37211,"./th":14050,"./th.js":14050,"./tk":53849,"./tk.js":53849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":23650,"./tlh.js":23650,"./tr":44195,"./tr.js":44195,"./tzl":55529,"./tzl.js":55529,"./tzm":17520,"./tzm-latn":60298,"./tzm-latn.js":60298,"./tzm.js":17520,"./ug-cn":84134,"./ug-cn.js":84134,"./uk":95456,"./uk.js":95456,"./ur":15679,"./ur.js":15679,"./uz":89277,"./uz-latn":66446,"./uz-latn.js":66446,"./uz.js":89277,"./vi":53992,"./vi.js":53992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":12899,"./yo.js":12899,"./zh-cn":94017,"./zh-cn.js":94017,"./zh-hk":84831,"./zh-hk.js":84831,"./zh-mo":32881,"./zh-mo.js":32881,"./zh-tw":30057,"./zh-tw.js":30057};function s(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=a,t.exports=s,s.id=46700},21736:function(t,e,n){"use strict";n(66992),n(88674),n(19601),n(17727);var i=n(28935),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{embed:t.isEmbed},attrs:{id:"app"}},[t.loading?n("loading",{attrs:{message:t.loadingMessage}}):t.error?[n("div",{staticClass:"app-error"},[t.$store.state.api?n("img",{attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-sleeping.svg",alt:"Error fox"}}):t._e(),n("h3",{staticClass:"md-display-1"},[t._v(t._s(t.errorHeading))]),n("p",[t._v(t._s(t.errorIntro)+" "+t._s(t.errorMessage))]),t.errorMessage&&-1!==t.errorMessage.indexOf("SyntaxError")?[n("p",[t._v(t._s(t.errorGuidesText)+" "),n("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/plugin-detective-for-plugin-conflicts/",target:"_blank"}},[t._v(t._s(t.errorGuidesLinkLabel))])]),t.errorResponse?[n("md-button",{staticClass:"md-warn md-raised",on:{click:function(e){t.showErrorResponse=!t.showErrorResponse}}},[t._v(t._s(t.errorDetails))]),t.showErrorResponse?n("pre",[t._v(t._s(t.errorResponse))]):t._e()]:t._e()]:t._e()],2)]:[t.isEmbed?t._e():n("md-button",{staticClass:"md-fab md-primary md-fab-top-left md-mini",attrs:{href:t.$store.state.api.admin_url,"md-theme":"blue-grey"}},[n("md-icon",[t._v("arrow_back")]),n("span",{staticClass:"screen-reader-text"},[t._v(t._s(t.towp))]),n("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.towp))])],1),n("transition-group",{staticClass:"fade-wrapper",attrs:{name:"fade",tag:"div"}},["Hello"!==t.router.currentRoute.name?n("div",{key:"header",staticClass:"app-header"},[n("img",{attrs:{alt:"Simply Schedule Appointments",src:t.$store.state.api.admin_static_url+"/images/logo-ssa.svg"}})]):t._e(),n("router-view",{key:"view"})],1)]],2)},a=[],o=n(93019),r=(n(68309),n(41539),n(39714),n(34665)),l=n(75200),c=(n(43371),n(21249),[{field:"Name",display:!0,required:!0,icon:"face"},{field:"Email",display:!0,required:!0,icon:"email"},{field:"Phone",display:!1,required:!1,icon:"phone"},{field:"Address",display:!1,required:!1,icon:"place"},{field:"City",display:!1,required:!1,icon:"place"},{field:"State",display:!1,required:!1,icon:"place"},{field:"Zip",display:!1,required:!1,icon:"place"},{field:"Notes",display:!1,required:!1,icon:"assignment"}]),d=[{field:"Name",display:!0,required:!0,type:"single-text",icon:"face",values:""},{field:"Email",display:!0,required:!0,type:"single-text",icon:"email",values:""}],p={field:"",display:!0,required:!1,type:"single-text",icon:"",values:""},u=["single-text","multi-text","checkboxes","radios","phone"],m=[{field:"admin",send:!0},{field:"customer",send:!0}],f=["appointment_booked","appointment_customer_information_edited","appointment_canceled"],g=["appointment_booked","appointment_customer_information_edited","appointment_canceled","appointment_start_date"],h=["{{admin_email}}","{{customer_email}}"],_=["{{admin_email}}","{{customer_email}}","{{team_member_email}}"],v=["admin_email","instructions","Appointment.AppointmentType.title","Appointment.web_meeting_url","Appointment.customer_information_summary","Appointment.date_timezone","Appointment.customer_timezone","Appointment.public_edit_url","Appointment.customer_start_date","Appointment.business_start_date","location","customer_name","customer_email","attendees_list","Global.home_url","Global.company_name","Global.timezone_string","booking_url","booking_title","booking_post_id","team_member_email","team_member_name","refund_policy","add_to_calendar_link.ics","add_to_calendar_link.gcal"],y={notification_type:[],appointment_type:[],trigger:[],sent_to:[]},b=["booked","pending_payment","pending_form","canceled","abandoned"],k={time:"upcoming",appointment_type_id:[],status:["booked","canceled"],staff:[],date_range_min:null,date_range_max:null},C=Object.freeze({title:"Consultation Phone Call",duration:"30",label:"light-green",booking_layout:"week",availability_increment:30,availability_type:"available_blocks",availability:{Monday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Tuesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Wednesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Thursday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Friday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Saturday:[],Sunday:[]},availability_end_date:null,availability_start_date:null,booking_end_date:"",booking_start_date:"",capacity:1,capacity_type:"individual",timezone_style:"localized",buffer_before:"0",buffer_after:"0",max_event_count:"0",min_booking_notice:1440..toString(),max_booking_notice:525600..toString(),customer_information:[],notifications:[],google_calendar_booking:"",google_calendars_availability:[],payment_required:"none",shared_calendar_event:1,staff:{required:"",assignment:"random"},staff_ids:[],has_max_capacity:0,web_meetings:{provider:"",url:""}}),S=Object.freeze({required:"",assignment:"random"}),w=Object.freeze({duration:"",label:"",availability_increment:null,availability:{},availability_end_date:null,availability_start_date:null,buffer_before:"",buffer_after:"",max_event_count:"",min_booking_notice:null,customer_information:[],notifications:[],google_calendar_booking:"",google_calendars_availability:[],mailchimp:{}}),T=Object.freeze({accent_color:"rgba(139, 195, 74, 1)",background:"rgba(255, 255, 255, 1)",contrast:!1,font:"Roboto",padding:"1rem",css:""}),x=["Arial","Arial Black","Courier New","Georgia","Helvetica","Tahoma","Times New Roman","Trebuchet MS","Verdana"],A=["appointment_booked","appointment_canceled","appointment_edited"],P=[{code:"AUD",number:"036",digits:2,currency:"Australian Dollar",countries:["Australia","Christmas Island","Cocos (Keeling) Islands (The)","Heard Island And Mcdonald Islands","Kiribati","Nauru","Norfolk Island","Tuvalu"]},{code:"BRL",number:"986",digits:2,currency:"Brazilian Real",countries:["Brazil"]},{code:"CAD",number:"124",digits:2,currency:"Canadian Dollar",countries:["Canada"]},{code:"CZK",number:"203",digits:2,currency:"Czech Koruna",countries:["Czechia"]},{code:"DKK",number:"208",digits:2,currency:"Danish Krone",countries:["Denmark","Faroe Islands (The)","Greenland"]},{code:"EUR",number:"978",digits:2,currency:"Euro",countries:["Andorra","Austria","Belgium","Cyprus","Estonia","European Union","Finland","France","French Guiana","French Southern Territories (The)","Germany","Greece","Guadeloupe","Holy See (The)","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Martinique","Mayotte","Monaco","Montenegro","Netherlands (The)","Portugal","Réunion","Saint Barthélemy","Saint Martin (French Part)","Saint Pierre And Miquelon","San Marino","Slovakia","Slovenia","Spain","Åland Islands"]},{code:"HKD",number:"344",digits:2,currency:"Hong Kong Dollar",countries:["Hong Kong"]},{code:"ILS",number:"376",digits:2,currency:"New Israeli Sheqel",countries:["Israel"]},{code:"MYR",number:"458",digits:2,currency:"Malaysian Ringgit",countries:["Malaysia"]},{code:"MXN",number:"484",digits:2,currency:"Mexican Peso",countries:["Mexico"]},{code:"NOK",number:"578",digits:2,currency:"Norwegian Krone",countries:["Bouvet Island","Norway","Svalbard And Jan Mayen"]},{code:"NZD",number:"554",digits:2,currency:"New Zealand Dollar",countries:["Cook Islands (The)","New Zealand","Niue","Pitcairn","Tokelau"]},{code:"PHP",number:"608",digits:2,currency:"Philippine Piso",countries:["Philippines (The)"]},{code:"PLN",number:"985",digits:2,currency:"Zloty",countries:["Poland"]},{code:"GBP",number:"826",digits:2,currency:"Pound Sterling",countries:["Guernsey","Isle Of Man","Jersey","United Kingdom Of Great Britain And Northern Ireland (The)"]},{code:"SGD",number:"702",digits:2,currency:"Singapore Dollar",countries:["Singapore"]},{code:"SEK",number:"752",digits:2,currency:"Swedish Krona",countries:["Sweden"]},{code:"CHF",number:"756",digits:2,currency:"Swiss Franc",countries:["Liechtenstein","Switzerland"]},{code:"THB",number:"764",digits:2,currency:"Baht",countries:["Thailand"]},{code:"USD",number:"840",digits:2,currency:"US Dollar",countries:["American Samoa","Bonaire, Sint Eustatius And Saba","British Indian Ocean Territory (The)","Ecuador","El Salvador","Guam","Haiti","Marshall Islands (The)","Micronesia (Federated States Of)","Northern Mariana Islands (The)","Palau","Panama","Puerto Rico","Timor-Leste","Turks And Caicos Islands (The)","United States Minor Outlying Islands (The)","United States Of America (The)","Virgin Islands (British)","Virgin Islands (U.S.)"]}],M="https://dashboard.stripe.com/payments/",E=[{locale:"da_DK",title:"Danish",title_localized:"Dansk"},{locale:"nl_NL",title:"Dutch",title_localized:"Nederlands"},{locale:"nl_BE",title:"Dutch (Belgium)",title_localized:"Nederlands (België)"},{locale:"de_DE",title:"German",title_localized:"Deutsch"},{locale:"de_DE_formal",title:"German (Formal)",title_localized:"Deutsch (Sie)"},{locale:"de_CH",title:"German (Switzerland)",title_localized:"Deutsch (Schweiz)"},{locale:"de_CH_informal",title:"German (Switzerland, Informal)",title_localized:"Deutsch (Schweiz, Du)"},{locale:"en_GB",title:"English (UK)",title_localized:"English (UK)"},{locale:"et",title:"Estonian",title_localized:"Eesti"},{locale:"hu_HU",title:"Hungarian",title_localized:"Magyar"},{locale:"es_ES",title:"Spanish (Spain)",title_localized:"Español"},{locale:"sl_SI",title:"Slovenian",title_localized:"Slovenščina"},{locale:"es_MX",title:"Spanish (Mexico)",title_localized:"Español de México"},{locale:"es_VE",title:"Spanish (Venezuela)",title_localized:"Español de Venezuela"},{locale:"sv_SE",title:"Swedish",title_localized:"Svenska"},{locale:"fr_FR",title:"French (France)",title_localized:"Français"},{locale:"it_IT",title:"Italian (Italy)",title_localized:"Italiano"},{locale:"pl_PL",title:"Polish",title_localized:"Polski"},{locale:"pt_BR",title:"Portuguese (Brazil)",title_localized:"Português do Brasil"},{locale:"pt_PT",title:"Portuguese (Portugal)",title_localized:"Português"},{locale:"ru_RU",title:"Russian",title_localized:"Русский"},{locale:"tr_TR",title:"Turkish",title_localized:"Türkçe"},{locale:"ja",title:"Japanese",title_localized:"日本語"},{locale:"hr",title:"Croatian",title_localized:"Hrvatski"},{locale:"el",title:"Greek",title_localized:"Ελληνικά"},{locale:"sk_SK",title:"Slovak",title_localized:"Slovenčina"},{locale:"nb_NO",title:"Norwegian",title_localized:"Norsk bokmål"},{locale:"is_IS",title:"Icelandic",title_localized:"Íslenska"},{locale:"cs_CZ",title:"Czech",title_localized:"Čeština"},{locale:"lt_LT",title:"Lithuanian",title_localized:"Lietuvių kalba"}],D=["minutes","hours","days","weeks"],$={appointment_types:[],blackout_dates:{dates:[]},capacity:0,custom_working_hours:0,display_name:"",display_order:1,email:"",manages_blackout_dates:0,manages_working_hours:0,name:"",status:"publish",timezone:"",user_id:0,visibility:"public",working_hours:{Monday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Tuesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Wednesday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Thursday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Friday:[{time_start:"09:00:00",time_end:"12:00:00"},{time_start:"13:00:00",time_end:"17:00:00"}],Saturday:[],Sunday:[]}},O=["individual","group"],I="YYYY-MM-DD",Z=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1"],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599"],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61"],["Cocos (Keeling) Islands","cc","61"],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599"],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1"],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590"],["Guam","gu","1671"],["Guatemala","gt","502"],["Guernsey","gg","44",1],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44"],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39"],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jersey","je","44"],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7"],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262"],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212"],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1"],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262"],["Romania (România)","ro","40"],["Russia (Россия)","ru","7"],["Rwanda","rw","250"],["Saint Barthélemy","bl","590"],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590"],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44"],["United States","us","1"],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39"],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212"],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358"]],z=Z.map((function(t){var e=(0,l.Z)(t,3),n=e[0],i=e[1],s=e[2];return{name:n,iso2:i.toUpperCase(),dialCode:s}})),j=["PST","PDT","MST","MDT","CST","CDT","EST","EDT","US/Pacific-New","EST5EDT","CST6CDT","MST7MDT","PST8PDT","Etc/UTC"],L={default:395,appointment_types:{edit:345,capacity:347,staff:346,advanced_scheduling_enabled:348,google_calendar_enabled:351,web_meetings_enabled:350,web_meetings_google_calendar:387,web_meetings_zoom:388,mailchimp_enabled:389,webhooks_enabled:390,customer_information:391},google_calendar:{enabled:362,account_activated:363},notifications:{list:357,edit:377,sms:359,sms_enabled:358,staff_enabled:393},payments:{all:369,paypal_enabled:371,stripe_enabled:370},support_ticket:{default:412,email:398,scheduled_event:399,twig:400,translation:401,connection_lost:402,loading:403,missing:404,400:405,google:406,hippa:407,gdpr:408,captcha:409},teams:{list:375,edit:376},appointment_details:343,appointment_details_payments_enabled:392,advanced_scheduling_options:361,blackout:360,developer_jobs:380,developer_settings:379,general:354,import_export:378,mailchimp:364,paypal:373,settings:{list:352,license_enabled:353},stripe:372,styles:355,support:381,tracking:374,translations:356,webhooks:367,zoom:365},N={email:["email","notifications","emails","SMTP","mail","confirmation","message"],scheduled_event:["scheduled event","scheduled events","cron","late"],twig:["twig","merge tag","token","syntax"],translation:["translation","translate","language","du","sie","multi-lingual","multilingual","pack"],connection_lost:["connection lost","load","lost connection","not loading","spin","communicating"],loading:["loading","time to load","loading time","performance","slow","seconds"],missing:["missing","won't show","doesn't show","availability","not showing","available","aren't available"],400:["400","OAuth","OAuth 2.0 Policy","redirect_uri_mismatch","redirect uri","google API","Authorization Error","google cloud","unauthorized"],google:["google","block","blocking","conflict","sync","not syncing"],hipaa:["hipaa","hippa","associate business agreement","business associate agreement","encrypt"],gdpr:["gdpr","privacy policy","data protection","data processing"],captcha:["captcha","spam"]},U=n(68932),G=(n(92222),n(47941),n(57327),n(12809)),F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[t._m(0),n("div",{staticClass:"content-wrap"},[n("h1",{staticClass:"md-display-2"},[t._v(t._s(t.translations.hello.headline))]),n("p",{staticClass:"md-headline"},[t._v(t._s(t.translations.hello.subhead))]),n("div",{staticClass:"button-bar transparent"},[t.settings.installed.license?n("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/wizard/license"}},[t._v(t._s(t.translations.hello.accept))]):n("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/wizard/review"}},[t._v(t._s(t.translations.hello.accept))])],1),n("div",{staticClass:"button-bar transparent"},[n("router-link",{staticClass:"md-primary",attrs:{to:"/ssa",tag:"md-button"},nativeOn:{click:function(e){return t.updateWizard.apply(null,arguments)}}},[t._v(t._s(t.translations.hello.decline))])],1),n("img",{attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-sitting-tail-up.svg"}})])])},W=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cloud-wrap"},[n("div",{staticClass:"cloud-1"},[n("div",{staticClass:"cloud"})]),n("div",{staticClass:"cloud-2"},[n("div",{staticClass:"cloud"})]),n("div",{staticClass:"cloud-3"},[n("div",{staticClass:"cloud"})]),n("div",{staticClass:"cloud-4"},[n("div",{staticClass:"cloud"})]),n("div",{staticClass:"cloud-5"},[n("div",{staticClass:"cloud"})])])}],B=n(27318),R=n.n(B),q={name:"helloWizard",store:Ey,data:function(){return{moment:R()}},beforeMount:function(){this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_appointment_types")||this.$router.push("/ssa")},mounted:function(){this.saveTimezone()},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat"])),(0,r.Se)(["detectedTimezone"])),(0,r.Se)("staff",["currentUserCan"])),methods:(0,o.Z)((0,o.Z)({saveTimezone:function(){this.settings.global.timezone_string&&this.detectedTimezone===this.settings.global.timezone_string||(this.updateTimezoneString({settings:this.settings,value:this.detectedTimezone}),this.updateGlobalSettings())},updateWizard:function(){this.updateWizardCompleted({settings:this.settings,value:R().utc().format(this.timestampFormat)}),this.updateGlobalSettings()}},(0,r.OI)("global_settings",["updateTimezoneString","updateWizardCompleted"])),(0,r.nv)("global_settings",["updateGlobalSettings"]))},H=q,K=n(1001),V=(0,K.Z)(H,F,W,!1,null,"4444e5b1",null),Y=V.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings view-container"},[t.currentUserHasNav?n("md-sidenav",{ref:"leftSidenav",staticClass:"md-left"},[n("settings-sidenav")],1):t._e(),t.showBanner?n("md-layout",[n("md-layout",[n("md-whiteframe",{staticClass:"banner",attrs:{"md-elevation":1}},[n("div",{staticClass:"md-subheading"},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),t._v(" "+t._s(t.translations.errors.noAppointmentTypes)+" ")],1),n("md-button",{staticClass:"md-raised md-primary",on:{click:t.addAppointmentType}},[t._v(" "+t._s(t.translations.appointmentTypes.actions.create)+" ")])],1)],1)],1):t._e(),n("md-layout",{staticClass:"page-layout",attrs:{"md-gutter":24}},[n("md-layout",{staticClass:"main-settings-col",attrs:{"md-column":""}},[n("md-toolbar",{staticClass:"md-primary"},[t.currentUserHasNav?n("md-button",{staticClass:"md-icon-button",on:{click:t.toggleLeftSidenav}},[n("md-icon",[t._v("menu")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.openNavigation)+" ")])],1):t._e(),t.currentUserCan("ssa_manage_appointments")||t.currentUserCan("ssa_manage_others_appointments")?n("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/appointments"}},[n("md-icon",[t._v("schedule")]),n("span",[t._v(t._s(t.translations.settings.appointmentsTitle))])],1):t._e(),t.currentUserCan("ssa_manage_appointment_types")?n("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[n("md-icon",[t._v("view_list")]),n("span",[t._v(t._s(t.translations.settings.appointmentTypesTitle))])],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/settings"}},[n("md-icon",[t._v("settings_applications")]),n("span",[t._v(t._s(t.translations.settings.settingsTitle))])],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/support"}},[n("md-icon",[t._v("help")]),t._v(" "+t._s(t.translations.support.supportTitle)+" ")],1):t._e(),t.currentUserIsStaff?n("router-link",{staticClass:"ssa-menu",attrs:{tag:"md-button",to:"/ssa/settings/staff/profile/"+t.currentUserStaffId}},[n("md-icon",[t._v("account_circle")]),t._v(" "+t._s(t.translations.settings.staff.profile)+" ")],1):t._e()],1),n("md-whiteframe",{staticClass:"settings-whiteframe",attrs:{"md-elevation":1}},[t.currentUserHasPermissions?[t.loading?n("loading",{attrs:{message:t.translations.settings.loadingApptTypes}}):n("router-view",{key:"settings"})]:n("no-permission")],2)],1),n("md-layout",{staticClass:"side-settings-col",attrs:{"md-column":""}},[n("support-guides"),t.settings.installed.license?t._e():n("promo-plus",{attrs:{"upgrade-url-params":t.promoPlusUpgradeParams}}),t.settings.installed.license&&!t.settings.installed.webhooks?n("promo-pro",{attrs:{"upgrade-url-params":t.promoProUpgradeParams}}):t._e(),t.settings.installed.license?n("promo-zoom-announce"):n("promo-zoom-upgrade"),t.settings.installed.sms&&t.currentUserCan("ssa_manage_site_settings")?n("setup-sms"):t._e()],1)],1)],1)},X=[],Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-loading",class:t.size},[n("md-spinner",{staticClass:"app-spinner",attrs:{"md-size":t.spinnerSize,"md-indeterminate":""}}),n("h3",{class:t.textClass},[t._v(" "+t._s(t.message)+"… ")])],1)},tt=[],et={name:"loadingElement",props:{message:String,size:{type:String,default:"one"}},data:function(){return{}},computed:{textClass:function(){switch(this.size){case"one":return"md-display-1";case"title":return"md-title";case"body":return"md-body-1";default:return"md-display-1"}},spinnerSize:function(){switch(this.size){case"one":return 50;case"title":return 50;case"body":return 20;default:return 50}}}},nt=et,it=(0,K.Z)(nt,Q,tt,!1,null,null,null),st=it.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPromo?n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[n("md-card-media",[t.dismissable?n("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[n("md-icon",[t._v("clear")])],1):t._e(),n("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[n("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),n("strong",[t._v("Plus")])])]),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("p",[t._v(t._s(t.translations.promo.plusText))]),n("ul",[n("li",[t._v(t._s(t.translations.promo.plusTextBullets.google))]),n("li",[t._v(t._s(t.translations.promo.plusTextBullets.customFields))]),n("li",[t._v(t._s(t.translations.promo.plusTextBullets.mailchimp))]),n("li",[t._v(t._s(t.translations.promo.plusTextBullets.capacity))]),n("li",[t._v(t._s(t.translations.promo.plusTextBullets.classes))])])]),n("md-card-actions",[n("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.view)+" ")]),n("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.upgrade)+" ")])],1)],1)],1):t._e()},ot=[],rt=(n(74916),n(23123),"https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=754&edd_options%5Bprice_id%5D=1"),lt="https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=756&edd_options%5Bprice_id%5D=1",ct="https://simplyscheduleappointments.com/?edd_action=add_to_cart&download_id=672&edd_options%5Bprice_id%5D=1&discount=PREORDERBUSINESS",dt="https://simplyscheduleappointments.com/2021/07/08/zoom-web-meetings-how-to-schedule/",pt=n(57421),ut=n.n(pt),mt={name:"plusPromo",store:Ey,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default:function(){}}},computed:(0,o.Z)((0,o.Z)({showPromo:function(){return!(this.dismissedNotices&&this.dismissedNotices.coming_soon&&this.dismissable)||!this.dismissedNotices.coming_soon},allEditionsUrlParsed:function(){var t="https://simplyscheduleappointments.com/pricing/",e={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"view-all-editions"};return"".concat(t,"?").concat(ut().stringify(e))},upgradeUrlParsed:function(){if(!this.upgradeUrlParams)return rt;var t=rt.split("?"),e=t[0],n=t.length>1?ut().parse(t[1]):{};return!Object.keys(this.upgradeUrlParams).length>0?rt:(n=Object.assign(n,this.upgradeUrlParams),"".concat(e,"?").concat(ut().stringify(n)))}},(0,r.rn)("translations",["translations"])),(0,r.rn)("notices",["dismissedNotices"])),methods:(0,o.Z)((0,o.Z)({clearAd:function(){this.updateNotices({key:"coming_soon",settings:1}),this.updateDismissedNotices("coming_soon")},promoClicked:function(){this.$emit("promoClicked")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},ft=mt,gt=(0,K.Z)(ft,at,ot,!1,null,null,null),ht=gt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPromo?n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[n("md-card-media",[t.dismissable?n("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[n("md-icon",[t._v("clear")])],1):t._e(),n("a",{attrs:{href:"https://simplyscheduleappointments.com/features",target:"_blank"}},[n("img",{staticClass:"promo-img promo-pro",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-pro.svg",alt:"Simply Schedule Appointments Pro"}})])],1),n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.proHeading))]),n("div",{staticClass:"md-subhead"},[t._v("Simply Schedule Appointments "),n("strong",[t._v("Pro")])])]),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("p",[t._v(t._s(t.translations.promo.proText))]),n("ul",[n("li",[t._v(t._s(t.translations.promo.proTextBullets.payments))]),n("li",[t._v(t._s(t.translations.promo.proTextBullets.reminders))]),n("li",[t._v(t._s(t.translations.promo.proTextBullets.tracking))]),n("li",[t._v(t._s(t.translations.promo.proTextBullets.webhooks))]),n("li",[t._v(t._s(t.translations.promo.proTextBullets.zoom))])])]),n("md-card-actions",[n("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.proTextCta.view)+" ")]),n("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.proTextCta.upgrade)+" ")])],1)],1)],1):t._e()},vt=[],yt={name:"proPromo",store:Ey,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default:function(){}}},computed:(0,o.Z)((0,o.Z)({showPromo:function(){return!(this.dismissedNotices&&this.dismissedNotices.now_available&&this.dismissable)||!this.dismissedNotices.now_available},allEditionsUrlParsed:function(){var t="https://simplyscheduleappointments.com/pricing/",e={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"pro-features",utm_content:"view-all-editions"};return"".concat(t,"?").concat(ut().stringify(e))},upgradeUrlParsed:function(){if(!this.upgradeUrlParams)return lt;var t=lt.split("?"),e=t[0],n=t.length>1?ut().parse(t[1]):{};return!Object.keys(this.upgradeUrlParams).length>0?lt:(n=Object.assign(n,this.upgradeUrlParams),"".concat(e,"?").concat(ut().stringify(n)))}},(0,r.rn)("translations",["translations"])),(0,r.rn)("notices",["dismissedNotices"])),methods:(0,o.Z)((0,o.Z)({clearAd:function(){this.updateNotices({key:"now_available",settings:1}),this.updateDismissedNotices("now_available")},promoClicked:function(){this.$emit("promoClicked")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},bt=yt,kt=(0,K.Z)(bt,_t,vt,!1,null,null,null),Ct=kt.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPromo?n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[n("md-card-media",[t.dismissable?n("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[n("md-icon",[t._v("clear")])],1):t._e(),n("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[n("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upgrade-zoom.svg",alt:"Schedule Zoom Meetings with Simply Schedule Appointments"}})])],1),n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.zoomUpgrade.title))])]),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("p",[t._v(t._s(t.translations.promo.zoomUpgrade.text))]),n("ul",[n("li",[t._v(t._s(t.translations.promo.plusTextBullets.google))]),n("li",[t._v(t._s(t.translations.promo.plusTextBullets.customFields))]),n("li",[t._v(t._s(t.translations.promo.plusTextBullets.capacity))])])]),n("md-card-actions",[n("md-button",{staticClass:"md-raised",staticStyle:{"margin-right":"0.5rem"},attrs:{href:t.allEditionsUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.view)+" ")]),n("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.plusTextCta.upgrade)+" ")])],1)],1)],1):t._e()},wt=[],Tt={name:"PromoZoomUpgrade",store:Ey,props:{dismissable:{default:!0}},computed:(0,o.Z)((0,o.Z)({showPromo:function(){return!(this.dismissedNotices&&this.dismissedNotices.zoom_upgrade&&this.dismissable)||!this.dismissedNotices.zoom_upgrade},allEditionsUrlParsed:function(){var t="https://simplyscheduleappointments.com/pricing/",e={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"zoom",utm_content:"view-all-editions"};return"".concat(t,"?").concat(ut().stringify(e))},upgradeUrlParsed:function(){var t=rt.split("?"),e=t[0],n=t.length>1?ut().parse(t[1]):{};return n=Object.assign(n,{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"zoom",utm_content:"zoom-plus-sidebar"}),"".concat(e,"?").concat(ut().stringify(n))}},(0,r.rn)("translations",["translations"])),(0,r.rn)("notices",["dismissedNotices"])),methods:(0,o.Z)((0,o.Z)({clearAd:function(){this.updateNotices({key:"zoom_upgrade",settings:1}),this.updateDismissedNotices("zoom_upgrade")},promoClicked:function(){this.$emit("promoClicked")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},xt=Tt,At=(0,K.Z)(xt,St,wt,!1,null,null,null),Pt=At.exports,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPromo?n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[n("md-card-media",[t.dismissable?n("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[n("md-icon",[t._v("clear")])],1):t._e(),n("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[n("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upgrade-zoom.svg",alt:"Schedule Zoom Meetings with Simply Schedule Appointments"}})])],1),n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.promo.zoomAnnounce.title))])]),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("p",[t._v(t._s(t.translations.promo.zoomAnnounce.text))])]),n("md-card-actions",[n("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.zoomGuide,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.zoomAnnounce.cta)+" ")])],1)],1)],1):t._e()},Et=[],Dt={name:"PromoZoomUpgrade",store:Ey,props:{dismissable:{default:!0}},data:function(){return{zoomGuide:dt}},computed:(0,o.Z)((0,o.Z)({showPromo:function(){return!(this.dismissedNotices&&this.dismissedNotices.zoom_upgrade&&this.dismissable)||!this.dismissedNotices.zoom_upgrade}},(0,r.rn)("translations",["translations"])),(0,r.rn)("notices",["dismissedNotices"])),methods:(0,o.Z)((0,o.Z)({clearAd:function(){this.updateNotices({key:"zoom_upgrade",settings:1}),this.updateDismissedNotices("zoom_upgrade")},promoClicked:function(){this.$emit("promoClicked")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},$t=Dt,Ot=(0,K.Z)($t,Mt,Et,!1,null,null,null),It=Ot.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPromo?n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""}},[n("md-card-media",[t.dismissable?n("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[n("md-icon",[t._v("clear")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.promo.dismissNotice)+" ")])],1):t._e(),n("a",{attrs:{href:"https://simplyscheduleappointments.com/no-more-no-shows-with-sms-appointment-reminders",target:"_blank"}},[n("img",{staticClass:"promo-img promo-sms",attrs:{src:t.api.admin_static_url+"/images/promo-sms.svg",alt:"Simply Schedule Appointments SMS Reminders"}})])],1),n("md-card-header",[n("h2",{staticClass:"md-title"},[t._v("SMS Reminders Available Now!")]),n("p",{staticClass:"md-subhead"},[t._v("Get step-by-step instructions on getting set up to send SMS reminders to your customers.")])]),n("md-card-expand",[n("md-card-actions",[n("span",{staticStyle:{flex:"1"}}),n("md-button",{staticClass:"no-animation",attrs:{"md-expand-trigger":""}},[t._v(" View the instructions "),n("md-icon",[t._v("keyboard_arrow_down")])],1)],1),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("dl",{staticClass:"to-do-list"},[n("dt",[n("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.smsEnabled))]),t._v(" 1. Enable SMS ")],1),n("dd",[n("router-link",{attrs:{to:"/ssa/settings/notifications/list"}},[t._v("Turn on the SMS feature")]),t._v(" by toggling the feature on")],1),n("dt",[n("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.twilioSetup))]),t._v(" 2. Set up your Twilio settings ")],1),n("dd",[t._v("Get your "),n("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v("Twilio API key")]),t._v(" and credentials. "),n("router-link",{attrs:{to:"/ssa/settings/notifications/sms"}},[t._v("Edit Twilio settings")])],1),n("dt",[n("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.adminPhone))]),t._v(" 3. Add an admin phone number ")],1),n("dd",[t._v("If you want to send SMS reminders to yourself, add your phone number. "),n("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v("Edit general settings")])],1),n("dt",[n("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.phoneFields))]),t._v(" 4. Collect a phone number from your customers ")],1),n("dd",[t._v(" Edit your appointment types to add a phone number type field to the customer information section. "),n("router-link",{attrs:{to:"/ssa/appointment-types/edit/customerInfo"}},[t._v("Edit appointment types")])],1),n("dt",[n("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.smsNotification))]),t._v(" 5. Set up an SMS notification ")],1),n("dd",[t._v("Create a new notification, set the type to SMS, and configure your settings. "),n("router-link",{attrs:{to:"/ssa/settings/notifications/list"}},[t._v("Manage notifications")])],1)]),n("p",[t._v("If you need more details, please "),n("a",{attrs:{href:"https://simplyscheduleappointments.com/no-more-no-shows-with-sms-appointment-reminders",target:"_blank"}},[t._v("read our blog post")]),t._v(", complete with screen shots of each step. Or "),n("router-link",{attrs:{to:"/ssa/support"}},[t._v("contact support")]),t._v(" for more assistance.")],1)])],1)],1)],1):t._e()},zt=[],jt={name:"plusPromo",props:{dismissable:{default:!0}},data:function(){return{}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({showPromo:function(){return!(this.dismissedNotices&&this.dismissedNotices.setup_sms&&this.dismissable)||!this.dismissedNotices.setup_sms},smsEnabled:function(){return this.settings.sms.enabled?"check_box":"check_box_outline_blank"},twilioSetup:function(){return this.settings.sms.authorized_date?"check_box":"check_box_outline_blank"},adminPhone:function(){return this.settings.global.admin_phone?"check_box":"check_box_outline_blank"},phoneFields:function(){return this.phoneAppointmentTypes&&this.phoneAppointmentTypes.length?"check_box":"check_box_outline_blank"},smsNotification:function(){var t=this.settings.notifications.notifications.filter((function(t){return"sms"===t.type}));return t.length?"check_box":"check_box_outline_blank"}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings"])),(0,r.Se)("notifications",["phoneAppointmentTypes"])),(0,r.rn)("notices",["dismissedNotices"])),methods:(0,o.Z)((0,o.Z)({clearAd:function(){this.updateNotices({key:"setup_sms",settings:1}),this.updateDismissedNotices("setup_sms")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},Lt=jt,Nt=(0,K.Z)(Lt,Zt,zt,!1,null,null,null),Ut=Nt.exports,Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list",[t.currentUserCan("ssa_manage_appointments")||t.currentUserCan("ssa_manage_others_appointments")?n("md-list-item",[n("router-link",{attrs:{to:"/ssa/appointments"}},[n("md-icon",[t._v("schedule")]),n("span",[t._v(t._s(t.translations.settings.appointmentsTitle))])],1)],1):t._e(),t.currentUserCan("ssa_manage_appointment_types")?n("md-list-item",[n("router-link",{attrs:{to:"/ssa/appointment-types"}},[n("md-icon",[t._v("view_list")]),n("span",[t._v(t._s(t.translations.settings.appointmentTypesTitle))])],1)],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("md-list-item",[n("md-icon",[t._v("settings_applications")]),n("router-link",{attrs:{to:"/ssa/settings"}},[n("span",[t._v(t._s(t.translations.settings.settingsTitle))])]),n("md-list-expand",[n("md-list",[n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v(" "+t._s(t.translations.settings.general.title)+" ")])],1),n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/styles"}},[t._v(" "+t._s(t.translations.settings.styles.title)+" ")])],1),n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/translations"}},[t._v(" "+t._s(t.translations.settings.translations.title)+" ")])],1),n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/notifications"}},[t._v(" "+t._s(t.translations.settings.notifications.title)+" ")])],1),t.settings.blackout_dates.enabled?n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/blackout"}},[t._v(" "+t._s(t.translations.settings.blackout.title)+" ")])],1):t._e(),t.settings.advanced_scheduling.enabled?n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/advanced-scheduling"}},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.title)+" ")])],1):t._e(),t.settings.google_calendar&&t.settings.google_calendar.enabled?n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.settings.google_calendar.title)+" ")])],1):t._e(),t.settings.mailchimp&&t.settings.mailchimp.enabled?n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/mailchimp"}},[t._v(" "+t._s(t.translations.settings.mailchimp.title)+" ")])],1):t._e(),t.settings.webhooks&&t.settings.webhooks.enabled?n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/webhooks"}},[t._v(" "+t._s(t.translations.settings.webhooks.title)+" ")])],1):t._e(),t.settings.payments&&t.settings.payments.enabled?n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/payments"}},[t._v(" "+t._s(t.translations.settings.payments.title)+" ")])],1):t._e(),t.settings.tracking&&t.settings.tracking.enabled?n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/tracking"}},[t._v(" "+t._s(t.translations.settings.tracking.title)+" ")])],1):t._e(),t.settings.staff&&t.settings.staff.enabled&&t.currentUserCan("ssa_manage_staff")?n("md-list-item",{staticClass:"md-inset"},[n("router-link",{attrs:{to:"/ssa/settings/staff"}},[t._v(" "+t._s(t.translations.settings.staff.title)+" ")])],1):t._e()],1)],1)],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("md-list-item",[n("router-link",{attrs:{to:"/ssa/support"}},[n("md-icon",[t._v("help")]),n("span",[t._v(t._s(t.translations.support.supportTitle))])],1)],1):t._e(),t.currentUserIsStaff?n("md-list-item",[n("router-link",{attrs:{to:"/ssa/settings/staff/profile/"+t.currentUserStaffId}},[n("md-icon",[t._v("account_circle")]),n("span",[t._v(" "+t._s(t.translations.settings.staff.profile)+" ")])],1)],1):t._e()],1)},Ft=[],Wt={name:"settings-sidenav",data:function(){return{}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("staff",["currentUserCan","currentUserIsStaff","currentUserStaffId"]))},Bt=Wt,Rt=(0,K.Z)(Bt,Gt,Ft,!1,null,null,null),qt=Rt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.translations.errors.noPermission,description:t.translations.errors.noPermissionDesc}})},Kt=[],Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"empty-state"}},[n("div",{staticClass:"empty-state"},[n("div",{staticClass:"empty-state-container"},[t.icon?n("img",{staticClass:"empty-state-image",attrs:{src:t.icon}}):t._e(),t.label?n("h3",{staticClass:"empty-state-label"},[t._v(t._s(t.label))]):t._e(),t.description?n("p",{staticClass:"empty-state-description"},[t._v(t._s(t.description))]):t._e(),t._t("default")],2)])])},Yt=[],Jt={name:"emptyState",props:["icon","label","description"],data:function(){return{}}},Xt=Jt,Qt=(0,K.Z)(Xt,Vt,Yt,!1,null,null,null),te=Qt.exports,ee={name:"noPermission",components:{Empty:te},data:function(){return{}},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api"]))},ne=ee,ie=(0,K.Z)(ne,Ht,Kt,!1,null,null,null),se=ie.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{staticClass:"ssa-guides"},[n("md-card-header",[n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.support.guides.title))])]),t.guidesLoading?n("md-card-content",[n("md-spinner",{attrs:{"md-indeterminate":""}})],1):[t.currentGuides.length?[n("md-list",t._l(t.dipslayGuides,(function(e){return n("md-list-item",{key:e.id,attrs:{href:e.link,target:"_blank"}},[n("md-avatar",[n("img",{attrs:{src:e.icon,alt:""}})]),n("div",{staticClass:"ssa-guide-label",domProps:{innerHTML:t._s(e.title)}})],1)})),1),t.currentGuides.length>3?n("md-card-actions",[n("md-button",{staticStyle:{width:"100%"},on:{click:function(e){t.showAllGuides=!t.showAllGuides}}},[t._v(t._s(this.showAllGuides?t.translations.support.guides.less:t.translations.support.guides.more))])],1):t._e()]:t._e(),t.currentGuideKey&&0===t.currentGuides.length?[n("md-card-content",[n("p",{staticClass:"md-subhead"},[t._v(t._s(t.translations.support.guides.notFound))])])]:t._e()]],2)},oe=[],re=(n(47042),n(29254),n(23236)),le=n.n(re),ce={name:"supportGuides",data:function(){return{showAllGuides:!1}},watch:{currentGuides:function(t){t.length&&(this.showAllGuides=!1)}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)("guides",["guidesLoading","currentGuideKey"])),(0,r.Se)("guides",["currentGuides"])),{},{dipslayGuides:function(){var t=this.showAllGuides?this.currentGuides:this.currentGuides.slice(0,3);return t.map((function(t){var e=(0,o.Z)({},t),n={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_content:le()(t.title,{lower:!0,strict:!0})};return e.link="".concat(t.link,"?").concat(ut().stringify(n)),e}))}})},de=ce,pe=(0,K.Z)(de,ae,oe,!1,null,null,null),ue=pe.exports,me={name:"settingsScreen",components:{NoPermission:se,Loading:st,PromoPlus:ht,PromoPro:Ct,PromoZoomUpgrade:Pt,PromoZoomAnnounce:It,SettingsSidenav:qt,SetupSms:Ut,SupportGuides:ue},data:function(){return{loading:!0,promoPlusUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-sidebar"},promoProUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"pro-features",utm_content:"general-pro-sidebar"}}},beforeRouteEnter:function(t,e,n){n((function(e){t.matched.some((function(t){return"/ssa/appointments"===t.path}))&&(e.currentUserCan("ssa_manage_appointments")||e.currentUserCan("ssa_manage_others_appointments"))||t.matched.some((function(t){return"/ssa/appointment/:id"===t.path}))&&(e.currentUserCan("ssa_manage_appointments")||e.currentUserCan("ssa_manage_others_appointments"))||t.matched.some((function(t){return"/ssa/appointment-types"===t.path}))&&e.currentUserCan("ssa_manage_appointment_types")||t.matched.some((function(t){return"/ssa/settings"===t.path}))&&e.currentUserCan("ssa_manage_site_settings")||t.matched.some((function(t){return"/ssa/settings/staff/profile/:id?"===t.path}))&&e.currentUserCan("ssa_manage_appointments")&&e.user.staff_id.toString()===e.$route.params.id.toString()||t.matched.some((function(t){return"/ssa/support"===t.path}))&&e.currentUserCan("ssa_manage_site_settings")?n():e.defaultRoutes()}))},beforeRouteUpdate:function(t,e,n){this.$refs.leftSidenav&&this.$refs.leftSidenav.close(),n()},mounted:function(){var t=this;"undefined"===typeof this.appointmentTypes?this.fetchAppointmentTypes().then((function(){t.loading=!1})).catch((function(t){console.log(t)})):this.loading=!1},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({showBanner:function(){return"undefined"!==typeof this.appointmentTypes&&this.editableAppointmentTypes&&!this.editableAppointmentTypes.length&&"appointment-type-single"!==this.$route.name}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","user"])),(0,r.rn)("appointment_types",["appointmentTypes"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),(0,r.Se)("staff",["currentUserCan","currentUserHasPermissions","currentUserHasNav","currentUserIsStaff","currentUserStaffId"])),methods:(0,o.Z)((0,o.Z)({addAppointmentType:function(){this.createNewAppointmentType(),I_.push("/ssa/appointment-types/type")},defaultRoutes:function(){this.currentUserCan("ssa_manage_appointments")||this.currentUserCan("ssa_manage_others_appointments")?this.$router.push("/ssa/appointments"):this.currentUserCan("ssa_manage_appointment_types")?this.$router.push("/ssa/appointment-types"):this.currentUserCan("ssa_manage_site_settings")?this.$router.push("/ssa/settings"):this.currentUserCan("ssa_manage_staff")&&this.$router.push("/ssa/settings/staff")},toggleLeftSidenav:function(){this.$refs.leftSidenav.toggle()}},(0,r.nv)("appointment_types",["createNewAppointmentType","fetchAppointmentTypes"])),(0,r.OI)(["updateCurrentSettings"]))},fe=me,ge=(0,K.Z)(fe,J,X,!1,null,"51c74989",null),he=ge.exports,_e=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appointments"},[t.error?n("div",{staticClass:"app-error"},[n("img",{attrs:{src:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",alt:"Error fox"}}),n("h3",{staticClass:"md-display-1"},[t._v(" "+t._s(t.translations.errors.heading)+" ")]),n("p",[t._v(" "+t._s(t.translations.errors.intro)+" "+t._s(t.translations.errors.appointmentLoading)+" ")])]):[n("div",{staticStyle:{"text-align":"right"}},[t.currentUserCan("ssa_manage_appointments")?n("md-button",{staticClass:"md-primary",on:{click:t.loadBookingEmbed}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.general.bookAppointment)+" ")],1):t._e()],1),n("appointment-filter",{attrs:{loading:t.loading},on:{update:t.loadAppointments}}),t.loading?n("loading",{attrs:{message:t.translations.settings.loadingAppointments}}):[t.displayAppointments.length&&t.displayAllAppointments?[n("md-list",{staticClass:"md-triple-line"},t._l(t.displayAppointments,(function(e,i){return n("appointments-list-item",{key:e.start_date+"-"+i,attrs:{appointment:e},on:{confirmCancel:t.confirmCancel}})})),1),t.loadingMore?n("md-spinner",{attrs:{"md-size":36,"md-indeterminate":""}}):n("md-button",{staticClass:"md-primary",attrs:{disabled:t.loadedAll},on:{click:function(e){return t.loadMoreAppointments()}}},[t._v(" "+t._s(t.translations.appointments.loadMore)+" ")])]:t.displayAppointments.length&&!t.displayAllAppointments?n("empty",{attrs:{label:t.translations.appointments.tooManyToDisplay.headline}},[n("p",[t._v(" "+t._s(t.translations.appointments.tooManyToDisplay.explanation)+" ")]),n("md-button",{staticClass:"md-primary",on:{click:t.toggleDisplayAllAppointments}},[t._v(" "+t._s(t.translations.appointments.tooManyToDisplay.action)+" ")])],1):n("empty",{attrs:{label:t.emptyLabel,icon:t.emptyIcon}},["upcoming"===t.filter.time?n("md-button",{staticClass:"md-primary",on:{click:t.loadBookingEmbed}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.general.bookAppointment)+" ")],1):t._e()],1)],n("md-dialog",{ref:"confirmCancel"},[n("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.cancelConfirm)+" ")]),n("md-dialog-content",[t.currentAppointment?n("md-list",t._l(t.availableCustomerInformation,(function(e,i,s){return n("md-list-item",{key:s},[n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i)+" ")]),n("span","string"===typeof e?[t._v(" "+t._s(e)+" ")]:[t._v(" "+t._s(e.join(", "))+" ")])])])})),1):t._e()],1),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelCancel}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmCancel)+" ")]),n("md-button",{on:{click:t.cancelAppt}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmOk)+" ")])],1)],1),n("md-dialog",{ref:"bookingDialog",staticClass:"ssa-booking-dialog",on:{close:t.loadAppointments}},[n("button",{staticClass:"close",on:{click:function(e){return t.$refs.bookingDialog.close()}}},[n("md-icon",[t._v("close")])],1),n("md-dialog-content",[n("div",{staticClass:"ssa-booking-iframe-container",domProps:{innerHTML:t._s(t.bookingEmbed)}})]),n("md-dialog-actions",[n("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1)]],2)},ve=[],ye=(n(54747),n(69826),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isSingle?n("appointments-list-item-single",{attrs:{appointment:t.appointment.appointments[0]},on:{confirmCancel:t.confirmCancel}}):n("appointments-list-item-multi",{attrs:{appointments:t.appointment.appointments,group_id:t.appointment.group_id},on:{confirmCancel:t.confirmCancel}})}),be=[],ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list-item",{class:"status-"+t.appointment.status},[t.wpUserGravatar(t.appointment.customer_id)?n("md-avatar",[n("img",{attrs:{src:t.wpUserGravatar(t.appointment.customer_id),alt:t.wpUserName(t.appointment.customer_id)}}),n("md-tooltip",[t._v(" "+t._s(t.wpUserName(t.appointment.customer_id))+" ")])],1):n("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointment.type_label}},[t._v(" person ")]),n("div",{staticClass:"md-list-text-container"},[n("span",["canceled"===t.appointment.status?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),"abandoned"===t.appointment.status?[t._v(" "+t._s(t.translations.general.abandoned)+": ")]:t._e(),t._v(" "+t._s(t.appointmentName)+" ")],2),n("span",[t._v(" "+t._s(t.appointmentTypeTitle)+" "),t.appointmentStaffNames(t.appointment)?n("span",{staticClass:"staff-with"},[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointment))+" ")]):t._e()]),n("p",[t._v(" "+t._s(t.appointmentDisplayDate)+" ")])]),n("md-list-expand",[n("md-list",{staticClass:"nested-list",class:{"md-double-line":!t.isBasic}},[t.appointment.web_meeting_url?n("md-list-item",{staticClass:"md-inset"},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" video_call ")]),n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(t._s(t.translations.appointments.webMeetings.label))]),n("span",[n("a",{attrs:{href:t.appointment.web_meeting_url,target:"_blank"}},[t._v(" "+t._s(t.appointment.web_meeting_url)+" ")])])])],1):t._e(),t.isBasic?t._l(t.basicCustomerInformation,(function(e,i,s){return n("md-list-item",{key:s,staticClass:"md-inset"},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},["Email"===i?[t._v(" email ")]:"Phone"===i?[t._v(" phone ")]:"Address"===i?[t._v(" place ")]:"Notes"===i?[t._v(" assignment ")]:t._e()],2),n("span",[t._v(t._s(e))])],1)})):t._l(t.paidCustomerInformation,(function(e,i,s){return n("md-list-item",{key:s,staticClass:"md-inset"},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" "+t._s(t.icons[i]?t.icons[i]:"bookmark")+" ")]),n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(t._s(i))]),n("span",["string"===typeof e?[t._v(" "+t._s(e)+" ")]:[t._v(" "+t._s(e.join(", "))+" ")]],2)])],1)})),parseFloat(t.appointment.payment_received)?n("md-list-item",{staticClass:"md-inset"},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" payment ")]),n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(" "+t._s(t.translations.appointments.paymentReceived)+" ")]),n("span",[t._v(" "+t._s(t.displayPrice(t.appointment.payment_received,t.currency))+" ")])])],1):t._e(),n("md-list-item",{staticClass:"md-inset"},[n("span",[n("router-link",{attrs:{tag:"md-button",to:"/ssa/appointment/"+t.appointment.id}},[t._v(" "+t._s(t.translations.appointments.viewDetails)+" ")]),t.isCancelable?n("md-button",{on:{click:function(e){return t.confirmCancel(t.appointment.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")]):t._e()],1)])],2)],1)],1)},Ce=[],Se={name:"appointmentsListItemSingle",props:["appointment"],data:function(){return{moment:R()}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({appointmentDisplayDate:function(){var t=R()(this.appointment.start_date,this.timestampFormat).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment);return this.shouldDisplayTimezone&&(t+=" "+R().utc(this.appointment.start_date).tz(this.settings.global.timezone_string).format("z")),t},appointmentName:function(){return this.appointment.customer_information.name?this.appointment.customer_information.name:this.appointment.customer_information.Name},appointmentType:function(){var t=this,e=this.appointmentTypes.filter((function(e){return e.id===t.appointment.appointment_type_id}));return e[0]},appointmentTypeTitle:function(){return this.appointment.type_title?this.appointment.type_title:this.translations.appointments.deletedType},availableCustomerInformation:function(){var t=this;if(!this.appointment)return[];var e={};return Object.keys(this.appointment.customer_information).forEach((function(n){t.appointment.customer_information[n]&&t.appointment.customer_information[n].length&&(e[n]=t.appointment.customer_information[n])})),e},basicCustomerInformation:function(){var t=this;if(!this.appointment||!this.isBasic)return[];var e={};return Object.keys(this.availableCustomerInformation).forEach((function(n){"name"!==n&&(e[n]=t.appointment.customer_information[n])})),e},paidCustomerInformation:function(){var t=this;if(!this.appointment||this.isBasic)return[];var e={};return Object.keys(this.availableCustomerInformation).forEach((function(n){"Name"!==n&&(e[n]=t.appointment.customer_information[n])})),e},currency:function(){return this.appointmentType&&Object.prototype.hasOwnProperty.call(this.appointmentType,"payments")&&this.appointmentType.payments.currency?this.appointmentType.payments.currency:Object.prototype.hasOwnProperty.call(this.settings,"payments")&&this.settings.payments.default_currency?this.settings.payments.default_currency:null},icons:function(){var t={};return this.appointmentType&&this.appointmentType.custom_customer_information.forEach((function(e){t[e.field]=e.icon})),t},isBasic:function(){return!this.settings.installed.license},isCancelable:function(){var t=R()(),e=R()(this.appointment.start_date,this.timestampFormat);return e.isSameOrAfter(t)&&"canceled"!==this.appointment.status},shouldDisplayTimezone:function(){return this.detectedTimezone!==this.settings.global.timezone_string}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat"])),(0,r.rn)("appointment_types",["appointmentTypes"])),(0,r.Se)(["detectedTimezone","wpUserGravatar","wpUserName"])),(0,r.Se)("payments",["displayPrice"])),(0,r.Se)("staff",["appointmentStaffNames"])),methods:{confirmCancel:function(t){this.$emit("confirmCancel",t)}}},we=Se,Te=(0,K.Z)(we,ke,Ce,!1,null,null,null),xe=Te.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list-item",{class:"status-"+t.groupAppointmentStatus(this.appointments)},[n("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointmentInfo.type_label}},[t._v(" people ")]),n("div",{staticClass:"md-list-text-container"},[n("span",["canceled"===t.groupAppointmentStatus(this.appointments)?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),"abandoned"===t.groupAppointmentStatus(this.appointments)?[t._v(" "+t._s(t.translations.general.abandoned)+": ")]:t._e(),t._v(" "+t._s(t.appointments.length)+" "+t._s(t.translations.appointments.group.people)+" "),t.uniqueStatuses.length>1?[t._l(t.statusCounts,(function(e,i){return[n("i",{key:i},[t._v(" "+t._s(e)+" "+t._s(t.translations.appointments.statuses[i])+" ")])]}))]:t._e()],2),n("span",[t._v(" "+t._s(t.appointmentInfo.type_title)+" "),t.appointmentStaffNames(t.appointments)?n("span",{staticClass:"staff-with"},[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointments))+" ")]):t._e()]),n("p",[t._v(" "+t._s(t.appointmentDisplayDate)+" ")])]),n("md-list-expand",[n("md-list",{staticClass:"nested-list md-triple-line"},[t._l(t.appointments,(function(e,i){return n("md-list-item",{key:i,staticClass:"md-inset",class:"status-"+e.status},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointmentInfo.type_label}},[t._v(" person ")]),n("div",{staticClass:"md-list-text-container"},[n("span",["canceled"===e.status?[t._v(" "+t._s(t.translations.general.canceled)+": ")]:t._e(),t._v(" "+t._s(e.customer_information.Name)+" ")],2),n("span",[t._v(" "+t._s(e.customer_information.Email)+" ")]),n("p",[n("router-link",{attrs:{to:"/ssa/appointment/"+e.id}},[t._v(" "+t._s(t.translations.appointments.group.viewDetails))]),t.isCancelable&&"canceled"!==e.status?[t._v(" | "),n("button",{staticClass:"link",on:{click:function(n){return t.confirmCancel(e.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")])]:t._e()],2)])],1)})),n("md-list-item",{staticClass:"md-inset"},[n("span",[n("router-link",{attrs:{tag:"md-button",to:"/ssa/event/"+t.group_id}},[t._v(" "+t._s(t.translations.appointments.viewDetails)+" ")])],1)])],2)],1)],1)},Pe=[],Me=(n(69600),n(92196)),Ee=n.n(Me),De={name:"appointmentsListItemMulti",props:["appointments","group_id"],data:function(){return{moment:R()}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({appointmentDisplayDate:function(){var t=R()(this.appointmentInfo.start_date,this.timestampFormat).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment);return t},appointmentInfo:function(){var t=this.appointments[0];return{start_date:t.start_date,type_label:t.type_label,type_title:t.type_title?t.type_title:this.translations.appointments.deletedType}},isCancelable:function(){var t=R()(),e=R()(this.appointmentInfo.start_date,this.timestampFormat);return e.isSameOrAfter(t)},staffNames:function(){var t=this,e=this.appointment.staff_ids.map((function(e){return t.staff.find((function(t){return parseInt(e,10)===parseInt(t.id,10)})).display_name}));return e.join(", ")},statusCounts:function(){var t=this,e={};return this.uniqueStatuses.map((function(n){var i=t.appointments.filter((function(t){return t.status===n}));e[n]=i.length})),e},uniqueStatuses:function(){var t=this.appointments.map((function(t){return t.status}));return Ee().uniq(t)}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat"])),(0,r.Se)(["detectedTimezone"])),(0,r.Se)("appointments",["groupAppointmentStatus"])),(0,r.Se)("staff",["appointmentStaffNames"])),methods:{confirmCancel:function(t){this.$emit("confirmCancel",t)}}},$e=De,Oe=(0,K.Z)($e,Ae,Pe,!1,null,"596214e2",null),Ie=Oe.exports,Ze={name:"appointmentsListItem",props:["appointment"],components:{AppointmentsListItemSingle:xe,AppointmentsListItemMulti:Ie},data:function(){return{}},computed:{isSingle:function(){return 1===this.appointment.appointments.length}},methods:{confirmCancel:function(t){this.$emit("confirmCancel",t)}}},ze=Ze,je=(0,K.Z)(ze,ye,be,!1,null,null,null),Le=je.exports,Ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appointment-filter"},[n("md-toolbar",{staticClass:"md-transparent"},[n("md-input-container",{staticClass:"title"},[n("label",{attrs:{for:"filter-time"}},[n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointments.filter.timeLabel)+" ")])]),n("md-select",{attrs:{name:"filter-time",id:"filter-time",disabled:t.loading},model:{value:t.filterTime,callback:function(e){t.filterTime=e},expression:"filterTime"}},[n("md-option",{attrs:{value:"upcoming"}},[t._v(" "+t._s(t.translations.appointments.upcoming)+" ")]),n("md-option",{attrs:{value:"past"}},[t._v(" "+t._s(t.translations.appointments.past)+" ")]),n("md-option",{attrs:{value:"range"}},[t._v(" "+t._s(t.translations.appointments.dateRange)+" ")])],1)],1),n("div",{staticStyle:{flex:"1"}}),n("md-button",{staticClass:"md-primary indicator-button",on:{click:t.toggleFilters}},[n("md-icon",[t._v("filter_list")]),t._v(" "+t._s(t.filterLabel)+" "),t.filterApplied?n("span",{staticClass:"indicator"}):t._e()],1),n("md-button",{staticClass:"md-primary",attrs:{disabled:!t.displayAppointments.length},on:{click:t.exportAppointments}},[n("md-icon",[t._v("get_app")]),t._v(" "+t._s(t.translations.appointments.filter.export)+" "),n("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(t._s(t.translations.appointments.filter.exportTip))])],1)],1),t.openFilters?n("fieldset",{ref:"filterToolbar",staticClass:"appointment-filter-bar"},[n("legend",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.appointments.filter.title)+" ")]),n("div",{staticClass:"clear"}),"range"===t.filterTime?n("div",{staticClass:"appointment-filter-bar-wrap"},[n("div",{staticClass:"filter-field"},[n("md-input-container",{attrs:{"md-clearable":""}},[n("label",{attrs:{for:"filter_date_range_start"}},[t._v(" "+t._s(t.translations.appointments.filter.startDate)+" ")]),n("date-time-picker",{model:{value:t.rangeMin,callback:function(e){t.rangeMin=e},expression:"rangeMin"}})],1)],1),n("div",{staticClass:"filter-field"},[n("md-input-container",{attrs:{"md-clearable":""}},[n("label",{attrs:{for:"filter_date_range_end"}},[t._v(" "+t._s(t.translations.appointments.filter.endDate)+" ")]),n("date-time-picker",{model:{value:t.rangeMax,callback:function(e){t.rangeMax=e},expression:"rangeMax"}})],1)],1)]):t._e(),n("div",{staticClass:"appointment-filter-bar-wrap"},[n("div",{staticClass:"filter-field"},[n("md-input-container",[n("label",{attrs:{for:"appointment-types"}},[t._v(" "+t._s(t.translations.appointments.filter.typeLabel)+" "),t.filter.appointment_type_id.length?[t._v(" ("+t._s(t.filter.appointment_type_id.length)+" "+t._s(t.translations.appointments.filter.selected)+") ")]:t._e()],2),n("md-select",{attrs:{name:"appointment-types",id:"appointment-types",multiple:"",disabled:t.loading},model:{value:t.filterAppointmentTypes,callback:function(e){t.filterAppointmentTypes=e},expression:"filterAppointmentTypes"}},t._l(t.editableAppointmentTypes,(function(e,i){return n("md-option",{key:i,attrs:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),1)],1)],1),n("div",{staticClass:"filter-field"},[n("md-input-container",[n("label",{attrs:{for:"appointment-statuses"}},[t._v(" "+t._s(t.translations.appointments.filter.statusLabel)+" "),t.filter.status.length?[t._v(" ("+t._s(t.filter.status.length)+" "+t._s(t.translations.appointments.filter.selected)+") ")]:t._e()],2),n("md-select",{attrs:{name:"appointment-statuses",id:"appointment-statuses",multiple:"",disabled:t.loading},model:{value:t.filterAppointmentStatuses,callback:function(e){t.filterAppointmentStatuses=e},expression:"filterAppointmentStatuses"}},t._l(t.appointmentStatuses,(function(e,i){return n("md-option",{key:i,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointments.statuses[e])+" ")])})),1)],1)],1),t.currentUserCan("ssa_manage_others_appointments")?n("div",{staticClass:"filter-field"},[n("md-input-container",[n("label",{attrs:{for:"appointment-staff"}},[t._v(" "+t._s(t.translations.appointments.filter.staffLabel)+" "),t.filter.staff.length?[t._v(" ("+t._s(t.filter.staff.length)+" "+t._s(t.translations.appointments.filter.selected)+") ")]:t._e()],2),n("md-select",{attrs:{name:"appointment-staff",id:"appointment-staff",multiple:"",disabled:t.loading},model:{value:t.filterAppointmentStaff,callback:function(e){t.filterAppointmentStaff=e},expression:"filterAppointmentStaff"}},t._l(t.staffStatusPublish,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.display_name)+" ")])})),1)],1)],1):t._e(),t.currentUserCan("ssa_manage_others_appointments")?t._e():n("div",{staticClass:"filter-button"},[n("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied||t.loading},on:{click:t.resetFilter}},[n("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.appointments.filter.reset)+" ")],1)],1)]),t.currentUserCan("ssa_manage_others_appointments")?n("div",{staticClass:"appointment-filter-bar-wrap"},[n("div",{staticClass:"filter-button full-width"},[n("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied||t.loading},on:{click:t.resetFilter}},[n("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.appointments.filter.reset)+" ")],1)],1)]):t._e()]):t._e()],1)},Ue=[],Ge=(n(38862),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"date-time-picker-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.displayDateTime,expression:"displayDateTime"}],ref:"input",staticClass:"md-input",attrs:{type:"text",id:t.id,readonly:""},domProps:{value:t.displayDateTime},on:{click:t.openPicker,input:function(e){e.target.composing||(t.displayDateTime=e.target.value)}}}),n("md-button",{directives:[{name:"show",rawName:"v-show",value:t.displayDateTime,expression:"displayDateTime"}],staticClass:"md-icon-button md-clear-input",on:{click:t.clearValue}},[n("md-icon",[t._v("clear")])],1),n("md-dialog",{ref:"picker",staticClass:"date-picker",attrs:{"md-open-from":"#"+t.id}},[n("md-dialog-content",[n("div",{ref:"rome"})]),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closePicker}},[t._v("OK")])],1)],1)],1)}),Fe=[],We=n(33194),Be=n.n(We),Re={name:"dateTime",props:{value:{type:String}},data:function(){return{id:null,rome:Be(),moment:R(),picker:null}},mounted:function(){var t=this;this.id="picker-"+this._uid,this.picker=Be()(this.$refs.rome,{weekStart:this.settings.global.start_of_week,initialValue:this.initialValue,timeFormat:this.settings.global.time_format_moment}).on("data",(function(e){t.convertToUTC(e)})),this.styleContainer(this.$refs.input)},watch:{value:function(){this.styleContainer(this.$refs.input)}},beforeDestroy:function(){this.picker&&this.picker.destroy()},computed:(0,o.Z)({isValueValid:function(){return R().utc(this.value,this.timestampFormat).isValid()},displayDateTime:{get:function(){return this.isValueValid?R().utc(this.value,this.timestampFormat).tz(this.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment+" z"):null},set:function(){}},initialValue:function(){return this.isValueValid?R().utc(this.value,this.timestampFormat).tz(this.settings.global.timezone_string).format(this.timestampFormat):R()().startOf("day")}},(0,r.rn)(["settings","timestampFormat"])),methods:{convertToUTC:function(t){var e=R().tz(t,this.timestampFormat,this.settings.global.timezone_string).utc().format(this.timestampFormat);this.$emit("input",e)},clearValue:function(){this.$emit("input",null)},openPicker:function(){this.picker.setValue(this.initialValue),this.picker.refresh(),this.$refs.picker.open()},closePicker:function(){this.$refs.picker.close()},styleContainer:function(t){var e=this.getClosest(t,".md-input-container");this.displayDateTime?e.classList.add("md-has-value"):e.classList.remove("md-has-value")},getClosest:function(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}}},qe=Re,He=(0,K.Z)(qe,Ge,Fe,!1,null,null,null),Ke=He.exports,Ve={name:"appointmentFilter",store:Ey,components:{DateTimePicker:Ke},props:{loading:{type:Boolean,default:!1}},data:function(){return{appointmentStatuses:b,defaultAppointmentFilter:k,openFilters:!1}},mounted:function(){if(this.localStorageGet("ssaAppointmentFilter"))try{this.setFilter(JSON.parse(this.localStorageGet("ssaAppointmentFilter"))),this.localStorageSet("ssaAppointmentFilter",this.localStorageGet("ssaAppointmentFilter"),36e5)}catch(t){localStorage.removeItem("ssaAppointmentFilter")}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({filterAppointmentStatuses:{get:function(){return this.filter.status},set:function(t){var e=JSON.stringify(this.filter.status),n=JSON.stringify(t);e!==n&&this.emitFilterUpdate(),this.setFilter({key:"status",value:t})}},filterAppointmentStaff:{get:function(){return this.filter.staff},set:function(t){var e=JSON.stringify(this.filter.staff),n=JSON.stringify(t);e!==n&&this.emitFilterUpdate(),this.setFilter({key:"staff",value:t})}},filterAppointmentTypes:{get:function(){return this.filter.appointment_type_id},set:function(t){var e=JSON.stringify(this.filter.appointment_type_id),n=JSON.stringify(t);e!==n&&this.emitFilterUpdate(),this.setFilter({key:"appointment_type_id",value:t})}},filterLabel:function(){return this.openFilters?this.translations.appointments.filter.filterClose:this.translations.appointments.filter.filter},filterTime:{get:function(){return this.filter.time},set:function(t){var e=JSON.stringify(this.filter.time),n=JSON.stringify(t);e!==n&&"range"!==t&&this.emitFilterUpdate(),"range"===t&&(this.openFilters=!0),this.setFilter({key:"date_range_min",value:null}),this.setFilter({key:"date_range_max",value:null}),this.setFilter({key:"time",value:t})}},rangeMin:{get:function(){return this.filter.date_range_min},set:function(t){var e=JSON.stringify(this.filter.date_range_min),n=JSON.stringify(t);e!==n&&this.emitFilterUpdate(),this.setFilter({key:"date_range_min",value:t})}},rangeMax:{get:function(){return this.filter.date_range_max},set:function(t){var e=JSON.stringify(this.filter.date_range_max),n=JSON.stringify(t);e!==n&&this.emitFilterUpdate(),this.setFilter({key:"date_range_max",value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat"])),(0,r.rn)("appointments",["filter"])),(0,r.Se)(["localStorageGet","localStorageSet"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),(0,r.Se)("appointments",["displayAppointments","filterApplied","csvExportFile"])),(0,r.Se)("staff",["currentUserCan","staffStatusPublish"])),methods:(0,o.Z)({emitFilterUpdate:Ee().debounce((function(){this.localStorageSet("ssaAppointmentFilter",JSON.stringify(this.filter),36e5),this.setLoadedAll(!1),this.setPage(1),this.$emit("update")}),1e3),exportAppointments:function(){var t=[];this.displayAppointments.map((function(e){t=t.concat(e.appointments)})),this.csvExportFile(t)},resetFilter:function(){this.setFilter(k),this.emitFilterUpdate(),this.openFilters=!1},toggleFilters:function(){this.openFilters=!this.openFilters}},(0,r.OI)("appointments",["setFilter","setLoadedAll","setPage"]))},Ye=Ve,Je=(0,K.Z)(Ye,Ne,Ue,!1,null,null,null),Xe=Je.exports,Qe={name:"appointmentsList",store:Ey,components:{loading:st,appointmentsListItem:Le,Empty:te,AppointmentFilter:Xe},data:function(){return{currentAppointment:null,displayAllAppointments:!0,error:!1,fetchedStaff:!1,fetchedAppointments:!1,loading:!0,loadingMore:!1,moment:R()}},mounted:function(){this.init()},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({emptyIcon:function(){return this.filterApplied?"":"upcoming"===this.filter.time?this.api.admin_static_url+"/images/no-appointments.svg":""},emptyLabel:function(){return this.filterApplied?this.translations.appointments.emptyAll:"upcoming"===this.filter.time?this.translations.appointments.emptyUpcoming:"past"===this.filter.time?this.translations.appointments.emptyPast:this.translations.appointments.emptyAll},showTz:function(){var t=this.detectedTimezone;return t!==this.settings.global.timezone_string},availableCustomerInformation:function(){var t=this;if(!this.currentAppointment)return[];var e={};return Object.keys(this.currentAppointment.customer_information).forEach((function(n){t.currentAppointment.customer_information[n].length&&(e[n]=t.currentAppointment.customer_information[n])})),e}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["timestampFormat","settings","api","bookingEmbed"])),(0,r.rn)("appointments",["appointments","filter","loadedAll","page","perPage"])),(0,r.rn)("staff",["staff"])),(0,r.Se)(["detectedTimezone"])),(0,r.Se)("appointments",["appointmentCount","definedRange","displayAppointments","filterApplied"])),(0,r.Se)("payments",["paymentsModule"])),(0,r.Se)("staff",["currentUserCan","staffModule"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({toggleDisplayAllAppointments:function(){this.displayAllAppointments=!this.displayAllAppointments},calculateDisplayAllAppointments:function(){var t="range"===this.filter.time,e=this.filter.date_range_min?R()(this.filter.date_range_min).utc().format(this.timestampFormat):null,n=this.filter.date_range_max?R()(this.filter.date_range_max).utc().format(this.timestampFormat):null,i=t&&e&&n;this.displayAllAppointments=this.displayAppointments.length<101&&!i},cancelAppt:function(){var t=this.currentAppointment.id,e={status:"canceling"};this.setAppointmentData({id:t,appt:e});var n={id:t,status:"canceled"};this.saveAppointment(n).then((function(){})).catch((function(t){console.log(t)})),this.$refs["confirmCancel"].close()},cancelCancel:function(){this.$refs["confirmCancel"].close()},confirmCancel:function(t){this.currentAppointment=this.appointments.find((function(e){return e.id.toString()===t.toString()})),this.$refs["confirmCancel"].open()},init:function(){var t=this;return!this.staffModule.enabled||this.staff||this.fetchedStaff?this.displayAppointments.length||this.fetchedAppointments?void(this.loading=!1):(this.loading=!0,void this.fetchAppointmentsFiltered().then((function(){t.init(),t.fetchedAppointments=!0})).catch((function(e){t.error=!0,t.loading=!1,t.fetchedAppointments=!0,console.log(e)}))):(this.loading=!0,void this.fetchStaff().then((function(){t.init(),t.fetchedStaff=!0})).catch((function(e){t.error=!0,t.loading=!1,t.fetchedStaff=!0,console.log(e)})))},loadAppointments:function(){var t=this;this.displayAppointments.length||(this.loading=!0),this.definedRange&&(this.loading=!0),this.fetchAppointmentsFiltered().then((function(){t.calculateDisplayAllAppointments(),t.loading=!1})).catch((function(e){t.error=!0,t.loading=!1,console.log(e)}))},loadMoreAppointments:function(){var t=this;this.loadingMore=!0;var e=this.page;this.setPage(e+1),this.fetchAppointmentsFiltered().then((function(){t.loadingMore=!1})).catch((function(e){t.error=!0,t.loadingMore=!1,console.log(e)}))},loadBookingEmbed:function(){var t=this;this.fetchBookingEmbed().then((function(){t.$refs.bookingDialog.open()}))}},(0,r.nv)(["fetchBookingEmbed"])),(0,r.nv)("appointments",["fetchAppointmentsFiltered","saveAppointment"])),(0,r.nv)("staff",["fetchStaff"])),(0,r.OI)("appointments",["setAppointmentData","setPage"]))},tn=Qe,en=(0,K.Z)(tn,_e,ve,!1,null,null,null),nn=en.exports,sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appointment"},[t.error?n("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.errorLabel,description:t.errorDescription}}):t.loading?n("loading",{attrs:{message:t.loadingMessage}}):[n("router-link",{attrs:{tag:"md-button",to:"/ssa/appointments"}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.appointments.viewAll)+" "),n("span",{staticClass:"screen-reader-text"},[t._v("View all appointments")])],1),n("md-toolbar",{staticClass:"md-transparent"},[n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.translations.appointments.appointmentDetails))]),n("md-menu",{attrs:{"md-direction":"bottom left"}},[n("md-button",{attrs:{"md-menu-trigger":""}},[n("md-icon",[t._v("more_vert")])],1),n("md-menu-content",[t.cancelable?[n("md-menu-item",{on:{click:t.confirmCancel}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),n("md-menu-item",{on:{click:t.editAppointment}},[t._v(" "+t._s(t.translations.actions.editAsCustomer)+" ")])]:t._e(),n("md-menu-item",{on:{click:t.confirmDelete}},[t._v(" "+t._s(t.translations.actions.delete)+" ")])],2)],1)],1),n("div",{staticClass:"single-appointment"},[n("h3",{staticClass:"customer-name"},[t.wpUserGravatar(t.appointment.customer_id)?n("md-avatar",[n("img",{attrs:{src:t.wpUserGravatar(t.appointment.customer_id),alt:t.wpUserName(t.appointment.customer_id)}}),n("md-tooltip",[t._v(t._s(t.wpUserName(t.appointment.customer_id)))])],1):n("md-icon",{staticClass:"md-primary md-size-2x",attrs:{"md-theme":t.appointment.type_label}},[t._v(" face ")]),t._v(" "+t._s(t.appointmentName)+" ")],1),n("p",{staticClass:"type"},[t._v(" "+t._s(t.appointment.type_title)+" "),t.appointmentStaffNames(t.appointment)?[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.appointment))+" ")]:t._e()],2),n("p",{staticClass:"time"},[t._v(" "+t._s(t.moment(t.appointment.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "+t._s(t.moment.utc(t.appointment.start_date).tz(t.settings.global.timezone_string).format("z"))+" ("+t._s(t.displayDuration(t.appointment.type_duration))+") ")]),t.appointment.web_meeting_url?n("p",{staticClass:"meeting"},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(" video_call ")]),n("strong",[t._v(t._s(t.translations.appointments.webMeetings.label))]),n("a",{attrs:{href:t.appointment.web_meeting_url,target:"_blank"}},[t._v(" "+t._s(t.appointment.web_meeting_url)+" ")])],1):t._e(),t.isBasic?n("ul",{staticClass:"customer-information"},t._l(t.basicCustomerInformation,(function(e,i,s){return n("li",{key:s},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},["Email"===i?[t._v("email")]:"Phone"===i?[t._v("phone")]:"Address"===i?[t._v("place")]:"Notes"===i?[t._v("assignment")]:t._e()],2),n("span",[t._v(t._s(e))])],1)})),0):n("ul",{staticClass:"customer-information"},t._l(t.paidCustomerInformation,(function(e,i,s){return n("li",{key:s},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointment.type_label}},[t._v(t._s(t.icons[i]?t.icons[i]:"bookmark"))]),n("span",[n("span",[t._v(t._s(i))]),n("span","string"===typeof e?[t._v(t._s(e))]:[t._v(t._s(e.join(", ")))])])],1)})),0),t.loadingMeta?n("loading",{attrs:{size:"body",message:t.translations.appointments.metaLoading}}):!t.loading&&t.appointment&&t.appointment.meta?n("appointment-meta",{attrs:{"appointment-id":t.id}}):t._e(),n("div",{staticClass:"appointment-details"},[n("dl",{staticClass:"appointment-detail"},[n("dt",[t._v(t._s(t.translations.appointments.status))]),n("dd",[t._v(" "+t._s(t.appointment.status)+" "),"0"!==t.appointment.rescheduled_to_appointment_id?[t._v(" - "+t._s(t.translations.appointments.rescheduled))]:t._e(),"0"!==t.appointment.rescheduled_from_appointment_id&&t.rescheduledFromAppointment?[n("div",[n("strong",[t._v(t._s(t.translations.appointments.viewOriginal)+":")]),t._v(" "),n("router-link",{attrs:{to:"/ssa/appointment/"+t.appointment.rescheduled_from_appointment_id}},[t._v(t._s(t.rescheduledFromDatetime))])],1)]:t._e(),"0"!==t.appointment.rescheduled_to_appointment_id&&t.rescheduledToAppointment?[n("div",[n("strong",[t._v(t._s(t.translations.appointments.viewRescheduled)+":")]),t._v(" "),n("router-link",{attrs:{to:"/ssa/appointment/"+t.appointment.rescheduled_to_appointment_id}},[t._v(t._s(t.rescheduledToDatetime))])],1)]:t._e()],2)]),n("dl",{staticClass:"appointment-detail"},[n("dt",[t._v(t._s(t.translations.appointments.created))]),n("dd",[t._v(t._s(t.moment.utc(t.appointment.date_created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z")))])]),t.wpUserName(t.appointment.customer_id)?n("dl",{staticClass:"appointment-detail"},[n("dt",[t._v(t._s(t.translations.appointments.customer))]),n("dd",[n("a",{attrs:{href:t.wpUserLink(t.appointment.customer_id)}},[t._v(" "+t._s(t.wpUserName(t.appointment.customer_id))+" ")])])]):t._e(),t.wpUserName(t.appointment.author_id)?n("dl",{staticClass:"appointment-detail"},[n("dt",[t._v(t._s(t.translations.appointments.author))]),n("dd",[n("a",{attrs:{href:t.wpUserLink(t.appointment.author_id)}},[t._v(" "+t._s(t.wpUserName(t.appointment.author_id))+" ")])])]):t._e(),n("dl",{staticClass:"appointment-detail"},[n("dt",[t._v(t._s(t.translations.appointments.lastMod))]),n("dd",[t._v(t._s(t.moment.utc(t.appointment.date_modified,t.timestampFormat).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z")))])]),t.cancelable?n("dl",{staticClass:"appointment-detail"},[n("dt",[t._v(t._s(t.translations.appointments.cancelRescheduleLink))]),n("dd",[n("a",{attrs:{href:t.appointment.public_edit_url,target:"_blank"}},[t._v(t._s(t.translations.appointments.cancelRescheduleLinkOpen))])])]):t._e()]),t.loadingPayments?n("loading",{attrs:{message:t.translations.appointments.paymentLoading}}):t.appointment.payments&&t.appointment.payments.length>0?n("div",{staticClass:"appointment-payments"},[n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.appointments.paymentInformation))]),n("div",{staticClass:"payment-list"},t._l(t.appointment.payments,(function(t){return n("appointment-payment-item",{key:t.id,attrs:{payment:t}})})),1)]):t._e()],1)],n("md-dialog",{ref:"confirmCancel"},[n("md-dialog-title",[t._v(t._s(t.translations.appointments.cancelConfirm))]),n("md-dialog-content",[t.appointment?n("md-list",t._l(t.availableCustomerInformation,(function(e,i){return n("md-list-item",{key:i},[n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i))]),n("span","string"===typeof e?[t._v(t._s(e))]:[t._v(t._s(e.join(", ")))])])])})),1):t._e()],1),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelCancel}},[t._v(t._s(t.translations.appointments.cancelConfirmCancel))]),n("md-button",{on:{click:t.cancelAppt}},[t._v(t._s(t.translations.appointments.cancelConfirmOk))])],1)],1),n("md-dialog",{ref:"confirmDelete"},[n("md-dialog-title",[t._v(t._s(t.translations.appointments.deleteConfirm))]),n("md-dialog-content",[n("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.appointments.deleteConfirmExplanation)+" "),t.cancelable?[t._v(" "+t._s(t.translations.appointments.deleteConfirmExplanationCancelable)+" ")]:t._e()],2),t.appointment?n("md-list",t._l(t.availableCustomerInformation,(function(e,i){return n("md-list-item",{key:i},[n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i))]),n("span","string"===typeof e?[t._v(t._s(e))]:[t._v(t._s(e.join(", ")))])])])})),1):t._e()],1),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.appointments.cancelDeleteCancel))]),n("md-button",{on:{click:t.deleteAppt}},[t._v(t._s(t.translations.appointments.cancelDeleteOk))])],1)],1),n("md-dialog",{ref:"editDialog",staticClass:"ssa-iframe-dialog",on:{close:t.refreshAppointment}},[n("button",{staticClass:"md-icon-button md-raised",on:{click:function(e){return t.$refs.editDialog.close()}}},[n("md-icon",[t._v("close")])],1),n("md-dialog-content",[n("div",{staticClass:"ssa-dialog-iframe-container"},[n("iframe",{attrs:{src:t.editEmbedSrc,loading:"eager"}})])])],1)],2)},an=[],on=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{key:t.payment.id,staticClass:"payment-list-item"},[n("div",{staticClass:"payment-row"},[n("div",{staticClass:"amount",class:t.payment.status},[t._v(" "+t._s(t.formattedPrice)+" "),n("span",{staticClass:"currency"},[t._v(t._s(t.payment.currency))])]),n("div",{staticClass:"status"},[n("md-chip",{staticClass:"md-primary",attrs:{"md-theme":t.statusTheme}},[t._v(" "+t._s(t.translations.appointments.payments.statuses[t.payment.status])+" ")])],1)]),n("div",{staticClass:"payment-row"},[n("div",{staticClass:"gateway"},[n("span",{staticClass:"gateway-name"},[t._v(t._s(t.displayGateway(t.payment.gateway)))]),"stripe"===t.payment.gateway?[t._v(" - "),n("a",{staticClass:"gateway-id",attrs:{href:t.stripePaymentLink+t.payment.gateway_transaction_id,target:"_blank"}},[t._v(" "+t._s(t.payment.gateway_transaction_id)+" ")])]:t._e()],2),n("div",{staticClass:"mode"},[n("span",{staticClass:"mode-tag",class:t.payment.payment_mode},[t._v(" "+t._s(t.translations.appointments.payments.modes[t.payment.payment_mode])+" ")])])]),n("div",{staticClass:"payment-row"},[n("div",{staticClass:"date"},["stripe"===t.payment.gateway?[t._v(" "+t._s(t.moment.unix(t.payment.gateway_payload.created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z"))+" ")]:[t._v(" "+t._s(t.moment.utc(t.payment.date_created).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment+" z"))+" ")]],2)]),t.payment.notes?n("div",{staticClass:"payment-row"},[n("p",[t._v(t._s(t.payment.notes))])]):t._e(),"stripe"===t.payment.gateway&&"card"===t.paymentMethod?n("div",{staticClass:"payment-row"},[n("div",{staticClass:"cc"},[t._v(" "+t._s(t.card.brand)+" "),n("span",{staticClass:"cc-number"},[t._v(" • • • • "+t._s(t.card.last4)+" ")]),t._v(" "+t._s(t.translations.appointments.payments.expires)+" "+t._s(t.card.exp_month)+"/"+t._s(t.card.exp_year)+" ")])]):t._e()])},rn=[],ln={name:"payment-item",props:["payment"],data:function(){return{moment:R(),stripePaymentLink:M}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({statusTheme:function(){var t="";switch(this.payment.status){case"succeeded":t="green";break;case"pending":t="amber";break;case"failed":t="orange";break}return t},formattedPrice:function(){var t=this.payment.amount_paid;return"succeeded"!==this.payment.status&&(t=this.payment.amount_attempted),this.displayPrice(t,this.payment.currency)},charge:function(){return this.payment.gateway_response.charges.data[0]},paymentMethod:function(){return this.charge?this.charge.payment_method_details.type:null},card:function(){return this.charge&&"card"===this.paymentMethod?this.charge.payment_method_details.card:null}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings"])),(0,r.Se)("payments",["displayGateway","displayPrice"]))},cn=ln,dn=(0,K.Z)(cn,on,rn,!1,null,null,null),pn=dn.exports,un=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showMeta?n("div",{staticClass:"appointment-details"},t._l(t.whitelistedMetaWithLabelValues,(function(e){return n("dl",{key:e.key,staticClass:"appointment-detail"},[n("dt",[t._v(t._s(e.name))]),"entry"===e.type?n("dd",[n("a",{attrs:{href:e.value}},[t._v(" "+t._s(t.translations.appointments.metaFields.viewEntry)+" ")])]):t._e(),"url"===e.type?n("dd",[n("a",{attrs:{href:e.value}},[t._v(" "+t._s(e.value)+" ")])]):t._e(),"string"===e.type?n("dd",[t._v(" "+t._s(e.value)+" ")]):t._e()])})),0):t._e()},mn=[],fn=(n(38559),n(69720),n(26699),n(32023),{name:"appointmentMeta",props:["appointmentId"],data:function(){return{meta_whitelist:["formidable_entry_admin_url","gravity_entry_admin_url","booking_url","booking_post_id","booking_title"]}},computed:(0,o.Z)((0,o.Z)({appointment:function(){var t=this;return this.appointments.find((function(e){return e.id.toString()===t.appointmentId.toString()}))},whitelistedMeta:function(){var t=this;return Object.fromEntries(Object.entries(this.appointment.meta).filter((function(e){var n=(0,l.Z)(e,1),i=n[0];return t.meta_whitelist.includes(i)})))},whitelistedMetaWithLabelValues:function(){var t=this;return Object.keys(this.whitelistedMeta).map((function(e){var n=t.whitelistedMeta[e],i={key:e,type:"string",name:t.translations.appointments.metaFields[e],value:n};return["formidable_entry_admin_url","gravity_entry_admin_url"].includes(e)&&(i.type="entry"),["booking_url"].includes(e)&&(i.type="url"),i}))},showMeta:function(){return this.appointment&&this.whitelistedMeta&&!Ee().isEmpty(this.whitelistedMeta)}},(0,r.rn)("translations",["translations"])),(0,r.rn)("appointments",["appointments"]))}),gn=fn,hn=(0,K.Z)(gn,un,mn,!1,null,null,null),_n=hn.exports,vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-box",class:["md-theme-"+t.theme,t.inline?"inline":""]},[t.icon?n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.theme}},[t._v(t._s(t.icon))]):t._e(),n("div",{staticClass:"notification-text md-body-2"},[t._t("default")],2)],1)},yn=[],bn={name:"notificationBox",props:{icon:String,theme:{type:String,default:"blue"},inline:{type:Boolean,default:!1}},data:function(){return{}}},kn=bn,Cn=(0,K.Z)(kn,vn,yn,!1,null,null,null),Sn=Cn.exports,wn={name:"appointmentDetails",components:{Empty:te,Loading:st,AppointmentPaymentItem:pn,AppointmentMeta:_n,Notification:Sn},props:["id"],data:function(){return{appointment:null,editEmbedSrc:"",error:!1,errorDescription:"",errorLabel:"",fetchedStaff:!1,loading:!0,loadingMessage:"",loadingMeta:!1,loadingPayments:!1,moment:R()}},watch:{appointmentsList:function(){var t=this;this.appointment=this.appointments.find((function(e){return e.id===t.id})),this.appointment&&(this.appointment=this.prepAppointment(this.appointment))},id:function(t,e){t!==e&&this.displayAppointment()}},mounted:function(){this.loadingMessage=this.translations.appointments.loadingSingle,this.displayAppointment();var t=[L.appointment_details];this.paymentsModule.installed&&this.paymentsModule.enabled&&t.push(L.appointment_details_payments_enabled),this.getGuides({"ssasc-plugin-screen":t})},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({appointmentsList:function(){return this.appointments},appointmentName:function(){return this.appointment.customer_information.name?this.appointment.customer_information.name:this.appointment.customer_information.Name},isBasic:function(){return!this.settings.installed.license},availableCustomerInformation:function(){var t=this;if(!this.appointment)return[];var e={};return Object.keys(this.appointment.customer_information).forEach((function(n){t.appointment.customer_information[n].length&&(e[n]=t.appointment.customer_information[n])})),e},basicCustomerInformation:function(){var t=this;if(!this.appointment||!this.isBasic)return[];var e={};return Object.keys(this.availableCustomerInformation).forEach((function(n){"name"!==n&&(e[n]=t.appointment.customer_information[n])})),e},paidCustomerInformation:function(){var t=this;if(!this.appointment||this.isBasic)return[];var e={};return Object.keys(this.availableCustomerInformation).forEach((function(n){"Name"!==n&&(e[n]=t.appointment.customer_information[n])})),e},icons:function(){var t=this,e={},n=this.appointmentTypes.filter((function(e){return e.id===t.appointment.appointment_type_id}))[0];return n&&n.custom_customer_information.forEach((function(t){e[t.field]=t.icon})),e},cancelable:function(){if(this.appointment){var t=!0;"canceled"!==this.appointment.status&&"abandoned"!==this.appointment.status||(t=!1);var e=R()(),n=R()(this.appointment.start_date,this.timestampFormat);return n.isBefore(e)&&(t=!1),t}},dateFormat:function(){return this.settings.global.date_format_moment},timeFormat:function(){return this.settings.global.time_format_moment},dateTimeFormat:function(){return this.dateFormat+" "+this.timeFormat+" z"},rescheduledToAppointment:function(){var t=this;if(this.appointment&&"0"!==this.appointment.rescheduled_to_appointment_id)return this.appointments.find((function(e){return e.id===t.appointment.rescheduled_to_appointment_id}))},rescheduledFromAppointment:function(){var t=this;if(this.appointment&&"0"!==this.appointment.rescheduled_from_appointment_id)return this.appointments.find((function(e){return e.id===t.appointment.rescheduled_from_appointment_id}))},rescheduledToDatetime:function(){if(this.rescheduledToAppointment)return R().utc(this.rescheduledToAppointment.start_date).tz(this.settings.global.timezone_string).format(this.dateTimeFormat)},rescheduledFromDatetime:function(){if(this.rescheduledFromAppointment)return R().utc(this.rescheduledFromAppointment.start_date).tz(this.settings.global.timezone_string).format(this.dateTimeFormat)}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings","timestampFormat"])),(0,r.rn)("appointment_types",["appointmentTypes"])),(0,r.rn)("appointments",["appointments"])),(0,r.rn)("staff",["staff"])),(0,r.Se)(["displayDuration","wpUserGravatar","wpUserLink","wpUserName"])),(0,r.Se)("staff",["appointmentStaffNames","staffModule"])),(0,r.Se)("appointments",["prepAppointment"])),(0,r.Se)("payments",["paymentsModule"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({cancelAppt:function(){var t=this.id,e={status:"canceling"};this.setAppointmentData({id:t,appt:e});var n={id:t,status:"canceled"};this.saveAppointment(n).then((function(){})).catch((function(t){console.log(t)})),this.$refs["confirmCancel"].close()},cancelCancel:function(){this.$refs["confirmCancel"].close()},cancelDelete:function(){this.$refs["confirmDelete"].close()},confirmCancel:function(){this.$refs["confirmCancel"].open()},confirmDelete:function(){this.$refs["confirmDelete"].open()},editAppointment:function(){this.editEmbedSrc=this.appointment.public_edit_url,this.$refs.editDialog.open()},deleteAppt:function(){var t=this;this.loadingMessage=this.translations.appointments.deletingSingle,this.loading=!0,this.$refs["confirmDelete"].close(),this.deleteAppointment(this.appointment).then((function(){t.$router.push("/ssa/appointments")})).catch((function(t){console.log(t)}))},displayAppointment:function(){var t=this;return this.loading=!0,this.appointment=this.appointments.find((function(e){return e.id===t.id})),this.appointment?(this.appointment=this.prepAppointment(this.appointment),this.loading=!1,this.error=!1,this.maybeFetchPayments(),this.maybeFetchMeta(),void this.maybeFetchRescheduledAppointments()):!this.staffModule.enabled||this.staff||this.fetchedStaff?void this.fetchAppointment(this.id).then((function(){t.loading=!1,t.appointment=t.appointments.find((function(e){return e.id===t.id})),t.appointment?(t.appointment=t.prepAppointment(t.appointment),t.maybeFetchPayments(),t.maybeFetchMeta(),t.maybeFetchRescheduledAppointments()):(t.error=!0,t.errorLabel=t.translations.appointments.errorNotFound,t.errorDescription=t.translations.appointments.errorNotFoundDescription)})).catch((function(e){console.log(e),t.error=!0,t.errorLabel=t.translations.appointments.errorLoading,t.errorDescription=t.translations.appointments.errorLoadingDescription})):(this.loading=!0,void this.fetchStaff().then((function(){t.displayAppointment(),t.fetchedStaff=!0})).catch((function(e){console.log(e),t.error=!0,t.errorLabel=t.translations.appointments.errorLoading,t.errorDescription=t.translations.appointments.errorLoadingDescription})))},maybeFetchPayments:function(){var t=this;this.paymentsModule.installed&&(Object.prototype.hasOwnProperty.call(this.appointment,"payments")||(this.loadingPayments=!0,this.fetchPayments(this.appointment.id).then((function(){t.loadingPayments=!1}))))},maybeFetchMeta:function(){var t=this;Object.prototype.hasOwnProperty.call(this.appointment,"meta")||(this.loadingMeta=!0,this.fetchAppointmentMeta(this.appointment).then((function(){t.loadingMeta=!1})))},refreshAppointment:function(){var t=this;this.loading=!0,this.fetchAppointment(this.id).then((function(){t.loading=!1,t.appointment=t.appointments.find((function(e){return e.id===t.id})),t.appointment?(t.appointment=t.prepAppointment(t.appointment),t.maybeFetchPayments(),t.maybeFetchMeta(),t.maybeFetchRescheduledAppointments()):(t.error=!0,t.errorLabel=t.translations.appointments.errorNotFound,t.errorDescription=t.translations.appointments.errorNotFoundDescription)})).catch((function(e){console.log(e),t.error=!0,t.errorLabel=t.translations.appointments.errorLoading,t.errorDescription=t.translations.appointments.errorLoadingDescription}))},maybeFetchRescheduledAppointments:function(){this.appointment&&("0"===this.appointment.rescheduled_to_appointment_id||this.rescheduledToAppointment||this.fetchAppointment(this.appointment.rescheduled_to_appointment_id),"0"===this.appointment.rescheduled_from_appointment_id||this.rescheduledFromAppointment||this.fetchAppointment(this.appointment.rescheduled_from_appointment_id))}},(0,r.nv)("appointments",["deleteAppointment","fetchAppointment","fetchAppointmentMeta","saveAppointment"])),(0,r.nv)("payments",["fetchPayments"])),(0,r.nv)("guides",["getGuides"])),(0,r.nv)("staff",["fetchStaff"])),(0,r.OI)("appointments",["setAppointmentData"]))},Tn=wn,xn=(0,K.Z)(Tn,sn,an,!1,null,null,null),An=xn.exports,Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appointment group"},[t.error?n("empty",{attrs:{icon:t.api.admin_static_url+"/images/foxes/fox-sleeping.svg",label:t.errorLabel,description:t.errorDescription}}):t.loading?n("loading",{attrs:{message:t.loadingMessage}}):[n("router-link",{attrs:{tag:"md-button",to:"/ssa/appointments"}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.appointments.viewAll)+" ")],1),n("md-toolbar",{staticClass:"md-transparent"},[n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.appointments.group.appointmentDetails)+" ")]),n("md-menu",[n("md-button",{attrs:{"md-menu-trigger":""}},[n("md-icon",[t._v(" more_vert ")]),n("span",{staticClass:"screen-reader-text"},[t._v("Appointment options")])],1),n("md-menu-content",[n("md-menu-item",{on:{click:t.exportToCsv}},[t._v(" Export ")]),t.isCancelable?n("md-menu-item",{on:{click:t.confirmGroupCancel}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]):t._e(),n("md-menu-item",{on:{click:t.confirmGroupDelete}},[t._v(" "+t._s(t.translations.actions.delete)+" ")])],1)],1)],1),n("div",{staticClass:"single-group-appointment"},[n("h3",{staticClass:"md-title"},[t._v(" "+t._s(t.appointmentTypeMeta.type_title)+" "),t.appointmentStaffNames(t.groupAppointments)?[t._v(" "+t._s(t.translations.settings.staff.appointment.with)+" "+t._s(t.appointmentStaffNames(t.groupAppointments))+" ")]:t._e(),"canceled"===t.groupAppointmentStatus(t.groupAppointments)?n("span",{staticClass:"status canceled"},[t._v(" ("+t._s(t.translations.appointments.statuses["canceled"])+") ")]):t._e()],2),n("p",{staticClass:"md-subheading"},[t._v(" "+t._s(t.moment(t.appointmentTypeMeta.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "+t._s(t.moment.utc(t.appointmentTypeMeta.start_date).tz(t.settings.global.timezone_string).format("z"))+" ("+t._s(t.displayDuration(t.appointmentTypeMeta.type_duration))+") ")]),n("md-list",{staticClass:"md-triple-line"},t._l(t.groupAppointments,(function(e,i){return n("md-list-item",{key:i,class:"status-"+e.status},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.appointmentTypeMeta.type_label}},[t._v(" person ")]),n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(t._s(e.customer_information.Name))]),n("span",[t._v(t._s(e.customer_information.Email))]),n("p",[n("router-link",{attrs:{to:"/ssa/appointment/"+e.id}},[t._v(" "+t._s(t.translations.appointments.group.viewDetails))]),t.isInFuture&&"canceled"!==e.status?[t._v(" | "),n("button",{staticClass:"link",on:{click:function(n){return t.confirmCancel(e.id)}}},[t._v(" "+t._s(t.translations.appointments.cancel)+" ")])]:t._e()],2)])],1)})),1)],1)],n("md-dialog",{ref:"confirmCancel"},[n("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.cancelConfirm)+" ")]),n("md-dialog-content",[t.currentAppointment?n("md-list",t._l(t.availableCustomerInformation,(function(e,i,s){return n("md-list-item",{key:s},[n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[i]?t.translations.appointmentTypes.customer_information[i]:i)+" ")]),n("span","string"===typeof e?[t._v(" "+t._s(e)+" ")]:[t._v(" "+t._s(e.join(", "))+" ")])])])})),1):t._e()],1),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelCancel}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmCancel)+" ")]),n("md-button",{on:{click:t.cancelAppt}},[t._v(" "+t._s(t.translations.appointments.cancelConfirmOk)+" ")])],1)],1),n("md-dialog",{ref:"confirmCancelGroup"},[n("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.group.cancelConfirm)+" ")]),n("md-dialog-content",[n("p",[t._v(t._s(t.translations.appointments.group.cancelConfirmBody))]),t.groupAppointments.length?n("ul",t._l(t.groupAppointments,(function(e,i){return n("li",{key:i},[t._v(" "+t._s(e.customer_information.Name)+" ")])})),0):t._e()]),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelCancelGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelConfirmCancel)+" ")]),n("md-button",{on:{click:t.cancelGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelConfirmOk)+" ")])],1)],1),n("md-dialog",{ref:"confirmDeleteGroup"},[n("md-dialog-title",[t._v(" "+t._s(t.translations.appointments.group.deleteConfirm)+" ")]),n("md-dialog-content",[n("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.appointments.group.deleteConfirmExplanation)+" "),t.isCancelable?[t._v(" "+t._s(t.translations.appointments.group.deleteConfirmExplanationCancelable)+" ")]:t._e()],2),t.groupAppointments.length?[n("p",[t._v(t._s(t.translations.appointments.group.deleteConfirmBody))]),n("ul",t._l(t.groupAppointments,(function(e,i){return n("li",{key:i},[t._v(" "+t._s(e.customer_information.Name)+" ")])})),0)]:t._e()],2),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelDeleteGroup}},[t._v(" "+t._s(t.translations.appointments.group.cancelDeleteCancel)+" ")]),n("md-button",{on:{click:t.deleteAppointment}},[t._v(" "+t._s(t.translations.appointments.group.cancelDeleteOk)+" ")])],1)],1)],2)},Mn=[],En={name:"group-appointment",components:{Empty:te,Loading:st,Notification:Sn},props:["id"],data:function(){return{currentAppointment:null,error:!1,errorDescription:"",errorLabel:"",loading:!0,loadingMessage:"",moment:R()}},watch:{id:function(t,e){t!==e&&this.displayAppointment()}},mounted:function(){this.loadingMessage=this.translations.appointments.loadingSingle,this.displayAppointment()},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({appointmentTypeMeta:function(){if(this.groupAppointments.length){var t=this.groupAppointments[0];return this.prepAppointment(t)}},isCancelable:function(){return!!this.groupAppointments.length&&(this.isInFuture&&"canceled"!==this.groupAppointmentStatus(this.groupAppointments))},isInFuture:function(){if(!this.groupAppointments.length)return!1;var t=R()(),e=R()(this.appointmentTypeMeta.start_date,this.timestampFormat);return e.isSameOrAfter(t)},groupAppointments:function(){var t=this;return this.appointments.length?this.appointments.filter((function(e){return e.group_id===t.id})):[]},availableCustomerInformation:function(){var t=this;if(!this.currentAppointment)return[];var e={};return Object.keys(this.currentAppointment.customer_information).forEach((function(n){t.appointment.customer_information[n].length&&(e[n]=t.appointment.customer_information[n])})),e}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings","timestampFormat"])),(0,r.rn)("appointment_types",["appointmentTypes"])),(0,r.rn)("appointments",["appointments"])),(0,r.Se)(["displayDuration"])),(0,r.Se)("appointments",["csvExportFile","groupAppointmentStatus","prepAppointment"])),(0,r.Se)("staff",["appointmentStaffNames"])),methods:(0,o.Z)((0,o.Z)({cancelAppt:function(){var t=this.currentAppointment.id,e={status:"canceling"};this.setAppointmentData({id:t,appt:e});var n={id:t,status:"canceled"};this.saveAppointment(n).then((function(){})).catch((function(t){console.log(t)})),this.$refs["confirmCancel"].close()},cancelCancel:function(){this.$refs["confirmCancel"].close()},confirmCancel:function(t){this.currentAppointment=this.groupAppointments.find((function(e){return e.id.toString()===t.toString()})),this.$refs["confirmCancel"].open()},cancelCancelGroup:function(){this.$refs["confirmCancelGroup"].close()},confirmGroupCancel:function(){this.$refs["confirmCancelGroup"].open()},cancelGroup:function(){this.cancelGroupAppointment(this.id).then((function(){})).catch((function(t){console.log(t)})),this.$refs["confirmCancelGroup"].close()},confirmGroupDelete:function(){this.$refs["confirmDeleteGroup"].open()},cancelDeleteGroup:function(){this.$refs["confirmDeleteGroup"].close()},deleteAppointment:function(){var t=this;this.loadingMessage=this.translations.appointments.group.deleting,this.loading=!0,this.$refs["confirmDeleteGroup"].close(),this.deleteGroupAppointment(this.id).then((function(){t.$router.push("/ssa/appointments")})).catch((function(t){console.log(t)}))},checkGroupAppointments:function(){this.groupAppointments.length||(this.error=!0,this.errorLabel=this.translations.appointments.errorNotFound,this.errorDescription=this.translations.appointments.errorNotFoundDescription)},displayAppointment:function(){var t=this;if(this.loading=!0,this.groupAppointments.length)return this.loading=!1,void(this.error=!1);this.fetchAppointments({group_id:this.id}).then((function(){t.loading=!1,t.checkGroupAppointments()}))},exportToCsv:function(){this.csvExportFile(this.groupAppointments)}},(0,r.nv)("appointments",["cancelGroupAppointment","deleteGroupAppointment","fetchAppointments","saveAppointment"])),(0,r.OI)("appointments",["setAppointmentData"]))},Dn=En,$n=(0,K.Z)(Dn,Pn,Mn,!1,null,"40608fb4",null),On=$n.exports,In=[{path:"appointments",name:"appointments",component:nn,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}},{path:"appointment/:id",component:An,props:!0,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}},{path:"event/:id",component:On,props:!0,meta:{ssa_manage_appointments:!0,ssa_manage_others_appointments:!0}}],Zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appointment-types-all"},[n("router-view",{on:{saved:t.backToList}})],1)},zn=[],jn={name:"appointmentTypesAll",store:Ey,data:function(){return{}},methods:{backToList:function(){this.$router.push("/ssa/appointment-types/all")}}},Ln=jn,Nn=(0,K.Z)(Ln,Zn,zn,!1,null,null,null),Un=Nn.exports,Gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-types"},[n("md-toolbar",{staticClass:"md-transparent"},[n("div",[n("h2",{staticClass:"md-title"},[t.bulkEditMode?[t._v(" "+t._s(t.bulkEditing.length)+" "+t._s(t.translations.general.selected)+" ")]:[0===t.deletedAppointmentTypes.length?[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]:t._e(),t.deletedAppointmentTypes.length?n("md-input-container",{staticClass:"title"},[n("label",{attrs:{for:"filter-time"}},[n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")])]),n("md-select",{staticClass:"ssa-appointment-status-selector",attrs:{name:"filter-time",id:"filter-time"},model:{value:t.selectedStatus,callback:function(e){t.selectedStatus=e},expression:"selectedStatus"}},[n("md-option",{attrs:{value:"publish"}},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]),n("md-option",{attrs:{value:"delete"}},[t._v(" "+t._s(t.translations.settings.appointmentTypesDeleted)+" ")])],1)],1):t._e()]],2)]),n("div",{staticStyle:{flex:"1"}}),t.bulkEditMode&&t.bulkEditing.length>1?n("md-menu",{attrs:{"md-direction":"bottom left","md-size":"4"}},[n("md-button",{staticClass:"md-primary",attrs:{"md-menu-trigger":""}},[t._v(t._s(t.translations.appointmentTypes.actions.bulkEdit))]),n("md-menu-content",[n("md-menu-item",{on:{click:function(e){return t.openBulkEdit("basics")}}},[t._v(t._s(t.translations.wizard.appointmentType.basics))]),n("md-menu-item",{on:{click:function(e){return t.openBulkEdit("availability")}}},[t._v(t._s(t.translations.wizard.appointmentType.availability))]),n("md-menu-item",{on:{click:function(e){return t.openBulkEdit("scheduling")}}},[t._v(t._s(t.translations.wizard.appointmentType.scheduling))]),n("md-menu-item",{on:{click:function(e){return t.openBulkEdit("customerInfo")}}},[t._v(t._s(t.translations.wizard.appointmentType.customerInfo))]),n("md-menu-item",{on:{click:function(e){return t.openBulkEdit("notifications")}}},[t._v(t._s(t.translations.wizard.appointmentType.notifications))]),t.extrasEnabled?n("md-divider"):t._e(),t.showPayments?n("md-menu-item",{on:{click:function(e){return t.openBulkEdit("payments")}}},[t._v(t._s(t.translations.wizard.appointmentType.payments))]):t._e(),t.showGoogleCalendar?n("md-menu-item",{on:{click:function(e){return t.openBulkEdit("googleCalendar")}}},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendar))]):t._e(),t.showMailchimp?n("md-menu-item",{on:{click:function(e){return t.openBulkEdit("mailchimp")}}},[t._v(t._s(t.translations.wizard.appointmentType.mailchimp))]):t._e()],1)],1):t.bulkEditMode||"delete"===t.selectedStatus?t._e():[t.editableAppointmentTypes.length>1?[t.reordering?n("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:t.saving},on:{click:t.saveAppointmentTypeOrder}},[n("md-icon",[t._v("save")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.saveOrder)+" ")],1):n("md-button",{staticClass:"md-primary",attrs:{disabled:t.saving},on:{click:t.reorderAppointmentTypes}},[n("md-icon",[t._v("drag_indicator")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.reorder)+" ")],1)]:t._e(),n("md-button",{staticClass:"md-primary ssa-appt-type-add-new",attrs:{disabled:t.saving},on:{click:t.addAppointmentType}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.appointmentTypes.actions.addNew)+" ")],1)]],2),t.displayAppointmentTypes.length?n("draggable",{staticClass:"sortable-list md-double-line appt-type-list",class:{disabled:t.saving},attrs:{animation:150,ghostClass:"sortable-ghost",tag:"md-list",handle:".handle"},model:{value:t.displayAppointmentTypes,callback:function(e){t.displayAppointmentTypes=e},expression:"displayAppointmentTypes"}},t._l(t.displayAppointmentTypes,(function(e){return n("md-list-item",{key:e.id,class:{deleted:"delete"===e.status}},[n("div",{staticClass:"icon-toggle",class:{"bulk-edit":t.bulkEditMode,"bulk-edit-avail":t.editableAppointmentTypes.length>1&&!t.reordering}},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":e.label}},[t._v("label")]),n("md-checkbox",{staticClass:"md-primary",attrs:{"md-theme":e.label,id:"appt-type-"+e.id,name:"appt-type-"+e.id,"md-value":e.id},model:{value:t.bulkEditing,callback:function(e){t.bulkEditing=e},expression:"bulkEditing"}})],1),n("div",{staticClass:"md-list-text-container",on:{click:function(n){return t.editAppointmentType(e.id)}}},[n("span",{staticClass:"appt-type-item-title"},[t._v(t._s(e.title))]),n("span",[t._v(t._s(t.displayDuration(e.duration))+" - "),n("code",[t._v(t._s(e.slug))])])]),t.reordering?n("md-icon",{staticClass:"md-primary handle",attrs:{"md-theme":"blue-grey"}},[t._v("drag_indicator")]):n("md-menu",{attrs:{"md-direction":"bottom left"}},[n("md-button",{staticClass:"md-icon-button md-list-action",attrs:{"md-menu-trigger":"",disabled:t.saving}},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":e.label}},[t._v("settings")])],1),n("md-menu-content",["delete"!==t.selectedStatus?n("md-menu-item",{on:{click:function(n){return t.editAppointmentType(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("edit")]),n("span",[t._v(t._s(t.translations.actions.edit))])],1):t._e(),"delete"!==t.selectedStatus?n("md-menu-item",{on:{click:function(n){return t.cloneAppointmentType(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),n("span",[t._v(t._s(t.translations.actions.clone))])],1):t._e(),"delete"!==t.selectedStatus?n("md-menu-item",{on:{click:function(n){return t.confirmDelete(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("delete")]),n("span",[t._v(t._s(t.translations.actions.delete))])],1):t._e(),"delete"===t.selectedStatus?n("md-menu-item",{on:{click:function(n){return t.recoverSelectedAppointmentType(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("undo")]),n("span",[t._v(t._s(t.translations.actions.recover))])],1):t._e()],1)],1),n("md-divider")],1)})),1):n("empty",{attrs:{label:t.translations.appointmentTypes.empty}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.addAppointmentType}},[t._v(t._s(t.translations.appointmentTypes.actions.create))])],1),n("md-dialog",{ref:"confirmDelete"},[n("md-dialog-title",[t._v(t._s(t.translations.appointmentTypes.confirmDelete))]),t.deletedType?n("md-dialog-content",[t._v(" "+t._s(t.deletedType.title)+" ("+t._s(t.displayDuration(t.deletedType.duration))+") "),t.deletedTypeAppointments.length?[n("p",[t._v(t._s(t.translations.appointmentTypes.confirmDeleteAppointments))]),n("ul",t._l(t.deletedTypeAppointments,(function(e){return n("li",{key:e.id},[t._v(" "+t._s(t.moment(e.start_date,t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" ")])})),0)]:t._e()],2):t._e(),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.appointmentTypes.confirmDeleteCancel))]),n("md-button",{on:{click:t.deleteSelectedAppointmentType}},[t._v(t._s(t.translations.appointmentTypes.confirmDeleteOk))])],1)],1),n("md-snackbar",{ref:"errorDeleting",attrs:{"md-position":"top center","md-duration":1e4}},[n("span",[t._v(t._s(t.translations.errors.cantDeleteType))]),n("md-button",{staticClass:"md-primary",attrs:{href:"https://simplyscheduleappointments.com/document/unable-to-delete-an-appointment-type/",targe:"_blank"},on:{click:function(e){return t.$refs.errorDeleting.close()}}},[t._v(t._s(t.translations.errors.moreInfo))])],1)],1)},Fn=[],Wn=n(6390),Bn=n.n(Wn),Rn={name:"appointmentTypesList",store:Ey,components:{Empty:te,draggable:Bn()},data:function(){return{deletedId:null,moment:R(),reordering:!1,saving:!1}},beforeMount:function(){this.emptyCurrentAppointmentType(),this.updateBulkEditing([])},mounted:function(){if(this.maybeUpdateSortOrder(),!this.appointments.length){var t=R().utc().locale("en").format("YYYY-MM-DD");this.fetchAppointments({end_date_min:t,order:"ASC",orderby:"start_date"})}},watch:{selectedStatus:function(){"delete"===this.selectedStatus&&(this.reordering=!1)}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({deletedType:function(){var t=this;if(this.deletedId)return this.editableAppointmentTypes.find((function(e){return e.id.toString()===t.deletedId.toString()}))},deletedTypeAppointments:function(){var t=this;return this.upcomingAppointments.filter((function(e){return e.appointment_type_id===t.deletedId}))},selectedStatus:{get:function(){return this.selectedApointmentTypeStatus},set:function(t){this.setSelectedAppointmentTypeStatus(t)}},displayAppointmentTypes:{get:function(){return"delete"===this.selectedStatus?this.deletedAppointmentTypes:this.editableAppointmentTypes},set:function(t){this.setAppointmentTypesOrder(t)}},bulkEditing:{get:function(){return this.bulkEditing},set:function(t){this.updateBulkEditing(t)}},bulkEditMode:function(){return this.editableAppointmentTypes.length>1&&this.bulkEditing.length},extrasEnabled:function(){return this.showGoogleCalendar||this.showMailchimp||this.showPayments},showGoogleCalendar:function(){return this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&this.settings.google_calendar.access_token},showMailchimp:function(){return this.settings.installed.mailchimp&&this.settings.mailchimp.enabled&&!Ee().isEmpty(this.settings.mailchimp.account_details)},showPayments:function(){return this.settings.installed.payments&&(this.settings.stripe.enabled||this.settings.paypal.enabled)}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat","appointments"])),(0,r.Se)(["displayDuration"])),(0,r.Se)("appointments",["upcomingAppointments"])),(0,r.Se)("appointment_types",["editableAppointmentTypes","deletedAppointmentTypes"])),(0,r.rn)("appointment_types",["selectedApointmentTypeStatus","bulkEditing","currentAppointmentType"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({addAppointmentType:function(){this.createNewAppointmentType(),I_.push("/ssa/appointment-types/type")},cancelDelete:function(){this.$refs["confirmDelete"].close()},cloneAppointmentType:function(t){var e=this;this.saving=!0,this.updateCloneAppointmentType(t).then((function(){e.saving=!1,I_.push("/ssa/appointment-types/type")}))},confirmDelete:function(t){this.$refs["confirmDelete"].open(),this.deletedId=t},deleteSelectedAppointmentType:function(){var t=this,e=this.deletedId;this.$refs["confirmDelete"].close(),this.deleteAppointmentType(e).then((function(){})).catch((function(e){console.log(e),t.$refs.errorDeleting.open()}))},recoverSelectedAppointmentType:function(t){var e=this;this.recoverAppointmentType(t).then((function(){e.selectedStatus="publish"})).catch((function(t){console.log(t),e.$refs.errorDeleting.open()}))},editAppointmentType:function(t){this.saving||this.reordering||I_.push({name:"appointment-type-single",params:{id:t}})},maybeUpdateSortOrder:function(){var t=this;if(!(this.editableAppointmentTypes.length<2)){var e=this.editableAppointmentTypes.map((function(t){return t.display_order})),n=e.every((function(t,e,n){return t===n[0]}));n&&this.editableAppointmentTypes.length&&(this.editableAppointmentTypes.forEach((function(e,n){t.setAppointmentTypeProperties({display_order:n,id:e.id})})),this.updateAppointmentTypes())}},openBulkEdit:function(t){I_.push({name:"appointment-type-bulk-edit",params:{section:t}})},reorderAppointmentTypes:function(){this.reordering=!this.reordering},saveAppointmentTypeOrder:function(){var t=this;this.saving=!0,this.updateAppointmentTypes().then((function(){t.saving=!1,t.reorderAppointmentTypes()}))}},(0,r.nv)("appointment_types",["updateAppointmentTypes","updateCloneAppointmentType","deleteAppointmentType","recoverAppointmentType","createNewAppointmentType","updateCloneAppointmentType","emptyCurrentAppointmentType"])),(0,r.nv)("appointments",["fetchAppointments"])),(0,r.OI)("appointment_types",["removeAppointmentType","setAppointmentTypeProperties","setAppointmentTypesOrder","updateBulkEditing","setSelectedAppointmentTypeStatus"]))},qn=Rn,Hn=(0,K.Z)(qn,Gn,Fn,!1,null,null,null),Kn=Hn.exports,Vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-edit"},[n("md-button",{on:{click:t.cancelEdit}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),n("h2",{staticClass:"md-title"},[t._v(t._s(t.currentAppointmentType.title))]),n("md-dialog",{ref:"confirmLeaveDirty"},[n("md-dialog-title",{domProps:{textContent:t._s(t.translations.appointmentTypes.confirmIgnoreChangesTitle)}}),n("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.appointmentTypes.confirmIgnoreChangesContent)}}),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesCancel))]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesOkay))])],1)],1),n("md-snackbar",{ref:"shortcodeNotice",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.appointmentTypes.shortcodeCopied))])]),n("md-theme",{attrs:{"md-name":t.currentAppointmentType.label}},[n("accordion",[n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.basics,message:t.translations.wizard.appointmentType.basicsMessage,index:"0",section:"basics",open:t.section,error:!t.validBasics},on:{updateActive:t.updateSection}},[n("basics",{on:{validationCheck:t.validateBasics}})],1),n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.availability,message:t.translations.wizard.appointmentType.availabilityMessage,index:"1",section:"availability",open:t.section},on:{updateActive:t.updateSection}},[n("availability",{on:{validationCheck:t.validateAvailability}}),n("notification",{attrs:{icon:"help"}},[n("p",{staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.intro)+" ")]),n("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1),t.settings.installed.staff&&t.settings.staff.enabled&&t.currentAppointmentType.hasOwnProperty("staff")&&t.currentUserCan("ssa_manage_staff")?n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.staff,message:t.translations.wizard.appointmentType.staffMessage,index:"2",section:"staff",open:t.section,error:!t.validStaff},on:{updateActive:t.updateSection}},[n("staff",{on:{staffRequiredChange:t.staffUpdateCapacity,validationCheck:t.validateStaff}})],1):t._e(),n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.capacity,message:t.translations.wizard.appointmentType.capacityMessage,index:"3",section:"capacity",open:t.section,error:!t.validCapacity},on:{updateActive:t.updateSection}},[n("capacity",{on:{validationCheck:t.validateCapacity}})],1),n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.scheduling,message:t.translations.wizard.appointmentType.schedulingMessage,index:"4",section:"scheduling",open:t.section,error:!t.validScheduling},on:{updateActive:t.updateSection}},[n("scheduling",{on:{validationCheck:t.validateScheduling}})],1),t.settings.installed.payments&&t.settings.payments.enabled&&(t.settings.paypal.enabled||t.settings.stripe.enabled)?n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.payments,message:t.translations.wizard.appointmentType.paymentsMessage,index:"5",section:"payments",open:t.section},on:{updateActive:t.updateSection}},[n("payments",{on:{validationCheck:t.validatePayments}})],1):t._e(),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled?n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.googleCalendar,message:t.translations.wizard.appointmentType.googleCalendarMessage,index:"6",section:"google-calendar",open:t.section},on:{updateActive:t.updateSection}},[n("google-calendar")],1):t._e(),t.webMeetingsProviders.length>0?n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.webMeetings,message:t.translations.wizard.appointmentType.webMeetingsMessage,index:"7",section:"web-meetings",error:!t.validWebMeetings,open:t.section},on:{updateActive:t.updateSection}},[n("web-meetings",{on:{validationCheck:t.validateWebMeetings}})],1):t._e(),t.settings.installed.mailchimp&&t.settings.mailchimp.enabled?n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.mailchimp,message:t.translations.wizard.appointmentType.mailchimpMessage,index:"8",section:"mailchimp",error:!t.validMailchimp,open:t.section},on:{updateActive:t.updateSection}},[n("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}})],1):t._e(),t.settings.installed.webhooks&&t.settings.webhooks.enabled&&t.currentUserCan("ssa_manage_site_settings")?n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.webhooks,message:t.translations.wizard.appointmentType.webhooksMessage,index:"9",section:"webhooks",open:t.section},on:{updateActive:t.updateSection}},[n("webhooks")],1):t._e(),n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.customerInfo,message:t.translations.wizard.appointmentType.customerInfoMessage,index:"10",section:"customer-information",open:t.section},on:{updateActive:t.updateSection}},[n("customer-information")],1),t.currentUserCan("ssa_manage_site_settings")?n("accordion-item",{attrs:{label:t.translations.wizard.appointmentType.notifications,message:t.translations.wizard.appointmentType.notificationsMessage,index:"11",section:"notifications",open:t.section},on:{updateActive:t.updateSection}},[n("notifications")],1):t._e()],1),n("div",{staticClass:"button-bar"},[n("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(t._s(t.translations.general.cancel))]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.validFormFields},on:{click:t.saveAppointmentType}},[t._v(t._s(t.translations.general.save))]),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.booking))]),n("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.bookingMessage))])]),n("md-card-content",[n("p",[t._v(t._s(t.translations.wizard.appointmentType.specialBooking))]),n("p",{staticStyle:{cursor:"pointer"}},[n("code",{ref:"shortcode",on:{click:t.copyShortcode}},[t._v("[ssa_booking type="+t._s(t.currentAppointmentType.slug)+"]")]),t._v(" "),n("md-icon",{staticClass:"md-primary",nativeOn:{click:function(e){return t.copyShortcode.apply(null,arguments)}}},[t._v("file_copy")])],1)])],1)],1)],1)},Yn=[],Jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ssa-accordion"},[t._t("default")],2)},Xn=[],Qn={name:"AccordionWrapper"},ti=Qn,ei=(0,K.Z)(ti,Jn,Xn,!1,null,null,null),ni=ei.exports,ii=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ssa-accordion-item",class:{active:t.isOpen,error:t.error},attrs:{"data-section":t.section}},[n("button",{staticClass:"ssa-accordion-item-header",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleItem()}}},[t.error?n("md-icon",{staticClass:"md-warn"},[t._v(" error ")]):t.icon?n("md-icon",[t._v(" "+t._s(t.icon)+" ")]):t._e(),t.label||t.message?n("div",{staticClass:"text-container"},[t.label?n("span",{staticClass:"label"},[t._v(" "+t._s(t.label)+" ")]):t._e(),t.message?n("span",{staticClass:"message"},[t._v(" "+t._s(t.message)+" ")]):t._e()]):t._e(),n("md-icon",{staticClass:"accordion-toggle"},[t._v(" keyboard_arrow_down ")])],1),n("div",{ref:"panel",staticClass:"ssa-accordion-item-content"},[t.isOpen?n("div",{staticClass:"ssa-accordion-item-wrap"},[t._t("default")],2):t._e()])])},si=[],ai={props:{icon:String,label:String,message:String,index:String,open:String,section:{type:String,default:""},error:{type:Boolean,default:!1}},data:function(){return{isActive:!1,observer:null}},computed:{isOpen:function(){return this.index===this.open}},mounted:function(){var t=this;this.$nextTick((function(){t.toggleDisplay()})),this.observer||(this.observer=new MutationObserver((function(){t.toggleDisplay()})))},beforeDestroy:function(){this.observer.disconnect()},watch:{isOpen:function(){var t=this;this.$nextTick((function(){t.toggleDisplay()}))}},methods:{toggleDisplay:function(){var t=this.$refs.panel,e=t.querySelector(".ssa-accordion-item-wrap"),n={childList:!0,subtree:!0};this.isOpen?(t.style.maxHeight=t.scrollHeight+"px",this.observer.observe(e,n)):(t.style.maxHeight=null,this.observer.disconnect())},toggleItem:function(){this.toggleDisplay(),this.isOpen?this.$emit("updateActive",null):this.$emit("updateActive",this.index,this.section)}}},oi=ai,ri=(0,K.Z)(oi,ii,si,!1,null,null,null),li=ri.exports,ci=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-basics"},[t.bulkMode?t._e():n("md-input-container",{class:{"md-input-invalid":t.titleError}},[n("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.appointmentTypes.title))]),n("md-input",{attrs:{id:"title",required:""},model:{value:t.$v.title.$model,callback:function(e){t.$set(t.$v.title,"$model",e)},expression:"$v.title.$model"}}),t.titleError?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.titleError))]):t._e()],1),n("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[n("md-layout",{attrs:{"md-flex":50}},[n("duration",{attrs:{allowNull:t.bulkMode,required:!t.bulkMode},model:{value:t.$v.duration.$model,callback:function(e){t.$set(t.$v.duration,"$model",e)},expression:"$v.duration.$model"}})],1),n("md-layout",{attrs:{"md-flex":50}},[n("md-input-container",[n("label",{attrs:{for:"label"}},[t._v(t._s(t.translations.appointmentTypes.label))]),n("md-select",{staticClass:"label-select",attrs:{id:"label"},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t.bulkMode?n("md-option",{attrs:{value:""}}):t._e(),t._l(t.options.colors,(function(e){return n("md-option",{key:e.value,attrs:{value:e.value}},[n("span",{class:e.value},[t._v(t._s(e.text))])])}))],2)],1)],1)],1),t.showSlug?n("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[n("md-layout",{attrs:{"md-flex":66}},[n("md-input-container",{class:{"md-input-invalid":t.slugError}},[n("label",{attrs:{for:"slug"}},[t._v(t._s(t.translations.appointmentTypes.slug))]),n("md-input",{attrs:{id:"slug",required:""},model:{value:t.$v.slug.$model,callback:function(e){t.$set(t.$v.slug,"$model",e)},expression:"$v.slug.$model"}}),t.slugError?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.slugError))]):t._e()],1)],1),n("md-layout",{attrs:{"md-flex":33}},[n("md-input-container",[n("label",{attrs:{for:"layout"}},[t._v(t._s(t.translations.appointmentTypes.bookingLayout))]),n("md-select",{attrs:{id:"layout"},model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}},[t.bulkMode?n("md-option",{attrs:{value:""}}):t._e(),t._l(t.options.bookingLayouts,(function(e){return n("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointmentTypes.bookingLayouts[e])+" ")])}))],2)],1)],1)],1):n("md-input-container",[n("label",{attrs:{for:"layout"}},[t._v(t._s(t.translations.appointmentTypes.bookingLayout))]),n("md-select",{attrs:{id:"layout"},model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}},[t.bulkMode?n("md-option",{attrs:{value:""}}):t._e(),t._l(t.options.bookingLayouts,(function(e){return n("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointmentTypes.bookingLayouts[e])+" ")])}))],2)],1),n("md-layout",{staticStyle:{width:"100%"},attrs:{"md-gutter":!0}},[n("md-layout",[n("md-input-container",[n("label",{attrs:{for:"instructions"}},[t._v(t._s(t.translations.appointmentTypes.instructions))]),n("md-input",{attrs:{placeholder:t.translations.appointmentTypes.instructions_placeholder,id:"instructions"},model:{value:t.instructions,callback:function(e){t.instructions=e},expression:"instructions"}}),n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.instructions_description))])],1)],1)],1)],1)},di=[],pi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"duration-field"},[n("md-layout",{attrs:{"md-gutter":!0}},[n("md-layout",{attrs:{"md-flex":50}},[n("md-input-container",{class:{"md-input-invalid":t.showError}},[n("label",{attrs:{for:"duration-"+t.id}},[t._v(t._s(t.translations.appointmentTypes.duration))]),n("md-input",{attrs:{type:"number",min:0,id:"duration-"+t.id,required:t.required},nativeOn:{change:function(e){return t.updateDurationInfo.apply(null,arguments)}},model:{value:t.durationInfo.time,callback:function(e){t.$set(t.durationInfo,"time",e)},expression:"durationInfo.time"}})],1)],1),n("md-layout",{attrs:{"md-flex":50}},[n("md-input-container",[n("label",{attrs:{for:"durationType-"+t.id}},[t._v(t._s(t.translations.appointmentTypes.durationType))]),n("md-select",{attrs:{id:"durationType-"+t.id},on:{selected:t.updateDurationInfo},model:{value:t.durationInfo.type,callback:function(e){t.$set(t.durationInfo,"type",e)},expression:"durationInfo.type"}},[t.allowNull?n("md-option",{attrs:{value:""}}):t._e(),t._l(t.durationUnits,(function(e){return n("md-option",{key:e,attrs:{value:e}},[1===t.durationInfo.time||"1"===t.durationInfo.time?[t._v(" "+t._s(t.translations.time.units[e].single)+" ")]:[t._v(" "+t._s(t.translations.time.units[e].plural)+" ")],t._v(" "+t._s(e.text)+" ")],2)}))],2)],1)],1)],1),t.errorText?n("md-layout",[n("span",{staticClass:"md-error"},[t._v(t._s(t.errorText))])]):t.helpText?n("md-layout",[n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.helpText))])]):t._e()],1)},ui=[],mi={name:"durationInput",store:Ey,props:["value","helpText","errorText","allowNull","required"],data:function(){return{durationUnits:D,id:null}},mounted:function(){this.id=this._uid},computed:(0,o.Z)({minutes:function(){return parseInt(this.value)},showError:function(){var t=!1;return this.allowNull||this.durationInfo.time?(this.required&&parseInt(this.durationInfo.time)<1||this.allowNull&&parseInt(this.durationInfo.time)<0||this.errorText)&&(t=!0):t=!0,t},durationInfo:function(){var t=this.value,e="minutes";return this.value||0===this.value||"0"===this.value?0===this.minutes||"0"===this.minutes?(t=0,e="minutes"):this.minutes%10080===0?(t=this.minutes/10080,e="weeks"):this.minutes%1440===0?(t=this.minutes/1440,e="days"):this.minutes%60===0&&(t=this.minutes/60,e="hours"):(t=null,e=this.allowNull?null:"minutes"),{time:t,type:e}}},(0,r.rn)("translations",["translations"])),methods:{updateDurationInfo:function(){var t=this.durationInfo.time;switch(t||this.allowNull||(t=0),this.durationInfo.type){case"hours":t=60*this.durationInfo.time;break;case"days":t=60*this.durationInfo.time*24;break;case"weeks":t=60*this.durationInfo.time*24*7;break}""===this.durationInfo.time&&this.allowNull?this.$emit("input",""):this.$emit("input",t.toString())}}},fi=mi,gi=(0,K.Z)(fi,pi,ui,!1,null,null,null),hi=gi.exports,_i=n(32424),vi=n(6409),yi={durationUnits:[{value:"minutes",text:"Minutes",singular:"Minute"},{value:"hours",text:"Hours",singular:"Hour"},{value:"days",text:"Days",singular:"Day"},{value:"weeks",text:"Weeks",singular:"Week"}],colors:[{value:"red",text:"Red"},{value:"pink",text:"Pink"},{value:"purple",text:"Purple"},{value:"deep-purple",text:"Deep Purple"},{value:"indigo",text:"Indigo"},{value:"blue",text:"Blue"},{value:"light-blue",text:"Light Blue"},{value:"cyan",text:"Cyan"},{value:"teal",text:"Teal"},{value:"green",text:"Green"},{value:"light-green",text:"Light Green"},{value:"lime",text:"Lime"},{value:"yellow",text:"Yellow"},{value:"amber",text:"Amber"},{value:"orange",text:"Orange"},{value:"deep-orange",text:"Deep Orange"},{value:"brown",text:"Brown"},{value:"grey",text:"Grey"},{value:"blue-grey",text:"Blue Grey"}],dateFormats:[{php:"F j, Y",js:"MMMM D, YYYY"},{php:"j F Y",js:"D MMMM YYYY"},{php:"Y-m-d",js:"YYYY-MM-DD"},{php:"m/d/Y",js:"MM/DD/YYYY"},{php:"d/m/Y",js:"DD/MM/YYYY"},{php:"l, F jS, Y",js:"dddd, MMMM Do, YYYY"},{php:"M j, Y",js:"MMM D, YYYY"}],timeFormats:[{php:"g:i a",js:"h:mm a"},{php:"g:i A",js:"h:mm A"},{php:"H:i",js:"HH:mm"},{php:"G:i",js:"H:mm"},{php:"g:ia",js:"h:mma"},{php:"g:iA",js:"h:mmA"}],availabilityTimeIncrements:[10,15,20,30,60],bookingLayouts:["week","month"],visibilityOptions:["public","private"]},bi={name:"appointmentTypeBasics",components:{duration:hi},mixins:[_i.oE],store:Ey,props:{bulkMode:{default:!1,type:Boolean}},data:function(){return{options:yi}},validations:function(){var t=this.bulkMode;return{duration:{required:(0,vi.CF)((function(){return!t})),minValue:(0,vi.uv)(1)},slug:{required:(0,vi.CF)("showSlug")},title:{required:(0,vi.CF)((function(){return!t}))}}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({titleError:function(){return!this.bulkMode&&this.$v.title.$invalid},slugError:function(){return!this.bulkMode&&this.$v.slug.$invalid},showSlug:function(){return!this.bulkMode&&this.currentAppointmentType&&Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"slug")},duration:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.duration:0},set:function(t){this.updateCurrentAppointmentType({key:"duration",value:t}),this.validationCheck()}},title:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.title:""},set:function(t){this.updateCurrentAppointmentType({key:"title",value:t}),this.validationCheck()}},label:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.label:""},set:function(t){this.updateCurrentAppointmentType({key:"label",value:t})}},slug:{get:function(){return this.currentAppointmentType.slug},set:function(t){this.updateCurrentAppointmentType({key:"slug",value:t}),this.$v.slug.$touch(),this.validationCheck()}},layout:{get:function(){return this.currentAppointmentType.booking_layout?this.currentAppointmentType.booking_layout:"week"},set:function(t){this.updateCurrentAppointmentType({key:"booking_layout",value:t})}},instructions:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.instructions:""},set:function(t){this.updateCurrentAppointmentType({key:"instructions",value:t})}},visibility:{get:function(){return this.currentAppointmentType&&Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"visibility")?this.currentAppointmentType.visibility:"public"},set:function(t){this.updateCurrentAppointmentType({key:"visibility",value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),methods:(0,o.Z)({validationCheck:function(){var t=this.$v.duration.required?!this.$v.duration.$invalid:this.$v.duration.minValue;this.$emit("validationCheck",!this.titleError&&!this.slugError&&t)}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},ki=bi,Ci=(0,K.Z)(ki,ci,di,!1,null,null,null),Si=Ci.exports,wi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-availability",class:"md-theme-"+t.appointmentTypeLabel},[n("fieldset",{staticClass:"md-fieldset field-wrapper"},[n("legend",[t._v(t._s(t.translations.appointmentTypes.availabilityType))]),n("md-radio",{attrs:{id:"availability_type_blocks",name:"availability_type","md-value":"available_blocks","aria-described-by":"availability-type-help"},model:{value:t.availability_type,callback:function(e){t.availability_type=e},expression:"availability_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.availabilityBlocks)+" ")]),n("md-radio",{attrs:{id:"availability_type_times",name:"availability_type","md-value":"start_times","aria-described-by":"availability-type-help"},model:{value:t.availability_type,callback:function(e){t.availability_type=e},expression:"availability_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.availabilityStartTimes)+" ")]),n("div",{attrs:{id:"availability-type-help","aria-live":"polite"}},[n("p",["start_times"===t.availability_type?[t._v(" "+t._s(t.translations.appointmentTypes.availabilityStartTimesHelp)+" ")]:[t._v(" "+t._s(t.translations.appointmentTypes.availabilityBlocksHelp)+" ")]],2)])],1),n("fieldset",{staticClass:"md-fieldset field-wrapper"},[n("legend",[t._v(" "+t._s(t.translations.appointmentTypes.availabilityIncrement)+" ")]),t._l(t.options.availabilityTimeIncrements,(function(e){return n("md-radio",{key:e,attrs:{id:"increment-"+e,name:"increment","md-value":e},on:{change:t.updateAvailability},model:{value:t.increment,callback:function(e){t.increment=e},expression:"increment"}},[t._v(" "+t._s(e)+" "+t._s(t.translations.time.units.minutes.plural)+" ")])}))],2),"available_blocks"===t.availability_type?n("availability-picker",{ref:"availability-field",attrs:{increment:t.increment},model:{value:t.availability,callback:function(e){t.availability=e},expression:"availability"}}):n("start-time-picker",{ref:"start-time-field",attrs:{increment:t.increment},model:{value:t.availability,callback:function(e){t.availability=e},expression:"availability"}}),t.advancedSchedulingModule.enabled?[n("h3",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.availability_window)+" ")]),n("p",{staticClass:"subsection-description"},[t._v(" "+t._s(t.translations.appointmentTypes.availability_window_help)+" ")]),n("md-input-container",{class:{"md-input-invalid":!t.validAvailabilityWindow,"md-has-value":t.availability_start_date},attrs:{"md-clearable":""}},[n("label",{attrs:{for:"availability_start_date"}},[t._v(" "+t._s(t.translations.appointmentTypes.availability_start_date)+" ")]),n("date-time-picker",{on:{input:t.validateAvailabilityWindow},model:{value:t.availability_start_date,callback:function(e){t.availability_start_date=e},expression:"availability_start_date"}}),n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.availability_window_error)+" ")])],1),n("md-input-container",{class:{"md-input-invalid":!t.validAvailabilityWindow,"md-has-value":t.availability_end_date},attrs:{"md-clearable":""}},[n("label",{attrs:{for:"availability_end_date"}},[t._v(" "+t._s(t.translations.appointmentTypes.availability_end_date)+" ")]),n("date-time-picker",{on:{input:t.validateAvailabilityWindow},model:{value:t.availability_end_date,callback:function(e){t.availability_end_date=e},expression:"availability_end_date"}}),n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.availability_window_error)+" ")])],1)]:t._e()],2)},Ti=[],xi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"availability-table"},[n("table",{class:t.classes},[n("thead",[n("tr",[n("th",[t.canAddTimeBefore?n("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeBefore}},[n("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(e,i){return n("th",{key:"thead-"+e},[t._v(t._s(t.weekdaysDisplay[i]))])}))],2)]),n("tfoot",[n("tr",[n("th",[t.canAddTimeAfter?n("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeAfter}},[n("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(e){return n("td",{key:"tfoot-"+e},[t._v(" ")])}))],2)]),n("tbody",{on:{mousedown:function(e){return e.preventDefault(),t.mousedown(e)},mouseup:function(e){return e.preventDefault(),t.mouseup(e)},mouseover:function(e){return e.preventDefault(),t.mouseover(e)}}},t._l(t.times,(function(e){return n("tr",{key:e.timeCalc,class:{hour:"00"===e.timeMinutes}},["00"!==e.timeMinutes?n("th",[t._v(" ")]):n("th",[t._v(t._s(e.timeString))]),t._l(t.weekdays,(function(i){return n("cell",{key:i+" - "+e.timeCalc,tag:"td",attrs:{day:i,time:e.timeCalc,checked:t.checked[i]},on:{"update:checked":function(e){return t.$set(t.checked,i,e)},update:t.updateAvailability}})}))],2)})),0)])])},Ai=[],Pi=(n(40561),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{class:{selected:t.isSelected}},[n("input",{attrs:{id:t.id,type:"checkbox",name:t.day},domProps:{value:t.time,checked:t.isSelected},on:{change:t.changeCheck}}),n("label",{attrs:{for:t.id,title:t.time}},[t._v(t._s(t.day)+" "+t._s(t.time))])])}),Mi=[],Ei=(n(15306),{name:"availabilityPickerCell",props:{day:{type:String,required:!0},time:{type:String,required:!0},checked:{type:Array,required:!0}},computed:{id:function(){var t=this.day.toLowerCase(),e=t+this.time;return e.replace(/[^a-z0-9\-_:\]|^[^a-z]+/gi,"")},isSelected:function(){var t=!1,e=this.checked,n=e.indexOf(this.time);return n>=0&&(t=!0),t}},methods:{changeCheck:function(){this.$emit("update")}}}),Di=Ei,$i=(0,K.Z)(Di,Pi,Mi,!1,null,null,null),Oi=$i.exports,Ii={name:"availabilityTable",store:Ey,components:{cell:Oi},props:["value","increment"],data:function(){return{isMouseDown:!1,erasing:!1,drawing:!1,startRowIndex:null,startCellIndex:null,timeStart:"08:00",timeEnd:"19:00"}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({classes:function(){return{availability:!0,bordered:!0,erasing:this.erasing,drawing:this.drawing}},times:function(){var t=[],e=this.timeStringToMoment(this.timeStart),n=this.timeStringToMoment(this.timeEnd),i=this.increment||60,s=e.clone().subtract(i,"minutes"),a=n.clone();while(s.add(i,"minutes").diff(a)<0)t.push({timeString:s.clone().format(this.settings.global.time_format_moment),timeMinutes:s.clone().locale("en").format("mm"),timeCalc:s.clone().locale("en").format("HH:mm")});return t},checked:function(){var t=this,e={};return this.weekdays.map((function(n){var i=[],s=t.value[n],a=t.increment||60;s&&!Ee().isEmpty(s)&&s.map((function(t){var e=R()(t.time_start,"HH:mm").locale("en"),n=e.clone().subtract(a,"minutes");if(Object.prototype.hasOwnProperty.call(t,"time_end")){var s=R()(t.time_end,"HH:mm").locale("en");while(n.add(a,"minutes").diff(s)<0)i.push(n.clone().format("HH:mm"))}else i.push(e.clone().format("HH:mm"))})),e[n]=i})),e},weekdays:function(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysDisplay:function(){R().locale(this.settings.global.locale);var t=this.settings.global.start_of_week,e=R().weekdays(!1);if(t>0){var n=e.splice(0,t);e=[].concat((0,U.Z)(e),(0,U.Z)(n))}return e},canAddTimeBefore:function(){var t=this.timeStringToMoment(this.timeStart);return!t.isSame(R()().startOf("day"))},canAddTimeAfter:function(){var t=this.timeStringToMoment(this.timeEnd).add(59,"minute");return!t.isAfter(R()().endOf("day"))}},(0,r.Se)({getWeekdays:"weekdays"})),(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),beforeMount:function(){var t=this;this.calculateStartAndEndTimes(),document.addEventListener("mouseup",(function(){t.mouseup()}))},mounted:function(){this.updateAvailability()},methods:{calculateStartAndEndTimes:function(){var t=[];for(var e in this.value)Array.prototype.push.apply(t,this.value[e]);if(0!==t.length){var n=t.map((function(t){return parseInt(t.time_start.split(":")[0])})),i=t.filter((function(t){return Object.prototype.hasOwnProperty.call(t,"time_end")})),s=i.map((function(t){return parseInt(t.time_end.split(":")[0])})),a=n.reduce((function(t,e){return Math.min(t,e)})),o=s.length?s.reduce((function(t,e){return Math.max(t,e)})):n.reduce((function(t,e){return Math.max(t,e)}));this.timeStart=a>=1?(a-1).toString()+":00":a.toString()+":00",this.timeEnd=o<=23?(o+1).toString()+":00":o.toString()+":00"}},addTimeBefore:function(){var t=this.timeStringToMoment(this.timeStart).subtract(1,"hour");this.timeStart=t.format("HH:mm")},addTimeAfter:function(){var t=this.timeStringToMoment(this.timeEnd).add(1,"hour");t.isAfter(R()().endOf("day"))&&t.subtract(1,"minute"),this.timeEnd=t.format("HH:mm")},timeStringToMoment:function(t){var e=R()(t,["H:mm:ss","HH:mm:ss","H:mm","HH:mm","h:mma","hh:mma","h:mmA","hh:mmA","h:mm","hh:mm"]);return e},updateAvailability:Ee().debounce((function(){var t=this,e=this.increment||60,n={};this.weekdays.map((function(i){var s=[].slice.call(document.getElementsByName(i)),a=!1,o=0,r=[];s.map((function(n,i){if(n.checked&&s.length===i+1){a||r.push({time_start:R()(n.value,t.settings.global.time_format_moment).locale("en").format("HH:mm:ss")}),a=!1;var l=r[o],c=R()(n.value,t.settings.global.time_format_moment).locale("en").add(e,"minutes");c.isAfter(R()().locale("en").endOf("day"))?l.time_end="24:00:00":l.time_end=c.format("HH:mm:ss"),o++}else if(n.checked&&!a){a=!0;var d={time_start:R()(n.value,t.settings.global.time_format_moment).locale("en").format("HH:mm:ss")};r.push(d)}else if(!n.checked&&a){a=!1;var p=r[o];p.time_end=R()(n.value,t.settings.global.time_format_moment).locale("en").format("HH:mm:ss"),o++}})),n[i]=r})),this.$emit("input",n)}),300),toggleCheck:function(t,e){var n=t.querySelector('input[type="checkbox"]');e&&(this.erasing?n.checked=!1:this.drawing&&(n.checked=!0));var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),n.dispatchEvent(i)},getCellIndex:function(t){for(var e=t.parentNode.childNodes,n=0,i=0;i<e.length;i++){if(e[i]===t)return n;e[i].nodeName===t.nodeName&&n++}},getRowIndex:function(t){for(var e=t.parentNode,n=e.parentNode.childNodes,i=0,s=0;s<n.length;s++){if(n[s]===e)return i;n[s].nodeName===e.nodeName&&i++}},mousedown:function(t){var e=t.target;while("TD"!==e.nodeName&&"TH"!==e.nodeName)e=e.parentNode;"TH"!==e.nodeName&&(e.classList.contains("selected")?(this.erasing=!0,this.drawing=!1):(this.erasing=!1,this.drawing=!0),this.toggleCheck(e,!1),this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.isMouseDown=!0)},mouseup:function(){this.erasing=!1,this.drawing=!1,this.isMouseDown=!1},mouseover:function(t){if(this.isMouseDown){var e=t.target;while("TD"!==e.nodeName)e=e.parentNode;for(var n=this.getCellIndex(e),i=this.getRowIndex(e),s=i<this.startRowIndex?i:this.startRowIndex,a=i<this.startRowIndex?this.startRowIndex:i,o=n<this.startCellIndex?n:this.startCellIndex,r=n<this.startCellIndex?this.startCellIndex:n,l=e.parentNode.parentNode.getElementsByTagName("tr"),c=s;c<=a;c++)for(var d=l[c].getElementsByTagName("td"),p=o;p<=r;p++)this.toggleCheck(d[p],!0)}}}},Zi=Ii,zi=(0,K.Z)(Zi,xi,Ai,!1,null,null,null),ji=zi.exports,Li=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"start-time-table"},[n("table",{staticClass:"start-times"},[n("thead",[n("tr",[n("th",[t.canAddTimeBefore?n("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeBefore}},[n("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(e,i){return n("th",{key:i,attrs:{scope:"col"}},[n("button",{attrs:{"aria-label":t.translations.appointmentTypes.availabilityToggle+" "+t.weekdaysDisplay[i]},on:{click:t.toggleCol}},[t._v(" "+t._s(t.weekdaysDisplay[i])+" ")])])}))],2)]),n("tfoot",[n("tr",[n("th",[t.canAddTimeAfter?n("md-button",{staticClass:"md-icon-button md-raised md-dense md-primary",on:{click:t.addTimeAfter}},[n("md-icon",[t._v("add")])],1):t._e()],1),t._l(t.weekdays,(function(e){return n("td",{key:e},[t._v(" ")])}))],2)]),n("tbody",t._l(t.times,(function(e){return n("tr",{key:e.timeCalc,class:{hour:"00"===e.timeMinutes}},[n("th",{attrs:{scope:"row"}},[n("button",{attrs:{"aria-label":t.translations.appointmentTypes.availabilityToggle+" "+e.timeString},on:{click:t.toggleRow}},[t._v(" "+t._s(e.timeString)+" ")])]),t._l(t.weekdays,(function(i){return n("cell",{key:i+" - "+e.timeCalc,tag:"td",attrs:{day:i,time:e.timeCalc,checked:t.checked[i]},on:{"update:checked":function(e){return t.$set(t.checked,i,e)},update:t.updateAvailability}})}))],2)})),0)])])},Ni=[],Ui=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("input",{staticClass:"single-time",attrs:{type:"checkbox",id:t.id,name:t.day},domProps:{value:t.time,checked:t.isSelected},on:{change:t.changeCheck}}),n("label",{attrs:{for:t.id,title:t.time}},[t._v(" "+t._s(t.day)+" "+t._s(t.time)+" ")])])},Gi=[],Fi={name:"StartTimePickerCell",props:{day:{type:String,required:!0},time:{type:String,required:!0},checked:{type:Array,required:!0}},computed:{id:function(){var t=this.day.toLowerCase(),e=t+this.time;return e.replace(/[^a-z0-9\-_:\]|^[^a-z]+/gi,"")},isSelected:function(){var t=this.checked,e=t.indexOf(this.time);return e>=0}},methods:{changeCheck:function(){this.$emit("update")}}},Wi=Fi,Bi=(0,K.Z)(Wi,Ui,Gi,!1,null,null,null),Ri=Bi.exports,qi={name:"start_times",components:{cell:Ri},props:["value","increment"],data:function(){return{isShiftPressed:!1,startCellIndex:null,startCellState:!1,startRowIndex:null,table:null,timeStart:"9:00",timeEnd:"18:00"}},beforeMount:function(){this.calculateStartAndEndTimes()},mounted:function(){this.updateAvailability(),this.table=document.querySelector(".start-times"),this.table.addEventListener("change",this.toggleRange),document.addEventListener("keyup",this.detectShift),document.addEventListener("keydown",this.detectShift)},beforeDestroy:function(){this.table.removeEventListener("change",this.toggleRange),document.removeEventListener("keyup",this.detectShift),document.removeEventListener("keydown",this.detectShift)},computed:(0,o.Z)((0,o.Z)((0,o.Z)({canAddTimeAfter:function(){var t=this.timeStringToMoment(this.timeEnd).add(59,"minute");return!t.isAfter(R()().endOf("day"))},canAddTimeBefore:function(){var t=this.timeStringToMoment(this.timeStart);return!t.isSame(R()().startOf("day"))},checked:function(){var t=this,e={};return this.weekdays.map((function(n){var i=[],s=t.value[n],a=t.increment||60;s&&!Ee().isEmpty(s)&&s.map((function(t){var e=R()(t.time_start,"H:mm"),n=e.clone().subtract(a,"minutes");if(Object.prototype.hasOwnProperty.call(t,"time_end")){var s=R()(t.time_end,"H:mm");while(n.add(a,"minutes").diff(s)<0)i.push(n.clone().format("H:mm"))}else i.push(e.clone().format("H:mm"))})),e[n]=i})),e},times:function(){var t=[],e=this.timeStringToMoment(this.timeStart),n=this.timeStringToMoment(this.timeEnd),i=this.increment||60,s=e.clone().subtract(i,"minutes"),a=n.clone();while(s.add(i,"minutes").diff(a)<0)t.push({timeString:s.clone().format(this.settings.global.time_format_moment),timeMinutes:s.clone().format("mm"),timeCalc:s.clone().format("H:mm")});return t},weekdays:function(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysDisplay:function(){R().locale(this.settings.global.locale);var t=this.settings.global.start_of_week,e=R().weekdays(!1);if(t>0){var n=e.splice(0,t);e=[].concat((0,U.Z)(e),(0,U.Z)(n))}return e}},(0,r.Se)({getWeekdays:"weekdays"})),(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:{addTimeAfter:function(){var t=this.timeStringToMoment(this.timeEnd).add(1,"hour");t.isAfter(R()().endOf("day"))&&t.subtract(1,"minute"),this.timeEnd=t.format("H:mm")},addTimeBefore:function(){var t=this.timeStringToMoment(this.timeStart).subtract(1,"hour");this.timeStart=t.format("H:mm")},calculateStartAndEndTimes:function(){var t=[];for(var e in this.value)Array.prototype.push.apply(t,this.value[e]);if(0!==t.length){var n=t.map((function(t){return parseInt(t.time_start.split(":")[0])})),i=t.filter((function(t){return Object.prototype.hasOwnProperty.call(t,"time_end")})),s=i.map((function(t){return parseInt(t.time_end.split(":")[0])})),a=n.reduce((function(t,e){return Math.min(t,e)})),o=s.length?s.reduce((function(t,e){return Math.max(t,e)})):n.reduce((function(t,e){return Math.max(t,e)}));this.timeStart=a>=1?(a-1).toString()+":00":a.toString()+":00",this.timeEnd=o<=23?(o+1).toString()+":00":o.toString()+":00"}},detectShift:function(t){this.isShiftPressed=t.shiftKey},getCellIndex:function(t){for(var e=t.parentNode.childNodes,n=0,i=0;i<e.length;i++){if(e[i]===t)return n;e[i].nodeName===t.nodeName&&n++}},getRowIndex:function(t){for(var e=t.parentNode,n=e.parentNode.childNodes,i=0,s=0;s<n.length;s++){if(n[s]===e)return i;n[s].nodeName===e.nodeName&&i++}},getClosest:function(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},timeStringToMoment:function(t){return R()(t,["H:mm:ss","HH:mm:ss","H:mm","HH:mm","h:mma","hh:mma","h:mmA","hh:mmA","h:mm","hh:mm"])},toggleCheck:function(t,e){var n=t.querySelector('input[type="checkbox"]');n.checked=e;var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),n.dispatchEvent(i)},toggleCol:function(t){for(var e=this.getClosest(t.target,"th"),n=this.getCellIndex(e)-1,i=this.table.querySelectorAll("tbody tr"),s=i[0],a=s.querySelectorAll("td")[n],o=a.querySelector('input[type="checkbox"]').checked,r=0;r<i.length;r++){var l=i[r].querySelectorAll("td")[n];this.toggleCheck(l,!o)}},toggleRow:function(t){for(var e=this.getClosest(t.target,"tr"),n=e.getElementsByTagName("td"),i=n[0],s=i.querySelector('input[type="checkbox"]').checked,a=0;a<n.length;a++)this.toggleCheck(n[a],!s)},toggleRange:function(t){if(t.target.classList.contains("single-time"))var e=this.getClosest(t.target,"td");if(this.isShiftPressed&&this.startCellIndex>=0&&this.startRowIndex>=0){for(var n=this.getCellIndex(e),i=this.getRowIndex(e),s=i<this.startRowIndex?i:this.startRowIndex,a=i<this.startRowIndex?this.startRowIndex:i,o=n<this.startCellIndex?n:this.startCellIndex,r=n<this.startCellIndex?this.startCellIndex:n,l=this.getClosest(e,"tbody"),c=l.getElementsByTagName("tr"),d=s;d<=a;d++)for(var p=c[d].getElementsByTagName("td"),u=o;u<=r;u++)this.toggleCheck(p[u],this.startRowState);this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.startRowState=t.target.checked}else this.startCellIndex=this.getCellIndex(e),this.startRowIndex=this.getRowIndex(e),this.startRowState=t.target.checked},updateAvailability:Ee().debounce((function(){var t=this,e={};this.weekdays.map((function(n){var i=[].slice.call(document.getElementsByName(n)),s=[];i.map((function(e){e.checked&&s.push({time_start:R()(e.value,t.settings.global.time_format_moment).format("HH:mm:ss")})})),e[n]=s})),this.$emit("input",e)}),300)}},Hi=qi,Ki=(0,K.Z)(Hi,Li,Ni,!1,null,null,null),Vi=Ki.exports,Yi={name:"appointmentTypeAvailability",components:{AvailabilityPicker:ji,StartTimePicker:Vi,DateTimePicker:Ke},data:function(){return{options:yi,validAvailabilityWindow:!0}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({availability_end_date:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.availability_end_date:null},set:function(t){this.updateCurrentAppointmentType({key:"availability_end_date",value:t})}},availability_start_date:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.availability_start_date:null},set:function(t){this.updateCurrentAppointmentType({key:"availability_start_date",value:t})}},availability_type:{get:function(){return this.currentAppointmentType.availability_type},set:function(t){this.updateCurrentAppointmentType({key:"availability_type",value:t})}},increment:{get:function(){return this.currentAppointmentType.availability_increment},set:function(t){this.updateCurrentAppointmentType({key:"availability_increment",value:t})}},availability:{get:function(){return this.currentAppointmentType.availability},set:function(t){this.updateCurrentAppointmentType({key:"availability",value:t})}},appointmentTypeLabel:function(){return this.currentAppointmentType.label||"light-green"}},(0,r.rn)("translations",["translations"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),(0,r.Se)(["advancedSchedulingModule"])),methods:(0,o.Z)({updateAvailability:function(){"available_blocks"===this.availability_type?this.$refs["availability-field"].updateAvailability():this.$refs["start-time-field"].updateAvailability()},validateAvailabilityWindow:function(){var t=R().utc(this.availability_start_date,this.timestampFormat).locale("en"),e=R().utc(this.availability_end_date,this.timestampFormat).locale("en");t.isValid()&&e.isValid()?this.validAvailabilityWindow=t.isBefore(e):this.validAvailabilityWindow=!0,this.$emit("validationCheck",this.validAvailabilityWindow)}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},Ji=Yi,Xi=(0,K.Z)(Ji,wi,Ti,!1,null,null,null),Qi=Xi.exports,ts=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-scheduling"},[n("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.timezoneStyle))]),n("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleHelp))]),n("div",[n("md-radio",{attrs:{id:"tzstyle-localized",name:"timezone_style","md-value":"localized"},model:{value:t.timezone_style,callback:function(e){t.timezone_style=e},expression:"timezone_style"}},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocalized))]),n("md-radio",{attrs:{id:"tzstyle-locked",name:"timezone_style","md-value":"locked"},model:{value:t.timezone_style,callback:function(e){t.timezone_style=e},expression:"timezone_style"}},[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocked))])],1),"locked"===t.timezone_style?n("div",[n("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLockedHelp))]),n("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleYourTimezone)+" "),n("strong",[t._v(t._s(t.formatTimezone(t.settings.global.timezone_string)))]),n("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v(t._s(t.translations.actions.edit))])],1)]):n("p",[t._v(t._s(t.translations.appointmentTypes.timezoneStyleLocalizedHelp))]),n("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.buffer))]),n("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.buffer_help))]),n("md-layout",{staticClass:"complex-field"},[n("div",{staticClass:"inline-label"},[n("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.scheduling.before))])]),n("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.buffer_before},model:{value:t.$v.buffer_before.$model,callback:function(e){t.$set(t.$v.buffer_before,"$model",e)},expression:"$v.buffer_before.$model"}})],1),n("md-layout",{staticClass:"complex-field"},[n("div",{staticClass:"inline-label"},[n("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.scheduling.after))])]),n("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.buffer_after},model:{value:t.$v.buffer_after.$model,callback:function(e){t.$set(t.$v.buffer_after,"$model",e)},expression:"$v.buffer_after.$model"}})],1),n("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.notice))]),n("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.notice_help))]),n("md-layout",{staticClass:"complex-field",class:{"md-input-invalid":!t.validMinMax}},[n("div",{staticClass:"inline-label"},[n("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.min_booking_notice))])]),n("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.min_booking_notice_help,errorText:t.minBookingNoticeErrorMessage},model:{value:t.$v.min_booking_notice.$model,callback:function(e){t.$set(t.$v.min_booking_notice,"$model",e)},expression:"$v.min_booking_notice.$model"}})],1),t.advancedSchedulingModule.enabled?[n("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.advance))]),n("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.advance_help))]),n("md-layout",{staticClass:"complex-field",class:{"md-input-invalid":!t.validMinMax}},[n("div",{staticClass:"inline-label"},[n("p",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.max_booking_notice))])]),n("duration",{attrs:{"allow-null":!0,helpText:t.translations.appointmentTypes.max_booking_notice_help,errorText:t.maxBookingNoticeErrorMessage},model:{value:t.$v.max_booking_notice.$model,callback:function(e){t.$set(t.$v.max_booking_notice,"$model",e)},expression:"$v.max_booking_notice.$model"}})],1),n("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.booking_window))]),n("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.booking_window_help))]),n("md-input-container",{class:{"md-input-invalid":!t.validBookingWindow,"md-has-value":t.booking_start_date},attrs:{"md-clearable":""}},[n("label",{attrs:{for:"booking_start_date"}},[t._v(t._s(t.translations.appointmentTypes.booking_start_date))]),n("date-time-picker",{on:{input:t.validationCheck},model:{value:t.booking_start_date,callback:function(e){t.booking_start_date=e},expression:"booking_start_date"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.advanced_scheduling.booking_window_error))])],1),n("md-input-container",{class:{"md-input-invalid":!t.validBookingWindow,"md-has-value":t.booking_end_date},attrs:{"md-clearable":""}},[n("label",{attrs:{for:"booking_end_date"}},[t._v(t._s(t.translations.appointmentTypes.booking_end_date))]),n("date-time-picker",{on:{input:t.validationCheck},model:{value:t.booking_end_date,callback:function(e){t.booking_end_date=e},expression:"booking_end_date"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.advanced_scheduling.booking_window_error))])],1)]:t._e(),n("h3",{staticClass:"subsection-title"},[t._v(t._s(t.translations.appointmentTypes.max))]),n("p",{staticClass:"subsection-description"},[t._v(t._s(t.translations.appointmentTypes.max_help))]),n("md-layout",{attrs:{"md-column":""}},[n("md-checkbox",{attrs:{"md-theme":t.currentAppointmentType?t.currentAppointmentType.label:"default",id:"limitmax",name:"limitmax"},model:{value:t.limitmax,callback:function(e){t.limitmax=e},expression:"limitmax"}},[t._v(t._s(t.translations.appointmentTypes.limitmax))])],1),t.limitmax?n("md-layout",{attrs:{"md-column":""}},[n("md-layout",[n("md-input-container",[n("label",{attrs:{for:"max_event_count"}},[t._v(t._s(t.translations.appointmentTypes.max_event_count))]),n("md-input",{attrs:{id:"max_event_count"},model:{value:t.max_event_count,callback:function(e){t.max_event_count=e},expression:"max_event_count"}})],1)],1)],1):t._e()],2)},es=[],ns={name:"appointmentTypeScheduling",mixins:[_i.oE],store:Ey,components:{Duration:hi,DateTimePicker:Ke},data:function(){return{options:yi,moment:R(),validBookingWindow:!0,validMinMax:!0}},validations:{buffer_before:{minValue:(0,vi.uv)(0)},buffer_after:{minValue:(0,vi.uv)(0)},min_booking_notice:{minValue:(0,vi.uv)(0)},max_booking_notice:{minValue:(0,vi.uv)(0)}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({timezone_style:{get:function(){return this.currentAppointmentType&&this.currentAppointmentType.timezone_style?this.currentAppointmentType.timezone_style:"localized"},set:function(t){this.updateCurrentAppointmentType({key:"timezone_style",value:t})}},booking_end_date:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.booking_end_date:""},set:function(t){this.updateCurrentAppointmentType({key:"booking_end_date",value:t})}},booking_start_date:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.booking_start_date:""},set:function(t){this.updateCurrentAppointmentType({key:"booking_start_date",value:t})}},buffer_after:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.buffer_after:""},set:function(t){this.updateCurrentAppointmentType({key:"buffer_after",value:t}),this.validationCheck()}},bufferAfterError:function(){return this.$v.buffer_after.$invalid},buffer_before:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.buffer_before:""},set:function(t){this.updateCurrentAppointmentType({key:"buffer_before",value:t}),this.validationCheck()}},bufferBeforeError:function(){return this.$v.buffer_before.$invalid},limitmax:{get:function(){return this.max_event_count>0},set:function(t){this.max_event_count=t?3:0}},min_booking_notice:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.min_booking_notice:""},set:function(t){this.updateCurrentAppointmentType({key:"min_booking_notice",value:t}),this.validationCheck()}},minBookingNoticeError:function(){return this.$v.min_booking_notice.$invalid},minBookingNoticeErrorMessage:function(){return this.advancedSchedulingModule.enabled&&!this.validMinMax&&this.min_booking_notice>=1&&this.max_booking_notice>=1?this.translations.appointmentTypes.min_max_error:""},max_booking_notice:{get:function(){var t=null;return this.currentAppointmentType&&(t=this.currentAppointmentType.max_booking_notice),0!==t&&"0"!==t||(t=""),t},set:function(t){this.updateCurrentAppointmentType({key:"max_booking_notice",value:t}),this.validationCheck()}},maxBookingNoticeError:function(){return this.$v.max_booking_notice.$invalid},maxBookingNoticeErrorMessage:function(){if(this.advancedSchedulingModule.enabled){if(this.max_booking_notice<1)return this.translations.appointmentTypes.max_booking_notice_error;if(!this.validMinMax&&this.max_booking_notice>=1&&this.min_booking_notice>=1)return this.translations.appointmentTypes.min_max_error}return""},max_event_count:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.max_event_count:""},set:function(t){this.updateCurrentAppointmentType({key:"max_event_count",value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),(0,r.Se)(["advancedSchedulingModule","formatTimezone"])),methods:(0,o.Z)({validationCheck:function(){var t=R().utc(this.booking_start_date,this.timestampFormat),e=R().utc(this.booking_end_date,this.timestampFormat);t.isValid()&&e.isValid()?this.validBookingWindow=t.isBefore(e):this.validBookingWindow=!0;var n=this.min_booking_notice?parseInt(this.min_booking_notice,10):null,i=this.max_booking_notice?parseInt(this.max_booking_notice,10):null;this.validMinMax=!(n&&i&&i<=n)&&!!i,this.$emit("validationCheck",this.validBookingWindow&&this.validMinMax&&!this.bufferBeforeError&&!this.bufferAfterError&&!this.maxBookingNoticeError&&!this.minBookingNoticeError)}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},is=ns,ss=(0,K.Z)(is,ts,es,!1,null,null,null),as=ss.exports,os=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-payments"},[t.activePaymentMethods.length?[n("h3",{staticClass:"md-subheading"},[t._v(t._s(t.translations.appointmentTypes.payments.requiredPayment))]),n("div",{staticClass:"radio-list"},[n("md-radio",{attrs:{id:"payment-required",name:"payment_required","md-value":"required"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.required))]),n("md-radio",{attrs:{id:"payment-optional",name:"payment_required","md-value":"optional"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.optional))]),n("md-radio",{attrs:{id:"payment-none",name:"payment_required","md-value":"none"},model:{value:t.payment_required,callback:function(e){t.payment_required=e},expression:"payment_required"}},[t._v(t._s(t.translations.appointmentTypes.payments.none))])],1),t.paymentsEnabled?[n("hr"),n("md-layout",{staticClass:"col3-big-middle",attrs:{"md-gutter":!0}},[n("md-layout",[n("md-input-container",{class:{"md-input-invalid":t.$v.price.$invalid}},[n("label",{attrs:{for:"price"}},[t._v(t._s(t.translations.appointmentTypes.payments.price))]),n("md-input",{attrs:{min:"0",type:"number",required:"",step:"any"},on:{blur:t.tidyPrice},model:{value:t.$v.price.$model,callback:function(e){t.$set(t.$v.price,"$model",t._n("string"===typeof e?e.trim():e))},expression:"$v.price.$model"}}),t.$v.price.$invalid?n("span",{staticClass:"md-error"},[t._v(t._s(t.price_error))]):t._e()],1)],1),n("md-layout",[n("md-input-container",[n("label",{attrs:{for:"currency"}},[t._v(t._s(t.translations.appointmentTypes.payments.currency))]),n("select2",{attrs:{name:"currency",id:"currency"},model:{value:t.$v.currency.$model,callback:function(e){t.$set(t.$v.currency,"$model",e)},expression:"$v.currency.$model"}},t._l(t.currencies,(function(e){return n("option",{key:e.number,domProps:{value:e.code}},[t._v(t._s(e.currency)+" ("+t._s(e.code)+")")])})),0),t.$v.currency.$invalid&&t.$v.currency.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.appointmentTypes.payments.currencyError))]):t._e()],1)],1),n("md-layout",[n("md-input-container",{directives:[{name:"show",rawName:"v-show",value:t.price,expression:"price"}],staticClass:"readonly"},[n("label",{attrs:{for:"display_price"}},[t._v(t._s(t.translations.appointmentTypes.payments.displayPrice))]),n("md-input",{attrs:{readonly:""},model:{value:t.display_price,callback:function(e){t.display_price=e},expression:"display_price"}})],1)],1)],1),n("md-input-container",[n("label",{attrs:{for:"refund-policy"}},[t._v(t._s(t.translations.appointmentTypes.payments.refundPolicy))]),n("md-textarea",{model:{value:t.refund_policy,callback:function(e){t.refund_policy=e},expression:"refund_policy"}}),n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.payments.refundPolicyHelp))])],1),n("fieldset",{staticClass:"check-list"},[n("legend",[t._v(t._s(t.translations.appointmentTypes.payments.paymentMethods))]),t.$v.payment_methods.$invalid?n("p",{staticClass:"error-message"},[t._v(t._s(t.translations.appointmentTypes.payments.paymentMethodsError))]):t._e(),t._l(t.activePaymentMethods,(function(e,i){return n("div",{key:i,staticClass:"check-item"},[n("foxy-checkbox-multi",{key:i,attrs:{id:"payment-method-"+i,name:"payment-methods",value:e,theme:t.currentAppointmentType.label?t.currentAppointmentType.label:"light-green",theming:"primary"},model:{value:t.$v.payment_methods.$model,callback:function(e){t.$set(t.$v.payment_methods,"$model",e)},expression:"$v.payment_methods.$model"}},[t._v(" "+t._s(t.displayGateway(e))+" ")])],1)}))],2)]:t._e()]:n("empty",{attrs:{label:t.translations.appointmentTypes.payments.noGateways}},[n("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments"}},[t._v(t._s(t.translations.appointmentTypes.payments.setup))])],1)],2)},rs=[],ls=(n(56977),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{ref:"select2",staticStyle:{width:"100%"}},[t._t("default")],2)}),cs=[],ds=n(74029),ps=n.n(ds);n(26243);var us={name:"select2Dropdown",props:{value:{type:String},placeholder:{type:String,default:""},allowClear:{type:Boolean,default:!1}},mounted:function(){var t=this,e=ps()(t.$refs.select2);e.select2({allowClear:this.allowClear,placeholder:this.placeholder}).val(this.value).trigger("change").on("change",(function(){t.$emit("input",this.value)})).on("select2:open",(function(){ps()(".select2-search__field")[0].focus()})),this.styleContainer(e)},watch:{value:function(t){var e=ps()(this.$refs.select2);e.val(t).trigger("change"),this.styleContainer(e)}},beforeDestroy:function(){ps()(this.$refs.select2).off().select2("destroy")},methods:{styleContainer:function(t){var e=t.parents(".md-input-container");this.value?e.addClass("md-has-value"):e.removeClass("md-has-value")}}},ms=us,fs=(0,K.Z)(ms,ls,cs,!1,null,null,null),gs=fs.exports,hs={name:"appointmentTypePayments",mixins:[_i.oE],components:{Empty:te,Select2:gs},data:function(){return{currencies:P,paymentInfo:{}}},validations:function(){var t="USD"===this.currency?.5:.01;return{price:{required:(0,vi.CF)("paymentsEnabled"),minVal:(0,vi.uv)(t),decimal:vi.gH},currency:{required:(0,vi.CF)("paymentsEnabled")},payment_methods:{required:(0,vi.CF)("paymentsEnabled")}}},mounted:function(){var t=Ee().cloneDeep(this.currentAppointmentType.payments);Ee().isEmpty(t)&&(t={},t.payment_methods=this.activePaymentMethods.slice(0),t.currency=this.settings.payments.default_currency),this.paymentInfo=t},watch:{paymentInfo:{handler:function(t){this.updateCurrentAppointmentType({key:"payments",value:Ee().cloneDeep(t)})},deep:!0}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({price:{get:function(){return this.paymentInfo.price?this.paymentInfo.price:null},set:function(t){this.$set(this.paymentInfo,"price",t),this.validationCheck()}},price_error:function(){return"USD"===this.currency?this.translations.appointmentTypes.payments.priceUSDError:this.translations.appointmentTypes.payments.priceError},currency:{get:function(){return this.paymentInfo.currency?this.paymentInfo.currency:this.settings.payments.default_currency},set:function(t){this.$set(this.paymentInfo,"currency",t),this.validationCheck()}},display_price:function(){var t=this.settings.global.locale.replace("_","-");t=t.replace("_formal","");var e=parseFloat(this.price);return e?new Intl.NumberFormat(t,{style:"currency",currency:this.currency}).format(e):null},refund_policy:{get:function(){return this.paymentInfo.refund_policy?this.paymentInfo.refund_policy:""},set:function(t){this.$set(this.paymentInfo,"refund_policy",t)}},payment_methods:{get:function(){return this.paymentInfo.payment_methods?this.paymentInfo.payment_methods:this.activePaymentMethods.slice(0)},set:function(t){this.$set(this.paymentInfo,"payment_methods",t),this.validationCheck()}},payment_required:{get:function(){return this.paymentInfo.payment_required?this.paymentInfo.payment_required:"none"},set:function(t){this.$set(this.paymentInfo,"payment_required",t),this.validationCheck()}},paymentsEnabled:function(){return"none"!==this.payment_required}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),(0,r.Se)("payments",["activePaymentMethods","displayGateway"])),methods:(0,o.Z)({validationCheck:function(){this.$emit("validationCheck",!this.$v.$invalid)},tidyPrice:function(){null!==this.price&&(this.price=parseFloat(this.price).toFixed(2))}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},_s=hs,vs=(0,K.Z)(_s,os,rs,!1,null,null,null),ys=vs.exports,bs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-staff"},[t.loading?n("loading",{attrs:{size:"body",message:t.translations.settings.staff.loading}}):t.staffStatusPublish.length?[[n("h3",{staticClass:"md-subheading caption-pair"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffEnableHeading)+" ")]),n("p",{staticClass:"md-caption caption-pair"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffEnableDesc)+" ")]),n("div",{staticClass:"radio-list"},[n("md-radio",{attrs:{id:"staff-any",name:"staff-any","md-value":"any"},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[n("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.anyLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.anyDesc)+" ")]),n("md-radio",{attrs:{id:"staff-all",name:"staff-all","md-value":"all"},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[n("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.allLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.allDesc)+" ")]),n("md-radio",{attrs:{id:"staff-none",name:"staff-none","md-value":""},model:{value:t.staffRequired,callback:function(e){t.staffRequired=e},expression:"staffRequired"}},[n("strong",[t._v(" "+t._s(t.translations.settings.staff.appointmentType.noneLabel)+" ")]),t._v(" "+t._s(t.translations.settings.staff.appointmentType.noneDesc)+" ")])],1)],t.staffError?n("notification",{attrs:{icon:"warning",theme:"orange"}},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.staffWarning)+" ")]):t._e(),""!==t.staffRequired?[n("h3",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.teamLabel)+" ")]),n("md-list",{staticClass:"staff-list"},t._l(t.staffStatusPublish,(function(e){return n("md-list-item",{key:e.id},[n("md-checkbox",{staticClass:"staff-item",attrs:{id:"staff-"+e.id,name:"staff-"+e.id,"md-value":e.id},model:{value:t.selectedStaff,callback:function(e){t.selectedStaff=e},expression:"selectedStaff"}},[""===e.web_meetings_url&&Object.prototype.hasOwnProperty.call(t.currentAppointmentType,"web_meetings")&&"staff"===t.currentAppointmentType.web_meetings.provider?n("md-icon",{attrs:{"md-theme":"yellow"}},[t._v("warning")]):t._e(),t._v(" "+t._s(e.display_name)+" "),""===e.web_meetings_url&&Object.prototype.hasOwnProperty.call(t.currentAppointmentType,"web_meetings")&&"staff"===t.currentAppointmentType.web_meetings.provider?n("notification",{attrs:{theme:"amber",inline:!0}},[t._v(" "+t._s(t.translations.settings.staff.appointmentType.noWebMeetingUrl)+" ")]):t._e()],1)],1)})),1)]:t._e()]:n("empty",{attrs:{label:"No team members yet"}},[n("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/staff"}},[t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")])],1)],2)},ks=[],Cs={name:"AppointmentTypeStaff",components:{Loading:st,Empty:te,Notification:Sn},data:function(){return{loading:!0}},mounted:function(){var t=this;this.staff&&this.staff.length?this.loading=!1:this.fetchStaff().then((function(){t.loading=!1}))},watch:{staffRequired:function(){if(""===this.staffRequired&&Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"web_meetings")&&"staff"===this.currentAppointmentType.web_meetings.provider){var t=Ee().cloneDeep(this.currentAppointmentType.web_meetings);t.provider=""!==t.url?"custom":"",this.updateCurrentAppointmentType({key:"web_meetings",value:t})}}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({staffRequired:{get:function(){return Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff")&&this.currentAppointmentType.staff?this.currentAppointmentType.staff.required:""},set:function(t){var e=this.currentAppointmentType.staff;e="string"===typeof e||"undefined"===typeof e?Ee().cloneDeep(S):Ee().cloneDeep(this.currentAppointmentType.staff),e.required=t;var n=Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff")&&this.currentAppointmentType.staff?this.currentAppointmentType.staff.required:"";this.$emit("staffRequiredChange",{oldStaff:n,newStaff:t}),this.updateCurrentAppointmentType({key:"staff",value:e}),this.validationCheck()}},selectedStaff:{get:function(){return Object.prototype.hasOwnProperty.call(this.currentAppointmentType,"staff_ids")&&this.currentAppointmentType.staff_ids?this.currentAppointmentType.staff_ids.map(String):[]},set:function(t){this.updateCurrentAppointmentType({key:"staff_ids",value:t}),this.validationCheck()}},staffError:function(){return!!this.staffRequired&&!this.selectedStaff.length}},(0,r.rn)("translations",["translations"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),(0,r.Se)("staff",["staffStatusPublish"])),methods:(0,o.Z)((0,o.Z)({validationCheck:function(){this.$emit("validationCheck",!this.staffError)}},(0,r.nv)("staff",["fetchStaff"])),(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},Ss=Cs,ws=(0,K.Z)(Ss,bs,ks,!1,null,null,null),Ts=ws.exports,xs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-google-calendar"},[t.loading?n("loading",{attrs:{size:"body",message:t.translations.settings.google_calendar.loadingCalendars}}):t.error?n("empty",{attrs:{label:t.translations.appointmentTypes.google_calendar.checkSettingsMessage}},[n("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.checkSettings)+" ")])],1):t.settings.google_calendar.access_token?[n("div",{staticClass:"md-heading-group"},[n("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.appointmentType.apptSyncHeading))]),n("div",{staticClass:"md-subheading"},[t._v(t._s(t.translations.wizard.appointmentType.apptSyncDesc))])]),n("md-list",[t._l(t.writeableGoogleCalendars,(function(e){return n("md-list-item",{key:e.gcal_id},[n("md-radio",{attrs:{"md-value":e.gcal_id},model:{value:t.googleCalendarBooking,callback:function(e){t.googleCalendarBooking=e},expression:"googleCalendarBooking"}},[t._v(t._s(e.summary))])],1)})),n("md-list-item",[n("md-radio",{attrs:{"md-value":""},model:{value:t.googleCalendarBooking,callback:function(e){t.googleCalendarBooking=e},expression:"googleCalendarBooking"}},[t._v(" "+t._s(t.translations.wizard.googleCalendar.dontAdd)+" ")])],1)],2),t.googleCalendarBooking?n("div",{staticStyle:{padding:"1rem"}},[n("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.sharedCalendarEvent,callback:function(e){t.sharedCalendarEvent=e},expression:"sharedCalendarEvent"}},[n("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.appointmentTypes.google_calendar.sharedCalendarEvent))])]),n("div",[t._v(t._s(t.translations.appointmentTypes.google_calendar.sharedCalendarEventDesc))])],1):t._e(),n("div",{staticClass:"md-heading-group"},[n("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.appointmentType.checkCalendars))]),n("div",{staticClass:"md-subheading"},[t._v(t._s(t.translations.wizard.appointmentType.checkCalendarsDesc))])]),n("md-list",t._l(t.googleCalendars,(function(e){return n("md-list-item",{key:e.gcal_id},[n("md-checkbox",{attrs:{id:e.gcal_id,name:e.gcal_id,"md-value":e.gcal_id},model:{value:t.googleCalendarsAvailability,callback:function(e){t.googleCalendarsAvailability=e},expression:"googleCalendarsAvailability"}},[t._v(" "+t._s(e.summary)+" ")])],1)})),1)]:n("empty",{attrs:{label:t.translations.appointmentTypes.google_calendar.noAccessToken}},[n("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/google-calendar"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.setup)+" ")])],1)],2)},As=[],Ps={name:"googleCalendar",components:{Empty:te,Loading:st},data:function(){return{loading:!0,error:!1}},mounted:function(){var t=this;this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars().then((function(){t.cleanUpCalendars(),t.loading=!1})).catch((function(e){console.log(e),t.loading=!1,t.error=!0}))},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({googleCalendarBooking:{get:function(){return this.currentAppointmentType.google_calendar_booking},set:function(t){this.updateCurrentAppointmentType({key:"google_calendar_booking",value:t})}},googleCalendarsAvailability:{get:function(){return this.currentAppointmentType.google_calendars_availability&&"boolean"!==typeof this.currentAppointmentType.google_calendars_availability?this.currentAppointmentType.google_calendars_availability:[]},set:function(t){this.updateCurrentAppointmentType({key:"google_calendars_availability",value:t})}},sharedCalendarEvent:{get:function(){return 0!==parseInt(this.currentAppointmentType.shared_calendar_event)},set:function(t){var e=t?"1":"0";this.updateCurrentAppointmentType({key:"shared_calendar_event",value:e})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("google_calendar",["googleCalendars"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),(0,r.Se)("google_calendar",["writeableGoogleCalendars"])),methods:(0,o.Z)((0,o.Z)({cleanUpCalendars:function(){var t=this.currentAppointmentType.google_calendars_availability.slice(0),e=this.googleCalendars.map((function(t){return t.gcal_id})),n=t.filter((function(t){return e.indexOf(t)>=0}));this.updateCurrentAppointmentType({key:"google_calendars_availability",value:n})}},(0,r.nv)("google_calendar",["fetchGoogleCalendars"])),(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},Ms=Ps,Es=(0,K.Z)(Ms,xs,As,!1,null,null,null),Ds=Es.exports,$s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"ssa-web-meetings-type"},[n("md-list",[n("md-list-item",[n("md-radio",{attrs:{"md-value":""},model:{value:t.webMeetingProvider,callback:function(e){t.webMeetingProvider=e},expression:"webMeetingProvider"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.none.label)+" ")])],1),t._l(t.availableWebMeetingsProviders,(function(e){return n("md-list-item",t._g({key:e.name,class:{staff:"staff"===e.name}},e.installed?{}:{click:function(){return t.maybeShowUpgrade(e)}}),[n("md-radio",{attrs:{"md-value":e.name,disabled:!e.installed},model:{value:t.webMeetingProvider,callback:function(e){t.webMeetingProvider=e},expression:"webMeetingProvider"}},["staff"===e.name&&t.currentStaffMissingWebMeetingsUrl?n("md-icon",{attrs:{"md-theme":"yellow"}},[t._v("warning")]):t._e(),t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[e.name].label)+" ")],1),n("br"),"staff"===e.name&&t.currentStaffMissingWebMeetingsUrl?n("notification",{attrs:{theme:"amber",inline:!0}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.staff.warning)+" ")]):t._e()],1)}))],2),t.includeCustomMeetingUrlField?n("h3",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].settingsHeading)+" ")]):t._e(),t.includeCustomMeetingUrlField?n("fieldset",[n("legend",[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].legend)+" ")]),n("md-input-container",{class:{"md-input-invalid":t.webMeetingUrlError}},[n("label",{attrs:{for:"custom-provider"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].urlLabel)+" ")]),n("md-input",{attrs:{type:"url",id:"custom-provider",placeholder:"https://"},model:{value:t.$v.webMeetingUrl.$model,callback:function(e){t.$set(t.$v.webMeetingUrl,"$model",e)},expression:"$v.webMeetingUrl.$model"}}),t.webMeetingUrlError?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers[t.webMeetingProvider].error)+" ")]):t._e()],1)],1):t._e(),t.googleCalendarBooking||"google"!==t.webMeetingProvider?t._e():n("md-whiteframe",{staticClass:"banner vert",attrs:{"md-elevation":1}},[n("div",{staticClass:"md-subheading"},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.google.googleNoCalendarHeading)+" ")],1),n("div",{staticClass:"md-body"},[n("p",[t._v(t._s(t.translations.appointmentTypes.web_meetings.providers.google.noCalendarSelectedMessage))]),n("md-button",{staticClass:"md-raised md-primary",on:{click:t.editGoogleCalendar}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.google.googleEditSettings)+" ")])],1)]),"webex"===t.webMeetingProvider?n("fieldset",[n("legend",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.legend)+" ")]),n("md-list",[n("md-list-item",[n("md-radio",{attrs:{"md-value":"private"},model:{value:t.webMeetingProviderWebexPrivate,callback:function(e){t.webMeetingProviderWebexPrivate=e},expression:"webMeetingProviderWebexPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.options.private)+" ")])],1),n("md-list-item",[n("md-radio",{attrs:{"md-value":"open"},model:{value:t.webMeetingProviderWebexPrivate,callback:function(e){t.webMeetingProviderWebexPrivate=e},expression:"webMeetingProviderWebexPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.webex.options.open)+" ")])],1)],1)],1):t._e(),"zoom"===t.webMeetingProvider?n("fieldset",[n("legend",{staticClass:"subsection-title"},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.legend)+" ")]),n("md-list",[n("md-list-item",[n("md-radio",{attrs:{"md-value":"private"},model:{value:t.webMeetingProviderZoomPrivate,callback:function(e){t.webMeetingProviderZoomPrivate=e},expression:"webMeetingProviderZoomPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.options.private)+" ")])],1),n("md-list-item",[n("md-radio",{attrs:{"md-value":"open"},model:{value:t.webMeetingProviderZoomPrivate,callback:function(e){t.webMeetingProviderZoomPrivate=e},expression:"webMeetingProviderZoomPrivate"}},[t._v(" "+t._s(t.translations.appointmentTypes.web_meetings.providers.zoom.options.open)+" ")])],1)],1)],1):t._e(),n("md-dialog",{ref:"upgradeWebMeetings"},[n("promo-web-meetings",{attrs:{dismissable:!1},on:{promoClicked:function(e){return t.closeDialog("upgradeWebMeetings")}}})],1),n("md-dialog",{ref:"upgradeBusiness"},[n("promo-business",{attrs:{"upgrade-url-params":t.promoBusiness,dismissable:!1},on:{promoClicked:function(e){return t.closeDialog(t.upgradeBusiness)}}})],1)],1)])},Os=[],Is=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[n("md-card-media",[t.dismissable?n("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[n("md-icon",[t._v("clear")])],1):t._e(),n("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[n("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),n("strong",[t._v("Plus")])])]),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("p",[t._v(t._s(t.translations.promo.webMeetingsText))])]),n("md-card-actions",[n("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" Upgrade now ")])],1)],1)],1)},Zs=[],zs={name:"plusPromo",store:Ey,props:{dismissable:{default:!0}},computed:(0,o.Z)((0,o.Z)({upgradeUrlParsed:function(){var t=rt.split("?"),e=t[0],n=t.length>1?ut().parse(t[1]):{};return n=Object.assign(n,{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-web-meeting-settings"}),"".concat(e,"?").concat(ut().stringify(n))}},(0,r.rn)("translations",["translations"])),(0,r.rn)("notices",["dismissedNotices"])),methods:(0,o.Z)((0,o.Z)({clearAd:function(){this.updateNotices({key:"coming_soon",settings:1}),this.updateDismissedNotices("coming_soon")},promoClicked:function(){this.$emit("promoClicked")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},js=zs,Ls=(0,K.Z)(js,Is,Zs,!1,null,null,null),Ns=Ls.exports,Us=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPromo?n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[n("md-card-media",[t.dismissable?n("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[n("md-icon",[t._v("clear")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.promo.dismissNotice)+" ")])],1):t._e(),n("a",{attrs:{href:"https://simplyscheduleappointments.com/features",target:"_blank"}},[n("img",{staticClass:"promo-img promo-business",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-business.svg",alt:"Simply Schedule Appointments Pro"}})])],1),n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.promo.proHeading)+" ")]),n("div",{staticClass:"md-subhead"},[t._v(" Simply Schedule Appointments "),n("strong",[t._v("Business")])])]),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("p",[t._v(t._s(t.translations.promo.businessText))]),n("ul",[n("li",[t._v(t._s(t.translations.promo.businessTextBullets.team))]),n("li",[t._v(t._s(t.translations.promo.businessTextBullets.resources))]),n("li",[t._v(t._s(t.translations.promo.businessTextBullets.locations))]),n("li",[t._v(t._s(t.translations.promo.businessTextBullets.views))])])]),n("md-card-actions",[n("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.businessTextCta.upgrade)+" ")])],1)],1)],1):t._e()},Gs=[],Fs={name:"businessPromo",store:Ey,props:{dismissable:{default:!0},upgradeUrlParams:{type:Object,default:function(){}}},computed:(0,o.Z)((0,o.Z)({showPromo:function(){return!(this.dismissedNotices&&this.dismissedNotices.business_staff&&this.dismissable)||!this.dismissedNotices.business_staff},upgradeUrlParsed:function(){if(!this.upgradeUrlParams)return ct;var t=ct.split("?"),e=t[0],n=t.length>1?ut().parse(t[1]):null;return!Object.keys(this.upgradeUrlParams).length>0?ct:(n=Object.assign(n,this.upgradeUrlParams),"".concat(e,"?").concat(ut().stringify(n)))}},(0,r.rn)("translations",["translations"])),(0,r.rn)("notices",["dismissedNotices"])),methods:(0,o.Z)((0,o.Z)({clearAd:function(){this.updateNotices({key:"business_staff",settings:1}),this.updateDismissedNotices("business_staff")},promoClicked:function(){this.$emit("promoClicked")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},Ws=Fs,Bs=(0,K.Z)(Ws,Us,Gs,!1,null,null,null),Rs=Bs.exports,qs={name:"WebMeetings",components:{PromoWebMeetings:Ns,PromoBusiness:Rs,Notification:Sn},mixins:[_i.oE],data:function(){return{webMeetingsInfo:{},promoBusiness:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-business",utm_term:"business-features",utm_content:"general-business-web-meeting-settings"}}},validations:{webMeetingUrl:{url:vi.HQ,maxLength:(0,vi.BS)(256)}},mounted:function(){var t=Ee().cloneDeep(this.currentAppointmentType.web_meetings);Ee().isEmpty(t)&&(t={provider:"",url:""}),this.staffEnabled||"staff"!==t.provider||(t.provider=""!==t.url?"custom":"",this.updateCurrentAppointmentType({key:"web_meetings",value:t})),this.webMeetingsInfo=t,this.fetchStaff()},watch:{webMeetingsInfo:{handler:function(t){this.updateCurrentAppointmentType({key:"web_meetings",value:Ee().cloneDeep(t)})},deep:!0},staffEnabled:function(t){t||(this.webMeetingsInfo.provider=""!==this.webMeetingsInfo.url?"custom":"")}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({webMeetingProvider:{get:function(){return this.webMeetingsInfo.provider?this.webMeetingsInfo.provider:""},set:function(t){this.$set(this.webMeetingsInfo,"provider",t),this.validationCheck()}},includeCustomMeetingUrlField:function(){return["custom","staff"].includes(this.webMeetingProvider)},webMeetingProviderZoomPrivate:{get:function(){return this.webMeetingsInfo.zoom_privacy?this.webMeetingsInfo.zoom_privacy:"private"},set:function(t){this.$set(this.webMeetingsInfo,"zoom_privacy",t),this.validationCheck()}},webMeetingProviderWebexPrivate:{get:function(){return this.webMeetingsInfo.webex_privacy?this.webMeetingsInfo.webex_privacy:"private"},set:function(t){this.$set(this.webMeetingsInfo,"webex_privacy",t),this.validationCheck()}},webMeetingUrl:{get:function(){return this.webMeetingsInfo.url?this.webMeetingsInfo.url:""},set:function(t){this.$set(this.webMeetingsInfo,"url",t),this.validationCheck()}},webMeetingUrlError:function(){return"custom"===this.webMeetingProvider&&this.$v.webMeetingUrl.$invalid},availableWebMeetingsProviders:function(){return this.webMeetingsProviders?this.webMeetingsProviders.filter((function(t){return t.enabled||!t.installed})):[]},googleCalendarBooking:function(){return this.currentAppointmentType.google_calendar_booking},staffEnabled:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"staff")&&(!!this.settings.staff.enabled&&!!this.settings.installed.staff)}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),(0,r.Se)(["currentStaffMissingWebMeetingsUrl","webMeetingsProviders"])),methods:(0,o.Z)((0,o.Z)({closeDialog:function(t){this.$refs[t].close()},editGoogleCalendar:function(){var t=this.getClosest(this.$el,".ssa-accordion-item"),e=t.parentNode.querySelector('.ssa-accordion-item[data-section="google-calendar"] button');e.click()},getClosest:function(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},maybeShowUpgrade:function(t){t.installed||("staff"!==t.name?this.$refs["upgradeWebMeetings"].open():this.$refs["upgradeBusiness"].open())},validationCheck:function(){this.$emit("validationCheck",!this.webMeetingUrlError)}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"])),(0,r.nv)("staff",["fetchStaff"]))},Hs=qs,Ks=(0,K.Z)(Hs,$s,Os,!1,null,null,null),Vs=Ks.exports,Ys=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-mailchimp"},[t.settings.mailchimp.account_details?[t.settings.mailchimp.lists.length?[n("p",[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.listSelect)+" ")]),n("md-list",[t._l(t.settings.mailchimp.lists,(function(e){return n("md-list-item",{key:e.id},[n("md-radio",{staticClass:"md-primary",attrs:{id:"list-"+e.id,name:"mailchimpList","md-value":e.id},on:{change:t.updateMailchimp},model:{value:t.optin_list,callback:function(e){t.optin_list=e},expression:"optin_list"}},[t._v(" "+t._s(e.name)+" ")])],1)})),n("md-list-item",[n("md-radio",{staticClass:"md-primary",attrs:{id:"list-none",name:"mailchimpList","md-value":""},on:{change:t.updateMailchimp},model:{value:t.optin_list,callback:function(e){t.optin_list=e},expression:"optin_list"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.noSelection)+" ")])],1)],2),n("md-input-container",{class:{"md-input-invalid":!t.validMailchimp}},[n("label",{attrs:{for:"mailchimpOptinText"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.optinTextLabel)+" ")]),n("md-input",{attrs:{id:"mailchimpOptinText",required:""},nativeOn:{keyup:function(e){return t.updateMailchimp.apply(null,arguments)}},model:{value:t.optin_text,callback:function(e){t.optin_text=e},expression:"optin_text"}}),t.validMailchimp?t._e():n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.optinTextError)+" ")])],1)]:[n("p",[t._v(t._s(t.translations.appointmentTypes.mailchimp.noLists))])]]:n("empty",{attrs:{label:t.translations.appointmentTypes.mailchimp.noConnection}},[n("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/mailchimp"}},[t._v(t._s(t.translations.appointmentTypes.mailchimp.setup))])],1)],2)},Js=[],Xs={name:"appointmentTypeMailchimp",components:{Empty:te},props:["value"],data:function(){return{optin_list:"",optin_text:"",validMailchimp:!0}},mounted:function(){this.optin_text=this.value.optin_text?this.value.optin_text:this.translations.appointmentTypes.mailchimp.optin,this.optin_list=this.value.optin_list?this.value.optin_list:"",this.updateMailchimp(this.optin_list)},computed:(0,o.Z)((0,o.Z)((0,o.Z)({mailchimp:function(){return this.currentAppointmentType.mailchimp?Ee().cloneDeep(this.currentAppointmentType.mailchimp):{}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),methods:{validateMailchimp:function(t){var e=!t.optin_list.length||t.optin_text.length>0;this.validMailchimp=e,this.$emit("validationCheck",e)},updateMailchimp:function(t){var e={};e.optin_text=this.optin_text,"string"===typeof t&&(e.optin_list=t);var n=Object.assign({},this.mailchimp,e);this.validateMailchimp(n),this.$emit("input",n)}}},Qs=Xs,ta=(0,K.Z)(Qs,Ys,Js,!1,null,null,null),ea=ta.exports,na=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-webhooks"},[t.applicableWebhooks.length?[n("p",[t._v(t._s(t.translations.settings.webhooks.intro))]),n("md-list",{staticClass:"md-double-line"},t._l(t.applicableWebhooks,(function(e,i){return n("md-list-item",{key:i},[n("div",{staticClass:"md-list-item-container"},[n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(t._s(e.title))]),n("span",[1===e.triggers.length?[t._v(t._s(t.translations.settings.webhooks.fields.trigger_single))]:[t._v(t._s(t.translations.settings.webhooks.fields.trigger_plural))],t._l(e.triggers,(function(n,i){return[t._v(t._s(t.translations.settings.webhooks.fields.triggerNames[n])),i<e.triggers.length-1?[t._v(", ")]:t._e()]}))],2)]),n("md-button",{staticClass:"md-list-action md-primary",on:{click:function(e){return t.editWebhook(i)}}},[t._v(" "+t._s(t.translations.actions.edit)+" ")])],1)])})),1)]:n("empty",{attrs:{label:t.translations.settings.webhooks.empty_appointment_type}}),n("md-button",{staticClass:"md-primary",on:{click:t.editWebhooksSettings}},[t._v(t._s(t.translations.settings.webhooks.action))])],2)},ia=[],sa={name:"appointmentTypeWebhooks",components:{Empty:te},data:function(){return{}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({applicableWebhooks:function(){var t=this,e=this.settings.webhooks.webhooks;return e.filter((function(e){return 0===e.appointment_types.length||e.appointment_types.indexOf(t.currentAppointmentType.id)>-1}))}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),methods:{editWebhook:function(t){this.$router.push({name:"webhook-single",params:{index:t}})},editWebhooksSettings:function(){this.$router.push("/ssa/settings/webhooks")}}},aa=sa,oa=(0,K.Z)(aa,na,ia,!1,null,null,null),ra=oa.exports,la=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.settings.installed.license?n("customer-information-plus"):n("customer-information-basic")},ca=[],da=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-customer-information"},t._l(t.currentAppointmentType.customer_information,(function(e,i){return n("md-layout",{key:i,staticClass:"customer-info-field",attrs:{"md-row":"","md-vertical-align":"center"}},[n("md-layout",{attrs:{"md-flex":"20"}},[n("span",{staticClass:"md-body-2"},[t._v(t._s(t.translations.appointmentTypes.customer_information[e.field]))])]),n("md-layout",[n("md-checkbox",{attrs:{id:"display-"+i,name:"display-"+i,"md-value":e.field,disabled:"name"===e.field.toLowerCase()||"email"===e.field.toLowerCase()},model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[t._v(t._s(t.translations.appointmentTypes.display))]),n("md-checkbox",{attrs:{id:"required-"+i,name:"required-"+i,"md-value":e.field,disabled:"name"===e.field.toLowerCase()||"email"===e.field.toLowerCase()},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}},[t._v(t._s(t.translations.appointmentTypes.required))])],1)],1)})),1)},pa=[],ua={name:"appointmentTypeCustomerInformationBasic",store:Ey,data:function(){return{}},computed:(0,o.Z)((0,o.Z)({customer_information:{get:function(){return this.currentAppointmentType.customer_information},set:function(t){this.updateCurrentAppointmentType({key:"customer_information",value:t})}},display:{get:function(){var t=this.currentAppointmentType.customer_information.filter((function(t){return"boolean"===typeof t.display?t.display:"true"===t.display}));return t=t.map((function(t){return t.field})),t},set:function(t){this.updateDisplay(t)}},required:{get:function(){var t=this.currentAppointmentType.customer_information.filter((function(t){return"boolean"===typeof t.required?t.required:"true"===t.required}));return t=t.map((function(t){return t.field})),t},set:function(t){this.updateRequired(t)}}},(0,r.rn)("translations",["translations"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),methods:(0,o.Z)({updateDisplay:function(t){var e=Ee().cloneDeep(this.currentAppointmentType.customer_information);e.map((function(e){var n=t.includes(e.field);e.display=n,n||(e.required=n)})),this.updateCurrentAppointmentType({key:"customer_information",value:e})},updateRequired:function(t){var e=Ee().cloneDeep(this.currentAppointmentType.customer_information);e.map((function(e){var n=t.includes(e.field);e.required=n,n&&(e.display=n)})),this.updateCurrentAppointmentType({key:"customer_information",value:e})}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},ma=ua,fa=(0,K.Z)(ma,da,pa,!1,null,null,null),ga=fa.exports,ha=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-container appt-type-customer-information"},[n("draggable",{staticClass:"sortable-list",attrs:{animation:150,ghostClass:"sortable-ghost",move:t.sortableMove,tag:"md-list"},model:{value:t.fields,callback:function(e){t.fields=e},expression:"fields"}},t._l(t.currentAppointmentType.custom_customer_information,(function(e,i){return n("md-list-item",{key:i},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.isEditable(e)?t.currentAppointmentType.label:"grey"}},[e.icon?[t._v(t._s(e.icon))]:[t._v("bookmark")]],2),n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(" "+t._s(Object.prototype.hasOwnProperty.call(t.translations.appointmentTypes.customer_information,e.field)?t.translations.appointmentTypes.customer_information[e.field]:e.field)+" "),e.required?n("span",{staticClass:"required"},[t._v("*")]):t._e()]),n("span",[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.types[e.type])+" ")])]),n("md-menu",[n("md-button",{staticClass:"md-icon-button md-list-action",attrs:{"md-menu-trigger":""}},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":t.currentAppointmentType.label}},[t._v("settings")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.actions.menu)+" ")])],1),n("md-menu-content",[t.isEditable(e)?n("md-menu-item",{on:{click:function(e){return t.editInfo(i)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("edit")]),n("span",[t._v(t._s(t.translations.appointmentTypes.actions["edit"]))])],1):t._e(),n("md-menu-item",{on:{click:function(e){return t.cloneInfo(i)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),n("span",[t._v(t._s(t.translations.appointmentTypes.actions["clone"]))])],1),t.isEditable(e)?n("md-menu-item",{on:{click:function(e){return t.deleteInfo(i)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("delete")]),n("span",[t._v(t._s(t.translations.appointmentTypes.actions["delete"]))])],1):t._e()],1)],1)],1)})),1),n("md-button",{staticClass:"md-raised md-primary",on:{click:t.addInfo}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.appointmentTypes.actions["add-field"])+" ")],1),n("md-dialog",{ref:"editInfoDialog"},[n("md-dialog-title",[t._v(" "+t._s(t.translations.appointmentTypes.actions["edit"])+" ")]),n("md-dialog-content",[n("md-layout",{attrs:{"md-gutter":!0,"md-vertical-align":"center"}},[n("md-layout",[n("md-input-container",{class:{"md-input-invalid":t.labelError}},[n("label",{attrs:{for:"custom-field-label"}},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.labels["label"])+" ")]),n("md-input",{ref:"labelField",attrs:{id:"custom-field-label"},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}}),n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.errors.label)+" ")])],1)],1),n("md-layout",[n("md-checkbox",{attrs:{id:"required",name:"required"},model:{value:t.required,callback:function(e){t.required=e},expression:"required"}},[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["required"]))])],1)],1),n("md-layout",{attrs:{"md-gutter":!0}},[n("md-layout",[n("md-input-container",[n("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["type"]))]),n("md-select",{attrs:{name:"type",id:"type"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.customerInformationFieldTypes,(function(e){return n("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointmentTypes.custom_fields.types[e])+" ")])})),1)],1)],1),n("md-layout",[n("md-icon",{staticClass:"md-primary"},[t._v(t._s(t.currentInfo.icon))])],1),n("md-layout",[n("md-input-container",[n("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["icon"]))]),n("md-select",{attrs:{name:"icon",id:"icon"},model:{value:t.icon,callback:function(e){t.icon=e},expression:"icon"}},[n("md-option",{attrs:{value:""}}),t._l(t.iconOptions,(function(e){return n("md-option",{key:e,attrs:{value:e}},[n("md-icon",[t._v(t._s(e))])],1)}))],2)],1)],1)],1),"checkboxes"===t.currentInfo.type||"radios"===t.currentInfo.type?n("md-layout",[n("md-input-container",[n("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["values"]))]),n("md-textarea",{model:{value:t.values,callback:function(e){t.values=e},expression:"values"}}),n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["one-per-line"]))])],1)],1):t._e(),n("md-layout",[n("md-input-container",[n("label",[t._v(t._s(t.translations.appointmentTypes.custom_fields.labels["instructions"]))]),n("md-input",{model:{value:t.instructions,callback:function(e){t.instructions=e},expression:"instructions"}})],1)],1)],1),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.cancel}},[t._v(" "+t._s(t.translations.appointmentTypes.actions["cancel"])+" ")]),n("md-button",{staticClass:"md-primary",on:{click:t.updateInfo}},[t._v(" "+t._s(t.translations.appointmentTypes.actions["update"])+" ")])],1)],1)],1)},_a=[],va=(n(73210),n(33948),n(77601),{name:"appointmentTypeCustomerInformationPlus",components:{draggable:Bn()},data:function(){return{currentInfo:{},iconOptions:["alarm","assignment","bookmark","build","cake","call","chat","check_circle","code","cloud","computer","create","done","email","face","favorite","fingerprint","flag","folder","gite","help","home","https","image","info","label","link","map","person","pets","phone","place","schedule","smartphone","star","watch","whatshot","work"],customerInformationFieldTypes:u,labelError:!1}},computed:(0,o.Z)((0,o.Z)({label:{get:function(){return this.currentInfo.field},set:function(t){this.currentInfo.field.trim()!==t.trim()&&(this.labelError=!1),this.$set(this.currentInfo,"field",t)}},required:{get:function(){return this.currentInfo.required},set:function(t){this.$set(this.currentInfo,"required",t)}},type:{get:function(){return this.currentInfo["type"]},set:function(t){this.$set(this.currentInfo,"type",t)}},icon:{get:function(){return this.currentInfo.icon},set:function(t){this.$set(this.currentInfo,"icon",t)}},values:{get:function(){return this.currentInfo.values},set:function(t){this.$set(this.currentInfo,"values",t)}},instructions:{get:function(){return this.currentInfo.instructions},set:function(t){this.$set(this.currentInfo,"instructions",t)}},fields:{get:function(){return this.currentAppointmentType.custom_customer_information},set:function(t){this.updateCurrentAppointmentType({key:"custom_customer_information",value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),methods:(0,o.Z)({isEditable:function(t){var e=!0,n=["name","Name","email","Email","Email address"];return n.includes(t.field)&&(e=!1),e},prepInfo:function(t){var e=Ee().clone(this.currentAppointmentType.custom_customer_information[t]);return e.values=Array.isArray(e.values)?e.values.join("\r\n"):e.values,e},editInfo:function(t){var e=this.prepInfo(t);e.index=t,this.currentInfo=e,this.$refs["editInfoDialog"].open()},cloneInfo:function(t){var e=this.prepInfo(t);this.currentInfo=e,this.$refs["editInfoDialog"].open()},deleteInfo:function(t){var e=this.currentAppointmentType.custom_customer_information.slice(0);e.splice(t,1),this.updateCurrentAppointmentType({key:"custom_customer_information",value:e})},addInfo:function(){this.currentInfo=Ee().clone(p),this.$refs["editInfoDialog"].open()},checkForDuplicateLabel:function(){var t=this,e=this.label.trim().toLowerCase(),n=this.currentAppointmentType.custom_customer_information.map((function(t){return t.field.trim().toLowerCase()}));Object.prototype.hasOwnProperty.call(this.currentInfo,"index")&&(n=n.filter((function(e,n){return n!==t.currentInfo.index}))),this.labelError=n.includes(e)},updateInfo:function(){if(this.checkForDuplicateLabel(),this.labelError){var t=this.$refs.labelField;t.$el.focus()}else{var e=this.currentAppointmentType.custom_customer_information.slice(0),n=Object.prototype.hasOwnProperty.call(this.currentInfo,"index")?this.currentInfo.index:void 0,i=Ee().clone(this.currentInfo),s=i.values.split(/\n/),a=s.filter((function(t){return/\S/.test(t)}));i.values=a,"undefined"!==typeof n?(delete i.index,e.splice(n,1,i)):e.push(i),this.updateCurrentAppointmentType({key:"custom_customer_information",value:e}),this.$refs["editInfoDialog"].close(),this.currentInfo={}}},cancel:function(){this.currentInfo={},this.$refs["editInfoDialog"].close()},sortableMove:function(t){return!t.related.classList.contains("sortable-fixed")}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))}),ya=va,ba=(0,K.Z)(ya,ha,_a,!1,null,null,null),ka=ba.exports,Ca={name:"appointmentTypeCustomerInformation",store:Ey,props:{bulkMode:{default:!1,type:Boolean}},components:{CustomerInformationBasic:ga,CustomerInformationPlus:ka},data:function(){return{}},beforeMount:function(){this.bulkMode&&this.defineAppointmentTypeCustomerInformation(this.settings)},computed:(0,o.Z)({},(0,r.rn)(["settings"])),methods:(0,o.Z)({},(0,r.OI)("appointment_types",["defineAppointmentTypeCustomerInformation"]))},Sa=Ca,wa=(0,K.Z)(Sa,la,ca,!1,null,null,null),Ta=wa.exports,xa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-notifications"},[t.applicableNotifications.length?[n("p",[t._v(t._s(t.translations.settings.notifications.intro))]),n("md-list",{staticClass:"md-double-line"},t._l(t.applicableNotifications,(function(e){return n("md-list-item",{key:e.id},[n("div",{staticClass:"md-list-item-container"},[n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(t._s(e.title))]),n("span",[t.remindersInstalled&&e.duration>0?[t._v(" "+t._s(t.displayDuration(e.duration)+" "+t.translations.settings.notifications.when[e.when].toLowerCase()+" ")+" ")]:t._e(),t._v(" "+t._s(t.translations.settings.notifications.triggers[e.trigger])+" ")],2)]),n("md-button",{staticClass:"md-list-action md-primary",on:{click:function(n){return t.editNotification(e.id)}}},[t._v(" "+t._s(t.translations.actions.edit)+" ")])],1)])})),1)]:n("empty",{attrs:{label:t.translations.settings.notifications.empty_appointment_type}},[n("md-button",{staticClass:"md-primary",on:{click:t.editNotificationsSettings}},[t._v(t._s(t.translations.settings.notifications.actions.editAll))])],1)],2)},Aa=[],Pa={name:"appointmentTypeNotifications",components:{Empty:te},data:function(){return{}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({applicableNotifications:function(){var t=this,e=this.settings.notifications.notifications;return e.filter((function(e){return 0===e.appointment_types.length||e.appointment_types.indexOf(t.currentAppointmentType.id)>-1}))}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),(0,r.Se)(["displayDuration"])),(0,r.Se)("notifications",["remindersInstalled"])),methods:{editNotification:function(t){this.$router.push({name:"notification-single",params:{id:t}})},editNotificationsSettings:function(){this.$router.push("/ssa/settings/notifications")}}},Ma=Pa,Ea=(0,K.Z)(Ma,xa,Aa,!1,null,null,null),Da=Ea.exports,$a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-capacity"},[n("md-layout",[n("md-input-container",{nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[n("label",{attrs:{for:"capacity_type"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity_type.label)+" ")]),n("md-select",{attrs:{id:"capacity_type",disabled:!t.capacityEnabled},model:{value:t.capacity_type,callback:function(e){t.capacity_type=e},expression:"capacity_type"}},t._l(t.capacityTypes,(function(e){return n("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.capacityTypeOptions[e])+" ")])})),1),n("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.capacityTypeHelp)+" ")])],1)],1),t.staffEnabled&&"group"===t.capacity_type?n("md-input-container",{nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[n("label",{attrs:{for:"staff-capacity"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.staff_capacity.label)+" ")]),n("md-input",{attrs:{type:"number",id:"staff-capacity",disabled:!t.capacityEnabled,min:1,max:1e5},model:{value:t.$v.staff_capacity.$model,callback:function(e){t.$set(t.$v.staff_capacity,"$model",t._n(e))},expression:"$v.staff_capacity.$model"}}),n("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.staff_capacity.help)+" ")])],1):t._e(),t.staffEnabled?n("div",{staticClass:"md-checkbox-with-note"},[n("md-checkbox",{attrs:{id:"has_max_capacity",name:"has_max_capacity"},on:{change:t.maxUpdateCapacity},model:{value:t.has_max_capacity,callback:function(e){t.has_max_capacity=e},expression:"has_max_capacity"}},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.has_max_capacity.label)+" ")]),n("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.has_max_capacity.help)+" ")])],1):t._e(),t.showCapacity?n("md-input-container",{class:{"md-input-invalid":t.capacityError},nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}}},[n("label",{attrs:{for:"capacity"}},[t._v(" "+t._s(t.capacityLabel)+" ")]),n("md-input",{attrs:{type:"number",id:"capacity",disabled:!t.capacityEnabled,min:1,max:1e5},model:{value:t.$v.capacity.$model,callback:function(e){t.$set(t.$v.capacity,"$model",t._n(e))},expression:"$v.capacity.$model"}}),t.capacityError?n("span",{staticClass:"md-error"},[t.$v.capacity.$invalid?[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity.error_bounds)+" ")]:[t._v(" "+t._s(t.translations.appointmentTypes.capacity.fields.capacity.error_mismatch)+" ")]],2):n("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.capacityHelp)+" ")])],1):t._e(),n("md-dialog",{ref:"upgradeCapacity"},[n("promo-capacity",{attrs:{dismissable:!1},on:{promoClicked:t.closeDialog}})],1)],1)},Oa=[],Ia=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showPromo?n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[n("md-card-media",[t.dismissable?n("md-button",{staticClass:"md-icon-button md-primary md-dense close-button",attrs:{"md-theme":"white"},on:{click:t.clearAd}},[n("md-icon",[t._v("clear")])],1):t._e(),n("a",{attrs:{href:"https://simplyscheduleappointments.com/#plus",target:"_blank"}},[n("img",{staticClass:"promo-img promo-plus",attrs:{src:t.$store.state.api.admin_static_url+"/images/upsell-promo-plus.svg",alt:"Simply Schedule Appointments Plus"}})])],1),n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Simply Schedule Appointments "),n("strong",[t._v("Plus")])])]),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("p",[t._v(t._s(t.translations.promo.capacityText))])]),n("md-card-actions",[n("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeLink,target:"_blank"}},[t._v(" Upgrade now ")])],1)],1)],1):t._e()},Za=[],za={name:"plusPromo",store:Ey,props:{dismissable:{default:!0}},data:function(){return{plusUpgradeLink:rt}},computed:(0,o.Z)((0,o.Z)({showPromo:function(){return!(this.dismissedNotices&&this.dismissedNotices.coming_soon&&this.dismissable)||!this.dismissedNotices.coming_soon},upgradeLink:function(){var t=this.plusUpgradeLink.split("?"),e=t[0],n=t.length>1?ut().parse(t[1]):null;if(!n)return this.plusUpgradeLink;var i={utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"capacity",utm_content:"capacity-plus-popup"};return n=Object.assign(n,i),e+"?"+ut().stringify(n)}},(0,r.rn)("translations",["translations"])),(0,r.rn)("notices",["dismissedNotices"])),methods:(0,o.Z)((0,o.Z)({clearAd:function(){this.updateNotices({key:"coming_soon",settings:1}),this.updateDismissedNotices("coming_soon")},promoClicked:function(){this.$emit("promoClicked")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},ja=za,La=(0,K.Z)(ja,Ia,Za,!1,null,null,null),Na=La.exports,Ua={name:"appointmentTypeCapacity",components:{PromoCapacity:Na},mixins:[_i.oE],props:{bulkMode:{default:!1,type:Boolean}},data:function(){return{capacityTypes:O,showCapacity:!0}},validations:function(){var t=this.bulkMode;return{capacity:{required:(0,vi.CF)((function(){return!t})),minValue:(0,vi.uv)(1),maxValue:(0,vi.PW)(1e5)},staff_capacity:{required:(0,vi.CF)((function(){return!t})),minValue:(0,vi.uv)(1),maxValue:(0,vi.PW)(1e5)}}},mounted:function(){this.showCapacity=!this.staffEnabled||this.has_max_capacity},watch:{capacity_type:function(t,e){this.staffUpdateCapacity({val:t,oldVal:e})}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({capacity:{get:function(){return this.currentAppointmentType?parseInt(this.currentAppointmentType.capacity,10):1},set:function(t){this.updateCurrentAppointmentType({key:"capacity",value:t}),this.$v.capacity.$touch(),this.validationCheck()}},capacity_type:{get:function(){return this.currentAppointmentType?this.currentAppointmentType.capacity_type:"individual"},set:function(t){this.updateCurrentAppointmentType({key:"capacity_type",value:t})}},capacityEnabled:function(){return this.settings.capacity&&this.settings.capacity.enabled},capacityError:function(){return!this.bulkMode&&(!!("group"===this.capacity_type&&this.staffEnabled&&this.staff_capacity>this.capacity)||this.$v.capacity.$invalid)},capacityHelp:function(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity.help_staff:"group"===this.capacity_type?this.translations.appointmentTypes.capacity.fields.capacity.help_group:this.translations.appointmentTypes.capacity.fields.capacity.help},capacityLabel:function(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity.label_staff:this.translations.appointmentTypes.capacity.fields.capacity.label},capacityTypeHelp:function(){return this.staffEnabled?this.translations.appointmentTypes.capacity.fields.capacity_type.help_staff:this.translations.appointmentTypes.capacity.fields.capacity_type.help},has_max_capacity:{get:function(){return!!this.currentAppointmentType&&!!parseInt(this.currentAppointmentType.has_max_capacity,10)},set:function(t){this.updateCurrentAppointmentType({key:"has_max_capacity",value:t}),this.showCapacity=!this.staffEnabled||t,this.validationCheck()}},staff_capacity:{get:function(){return this.currentAppointmentType?parseInt(this.currentAppointmentType.staff_capacity,10):1},set:function(t){this.updateCurrentAppointmentType({key:"staff_capacity",value:t}),this.$v.staff_capacity.$touch(),this.validationCheck()}},staffEnabled:function(){return this.staffModule.enabled&&""!==this.currentAppointmentType.staff.required}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),(0,r.Se)("staff",["staffModule"])),methods:(0,o.Z)({closeDialog:function(){this.$refs["upgradeCapacity"].close()},maxUpdateCapacity:function(t){var e=t?10:1e5;this.updateCurrentAppointmentType({key:"capacity",value:e})},maybeShowUpgrade:function(){this.capacityEnabled||this.$refs["upgradeCapacity"].open()},staffUpdateCapacity:function(t){t.val!==t.oldVal&&this.staffEnabled&&"individual"===t.val&&this.updateCurrentAppointmentType({key:"staff_capacity",value:1})},validationCheck:function(){this.$emit("validationCheck",!this.capacityError)}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},Ga=Ua,Fa=(0,K.Z)(Ga,$a,Oa,!1,null,null,null),Wa=Fa.exports,Ba={name:"appointmentTypeEdit",props:["id"],components:{Accordion:ni,AccordionItem:li,basics:Si,availability:Qi,scheduling:as,Staff:Ts,Capacity:Wa,googleCalendar:Ds,webMeetings:Vs,Webhooks:ra,mailchimp:ea,customerInformation:Ta,notifications:Da,Payments:ys,Notification:Sn},data:function(){return{saving:!1,moment:R(),validAvailability:!0,validBasics:!0,validCapacity:!0,validMailchimp:!0,validPayments:!0,validScheduling:!0,validStaff:!0,validWebMeetings:!0,section:"0",sectionId:"basics",leaveWithoutSaving:!1}},beforeMount:function(){var t=this;if(this.id){var e=this.appointmentTypes.find((function(e){return e.id===t.id}));this.updateCurrentAppointmentType(e)}},mounted:function(){this.fetchAppointmentType(this.currentAppointmentType.id),this.getGuides({"ssasc-plugin-screen":this.currentGuides})},beforeRouteLeave:function(t,e,n){var i=this;if(this.currentAppointmentTypeIsDirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(){i.leaveWithoutSaving?n():n(!1)}))}else n()},watch:{currentAppointmentType:{handler:function(t,e){this.dirty=e},deep:!0},currentGuides:function(){this.getGuides({"ssasc-plugin-screen":this.currentGuides})}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({mailchimp:{get:function(){return this.currentAppointmentType.mailchimp},set:function(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields:function(){return this.validBasics&&this.validAvailability&&this.validScheduling&&this.validPayments&&this.validMailchimp&&this.validStaff&&this.validCapacity&&this.validWebMeetings},currentGuides:function(){if("capacity"===this.sectionId)return L.appointment_types.capacity;if("staff"===this.sectionId)return L.appointment_types.staff;if(this.settings.advanced_scheduling.enabled&&["availability","scheduling"].includes(this.sectionId))return L.appointment_types.advanced_scheduling_enabled;if(this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&"google-calendar"===this.sectionId)return L.appointment_types.google_calendar_enabled;if("web-meetings"===this.sectionId){var t=[L.appointment_types.web_meetings_enabled];return this.settings.installed.google_calendar&&this.settings.google_calendar.enabled&&this.settings.google_calendar.web_meetings?t.push(L.appointment_types.web_meetings_google_calendar):this.settings.installed.zoom&&this.settings.zoom.enabled&&""!==this.settings.zoom.acces_token&&t.push(L.appointment_types.web_meetings_zoom),t}return"mailchimp"===this.sectionId?L.appointment_types.mailchimp_enabled:"webhooks"===this.sectionId?L.appointment_types.webhooks_enabled:"customer-information"===this.sectionId?L.appointment_types.customer_information:L.appointment_types.edit}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat"])),(0,r.rn)("appointment_types",["appointmentTypes","currentAppointmentTypeIsDirty","currentAppointmentType"])),(0,r.Se)("staff",["currentUserCan"])),(0,r.Se)(["webMeetingsProviders"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({copyShortcode:function(){var t=this.$refs["shortcode"].textContent,e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999em",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.$refs["shortcodeNotice"].open()},validateBasics:function(t){this.validBasics=t},validateCapacity:function(t){this.validCapacity=t},validateTitle:function(t){this.validTitle=t},validateSlug:function(t){this.validSlug=t},validateAvailability:function(t){this.validAvailability=t},validateScheduling:function(t){this.validScheduling=t},validatePayments:function(t){this.validPayments=t},validateMailchimp:function(t){this.validMailchimp=t},validateStaff:function(t){this.validStaff=t},validateWebMeetings:function(t){this.validWebMeetings=t},saveAppointmentType:function(){var t=this;this.saving=!0,this.updateAppointmentType().then((function(){t.saving=!1,t.dirty=!1,t.$emit("saved")})),this.settings.global.wizard_completed||(this.updateWizardCompleted({settings:this.settings,value:R().utc().format(this.timestampFormat)}),this.updateGlobalSettings())},staffUpdateCapacity:function(t){if(t.oldStaff!==t.newStaff){var e=this.currentAppointmentType?parseInt(this.currentAppointmentType.capacity,10):1,n=this.currentAppointmentType?this.currentAppointmentType.capacity_type:"individual",i=this.currentAppointmentType?parseInt(this.currentAppointmentType.staff_capacity,10):1;t.oldStaff!==t.newStaff&&t.newStaff?(this.updateCurrentAppointmentType({key:"capacity",value:1e5}),"individual"===n?this.updateCurrentAppointmentType({key:"staff_capacity",value:1}):this.updateCurrentAppointmentType({key:"staff_capacity",value:e})):(this.updateCurrentAppointmentType({key:"staff_capacity",value:1e5}),this.updateCurrentAppointmentType({key:"capacity",value:i}))}},cancelEdit:function(){this.$router.push("/ssa/appointment-types/all")},updateSection:function(t,e){t?(this.section=t,this.sectionId=e):(this.section=null,this.sectionId=null)},dialogLeaveWithoutSaving:function(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits:function(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}},(0,r.OI)("global_settings",["updateWizardCompleted"])),(0,r.nv)("global_settings",["updateGlobalSettings"])),(0,r.nv)("appointment_types",["fetchAppointmentType","updateAppointmentType","updateCurrentAppointmentType"])),(0,r.nv)("guides",["getGuides"]))},Ra=Ba,qa=(0,K.Z)(Ra,Vn,Yn,!1,null,null,null),Ha=qa.exports,Ka=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-bulk-edit"},[t.saving?n("loading",{attrs:{message:t.translations.general.saving}}):[n("md-button",{on:{click:t.cancelBulkEdit}},[n("md-icon",[t._v("keyboard_arrow_left")]),t.dirty?[t._v(t._s(t.translations.general.cancel))]:[t._v(t._s(t.translations.appointmentTypes.actions.back))]],2),n("md-dialog",{ref:"confirmLeaveDirty"},[n("md-dialog-title",{domProps:{textContent:t._s(t.translations.appointmentTypes.confirmIgnoreChangesTitle)}}),n("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.appointmentTypes.confirmIgnoreChangesContent)}}),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesCancel))]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.appointmentTypes.confirmIgnoreChangesOkay))])],1)],1),n("md-toolbar",{staticClass:"md-transparent"},[n("div",{staticStyle:{flex:"1"}},[n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType[t.section]))])]),n("md-switch",{attrs:{"md-theme":"reverse"},on:{change:t.switchEditMode},model:{value:t.editSingle,callback:function(e){t.editSingle=e},expression:"editSingle"}},[t._v(t._s(t.translations.appointmentTypes.actions.editSingle))])],1),t.editSingle?n("bulk-single",{attrs:{saving:t.singleSaving,section:t.section,dirty:t.dirty},on:{change:t.changeAppointmentType,cancel:t.changeAppointmentType,save:t.saveSingleEdit}}):n("bulk-all",{attrs:{section:t.section},on:{cancel:t.cancelBulkEdit,save:t.saveBulkEdit}})],n("md-snackbar",{ref:"saveStatus",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.snackbarTitle)+" "+t._s(t.translations.appointmentTypes.saved))])])],2)},Va=[],Ya=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-theme",{attrs:{"md-name":t.currentAppointmentType?t.currentAppointmentType.label:"default"}},[n("accordion",t._l(t.bulkEditing,(function(e){return n("accordion-item",{key:e,attrs:{label:t.getAppointmentTypeById(e).title,section:t.section,index:e,open:t.currentAppointmentType?t.currentAppointmentType.id:null},on:{updateActive:t.changeAccordion}},[n("div",{staticClass:"accordion-edit-section",class:{saving:t.saving}},["basics"===t.section?n("basics",{on:{validationCheck:t.validateBasics}}):t._e(),"availability"===t.section?n("availability",{on:{validationCheck:t.validateAvailability}}):t._e(),"scheduling"===t.section?n("scheduling",{on:{validationCheck:t.validateScheduling}}):t._e(),"payments"===t.section?n("payments",{on:{validationCheck:t.validatePayments}}):t._e(),"googleCalendar"===t.section?n("google-calendar"):t._e(),"mailchimp"===t.section?n("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}}):t._e(),"customerInfo"===t.section?n("customer-information"):t._e(),"notifications"===t.section?n("notifications"):t._e()],1),n("div",{staticClass:"accordion-actions"},[n("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}}),n("md-button",{staticClass:"md-raised",on:{click:t.cancel}},[t._v(t._s(t.translations.general.cancel))]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving||!t.validFormFields},on:{click:t.save}},[t._v(" "+t._s(t.translations.general.save)+" ")])],1)])})),1)],1)},Ja=[],Xa={name:"bulkEditSingle",props:["section","dirty","saving"],components:{Accordion:ni,AccordionItem:li,Basics:Si,Availability:Qi,Scheduling:as,Payments:ys,GoogleCalendar:Ds,Mailchimp:ea,CustomerInformation:Ta,Notifications:Da},data:function(){return{validBasics:!0,validAvailability:!0,validScheduling:!0,validPayments:!0,validMailchimp:!0}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({mailchimp:{get:function(){return this.currentAppointmentType&&this.currentAppointmentType.mailchimp?this.currentAppointmentType.mailchimp:{}},set:function(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields:function(){var t=!0;switch(this.section){case"basics":t=this.validBasics;break;case"availability":t=this.validAvailability;break;case"scheduling":t=this.validScheduling;break;case"payments":t=this.validPayments;break;case"mailchimp":t=this.validMailchimp;break}return t}},(0,r.rn)("translations",["translations"])),(0,r.rn)("appointment_types",["bulkEditing","currentAppointmentType"])),(0,r.Se)("appointment_types",["getAppointmentTypeById"])),methods:(0,o.Z)({save:function(){this.$emit("save")},cancel:function(){this.$emit("cancel")},validateBasics:function(t){this.validBasics=t},validateAvailability:function(t){this.validAvailability=t},validateScheduling:function(t){this.validScheduling=t},validatePayments:function(t){this.validPayments=t},validateMailchimp:function(t){this.validMailchimp=t},changeAccordion:function(t){this.$emit("change",t)}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},Qa=Xa,to=(0,K.Z)(Qa,Ya,Ja,!1,null,null,null),eo=to.exports,no=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-theme",{attrs:{"md-name":t.currentAppointmentType.label}},[n("p",[n("strong",[t._v(t._s(t.translations.appointmentTypes.bulkEditExplanation))]),t._v(" "+t._s(t.appointment_type_names))]),n("md-card",[n("md-card-content",["basics"===t.section?n("basics",{attrs:{"bulk-mode":!0},on:{validationCheck:t.validateBasics}}):t._e(),"availability"===t.section?n("availability",{on:{validationCheck:t.validateAvailability}}):t._e(),"scheduling"===t.section?n("scheduling",{on:{validationCheck:t.validateScheduling}}):t._e(),"payments"===t.section?n("payments",{on:{validationCheck:t.validatePayments}}):t._e(),"googleCalendar"===t.section?n("google-calendar"):t._e(),"mailchimp"===t.section?n("mailchimp",{on:{validationCheck:t.validateMailchimp},model:{value:t.mailchimp,callback:function(e){t.mailchimp=e},expression:"mailchimp"}}):t._e(),"customerInfo"===t.section?n("customer-information",{attrs:{"bulk-mode":!0}}):t._e(),"notifications"===t.section?n("notifications",{attrs:{"bulk-mode":!0}}):t._e()],1),n("md-card-actions",[n("md-button",{staticClass:"md-raised",on:{click:t.cancel}},[t._v(t._s(t.translations.general.cancel))]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.validFormFields},on:{click:t.save}},[t._v(t._s(t.translations.general.save))])],1)],1)],1)},io=[],so={name:"bulkEditAll",props:["section"],components:{Basics:Si,Availability:Qi,Scheduling:as,Payments:ys,GoogleCalendar:Ds,Mailchimp:ea,CustomerInformation:Ta,Notifications:Da},data:function(){return{validBasics:!0,validAvailability:!0,validScheduling:!0,validPayments:!0,validMailchimp:!0}},watch:{section:function(){"availability"===this.section&&(this.maybeSyncAvailabilityType(),this.maybeSyncAvailability())}},mounted:function(){"availability"===this.section&&(this.maybeSyncAvailabilityType(),this.maybeSyncAvailability())},computed:(0,o.Z)((0,o.Z)({mailchimp:{get:function(){return this.currentAppointmentType.mailchimp},set:function(t){this.updateCurrentAppointmentType({key:"mailchimp",value:t})}},validFormFields:function(){var t=!0;switch(this.section){case"basics":t=this.validBasics;break;case"availability":t=this.validAvailability;break;case"scheduling":t=this.validScheduling;break;case"payments":t=this.validPayments;break;case"mailchimp":t=this.validMailchimp;break}return t},appointment_types:function(){var t=this,e=this.bulkEditing.map((function(e){var n=t.appointmentTypes.find((function(t){return t.id===e}));return n}));return e},appointment_type_names:function(){var t=this.appointment_types.map((function(t){return t.title}));return t.join(", ")}},(0,r.rn)("translations",["translations"])),(0,r.rn)("appointment_types",["appointmentTypes","bulkEditing","currentAppointmentType"])),methods:(0,o.Z)({cancel:function(){this.$emit("cancel")},save:function(){this.$emit("save")},validateBasics:function(t){this.validBasics=t},validateAvailability:function(t){this.validAvailability=t},maybeSyncAvailability:function(){for(var t=this.appointment_types.map((function(t){return t.availability})),e=!0,n=0;n<t.length;n++)JSON.stringify(t[n])!==JSON.stringify(t[0])&&(e=!1);e&&this.updateCurrentAppointmentType({key:"availability",value:t[0]})},maybeSyncAvailabilityType:function(){for(var t=this.appointment_types.map((function(t){return t.availability_type})),e=!0,n=0;n<t.length;n++)t[n]!==t[0]&&(e=!1);e&&this.updateCurrentAppointmentType({key:"availability_type",value:t[0]})},validateScheduling:function(t){this.validScheduling=t},validatePayments:function(t){this.validPayments=t},validateMailchimp:function(t){this.validMailchimp=t}},(0,r.nv)("appointment_types",["updateCurrentAppointmentType"]))},ao=so,oo=(0,K.Z)(ao,no,io,!1,null,null,null),ro=oo.exports,lo={name:"appointmentTypeBulkEdit",props:["section"],components:{Loading:st,BulkSingle:eo,BulkAll:ro},data:function(){return{accordionSaving:!1,dirty:!1,editSingle:!0,saving:!1,singleSaving:!1,snackbarTitle:"",validDuration:!0,leaveWithoutSaving:!1}},beforeMount:function(){this.bulkEditing.length||this.updateBulkEditing(this.editableAppointmentTypeIds),this.defineNewEmptyAppointmentType()},beforeRouteLeave:function(t,e,n){this.dirty?this.displayDialog(n,(function(){n(!1)})):n()},watch:{currentAppointmentType:{handler:function(t,e){this.dirty=e},deep:!0}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["router"])),(0,r.rn)("appointment_types",["bulkEditing","currentAppointmentType","appointmentTypes"])),(0,r.Se)("appointment_types",["editableAppointmentTypeIds"])),methods:(0,o.Z)((0,o.Z)({backToList:function(){this.router.push("/ssa/appointment-types/all")},changeAppointmentType:function(t){var e=this;if(this.dirty){var n=function(){if(t){var n=e.appointmentTypes.find((function(e){return e.id===t}));e.updateCurrentAppointmentType(n)}else e.emptyCurrentAppointmentType();e.$nextTick((function(){e.dirty=!1}))};this.displayDialog(n,(function(){}))}else{if(t){var i=this.appointmentTypes.find((function(e){return e.id===t}));this.updateCurrentAppointmentType(i)}else this.emptyCurrentAppointmentType();this.$nextTick((function(){e.dirty=!1}))}},cancelBulkEdit:function(){this.backToList()},saveBulkEdit:function(){var t=this;this.saving=!0,this.updateAppointmentTypes(!0).then((function(){t.saving=!1,t.dirty=!1,t.backToList()}))},saveSingleEdit:function(){var t=this;this.singleSaving=!0,this.updateAppointmentType().then((function(){t.snackbarTitle=t.currentAppointmentType.title,t.$refs.saveStatus.open(),t.emptyCurrentAppointmentType(),t.singleSaving=!1,t.$nextTick((function(){t.dirty=!1}))}))},switchEditMode:function(t){var e=this;if(this.dirty){var n=function(){t?e.emptyCurrentAppointmentType():e.defineNewEmptyAppointmentType(),e.$nextTick((function(){e.dirty=!1}))},i=function(){e.editSingle=!e.editSingle};this.displayDialog(n,i)}else t?this.emptyCurrentAppointmentType():this.defineNewEmptyAppointmentType(),this.$nextTick((function(){e.dirty=!1}))},displayDialog:function(t,e){var n=this,i="confirmLeaveDirty";this.$refs[i].open(),this.$refs[i].$on("close",(function(){n.leaveWithoutSaving?t():e()}))},dialogLeaveWithoutSaving:function(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits:function(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}},(0,r.nv)("appointment_types",["updateAppointmentType","updateAppointmentTypes","updateCurrentAppointmentType","emptyCurrentAppointmentType"])),(0,r.OI)("appointment_types",["defineNewEmptyAppointmentType","updateBulkEditing"]))},co=lo,po=(0,K.Z)(co,Ka,Va,!1,null,null,null),uo=po.exports,mo=[{path:"appointment-types",component:Un,redirect:"/ssa/appointment-types/all",meta:{ssa_manage_appointment_types:!0},children:[{path:"all",name:"appointment-types-all",component:Kn},{path:"type/:id?",name:"appointment-type-single",component:Ha,props:!0},{path:"edit/:section",name:"appointment-type-bulk-edit",component:uo,props:!0}]}],fo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-all"},[n("router-view",{on:{saved:t.backToSettings}})],1)},go=[],ho={name:"settingsAll",data:function(){return{}},methods:{backToSettings:function(){this.$router.push("/ssa/settings/all")}}},_o=ho,vo=(0,K.Z)(_o,fo,go,!1,null,null,null),yo=vo.exports,bo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-list"},[t.currentUserCan("ssa_manage_site_settings")||t.currentUserCan("ssa_manage_staff")?[n("md-toolbar",{staticClass:"md-transparent"},[n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(t._s(t.translations.settings.settingsTitle))]),t.settings.installed.license&&t.currentUserCan("ssa_manage_site_settings")?n("md-button",{staticClass:"md-primary",on:{click:t.toggleLicense}},[t._v(" "+t._s(t.translations.settings.license.manage)+" ")]):t._e()],1),t.license?n("license-key"):t._e(),n("md-layout",{staticClass:"settings-list-container",attrs:{"md-gutter":!0}},[t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-general.svg",title:t.translations.settings.general.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("general")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-styles.svg",title:t.translations.settings.styles.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("styles")}}}):t._e(),t.settings.installed.translation&&t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-translation.svg",title:t.translations.settings.translations.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("translations")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-advanced-scheduling.svg",title:t.translations.settings.advanced_scheduling.title,"can-disable":!1},on:{edit:function(e){return t.editSettings("advanced-scheduling")}}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.notificationImage,title:t.translations.settings.notifications.title},on:{edit:function(e){return t.editSettings("notifications")}},model:{value:t.notifications_enabled,callback:function(e){t.notifications_enabled=e},expression:"notifications_enabled"}}):t._e(),t.settings.installed.blackout_dates&&t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-blackout.svg",title:t.translations.settings.blackout.title},on:{edit:function(e){return t.editSettings("blackout")}},model:{value:t.blackout_enabled,callback:function(e){t.blackout_enabled=e},expression:"blackout_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-google-calendar.svg",title:t.translations.settings.google_calendar.title,upgrade:t.googleCalendarModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("google-calendar")}},model:{value:t.google_calendar_enabled,callback:function(e){t.google_calendar_enabled=e},expression:"google_calendar_enabled"}},[t.googleCalendarModule.enabled&&!t.settings.google_calendar.access_token?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.google_calendar.noAccessToken)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-mailchimp.svg",title:t.translations.settings.mailchimp.title,upgrade:t.mailchimpModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("mailchimp")}},model:{value:t.mailchimp_enabled,callback:function(e){t.mailchimp_enabled=e},expression:"mailchimp_enabled"}},[t.mailchimpModule.enabled&&!t.settings.mailchimp.account_details?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.mailchimp.noConnection)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-zoom.svg",title:t.translations.settings.zoom.title,upgrade:t.zoomModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("zoom")}},model:{value:t.zoom_enabled,callback:function(e){t.zoom_enabled=e},expression:"zoom_enabled"}},[t.zoomModule.enabled&&!t.settings.zoom.auth_code?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.zoom.noAuthCode)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-webex.svg",title:t.translations.settings.webex.title,upgrade:t.webexModule.upgrade,"upgrade-level":"plus"},on:{edit:function(e){return t.editSettings("webex")}},model:{value:t.webex_enabled,callback:function(e){t.webex_enabled=e},expression:"webex_enabled"}},[t.webexModule.enabled&&!t.settings.webex.access_token?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.appointmentTypes.webex.noAuthCode)+" ")]):t._e()],1):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-webhooks.svg",title:t.translations.settings.webhooks.title,upgrade:t.webhooksModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("webhooks")}},model:{value:t.webhooks_enabled,callback:function(e){t.webhooks_enabled=e},expression:"webhooks_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-payments.svg",title:t.translations.settings.payments.title,upgrade:t.paymentsModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("payments")}},model:{value:t.payments_enabled,callback:function(e){t.payments_enabled=e},expression:"payments_enabled"}}):t._e(),t.currentUserCan("ssa_manage_site_settings")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-tracking.svg",title:t.translations.settings.tracking.title,upgrade:t.trackingModule.upgrade,"upgrade-level":"pro"},on:{edit:function(e){return t.editSettings("tracking")}},model:{value:t.tracking_enabled,callback:function(e){t.tracking_enabled=e},expression:"tracking_enabled"}}):t._e(),t.currentUserCan("ssa_manage_staff")?n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/settings-staff.svg",title:t.translations.settings.staff.title,upgrade:t.staffModule.upgrade,"upgrade-level":"business"},on:{edit:function(e){return t.editSettings("staff")}},model:{value:t.staff_enabled,callback:function(e){t.staff_enabled=e},expression:"staff_enabled"}}):t._e()],1),t.currentUserCan("ssa_manage_site_settings")?n("div",{staticClass:"align-right"},[n("md-theme",{attrs:{"md-name":"grey"}},[n("router-link",{staticClass:"md-dense md-primary",attrs:{"md-theme":"grey",tag:"md-button",to:"/ssa/settings/import-export"}},[t._v(" "+t._s(t.translations.settings.import_export.title)+" ")]),n("router-link",{staticClass:"md-dense md-primary",attrs:{"md-theme":"grey",tag:"md-button",to:"/ssa/settings/developer"}},[t._v(" "+t._s(t.translations.settings.developerScreen)+" ")])],1)],1):t._e()]:n("no-permission")],2)},ko=[],Co=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.settings.installed.license?n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.license.key))]),n("md-layout",[t.checking?[n("md-layout",{staticClass:"license-validating",attrs:{"md-column":""}},[n("md-progress",{attrs:{"md-indeterminate":""}}),n("div",[t._v(t._s(t.translations.settings.license.validating))])],1)]:"valid"===t.settings.license.license_status?[n("md-layout",[n("div",{staticClass:"display-license-key"},[t._v(t._s(t.displayKey))]),n("div",["valid"===t.settings.license.license_status?n("md-button",{staticClass:"md-primary",on:{click:t.removeLicense}},[t._v(" "+t._s(t.translations.settings.license.remove)+" ")]):t._e()],1)])]:[n("md-layout",[n("md-input-container",{class:{"md-input-invalid":t.licenseError}},[n("label",{attrs:{for:"license"}},[t._v(t._s(t.translations.settings.license.key))]),n("md-input",{attrs:{id:"license"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),n("span",{staticClass:"md-error"},[t._v(t._s(this.settings.license.license_status_message))])],1)],1),n("md-layout",[n("div",{staticClass:"inline-license-button"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.validateLicense}},[t._v(" "+t._s(t.translations.settings.license.validate)+" ")])],1)])]],2)],1):t._e()},So=[],wo={name:"licenseKey",data:function(){return{checking:!1}},beforeMount:function(){var t=this;this.checking=!0,this.fetchLicenseSettings().then((function(){t.checking=!1,t.checkLicenseValidity()}))},computed:(0,o.Z)((0,o.Z)({licenseError:function(){return"invalid"===this.settings.license.license_status},displayKey:function(){return this.settings.license.license.replace(/.(?=.{4,}$)/g,"• ")},key:{get:function(){return this.settings.license.license},set:function(t){this.updateLicenseKey(t)}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)({validateLicense:function(){var t=this;this.checking=!0,this.updateLicenseSettings().then((function(){t.checking=!1,t.checkLicenseValidity()}))},removeLicense:function(){var t=this;this.checking=!0,this.updateLicenseKey(""),this.updateLicenseSettings().then((function(){t.checking=!1}))},checkLicenseValidity:function(){"valid"===this.settings.license.license_status&&this.$emit("validatedLicense")}},(0,r.nv)(["fetchLicenseSettings","updateLicenseSettings"])),(0,r.OI)(["updateLicenseKey"]))},To=wo,xo=(0,K.Z)(To,Co,So,!1,null,null,null),Ao=xo.exports,Po=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-layout",{staticClass:"settings-list-item"},[n("md-card",{staticClass:"full-width settings overflow-visible",class:{disabled:!t.value},attrs:{"md-with-hover":t.value},nativeOn:{click:function(e){return t.maybeEdit.apply(null,arguments)}}},[n("md-card-media",{class:t.cardStyle},[n("img",{attrs:{src:t.image,alt:""}}),t.upgrade?["plus"===t.upgradeLevel?n("div",{staticClass:"media-caption plus"},[t._v(" "+t._s(t.translations.promo.availablePlus))]):t._e(),"pro"===t.upgradeLevel?n("div",{staticClass:"media-caption pro"},[t._v(" "+t._s(t.translations.promo.availablePro)+" ")]):t._e(),"business"===t.upgradeLevel?n("div",{staticClass:"media-caption business"},[t._v(" "+t._s(t.translations.promo.availableBusiness)+" ")]):t._e()]:t._e(),n("md-ink-ripple")],2),n("md-card-header",[n("h3",{staticClass:"md-title"},[t._v(t._s(t.title))])]),t.$slots.default?n("md-card-content",[t._t("default")],2):t._e(),t.upgrade?t._e():n("md-card-actions",{staticClass:"split-actions"},[t.canDisable?n("md-switch",{attrs:{"md-theme":"reverse"},nativeOn:{click:function(e){return e.stopPropagation(),t.doNothing.apply(null,arguments)}},model:{value:t.switchValue,callback:function(e){t.switchValue=e},expression:"switchValue"}}):n("span",{staticStyle:{flex:"1"}}),n("md-button",{attrs:{disabled:!t.value}},[t._v(" "+t._s(t.translations.actions.edit)+" "),n("span",{staticClass:"screen-reader-text"},[t._v(t._s(t.title))])])],1),t.upgrade&&"coming-soon"==t.upgradeLevel?n("div",{staticClass:"coming-soon-wrap"},[n("div",{staticClass:"coming-soon"},[t._v(t._s(t.translations.settings.comingSoon))])]):t.inBeta?n("div",{staticClass:"beta-wrap"},[n("div",{staticClass:"beta"},[t._v(" "+t._s(t.translations.settings.beta)+" ")])]):t._e()],1),n("md-dialog",{ref:"upgradePro"},[n("promo-pro",{attrs:{"upgrade-url-params":t.promoProUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialogs}})],1),n("md-dialog",{ref:"upgradePlus"},[n("promo-plus",{attrs:{"upgrade-url-params":t.promoPlusUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialogs}})],1),n("md-dialog",{ref:"upgradeBusiness"},[n("promo-business",{attrs:{"upgrade-url-params":t.promoBusinessUpgradeParams,dismissable:!1},on:{promoClicked:t.closeDialogs}})],1),n("md-dialog",{ref:"enableSetting"},[n("md-dialog-title",[t._v(t._s(t.title))]),n("md-dialog-content",[n("p",[t._v(t._s(t.translations.settings.disabledWarning))])]),n("md-dialog-actions",[n("md-button",{on:{click:t.closeDialogs}},[t._v(t._s(t.translations.general.cancel))]),n("md-button",{staticClass:"md-primary",on:{click:t.enableThis}},[t._v(t._s(t.translations.settings.enable))])],1)],1)],1)},Mo=[],Eo={name:"settingsCard",components:{PromoPlus:ht,PromoPro:Ct,PromoBusiness:Rs},props:{canDisable:{type:Boolean,default:!0},cardStyle:String,image:String,inBeta:{type:Boolean,default:!1},title:String,upgrade:Boolean,upgradeLevel:String,value:{type:Boolean,default:!0}},data:function(){return{promoPlusUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-plus",utm_term:"plus-features",utm_content:"general-plus-settings-popup"},promoProUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"pro-features",utm_content:"general-pro-settings-popup"},promoBusinessUpgradeParams:{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-business",utm_term:"business-features",utm_content:"general-business-settings-popup"}}},computed:(0,o.Z)({switchValue:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},(0,r.rn)("translations",["translations"])),methods:{closeDialogs:function(){this.$refs["enableSetting"].close(),this.$refs["upgradePlus"].close(),this.$refs["upgradePro"].close()},doNothing:function(){},edit:function(){this.$emit("edit")},enableThis:function(){this.switchValue=!0,this.edit()},maybeEdit:function(){this.value?this.edit():this.upgrade&&"plus"===this.upgradeLevel?this.$refs["upgradePlus"].open():this.upgrade&&"pro"===this.upgradeLevel?this.$refs["upgradePro"].open():this.upgrade&&"business"===this.upgradeLevel?this.$refs["upgradeBusiness"].open():this.upgrade&&"coming-soon"===this.upgradeLevel||this.$refs["enableSetting"].open()}}},Do=Eo,$o=(0,K.Z)(Do,Po,Mo,!1,null,null,null),Oo=$o.exports,Io={name:"settingsList",components:{NoPermission:se,licenseKey:Ao,Notification:Sn,SettingsCard:Oo},data:function(){return{license:!1,enableFeatureName:"",enableFeatureTitle:""}},watch:{guidesList:function(){this.getGuides({"ssasc-plugin-screen":this.guidesList})}},mounted:function(){this.getGuides({"ssasc-plugin-screen":this.guidesList})},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({blackout_enabled:{get:function(){return this.settings.blackout_dates.enabled},set:function(t){this.updateBlackoutEnabled({settings:this.settings,value:t}),this.updateBlackoutSettings()}},google_calendar_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"google_calendar")&&(!!this.settings.google_calendar.enabled&&!!this.settings.installed.google_calendar)},set:function(t){this.updateGoogleCalendarEnabled({settings:this.settings,value:t}),this.updateGoogleCalendarSettings()}},mailchimp_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"mailchimp")&&(!!this.settings.mailchimp.enabled&&!!this.settings.installed.mailchimp)},set:function(t){this.updateMailchimpEnabled({settings:this.settings,value:t}),this.updateMailchimpSettings()}},webex_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"webex")&&(!!this.settings.installed.webex&&!!this.settings.webex.enabled)},set:function(t){this.updateWebexEnabled(t),this.updateWebexSettings()}},zoom_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"zoom")&&(!!this.settings.zoom.enabled&&!!this.settings.installed.zoom)},set:function(t){this.updateZoomEnabled({settings:this.settings,value:t}),this.updateZoomSettings()}},notifications_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"notifications")&&(!!this.settings.notifications.enabled&&!!this.settings.installed.notifications)},set:function(t){this.setNotificationsEnabled(t),this.updateNotificationsSettings()}},webhooks_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"webhooks")&&(!!this.settings.webhooks.enabled&&!!this.settings.installed.webhooks)},set:function(t){this.updateWebhooksEnabled({value:t,settings:this.settings}),this.updateWebhooksSettings()}},payments_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"payments")&&(!!this.settings.payments.enabled&&!!this.settings.installed.payments)},set:function(t){this.updatePaymentsEnabled(t)}},staff_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"staff")&&(!!this.settings.staff.enabled&&!!this.settings.installed.staff)},set:function(t){this.updateStaffEnabled(t)}},tracking_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"tracking")&&(!!this.settings.tracking.enabled&&!!this.settings.installed.tracking)},set:function(t){this.updateTrackingEnabled(t)}},notificationImage:function(){return this.smsModule.installed?this.api.admin_static_url+"/images/settings-notifications-sms.svg":this.api.admin_static_url+"/images/settings-notifications.svg"},guidesList:function(){var t=[L.settings.list];return this.license&&t.push(L.settings.license_enabled),t}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings"])),(0,r.Se)(["advancedSchedulingModule"])),(0,r.Se)("zoom",["zoomModule"])),(0,r.Se)("mailchimp",["mailchimpModule"])),(0,r.Se)("google_calendar",["googleCalendarModule"])),(0,r.Se)("notifications",["smsModule"])),(0,r.Se)("payments",["paymentsModule"])),(0,r.Se)("staff",["currentUserCan","staffModule"])),(0,r.Se)("tracking",["trackingModule"])),(0,r.Se)("webex",["webexModule"])),(0,r.Se)("webhooks",["webhooksModule"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({toggleLicense:function(){this.license=!this.license},editSettings:function(t){this.$router.push("/ssa/settings/".concat(t))}},(0,r.nv)(["updateAdvancedSchedulingSettings","updateNotificationsSettings"])),(0,r.nv)("zoom",["updateZoomSettings"])),(0,r.nv)("mailchimp",["updateMailchimpSettings"])),(0,r.nv)("google_calendar",["updateGoogleCalendarSettings"])),(0,r.nv)("webhooks",["updateWebhooksSettings"])),(0,r.nv)("payments",["updatePaymentsEnabled"])),(0,r.nv)("staff",["updateStaffEnabled"])),(0,r.nv)("tracking",["updateTrackingEnabled"])),(0,r.OI)(["updateAdvancedSchedulingEnabled","setNotificationsEnabled"])),(0,r.OI)("zoom",["updateZoomEnabled"])),(0,r.OI)("mailchimp",["updateMailchimpEnabled"])),(0,r.OI)("google_calendar",["updateGoogleCalendarEnabled"])),(0,r.nv)("guides",["getGuides"])),(0,r.OI)("webex",["updateWebexEnabled"])),(0,r.nv)("webex",["updateWebexSettings"])),(0,r.OI)("webhooks",["updateWebhooksEnabled"])),(0,r.nv)("blackout",["updateBlackoutSettings"])),(0,r.OI)("blackout",["updateBlackoutEnabled"]))},Zo=Io,zo=(0,K.Z)(Zo,bo,ko,!1,null,null,null),jo=zo.exports,Lo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("license-key")},No=[],Uo={name:"settingsLicense",store:Ey,components:{licenseKey:Ao},data:function(){return{}}},Go=Uo,Fo=(0,K.Z)(Go,Lo,No,!1,null,null,null),Wo=Fo.exports,Bo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[n("settings-header"),n("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),n("fieldset",[t.timezoneWarning?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.general.genericTimezoneWarning)+" "),n("a",{attrs:{href:"https://simplyscheduleappointments.com/document/timezones-and-offsets/",target:"_blank"}},[t._v(t._s(t.translations.general.learnMore))])]):t._e(),n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",[n("label",{attrs:{for:"timezone"}},[t._v(t._s(t.translations.settings.general.timezone))]),n("select2",{attrs:{name:"timezone",id:"timezone",disabled:t.saving},model:{value:t.timezone_string,callback:function(e){t.timezone_string=e},expression:"timezone_string"}},t._l(t.allSupportedTimezones,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(t.formatTimezone(e)))])})),0)],1)],1),n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",[n("label",{attrs:{for:"dateFormat"}},[t._v(t._s(t.translations.settings.general.dateFormat))]),n("md-select",{attrs:{name:"dateFormat",id:"dateFormat",disabled:t.saving,"md-menu-class":"md-align-trigger"},model:{value:t.date_format,callback:function(e){t.date_format=e},expression:"date_format"}},t._l(t.localizedDateFormats,(function(e,i){return n("md-option",{key:e.php,attrs:{value:e.php}},[t._v(" "+t._s(t.moment().format(e.js))+" "),i>0?[t._v(" — "),n("code",[t._v(t._s(e.php))])]:t._e()],2)})),1)],1)],1),n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",[n("label",{attrs:{for:"timeFormat"}},[t._v(t._s(t.translations.settings.general.timeFormat))]),n("md-select",{attrs:{name:"timeFormat",id:"timeFormat",disabled:t.saving},model:{value:t.time_format,callback:function(e){t.time_format=e},expression:"time_format"}},t._l(t.localizedTimeFormats,(function(e,i){return n("md-option",{key:e.php,attrs:{value:e.php}},[t._v(" "+t._s(t.moment().format(e.js))+" "),i>0?[t._v(" — "),n("code",[t._v(t._s(e.php))])]:t._e()],2)})),1)],1)],1),n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",[n("label",{attrs:{for:"weekStartsOn"}},[t._v(t._s(t.translations.settings.general.weekStartsOn))]),n("md-select",{attrs:{name:"weekStartsOn",id:"weekStartsOn",disabled:t.saving},model:{value:t.start_of_week,callback:function(e){t.start_of_week=e},expression:"start_of_week"}},t._l(t.moment.weekdays(!1),(function(e,i){return n("md-option",{key:e,attrs:{value:i.toString()}},[t._v(t._s(e))])})),1)],1)],1),n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",[n("label",{attrs:{for:"defaultCountryCode"}},[t._v(" "+t._s(t.translations.settings.general.countryCode.label)+" ")]),n("md-select",{attrs:{name:"defaultCountryCode",id:"defaultCountryCode",disabled:t.saving},model:{value:t.country_code,callback:function(e){t.country_code=e},expression:"country_code"}},[n("md-option",{attrs:{value:""}},[t._v(" "+t._s(t.translations.settings.general.countryCode.defaultValue)+" ")]),t._l(t.countries,(function(e){return n("md-option",{key:e.iso2,attrs:{value:e.iso2}},[t._v(" "+t._s(e.name)+" ")])}))],2)],1)],1),n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",{class:{"md-input-invalid":!t.staff_name.length}},[n("label",{attrs:{for:"staffName"}},[t._v(t._s(t.translations.settings.general.contact))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.staff_name,callback:function(e){t.staff_name=e},expression:"staff_name"}}),t.staff_name.length?n("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.general.contact_helper)+" ")]):n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.contact_error))])],1)],1),n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",{class:{"md-input-invalid":!t.company_name.length}},[n("label",{attrs:{for:"companyName"}},[t._v(t._s(t.translations.settings.general.business))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.company_name,callback:function(e){t.company_name=e},expression:"company_name"}}),t.company_name.length?t._e():n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.business_error))])],1)],1),n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",{class:{"md-input-invalid":!t.admin_email.length}},[n("label",{attrs:{for:"apptEmail"}},[t._v(t._s(t.translations.settings.general.email))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.admin_email,callback:function(e){t.admin_email=e},expression:"admin_email"}}),t.admin_email.length?n("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.general.email_helper)+" ")]):n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.general.email_error))])],1)],1),t.smsModule.active?n("md-theme",{attrs:{"md-name":"reverse"}},[n("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validAdminPhone}},[n("label",{attrs:{for:"admin_phone"}},[t._v(t._s(t.translations.settings.general.phone))]),n("telephone",{attrs:{placeholder:"","input-options":{"aria-describedby":"admin_phone_error admin_phone_helper",id:"admin_phone"},required:t.smsModule.active},on:{validate:function(e){return t.checkPhone(e)}},model:{value:t.admin_phone,callback:function(e){t.admin_phone=e},expression:"admin_phone"}}),t.validAdminPhone?n("span",{staticClass:"md-helper-text",attrs:{id:"admin_phone_helper"}},[t._v(" "+t._s(t.translations.settings.general.phone_help)+" ")]):n("span",{staticClass:"md-error",attrs:{id:"admin_phone_error"}},[t._v(" "+t._s(t.translations.settings.general.phone_error)+" ")])],1)],1):t._e()],1),n("div",{staticClass:"button-bar align-right"},[n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(t._s(t._button))]],2),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},Ro=[],qo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vue-tel-input",{ref:"telephone",attrs:{"input-options":t.inputOptions,"dropdown-options":t.dropdownOptions,value:t.value,"auto-default-country":!1,"default-country":t.telCountryCode,mode:"international"},on:{validate:t.validate,input:t.handleInput}})},Ho=[],Ko={name:"vue-telephone",props:{value:{type:String},placeholder:{type:String,default:"Enter a phone number"},disabled:{type:Boolean,default:!1},id:{type:String,default:""},required:{type:Boolean,default:!1},name:{type:String,default:"telephone"},dropdownOptions:{type:Object,default:function(){return{disabled:!1,showDialCodeInList:!0,showDialCodeInSelection:!1,showFlags:!0,showSearchBox:!1,tabindex:0,width:"390px"}}},inputOptions:{type:Object,default:function(){return{}}}},data:function(){return{container:null,input:null,valid:!0}},mounted:function(){this.input=this.$refs.telephone.$el.querySelector("input"),this.container=ps()(this.input).parents(".md-input-container"),this.styleContainer(),this.input.addEventListener("focus",this.toggleFocus),this.input.addEventListener("blur",this.toggleFocus)},updated:function(){this.styleContainer()},beforeDestroy:function(){this.input.removeEventListener("blur",this.toggleFocus),this.input.removeEventListener("focus",this.toggleFocus)},computed:(0,o.Z)({},(0,r.rn)(["telCountryCode","settings"])),methods:{handleInput:function(t){var e=this;this.$emit("input",t),this.$nextTick((function(){e.styleContainer()}))},styleContainer:function(){this.value?ps()(this.container).addClass("md-has-value"):ps()(this.container).removeClass("md-has-value"),this.required&&ps()(this.container).addClass("md-input-required")},toggleFocus:function(t){var e=this;"focus"===t.type?ps()(this.container).addClass("md-input-focused"):ps()(this.container).removeClass("md-input-focused"),this.$nextTick((function(){e.styleContainer()}))},validate:function(t){this.required?this.valid=!t.number||t.valid:this.valid=!(!t.number||0!==t.number.length)||t.valid,this.$emit("validate",this.valid)}}},Vo=Ko,Yo=(0,K.Z)(Vo,qo,Ho,!1,null,"6a7c5220",null),Jo=Yo.exports,Xo=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-header"},[n("router-link",{staticStyle:{"padding-left":"0"},attrs:{tag:"md-button",to:"/ssa/settings/all"}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.returnToSettings)+" ")],1),t.headline?n("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.headline)+" "),t.loading?n("md-spinner",{attrs:{"md-indeterminate":"","md-size":24,"md-stroke":6}}):t._e()],1):t._e()],1)},Qo=[],tr={name:"settingsHeader",store:Ey,props:{loading:{type:Boolean,default:!1}},data:function(){return{viewName:this.$route.name}},computed:(0,o.Z)({headline:function(){var t;switch(this.viewName){case"settings-general":t=this.translations.settings.general.title;break;case"settings-import-export":t=this.translations.settings.import_export.title;break;case"settings-styles":t=this.translations.settings.styles.title;break;case"settings-translations":t=this.translations.settings.translations.title;break;case"settings-google-calendar":t=this.translations.settings.google_calendar.title;break;case"settings-mailchimp":t=this.translations.settings.mailchimp.title;break;case"settings-advanced-scheduling":t=this.translations.settings.advanced_scheduling.title;break;case"payments-all":t=this.translations.settings.payments.title;break;case"settings-tracking":t=this.translations.settings.tracking.title;break;case"settings-zoom":t=this.translations.settings.zoom.title;break}return t}},(0,r.rn)("translations",["translations"])),methods:{cancelEdit:function(){this.$emit("cancelEdit")}}},er=tr,nr=(0,K.Z)(er,Xo,Qo,!1,null,null,null),ir=nr.exports,sr={name:"settingsGlobal",components:{select2:gs,SettingsHeader:ir,Telephone:Jo,Notification:Sn},props:{button:{default:"Save",type:String}},data:function(){return{moment:R(),countries:z,dirty:!1,options:yi,saving:!1,timezoneWarning:!1,validAdminPhone:!0}},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(t){"ok"===t?(n(),i.fetchSettings()):n(!1)}))}else n()},watch:{admin_email:function(t,e){t!==e&&(this.dirty=!0)},admin_phone:function(t,e){t!==e&&(this.dirty=!0)},company_name:function(t,e){t!==e&&(this.dirty=!0)},date_format:function(t,e){t!==e&&(this.dirty=!0)},staff_name:function(t,e){t!==e&&(this.dirty=!0)},start_of_week:function(t,e){t!==e&&(this.dirty=!0)},time_format:function(t,e){t!==e&&(this.dirty=!0)},timezone_string:function(t,e){t!==e&&(this.dirty=!0),this.timezoneWarning=t.includes("UTC")||t.includes("GMT")}},mounted:function(){(this.timezone_string.includes("UTC")||this.timezone_string.includes("GMT"))&&(this.timezoneWarning=!0),this.getGuides({"ssasc-plugin-screen":L.general})},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({_button:function(){return"Save"===this.button?this.translations.general.save:this.button},admin_email:{get:function(){return this.settings.global.admin_email},set:function(t){this.updateAdminEmail({settings:this.settings,value:t})}},admin_phone:{get:function(){return this.settings.global.admin_phone?this.settings.global.admin_phone:""},set:function(t){this.setAdminPhone({settings:this.settings,value:t})}},company_name:{get:function(){return this.settings.global.company_name},set:function(t){this.updateCompanyName({settings:this.settings,value:t})}},country_code:{get:function(){return this.settings.global.country_code},set:function(t){this.setCountryCode({settings:this.settings,code:t})}},date_format:{get:function(){return this.settings.global.date_format},set:function(t){this.updateDateFormat({settings:this.settings,value:t})}},localizedDateFormats:function(){var t=Ee().cloneDeep(this.options.dateFormats);return t[0].js=this.api.locale_fjy,t},localizedTimeFormats:function(){var t=Ee().cloneDeep(this.options.timeFormats);return t[0].js=this.api.locale_gia,t},staff_name:{get:function(){return this.settings.global.staff_name},set:function(t){this.updateStaffName({settings:this.settings,value:t})}},start_of_week:{get:function(){return this.settings.global.start_of_week},set:function(t){this.updateStartOfWeek({settings:this.settings,value:t})}},time_format:{get:function(){return this.settings.global.time_format},set:function(t){this.updateTimeFormat({settings:this.settings,value:t})}},timezone_string:{get:function(){return this.settings.global.timezone_string},set:function(t){this.updateTimezoneString({settings:this.settings,value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","timestampFormat","settings"])),(0,r.Se)(["formatTimezone","allSupportedTimezones"])),(0,r.Se)("notifications",["smsModule"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({checkPhone:function(t){!this.smsModule.active||t?this.validAdminPhone=!0:this.validAdminPhone=!1},saveSettings:function(){var t=this;this.admin_email.length&&this.company_name.length&&this.staff_name.length&&(this.saving=!0,this.updateGlobalSettings().then((function(){t.saving=!1,t.dirty=!1,t.$emit("saved")})))}},(0,r.nv)(["fetchSettings"])),(0,r.nv)("global_settings",["updateGlobalSettings"])),(0,r.nv)("guides",["getGuides"])),(0,r.OI)("global_settings",["setAdminPhone","setCountryCode","updateStartOfWeek","updateTimezoneString","updateDateFormat","updateTimeFormat","updateAdminEmail","updateCompanyName","updateStaffName"]))},ar=sr,or=(0,K.Z)(ar,Bo,Ro,!1,null,null,null),rr=or.exports,lr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[n("settings-header"),n("md-tabs",{staticClass:"md-transparent",on:{change:t.setCurrentTab}},[n("md-tab",{attrs:{id:"settings","md-label":t.translations.settings.developer.title}},[n("settings-developer-settings")],1),n("md-tab",{attrs:{id:"jobs","md-label":t.translations.settings.jobs.title}},[n("settings-developer-jobs")],1)],1)],1)},cr=[],dr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[n("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),n("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.developer.title)+" ")]),n("div",{staticClass:"md-switch-with-helper"},[n("md-switch",{attrs:{id:"enqueue_everywhere","md-theme":"reverse",name:"enqueue_everywhere"},model:{value:t.enqueue_everywhere,callback:function(e){t.enqueue_everywhere=e},expression:"enqueue_everywhere"}},[t._v(" "+t._s(t.translations.settings.developer.enqueue_everywhere.label)+" ")]),n("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.enqueue_everywhere.help))])],1),n("div",{staticClass:"md-switch-with-helper"},[n("md-switch",{attrs:{id:"disable_availability_caching","md-theme":"reverse",name:"disable_availability_caching"},model:{value:t.disable_availability_caching,callback:function(e){t.disable_availability_caching=e},expression:"disable_availability_caching"}},[t._v(" "+t._s(t.translations.settings.developer.disable_availability_caching.label)+" ")]),n("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.disable_availability_caching.help))])],1),n("hr"),n("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.developer.beta_updates.title)+" ")]),t.settings.installed.license?n("div",{staticClass:"md-switch-with-helper"},[n("md-switch",{attrs:{id:"beta_updates","md-theme":"reverse",name:"beta_updates"},model:{value:t.beta_updates,callback:function(e){t.beta_updates=e},expression:"beta_updates"}},[t._v(" "+t._s(t.translations.settings.developer.beta_updates.label)+" ")]),n("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.beta_updates.help))])],1):t._e(),t.settings.installed.license?n("div",{staticClass:"md-switch-with-helper"},[n("md-switch",{attrs:{id:"beta_calendar_events","md-theme":"reverse",name:"beta_calendar_events"},model:{value:t.beta_calendar_events,callback:function(e){t.beta_calendar_events=e},expression:"beta_calendar_events"}},[t._v(" "+t._s(t.translations.settings.developer.beta_calendar_events.label)+" ")]),n("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.beta_calendar_events.help))])],1):t._e(),n("div",{staticClass:"button-bar align-right"},[n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t._button)+" ")]],2),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},pr=[],ur={name:"settingsDeveloperSettings",props:{button:{default:"Save",type:String}},data:function(){return{dirty:!1,saving:!1}},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(t){"ok"===t?(n(),i.fetchSettings()):n(!1)}))}else n()},watch:{booking_api_embed:function(t,e){t!==e&&(this.dirty=!0)},capacity_availability:function(t,e){t!==e&&(this.dirty=!0)},disable_availability_caching:function(t,e){t!==e&&(this.dirty=!0)},enqueue_everywhere:function(t,e){t!==e&&(this.dirty=!0)},beta_updates:function(t,e){t!==e&&(this.dirty=!0)},beta_calendar_events:function(t,e){t!==e&&(this.dirty=!0)},beta_booking_app:function(t,e){t!==e&&(this.dirty=!0)}},computed:(0,o.Z)((0,o.Z)({_button:function(){return"Save"===this.button?this.translations.general.save:this.button},booking_api_embed:{get:function(){return this.settings.developer.booking_api_embed},set:function(t){this.setBookingApiEmbed(t)}},capacity_availability:{get:function(){return this.settings.developer.capacity_availability},set:function(t){this.setCapacityAvailability(t)}},disable_availability_caching:{get:function(){return this.settings.developer.disable_availability_caching},set:function(t){this.setDisableAvailabilityCaching({settings:this.settings,value:t})}},enqueue_everywhere:{get:function(){return this.settings.developer.enqueue_everywhere},set:function(t){this.setEnqueueEverywhere({settings:this.settings,value:t})}},beta_updates:{get:function(){return this.settings.developer.beta_updates},set:function(t){this.setBetaUpdates({settings:this.settings,value:t})}},beta_calendar_events:{get:function(){return this.settings.developer.beta_calendar_events},set:function(t){this.setBetaCalendarEvents({settings:this.settings,value:t})}},beta_booking_app:{get:function(){return this.settings.developer.beta_booking_app},set:function(t){this.setBetaBookingApp({settings:this.settings,value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({saveSettings:function(){var t=this;this.saving=!0,this.updateDeveloperSettings().then((function(){t.saving=!1,t.dirty=!1,t.$emit("saved")}))}},(0,r.nv)(["fetchSettings"])),(0,r.OI)(["setBookingApiEmbed","setCapacityAvailability"])),(0,r.nv)("developer_settings",["updateDeveloperSettings"])),(0,r.OI)("developer_settings",["setDisableAvailabilityCaching","setEnqueueEverywhere","setBetaUpdates","setBetaCalendarEvents","setBetaBookingApp"]))},mr=ur,fr=(0,K.Z)(mr,dr,pr,!1,null,null,null),gr=fr.exports,hr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.jobs.title)+" ")]),n("div",{staticClass:"ssa-developer-job"},[n("div",[n("h3",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.title))]),n("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.description))]),n("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.jobs.purge_appoiments.settings.purge_past_appointments,callback:function(e){t.$set(t.jobs.purge_appoiments.settings,"purge_past_appointments",e)},expression:"jobs.purge_appoiments.settings.purge_past_appointments"}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.settings.past_appointments))]),n("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.jobs.purge_appoiments.settings.purge_abandoned_appointments,callback:function(e){t.$set(t.jobs.purge_appoiments.settings,"purge_abandoned_appointments",e)},expression:"jobs.purge_appoiments.settings.purge_abandoned_appointments"}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.settings.abandoned_appointments))]),n("purge-appointments",{attrs:{open:t.jobs.purge_appoiments.modalOpen,settings:t.jobs.purge_appoiments.settings},on:{close:function(e){t.jobs.purge_appoiments.modalOpen=!1}}})],1),n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){t.jobs.purge_appoiments.modalOpen=!0}}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.action))])],1)])},_r=[],vr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-dialog",{ref:"purgeAppointmentsDialog",staticClass:"ssa-developer-job-modal"},[t.status?t._e():n("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.title)}}),n("md-dialog-content",{staticClass:"purge-appointments",class:t.status},[t.status?t._e():n("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.text))]),t.status?n("div",{staticClass:"dialog-icon"},["loading"===t.status?n("div",{staticClass:"icon"},[n("md-spinner",{attrs:{"md-indeterminate":"","md-size":80}})],1):t._e(),"success"===t.status?n("md-icon",{staticClass:"icon md-size-4x"},[t._v("check_circle")]):t._e(),"error"===t.status?n("md-icon",{staticClass:"icon md-size-4x"},[t._v("error")]):t._e()],1):t._e(),"loading"===t.status?n("div",{staticClass:"dialog-content"},[n("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.loading))])]):t._e(),"success"===t.status?n("div",{staticClass:"dialog-content"},[n("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.success))]),t.csv?n("a",{attrs:{href:t.csv,download:""}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.download))]):t._e()]):t._e(),"error"===t.status?n("div",{staticClass:"dialog-content"},[n("p",[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.error))]),t._l(t.errors,(function(e,i){return n("notification",{key:i,attrs:{theme:"red"}},[t._v(t._s(e))])}))],2):t._e()]),"loading"!==t.status?n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.close}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.close))]),t.status?t._e():n("md-button",{staticClass:"md-primary md-raised",on:{click:t.deleteAppointments}},[t._v(t._s(t.translations.settings.jobs.jobs.purge_appointments.modal.confirm))])],1):t._e()],1)},yr=[],br={name:"jobsPurgeAppointments",components:{Notification:Sn},props:{open:{default:!1,type:Boolean},settings:{default:function(){},type:Object}},watch:{open:function(){this.open?(this.status=null,this.csv=null,this.errors=null,this.$refs.purgeAppointmentsDialog.open()):this.$refs.purgeAppointmentsDialog.close()}},data:function(){return{csv:null,status:null,errors:null}},computed:(0,o.Z)({},(0,r.rn)("translations",["translations"])),methods:(0,o.Z)({close:function(){this.$emit("close")},deleteAppointments:function(){var t=this;this.status="loading",this.purgeAppointments(this.settings).then((function(e){t.status="success",t.csv=e.file_url})).catch((function(e){t.status="error",t.errors=Array.isArray(e)?e:[e]}))}},(0,r.nv)("appointments",["purgeAppointments"]))},kr=br,Cr=(0,K.Z)(kr,vr,yr,!1,null,null,null),Sr=Cr.exports,wr={name:"settingsDeveloperJobs",components:{purgeAppointments:Sr},data:function(){return{jobs:{purge_appoiments:{settings:{purge_past_appointments:!1,purge_abandoned_appointments:!1},modalOpen:!1}}}},computed:(0,o.Z)({},(0,r.rn)("translations",["translations"]))},Tr=wr,xr=(0,K.Z)(Tr,hr,_r,!1,null,null,null),Ar=xr.exports,Pr={name:"settingsDeveloper",components:{SettingsHeader:ir,settingsDeveloperSettings:gr,settingsDeveloperJobs:Ar},props:{button:{default:"Save",type:String}},data:function(){return{currentTab:0}},watch:{currentGuidesId:function(){this.getGuides({"ssasc-plugin-screen":this.currentGuidesId})}},mounted:function(){this.getGuides({"ssasc-plugin-screen":this.currentGuidesId})},computed:(0,o.Z)({currentGuidesId:function(){return 0===this.currentTab?L.developer_settings:L.developer_jobs}},(0,r.rn)("translations",["translations"])),methods:(0,o.Z)({setCurrentTab:function(t){this.currentTab=t}},(0,r.nv)("guides",["getGuides"]))},Mr=Pr,Er=(0,K.Z)(Mr,lr,cr,!1,null,null,null),Dr=Er.exports,$r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ssa-import-export"},[n("settings-header"),n("md-tabs",{staticClass:"md-transparent"},[n("md-tab",{attrs:{id:"export","md-label":t.translations.settings.import_export.tabs.export}},[n("div",{staticClass:"export-settings"},[n("div",{staticClass:"md-checkbox-with-note"},[n("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagSettings,callback:function(e){t.exportFlagSettings=e},expression:"exportFlagSettings"}},[t._v(" "+t._s(t.translations.settings.import_export.options.settings.label)+" ")]),n("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.settings.description))])],1),n("div",{staticClass:"md-checkbox-with-note"},[n("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagAppointmentTypes,callback:function(e){t.exportFlagAppointmentTypes=e},expression:"exportFlagAppointmentTypes"}},[t._v(" "+t._s(t.translations.settings.import_export.options.appointment_types.label)+" ")]),n("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.appointment_types.description))])],1),n("div",{staticClass:"md-checkbox-with-note"},[n("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.exportFlagAppointments,callback:function(e){t.exportFlagAppointments=e},expression:"exportFlagAppointments"}},[t._v(" "+t._s(t.translations.settings.import_export.options.appointments.label)+" ")]),n("p",{staticClass:"md-checkbox-note"},[t._v(t._s(t.translations.settings.import_export.options.appointments.description))]),t.exportFlagAppointments?n("div",{staticClass:"md-checkbox-with-note",staticStyle:{"margin-left":"30px"}},[n("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.anonymizeExport,callback:function(e){t.anonymizeExport=e},expression:"anonymizeExport"}},[t._v(" "+t._s(t.translations.settings.import_export.options.anonymize.label)+" ")]),n("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.settings.import_export.options.anonymize.description)+" ")])],1):t._e(),t.exportFlagAppointments?n("div",{staticClass:"md-checkbox-with-note",staticStyle:{"margin-left":"30px"}},[n("md-checkbox",{attrs:{"md-theme":"reverse"},model:{value:t.futureAppointmentsOnly,callback:function(e){t.futureAppointmentsOnly=e},expression:"futureAppointmentsOnly"}},[t._v(" "+t._s(t.translations.settings.import_export.options.future_appointments_only.label)+" ")]),n("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.settings.import_export.options.future_appointments_only.description)+" ")])],1):t._e()],1)]),n("div",{staticClass:"button-bar align-right"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.generateExportCode}},[t.generatingCode?[t._v(" "+t._s(t.translations.settings.import_export.generate_button_loading)+" ")]:[t._v(" "+t._s(t.translations.settings.import_export.generate_button)+" ")]],2),t.generatingCode?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCode,expression:"showCode"}]},[n("textarea",{ref:"exportCodeArea",staticClass:"export-code",attrs:{readonly:""},domProps:{innerHTML:t._s(t.exportCode)},on:{click:t.selectCode,focus:t.selectCode}}),n("p",[n("md-button",{staticClass:"copy-code-trigger",on:{click:t.copyExportCode}},[t._v(t._s(t.translations.settings.import_export.copy)+" "),n("md-icon",{staticClass:"md-primary"},[t._v("file_copy")])],1),n("md-button",{staticClass:"send-code-trigger",on:{click:t.sendExportCode}},[t._v(t._s(t.translations.settings.import_export.send_to_support)+" "),n("md-icon",{directives:[{name:"show",rawName:"v-show",value:!t.sendingToSupport,expression:"!sendingToSupport"}],staticClass:"md-primary"},[t._v("send")]),t.sendingToSupport?n("md-spinner",{attrs:{"md-size":24,"md-stroke":5,"md-indeterminate":""}}):t._e()],1)],1)]),n("md-snackbar",{ref:"exportCodeNotice",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.import_export.copied))])]),n("md-snackbar",{ref:"exportCodeSentToSupport",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.import_export.send_to_support_success))])])],1),n("md-tab",{attrs:{id:"import","md-label":t.translations.settings.import_export.tabs.import}},[n("div",{staticClass:"import-settings"},[n("h3",[t._v(t._s(t.translations.settings.import_export.import_headline))]),n("p",[t._v(t._s(t.translations.settings.import_export.import_copy))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.importCodeIsValid,expression:"!importCodeIsValid"}],staticClass:"import-alert"},[t.importCodeIsValid?t._e():n("p",[t._v(t._s(t.translations.settings.import_export.import_invalid_json_notice))])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.importCode,expression:"importCode"}],staticClass:"export-code",domProps:{value:t.importCode},on:{input:function(e){e.target.composing||(t.importCode=e.target.value)}}}),n("div",{staticClass:"button-bar align-right"},[n("md-button",{staticClass:"md-raised md-primary",attrs:{id:"import-btn",disabled:!t.importCodeIsValid||!t.importCode},on:{click:t.processImportCode}},[t.importingCode?[t._v(" "+t._s(t.translations.settings.import_export.import_button_loading)+" ")]:[t._v(" "+t._s(t.translations.settings.import_export.import_button)+" ")]],2),t.importingCode?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)])])],1),n("settings-import-export-modal",{attrs:{loading:t.importingCode,status:t.importStatus,response:t.importStatusResponse}})],1)},Or=[],Ir=n(16198),Zr=n(9726),zr=(n(78975),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-dialog",{ref:"modal",staticClass:"ssa-import-export-modal",attrs:{"md-open-from":"#import-btn","md-click-outside-to-close":!1,"md-esc-to-close":!1}},[n("md-dialog-content",{class:t.status},[n("div",{staticClass:"import-dialog-icon"},[t.loading?n("div",{staticClass:"icon"},[n("md-spinner",{attrs:{"md-indeterminate":"","md-size":80}})],1):t._e(),t.loading||"error"===t.status?t._e():n("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),t.loading||"error"!==t.status?t._e():n("md-icon",{staticClass:"icon md-size-3x"},[t._v("error")])],1),t.loading?n("div",{staticClass:"import-dialog-content"},[n("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.import_export.import_button_loading))])]):t._e(),t.loading||"error"===t.status?t._e():n("div",{staticClass:"import-dialog-content"},[n("h3",{staticClass:"md-headline",domProps:{innerHTML:t._s(t.response)}}),n("md-button",{on:{click:t.refresh}},[t._v(t._s(t.translations.settings.import_export.import_success_redirect))])],1),t.loading||"error"!==t.status?t._e():n("div",{staticClass:"import-dialog-content"},[n("h3",{staticClass:"md-headline"},[t._v(t._s(t.translations.settings.import_export.import_error_status_notice))]),n("div",{staticClass:"import-dialog-errors"},[n("ul",t._l(t.response,(function(e,i){return n("li",{key:i,domProps:{innerHTML:t._s(e)}})})),0)])])]),t.loading||"error"!==t.status?t._e():n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.close}},[t._v("Close")])],1)],1)}),jr=[],Lr={name:"settingsImportExportModal",props:{status:{default:null},response:{default:null},loading:{default:null}},computed:(0,o.Z)({},(0,r.rn)("translations",["translations"])),methods:{refresh:function(){window.location.reload()},close:function(){this.$refs.modal.close()}},watch:{loading:function(){this.$refs.modal.open()}}},Nr=Lr,Ur=(0,K.Z)(Nr,zr,jr,!1,null,null,null),Gr=Ur.exports,Fr={name:"settingsImportExport",components:{SettingsHeader:ir,settingsImportExportModal:Gr},data:function(){return{anonymizeExport:!1,futureAppointmentsOnly:!1,generatingCode:!1,showCode:!1,importCode:null,importCodeIsValid:!0,importingCode:!1,importStatus:null,importStatusResponse:null,exportFlagSettings:!1,exportFlagAppointmentTypes:!1,exportFlagAppointments:!1,sendingToSupport:!1,exportMessagePayload:{}}},mounted:function(){Object.prototype.hasOwnProperty.call(this.exportMessagePayload,"reply_to")&&this.exportMessagePayload.reply_to||(this.exportMessagePayload.reply_to=this.settings.global.admin_email,this.getGuides({"ssasc-plugin-screen":L.import_export}))},watch:{exportFlagSettings:function(){this.exportFlagSettings||(this.exportFlagAppointmentTypes=!1,this.exportFlagAppointments=!1)},exportFlagAppointmentTypes:function(){this.exportFlagAppointmentTypes?this.exportFlagSettings=!0:this.exportFlagAppointments=!1},exportFlagAppointments:function(){this.exportFlagAppointments&&(this.exportFlagSettings=!0,this.exportFlagAppointmentTypes=!0)},importCode:function(){this.validateImportCode()}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({exportCode:function(){return JSON.stringify(this.exportCode)}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","api"])),(0,r.rn)("import_export",["exportCode"])),methods:(0,o.Z)((0,o.Z)({generateExportCode:function(){var t=this,e={settings:this.exportFlagSettings,appointment_types:this.exportFlagAppointmentTypes,appointments:this.exportFlagAppointments,anonymize_customer_information:this.anonymizeExport,future_appointments_only:this.futureAppointmentsOnly};this.generatingCode=!0,this.fetchExportCode(e).then((function(){t.generatingCode=!1,t.showCode=!0}))},sendExportCode:function(){var t=this;Object.prototype.hasOwnProperty.call(this.settings,"license")&&(this.exportMessagePayload.license=this.settings.license.license),Object.prototype.hasOwnProperty.call(this.api,"site_url")&&(this.exportMessagePayload.site_url=this.api.site_url),this.exportMessagePayload.reply_to=this.settings.global.admin_email,this.exportMessagePayload.export_code=JSON.stringify(this.exportCode),this.exportMessagePayload.message=this.translations.settings.import_export.send_to_support_message,this.sendingToSupport=!0,this.sendSupportMessage(this.exportMessagePayload).then((function(){t.sendingToSupport=!1,t.$refs.exportCodeSentToSupport.open()}))},selectCode:function(){this.$refs.exportCodeArea.select()},copyExportCode:function(){this.$refs.exportCodeArea.select(),document.execCommand("copy"),this.$refs.exportCodeNotice.open()},validateImportCode:function(){if(!this.importCode||""===this.importCode)return this.importCodeIsValid=!0,void(this.importStatus=null);this.importCodeIsValid=this.isValidJSON(this.importCode),this.importCodeIsValid?this.importStatus=null:this.importStatus="error"},isValidJSON:function(t){try{var e=JSON.parse(t);return"object"===(0,Zr.Z)(e)}catch(n){return!1}},processImportCode:function(){var t=this;return(0,Ir.Z)(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.importingCode=!0,t.importStatus=null,t.importStatusResponse=null,n={settings:!0,appointment_types:!0,appointments:!0,anonymize_customer_information:!1},e.next=6,t.fetchExportCode(n);case 6:return e.prev=6,e.next=9,t.importJSONCode(t.importCode);case 9:i=e.sent,t.importingCode=!1,t.importStatus="success",t.importStatusResponse=i,setTimeout((function(){window.location.reload()}),3e3),e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](6),t.importingCode=!1,t.importStatus="error",t.importStatusResponse=e.t0;case 21:case"end":return e.stop()}}),e,null,[[6,16]])})))()}},(0,r.nv)("guides",["getGuides"])),(0,r.nv)("import_export",["fetchExportCode","importJSONCode","sendSupportMessage"]))},Wr=Fr,Br=(0,K.Z)(Wr,$r,Or,!1,null,null,null),Rr=Br.exports,qr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[n("settings-header"),n("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),n("md-dialog-confirm",{ref:"confirmReset",attrs:{"md-title":t.translations.settings.styles.confirmTitle,"md-content-html":t.translations.settings.styles.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),n("md-input-container",[n("label",{attrs:{for:"accentColor"}},[t._v(t._s(t.translations.settings.styles.accentColor))]),n("color-picker",{attrs:{disabled:t.saving},model:{value:t.accent_color,callback:function(e){t.accent_color=e},expression:"accent_color"}})],1),n("md-input-container",[n("label",{attrs:{for:"backgroundColor"}},[t._v(t._s(t.translations.settings.styles.backgroundColor))]),n("color-picker",{attrs:{disabled:t.saving},model:{value:t.background_color,callback:function(e){t.background_color=e},expression:"background_color"}})],1),n("md-input-container",[n("label",{attrs:{for:"font"}},[t._v(t._s(t.translations.settings.styles.font)+"*")]),n("select2",{attrs:{name:"font",id:"font",disabled:t.saving,required:""},model:{value:t.font,callback:function(e){t.font=e},expression:"font"}},[n("optgroup",{attrs:{label:"System Fonts"}},t._l(t.systemFonts,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0),n("optgroup",{attrs:{label:"Google Fonts"}},t._l(t.googleFontList,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)]),n("span",{staticClass:"md-helper-text"},[n("a",{attrs:{href:"https://fonts.google.com/",target:"_blank"}},[t._v(t._s(t.translations.settings.styles.googleFonts))])])],1),n("md-input-container",{class:{"md-input-invalid":t.padding.length<1}},[n("label",{attrs:{for:"padding"}},[t._v(t._s(t.translations.settings.styles.padding))]),n("md-input",{attrs:{disabled:t.saving,required:""},model:{value:t.padding,callback:function(e){t.padding=e},expression:"padding"}}),t.padding.length<1?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.styles.requiredPadding))]):n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.styles.cssUnits))])],1),n("div",[n("md-switch",{attrs:{"md-theme":"reverse",disabled:t.saving},model:{value:t.contrast,callback:function(e){t.contrast=e},expression:"contrast"}},[t._v(t._s(t.translations.settings.styles.contrast)+" ("+t._s(t.translations.settings.styles.contrastHelper)+")")])],1),n("div",[n("md-button",{staticClass:"md-primary md-dense",attrs:{"md-theme":"grey"},on:{click:t.toggleCustomCSS}},[t._v(t._s(t.translations.settings.styles.customCSS))]),t.viewCSS?n("prism-editor",{attrs:{language:"css",highlight:t.highlighter,"line-numbers":!0},model:{value:t.css,callback:function(e){t.css=e},expression:"css"}}):t._e()],1),n("div",{staticClass:"button-bar align-right"},[n("md-button",{staticClass:"md-raised",on:{click:t.confirmReset}},[t._v(t._s(t.translations.settings.styles.reset))]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStyles}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(t._s(t.translations.general.save))]],2),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},Hr=[],Kr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"color-picker-container",on:{click:t.pickColor}},[n("span",{staticClass:"color-sample",style:"background-color:"+t.rgba}),n("md-input",{attrs:{readonly:"",required:"",disabled:t.disabled},model:{value:t.displayValue,callback:function(e){t.displayValue=e},expression:"displayValue"}}),n("md-dialog",{ref:"picker",staticClass:"color-picker"},[n("md-dialog-content",[n("chrome",{on:{input:t.updateValue},model:{value:t.colors,callback:function(e){t.colors=e},expression:"colors"}})],1)],1)],1)},Vr=[],Yr=n(90677),Jr={name:"colorPicker",props:["value","disabled"],components:{Chrome:Yr.Chrome},data:function(){return{colors:""}},beforeMount:function(){this.colors=this.value},watch:{value:function(t){this.colors=t}},computed:{rgba:function(){if("string"===typeof this.colors)return this.colors;var t=[this.colors.rgba.r,this.colors.rgba.g,this.colors.rgba.b,this.colors.rgba.a],e="rgba(";return e+=t.join(","),e+=")",e},displayValue:{get:function(){if("string"===typeof this.colors){var t=this.colors.substring(this.colors.indexOf("(")).split(","),e=parseInt(t[0].substring(1).trim(),10),n=parseInt(t[1].trim(),10),i=parseInt(t[2].trim(),10),s=parseFloat(t[3].substring(0,t[3].length-1).trim()).toFixed(2);return"#"+e.toString(16)+n.toString(16)+i.toString(16)+" ("+(100*s).toString(10)+"%)"}return this.colors.hex+" ("+parseInt(100*this.colors.rgba.a)+"%)"},set:function(){}}},methods:{pickColor:function(){this.disabled||this.$refs["picker"].open()},updateValue:function(){this.$emit("input",this.rgba)}}},Xr=Jr,Qr=(0,K.Z)(Xr,Kr,Vr,!1,null,null,null),tl=Qr.exports,el=n(48084),nl=n(35850),il=(n(71932),{name:"settingsStyle",store:Ey,components:{SettingsHeader:ir,ColorPicker:tl,Select2:gs,PrismEditor:el.h},data:function(){return{saving:!1,dirty:!1,viewCSS:!1,systemFonts:x}},beforeMount:function(){this.mergeDefaultStyles(this.settings)},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.styles})},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(t){"ok"===t?(n(),i.fetchSettings()):n(!1)}))}else n()},watch:{accent_color:function(t,e){t!==e&&(this.dirty=!0)},background_color:function(t,e){t!==e&&(this.dirty=!0)},contrast:function(t,e){t!==e&&(this.dirty=!0)},font:function(t,e){t!==e&&(this.dirty=!0)},padding:function(t,e){t!==e&&(this.dirty=!0)}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({accent_color:{get:function(){return this.settings.styles.accent_color},set:function(t){this.updateAccentColor({value:t,settings:this.settings})}},background_color:{get:function(){return this.settings.styles.background},set:function(t){this.updateBackgroundColor({value:t,settings:this.settings})}},contrast:{get:function(){return this.settings.styles.contrast},set:function(t){this.updateContrast({value:t,settings:this.settings})}},font:{get:function(){return this.settings.styles.font},set:function(t){this.updateFont({value:t,settings:this.settings})}},padding:{get:function(){return this.settings.styles.padding},set:function(t){this.updatePadding({value:t,settings:this.settings})}},css:{get:function(){return this.settings.styles.css?this.settings.styles.css:"/* "+this.translations.settings.styles.cssComment+" */"},set:function(t){this.setCss({value:t,settings:this.settings})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("styles",["googleFontList"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({confirmReset:function(){var t=this;this.$refs["confirmReset"].open(),this.$refs["confirmReset"].$on("close",(function(e){"ok"===e&&t.resetStyles(t.settings)}))},saveStyles:function(){var t=this;this.padding&&(this.saving=!0,this.updateStyles().then((function(){t.saving=!1,t.dirty=!1,t.$emit("saved")})))},toggleCustomCSS:function(){this.viewCSS=!this.viewCSS},highlighter:function(t){return(0,nl.highlight)(t,nl.languages.css)}},(0,r.nv)(["fetchSettings"])),(0,r.OI)("styles",["mergeDefaultStyles","updateAccentColor","updateBackgroundColor","updateContrast","updateFont","updatePadding","setCss","resetStyles"])),(0,r.nv)("guides",["getGuides"])),(0,r.nv)("styles",["updateStyles"]))}),sl=il,al=(0,K.Z)(sl,qr,Hr,!1,null,null,null),ol=al.exports,rl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("settings-header"),n("p",[t._v(t._s(t.translations.settings.translations.description))]),t.uninstalledLanguagePacks.length>0?n("md-layout",{attrs:{"md-vertical-align":"center"}},[n("md-layout",{staticStyle:{flex:"1"}},[n("md-input-container",[n("label",{attrs:{for:"translationPack"}},[t._v(" "+t._s(t.translations.settings.translations.selectPack)+" ")]),n("select2",{attrs:{name:"translationPack",disabled:t.saving,"allow-clear":!0,placeholder:t.translations.settings.translations.selectPack,id:"translationPack"},model:{value:t.pack,callback:function(e){t.pack=e},expression:"pack"}},t._l(t.uninstalledLanguagePacks,(function(e){return n("option",{key:e.locale,domProps:{value:e.locale}},[t._v(" "+t._s(t.displayLanguage(e.locale))+" ")])})),0)],1)],1),n("md-layout",[n("div",{staticStyle:{"padding-left":"1rem"}},[n("md-button",{staticClass:"md-primary md-raised",attrs:{type:"submit",disabled:t.saving}},[t._v(" "+t._s(t.translations.settings.translations.fetchInstall)+" ")]),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)])],1):t._e(),t.showTable?[n("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.translations.installedTranslations))]),n("md-table",{class:{"saving-fade":t.saving}},[n("md-table-header",[n("md-table-row",[n("md-table-head",[t._v(t._s(t.translations.settings.translations.languagePack))]),n("md-table-head",[t._v(t._s(t.translations.settings.translations.lastUpdated))])],1)],1),n("md-table-body",t._l(t.settings.translation.locales,(function(e,i){return n("md-table-row",{key:i},[n("md-table-cell",[n("div",[t._v(t._s(t.displayLanguage(i)))]),n("div",[n("a",{attrs:{href:t.improveLink(i),target:"_blank"}},[t._v(" "+t._s(t.translations.settings.translations.improveTranslation)+" ")])])]),n("md-table-cell",[t._v(" "+t._s(t.moment.utc(e.last_fetched_date,t.timestampFormat).tz(t.settings.global.timezone_string).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" "),n("md-button",{staticClass:"md-icon-button md-primary",attrs:{disabled:t.saving},on:{click:function(e){return t.refreshLanguagePack(i)}}},[n("md-icon",[t._v("refresh")])],1)],1)],1)})),1)],1)]:t._e()],2)},ll=[],cl={name:"settingsTranslations",components:{SettingsHeader:ir,Select2:gs},data:function(){return{moment:R(),pack:null,saving:!1,translationPacks:E}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.translations})},computed:(0,o.Z)((0,o.Z)({showTable:function(){return!Ee().isEmpty(this.settings.translation.locales)},uninstalledLanguagePacks:function(){var t=this;return this.translationPacks.filter((function(e){return!Object.prototype.hasOwnProperty.call(t.settings.translation.locales,e.locale)}))}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["timestampFormat","settings"])),methods:(0,o.Z)((0,o.Z)({displayLanguage:function(t){var e=this.translationPacks.find((function(e){return e.locale===t}));return e.title===e.title_localized?e.title:e.title+" / "+e.title_localized},handleSubmit:function(){var t=this;this.pack&&(this.saving=!0,this.fetchLanguagePack(this.pack).then((function(){t.refreshLanguageTable()})).catch((function(e){console.log(e),t.saving=!1})))},improveLink:function(t){var e=t.split("_");e=e.map((function(t){return t.toLowerCase()}));var n=e[0]===e[1]?e[0]:e.join("-");return"https://translate.wordpress.org/projects/wp-plugins/simply-schedule-appointments/dev/"+n+"/default/"},refreshLanguagePack:function(t){var e=this;this.saving=!0,this.fetchLanguagePack(t).then((function(){e.refreshLanguageTable()})).catch((function(t){console.log(t),e.saving=!1}))},refreshLanguageTable:function(){var t=this;this.fetchTranslationSettings().then((function(){t.saving=!1,t.pack=null,location.reload()})).catch((function(t){console.log(t)}))}},(0,r.nv)("translations",["fetchLanguagePack","fetchTranslationSettings"])),(0,r.nv)("guides",["getGuides"]))},dl=cl,pl=(0,K.Z)(dl,rl,ll,!1,null,null,null),ul=pl.exports,ml=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"google-calendar-settings"},[t.header?n("settings-header"):t._e(),t.settings.google_calendar.enabled||t.showDisabled?[t.account_authorized?t._e():n("google-calendar-auth"),t.account_authorized?[n("google-calendar-list"),t.settings.developer.beta_calendar_events?n("settings-calendar-events"):t._e()]:t._e()]:n("setting-not-enabled")],2)},fl=[],gl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSettings.apply(null,arguments)}}},[n("p",[t._v(t._s(t.translations.settings.google_calendar.enterApi))]),n("md-button",{staticClass:"md-primary md-raised",attrs:{href:"https://simplyscheduleappointments.com/document/getting-your-client-id-and-client-secret-from-google/",target:"_blank"}},[t._v(" "+t._s(t.translations.wizard.googleCalendar.showMeHow)+" ")]),n("hr"),n("md-input-container",{class:{"md-input-invalid":t.$v.client_id.$invalid&&t.$v.client_id.$dirty}},[n("label",{attrs:{for:"client_id"}},[t._v(t._s(t.translations.settings.google_calendar.clientId))]),n("md-input",{attrs:{id:"client_id",required:"",disabled:t.saving},on:{blur:t.clientIdCheck},model:{value:t.$v.client_id.$model,callback:function(e){t.$set(t.$v.client_id,"$model","string"===typeof e?e.trim():e)},expression:"$v.client_id.$model"}}),t.$v.client_id.$invalid&&t.$v.client_id.$dirty?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.wizard.googleCalendar.clientIdError)+" ")]):t._e()],1),n("md-input-container",{class:{"md-input-invalid":t.$v.client_secret.$invalid&&t.$v.client_secret.$dirty}},[n("label",{attrs:{for:"client_secret"}},[t._v(t._s(t.translations.settings.google_calendar.clientSecret))]),n("md-input",{attrs:{id:"client_secret",required:"",disabled:t.saving},on:{blur:t.clientSecretCheck},model:{value:t.$v.client_secret.$model,callback:function(e){t.$set(t.$v.client_secret,"$model","string"===typeof e?e.trim():e)},expression:"$v.client_secret.$model"}}),t.$v.client_secret.$invalid&&t.$v.client_secret.$dirty?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.wizard.googleCalendar.clientSecretError)+" ")]):t._e()],1),n("div",{staticClass:"button-bar align-right"},[n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.google_calendar.saveAuthorize)+" ")]],2),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},hl=[],_l={name:"settingsGoogleCalendarAuth",mixins:[_i.oE],data:function(){return{needHelp:!1,saving:!1}},validations:{client_id:{required:vi.C1},client_secret:{required:vi.C1}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({client_id:{get:function(){return this.settings.google_calendar.client_id},set:function(t){this.updateGoogleCalendarClientId({settings:this.settings,value:t})}},client_secret:{get:function(){return this.settings.google_calendar.client_secret},set:function(t){this.updateGoogleCalendarClientSecret({settings:this.settings,value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings","router"])),(0,r.rn)("google_calendar",["googleAuthUrl"])),methods:(0,o.Z)((0,o.Z)({clientIdCheck:function(){this.$emit("clientidcheck",this.client_id.length>0)},clientSecretCheck:function(){this.$emit("clientsecretcheck",this.client_secret.length>0)},saveSettings:function(){var t=this;if(this.$v.$touch(),!this.$v.$invalid){this.saving=!0;var e=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.updateGoogleCalendarEnabled({settings:this.settings,value:!0}),this.updateGoogleCalendarSettings().then((function(){t.googleCalendarAuth({ssa_redirect:t.$route.path,ssa_base_url:e}).then((function(){t.saving=!1,window.ssa_is_embed?window.top.location.href=t.googleAuthUrl:window.location.href=t.googleAuthUrl}))}))}}},(0,r.OI)("google_calendar",["updateGoogleCalendarClientId","updateGoogleCalendarClientSecret","updateGoogleCalendarEnabled"])),(0,r.nv)("google_calendar",["updateGoogleCalendarSettings","googleCalendarAuth"]))},vl=_l,yl=(0,K.Z)(vl,gl,hl,!1,null,null,null),bl=yl.exports,kl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("loading",{attrs:{message:t.translations.settings.google_calendar.loadingCalendars}}):t.error?n("empty",{attrs:{label:t.errorMessage,description:t.translations.wizard.googleCalendar.failedToFetchDescription}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1):n("md-whiteframe",[n("md-toolbar",{staticClass:"md-primary"},[n("h2",{staticClass:"md-title",staticStyle:{flex:"1","line-height":"20px"}},[n("span",{staticClass:"sub"},[t._v(" "+t._s(t.translations.settings.google_calendar.account)+" ")]),t._v(" "+t._s(t.googleCalendarAccountName)+" ")]),n("md-button",{on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1),n("md-layout",{attrs:{"md-gutter":""}},[n("md-layout",{attrs:{"md-flex":"50"}},[n("google-calendar-sync")],1),n("md-layout",{attrs:{"md-flex":"50"}},[n("google-calendar-settings")],1)],1)],1)],1)},Cl=[],Sl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ssa-google-calendar-sync-appointment-types"},[n("h3",[t._v(t._s(t.translations.settings.google_calendar.calendarSync))]),n("p",[t._v(" "+t._s(t.translations.settings.google_calendar.authSuccess)+" "+t._s(t.translations.settings.google_calendar.authNext)+" ")]),n("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[t._v(" "+t._s(t.translations.settings.google_calendar.appointmentTypesEdit)+" ")])],1)},wl=[],Tl={name:"SettingsGoogleCalendarSync",computed:(0,o.Z)({},(0,r.rn)("translations",["translations"]))},xl=Tl,Al=(0,K.Z)(xl,Sl,wl,!1,null,null,null),Pl=Al.exports,Ml=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ssa-google-calendar-sync-settings"},[n("div",[n("h3",[t._v(" "+t._s(t.translations.settings.google_calendar.webMeetingsHeadline)+" ")]),n("md-switch",{attrs:{"md-theme":"reverse",disabled:t.saving},model:{value:t.web_meetings,callback:function(e){t.web_meetings=e},expression:"web_meetings"}},[n("span",{staticClass:"md-switch-label"},[t._v(" "+t._s(t.translations.settings.google_calendar.webMeetingsToggleLabel)+" ")])])],1),n("div",[n("h3",[t._v(" "+t._s(t.translations.settings.google_calendar.deleteEventsHeadline)+" ")]),n("md-switch",{attrs:{"md-theme":"reverse",disabled:t.saving},model:{value:t.delete_events,callback:function(e){t.delete_events=e},expression:"delete_events"}},[n("span",{staticClass:"md-switch-label"},[t._v(" "+t._s(t.translations.settings.google_calendar.deleteEventsToggleLabel)+" ")])])],1),n("fieldset",[n("legend",{staticStyle:{"font-size":"1.17em","font-weight":"bold","margin-bottom":"1rem"}},[t._v(" "+t._s(t.translations.settings.google_calendar.refreshIntervalHeadline)+" ")]),n("p",[t._v(" "+t._s(t.translations.settings.google_calendar.refreshIntervalDesc)+" ")]),n("duration",{model:{value:t.refresh_interval,callback:function(e){t.refresh_interval=e},expression:"refresh_interval"}})],1),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},El=[],Dl={name:"SettingsGoogleCalendarSettings",components:{Duration:hi},data:function(){return{saving:!1}},computed:(0,o.Z)((0,o.Z)({refresh_interval:{get:function(){return parseInt(this.settings.google_calendar.refresh_interval,10)},set:function(t){this.setGoogleCalendarRefreshInterval({settings:this.settings,value:t}),this.saveSettings()}},web_meetings:{get:function(){return this.settings.google_calendar.web_meetings},set:function(t){this.setGoogleCalendarWebMeetings({settings:this.settings,value:t}),this.saveSettings()}},delete_events:{get:function(){return this.settings.google_calendar.delete_canceled_events},set:function(t){this.setGoogleCalendarDeleteEvents({settings:this.settings,value:t}),this.saveSettings()}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)({saveSettings:function(){var t=this;this.saving=!0,this.updateGoogleCalendarSettings().then((function(){t.saving=!1}))}},(0,r.OI)("google_calendar",["setGoogleCalendarWebMeetings","setGoogleCalendarDeleteEvents","setGoogleCalendarRefreshInterval"])),(0,r.nv)("google_calendar",["updateGoogleCalendarSettings"]))},$l=Dl,Ol=(0,K.Z)($l,Ml,El,!1,null,null,null),Il=Ol.exports,Zl={name:"settingsGoogleCalendarList",store:Ey,components:{Loading:st,Empty:te,GoogleCalendarSync:Pl,GoogleCalendarSettings:Il},data:function(){return{loading:!0,error:!1,errorMessage:""}},mounted:function(){var t=this;this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars().then((function(){t.loading=!1})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.errorMessage=t.translations.wizard.googleCalendar.failedToFetch}))},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("google_calendar",["googleCalendars"])),(0,r.Se)("google_calendar",["googleCalendarAccountName","googleCalendarAccountEmail"])),(0,r.Se)("appointment_types",["editableAppointmentTypeIds"])),(0,r.Se)("staff",["currentUserCan"])),methods:(0,o.Z)((0,o.Z)({disconnectAccount:function(){this.googleCalendarDeauth()},editAppointmentType:function(){var t=this.editableAppointmentTypeIds[0];I_.push("/ssa/appointment-types/type/".concat(t))},openBulkEdit:function(){this.updateBulkEditing(this.editableAppointmentTypeIds),I_.push({name:"appointment-type-bulk-edit",params:{section:"googleCalendar"}})}},(0,r.nv)("google_calendar",["fetchGoogleCalendars","googleCalendarDeauth"])),(0,r.OI)("appointment_types",["updateBulkEditing"]))},zl=Zl,jl=(0,K.Z)(zl,kl,Cl,!1,null,null,null),Ll=jl.exports,Nl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("empty",{attrs:{label:t.translations.settings.featureNotEnabled,description:t.translations.settings.featureNotEnabledDescription}},[n("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/settings/all"}},[t._v(" "+t._s(t.translations.settings.returnToSettings)+" ")])],1)},Ul=[],Gl={name:"settingNotEnabled",components:{Empty:te},data:function(){return{}},computed:(0,o.Z)({},(0,r.rn)("translations",["translations"]))},Fl=Gl,Wl=(0,K.Z)(Fl,Nl,Ul,!1,null,null,null),Bl=Wl.exports,Rl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ssa-calendar-event-customization"},[n("h2",[t._v(t._s(t.translations.settings.calendar_events.title))]),n("p",[t._v(t._s(t.translations.settings.calendar_events.description))]),n("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.customizeCalendarEvents,callback:function(e){t.customizeCalendarEvents=e},expression:"customizeCalendarEvents"}},[t._v(" "+t._s(t.translations.settings.calendar_events.switch_label)+" ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.customizeCalendarEvents,expression:"customizeCalendarEvents"}],staticClass:"event-settings"},[n("accordion",t._l(t.typesKeys,(function(e){return n("accordion-item",{key:e,attrs:{label:t.translations.settings.calendar_events.types[e].title,message:t.calendarEventsHelper[e],index:e,section:"event-types",open:t.section,error:!t.typesValid[e]},on:{updateActive:t.updateSection}},[n("settings-calendar-events-edit",{attrs:{type:e},on:{change:t.validate}})],1)})),1),n("div",{staticClass:"button-bar"},[n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.invalidEvents},on:{click:t.saveEvents}},[t._v(" "+t._s(t.translations.settings.calendar_events.save)+" ")]),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),n("md-snackbar",{ref:"saveCalendarEvents",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.calendar_events.success))])])],1)],1)},ql=[],Hl=(n(26833),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",["customer"===t.type?n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.eventTypeDescription)+" ")]):n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.eventTypeDescription)+" "+t._s(t.translations.settings.calendar_events.sample_appointment_types)+" "+t._s(t.sampleAppointmentTypes)+". ")]),n("fieldset",{staticClass:"md-fieldset has-top-menu required"},[n("legend",[t._v(" Event Title ")]),n("token-text",{attrs:{options:t.notificationTokens,error:t.errors.title,required:!0,"plain-text":!0},on:{validate:t.validateTitle},model:{value:t.eventTitle,callback:function(e){t.eventTitle=e},expression:"eventTitle"}})],1),n("fieldset",{staticClass:"md-fieldset has-top-menu required"},[n("legend",[t._v(" Event Location ")]),n("token-text",{attrs:{options:t.notificationTokens,error:t.errors.location,required:!0,"plain-text":!0},on:{validate:t.validateLocation},model:{value:t.eventLocation,callback:function(e){t.eventLocation=e},expression:"eventLocation"}})],1),n("fieldset",{staticClass:"md-fieldset has-top-menu required"},[n("legend",[t._v("Event Details")]),n("token-text",{attrs:{options:t.notificationTokens,error:t.errors.details,required:!0,"plain-text":!0},on:{validate:t.validateDetails},model:{value:t.eventDetails,callback:function(e){t.eventDetails=e},expression:"eventDetails"}})],1)],1)}),Kl=[],Vl=(n(82526),n(41817),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"token-text"},[n("div",{staticClass:"token-toolbar"},[t.showPreview?n("foxy-icon-button",{attrs:{theme:"light-green",theming:"primary"},on:{click:t.displayPreview}},[t._v("remove_red_eye ")]):t._e(),n("foxy-menu",{attrs:{options:t.options,icon:"text_fields",theme:"light-green",theming:"primary"},on:{selection:t.insertMessageToken}})],1),n("at",{attrs:{ats:["{{"],members:t.options,suffix:"}}"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}},[n("div",{ref:"messageContent",class:t.errorMessage?"error":"",attrs:{contenteditable:"","data-lt-active":"false","data-gramm":"false"},on:{paste:t.sanitize}})]),t.errorMessage?n("span",{staticClass:"md-error"},[t._v(t._s(t.errorMessage))]):t._e()],1)}),Yl=[],Jl=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-menu-surface--anchor"},[n("foxy-icon-button",{on:{click:t.openMenu}},[t._v(t._s(t.icon))]),n("div",{ref:"foxyMenu",staticClass:"mdc-menu mdc-menu-surface"},[n("ul",{staticClass:"mdc-list",attrs:{role:"menu","aria-hidden":"true","aria-orientation":"vertical"}},t._l(t.options,(function(e,i){return n("li",{key:i,staticClass:"mdc-list-item",attrs:{role:"menuitem"}},[n("span",{staticClass:"mdc-list-item__text"},[t._v(t._s(e))])])})),0)])],1)},Xl=[],Ql={inheritAttrs:!1},tc=["primary","secondary","background","surface","on-primary","on-secondary","on-surface","primary-bg","secondary-bg","text-primary-on-light","text-secondary-on-light","text-hint-on-light","text-disabled-on-light","text-icon-on-light","text-primary-on-dark","text-secondary-on-dark","text-hint-on-dark","text-disabled-on-dark","text-icon-on-dark"],ec={props:{theming:{type:String,default:""},theme:{type:String,default:"default"}},mounted:function(){tc.indexOf(this.theming)>-1&&this.$el.classList.add("mdc-theme--"+this.theming),this.theme&&this.$el.classList.add("mdc-theme-name--"+this.theme)}};function nc(t){return{version:"__VERSION__",install:function(e){for(var n in t){var i=t[n];e.component(i.name,i)}},components:t}}var ic=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"mdc-icon-button material-icons",on:{click:t.handleClick}},[t._t("default")],2)},sc=[],ac=n(68578),oc={name:"mdc-icon-button",mixins:[ec,Ql],data:function(){return{mdcRipple:void 0}},mounted:function(){this.mdcRipple=new ac.F(this.$el),this.mdcRipple.unbounded=!0},methods:{handleClick:function(t){t.preventDefault(),this.$emit("click")}}},rc=oc,lc=(0,K.Z)(rc,ic,sc,!1,null,null,null),cc=lc.exports,dc=n(75448),pc={name:"mdc-menu",mixins:[Ql,ec],props:{options:[Array],icon:[String]},components:{FoxyIconButton:cc},data:function(){return{mdcMenu:void 0}},mounted:function(){this.mdcMenu=new dc.g(this.$refs.foxyMenu),this.mdcMenu.listen("MDCMenu:selected",this.handleSelection)},beforeDestroy:function(){this.mdcMenu.unlisten("MDCMenu:selected",this.handleSelection),this.mdcMenu.destroy()},methods:{handleSelection:function(t){this.$emit("selection",t)},openMenu:function(){this.mdcMenu.open=!0}}},uc=pc,mc=(0,K.Z)(uc,Jl,Xl,!1,null,null,null),fc=mc.exports,gc=n(97601),hc=n.n(gc),_c=n(62032),vc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=String(t);return e=e.replace(/&nbsp;/gi," "),e=e.replace(/&amp;/gi,"&"),e=e.replace(/<br>/gi,"\n"),e=e.replace(/<div>/gi,"\n"),e=e.replace(/<p>/gi,"\n"),e=e.replace(/<(.*?)>/g,""),e=e.split("\n").map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.trim()})).join("\n"),e=e.replace(/\n\n+/g,"\n\n"),e=e.replace(/[ ]+/g," "),e=e.trim(),e},yc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return vc(t).replace(/\n/g,"<br>")},bc=function(t){t.preventDefault();var e="",n=!(!t.clipboardData||"object"!==(0,Zr.Z)(t.clipboardData)||"function"!==typeof t.clipboardData.getData);n&&(e=t.clipboardData.getData("text/plain"));var i=document.createElement("textarea");i.innerHTML=e,e=i.innerText,e=vc(e),"function"===typeof document.execCommand&&document.execCommand("insertText",!1,e)},kc=function(t){var e=0,n="undefined"!==typeof window.getSelection;if(n){var i=window.getSelection();if(0!==i.rangeCount){var s=window.getSelection().getRangeAt(0),a=s.cloneRange();a.selectNodeContents(t),a.setEnd(s.endContainer,s.endOffset),e=a.toString().length}}return e},Cc=function t(e,n){var i,s=(0,_c.Z)(e.childNodes);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(3===a.nodeType){if(a.length>=n){var o=document.createRange(),r=window.getSelection();return o.setStart(a,n),o.collapse(!0),r.removeAllRanges(),r.addRange(o),-1}n-=a.length}else if(n=t(a,n),-1===n)return-1}}catch(l){s.e(l)}finally{s.f()}return n},Sc={name:"TokenText",props:{options:Array,value:String,plainText:Boolean,showPreview:{default:!1,type:Boolean},required:{default:!1,type:Boolean}},components:{FoxyMenu:fc,At:hc(),FoxyIconButton:cc},data:function(){return{error:null,debouncedValidation:null,caretPos:null}},watch:{message:function(){var t=this;this.debouncedValidation(),this.$emit("preview"),this.plainText&&this.$nextTick((function(){Cc(t.$refs.messageContent,t.caretPos)}))}},mounted:function(){this.debouncedValidation=Ee().debounce(this.validate,500)},computed:(0,o.Z)({message:{get:function(){return this.plainText?yc(this.value):this.value},set:function(t){this.plainText?(this.caretPos=kc(this.$refs.messageContent),this.$emit("input",vc(t))):this.$emit("input",t)}},errorMessage:function(){return this.required&&!this.trimmedMessage?this.translations.tokenText.errors.required:this.error?this.error:null},trimmedMessage:function(){return this.message.replace(/<[^>]+>/g,"").trim()}},(0,r.rn)("translations",["translations"])),methods:(0,o.Z)({displayPreview:function(){this.$emit("preview")},insertMessageToken:function(t){var e=this.$refs.messageContent,n=document.createTextNode("{{"+t.detail.item.innerText+"}}"),i=window.getSelection();if(!i.anchorNode||!i.anchorNode.isContentEditable&&!i.anchorNode.parentNode.isContentEditable){var s=document.createRange();return s.selectNodeContents(e),s.collapse(!1),s.insertNode(n),s.setStartAfter(n),i=window.getSelection(),i.removeAllRanges(),void i.addRange(s)}var a=i.getRangeAt(0);a.deleteContents(),a.insertNode(n),a.setStartAfter(n),i.removeAllRanges(),i.addRange(a),this.message=e.innerHTML},validate:function(){var t=this;this.error=null,this.trimmedMessage?this.validateTwigString(this.message).then((function(){t.error=null,t.$emit("validate",!0)})).catch((function(){t.error=t.translations.tokenText.errors.validationError,t.$emit("validate",!1)})):this.required?this.$emit("validate",!1):this.$emit("validate",!0)},sanitize:function(t){this.plainText&&bc(t)}},(0,r.nv)(["validateTwigString"]))},wc=Sc,Tc=(0,K.Z)(wc,Vl,Yl,!1,null,null,null),xc=Tc.exports,Ac={name:"SettingsCalendarEventsEdit",props:["type"],components:{TokenText:xc,Notification:Sn},data:function(){return{notificationTokens:v,errors:{title:null,location:null,details:null}}},mounted:function(){this.validate()},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("appointment_types",["appointmentTypes"])),(0,r.Se)("appointment_types",["allCalendarEventTypes","appointmentTypesGroupedByEventType"])),{},{eventSettings:function(){return this.allCalendarEventTypes[this.type]},eventTitle:{get:function(){return this.eventSettings.title},set:function(t){var e=Object.assign({},this.eventSettings);e.title=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventLocation:{get:function(){return this.eventSettings.location},set:function(t){var e=Object.assign({},this.eventSettings);e.location=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventDetails:{get:function(){return this.eventSettings.details},set:function(t){var e=Object.assign({},this.eventSettings);e.details=t,this.setCalendarEventType({settings:this.settings,key:this.type,value:e})}},eventTypeDescription:function(){return["individual_shared","individual_admin","group_admin"].includes(this.type)&&this.settings.installed.staff&&this.settings.staff.enabled?this.translations.settings.calendar_events.types[this.type].description_staff:this.translations.settings.calendar_events.types[this.type].description},sampleAppointmentTypes:function(){var t=this,e=this.appointmentTypes.filter((function(e){return-1!==t.appointmentTypesGroupedByEventType[t.type].indexOf(e.id)})).map((function(t){return'"'.concat(t.title,'"')}));if(e.length){if(1===e.length)return e[0];var n=e.slice(0,3);if(e.length>1&&e.length<4){var i=n.pop();return"".concat(n.join(", ")," ").concat(this.translations.settings.calendar_events.and," ").concat(i)}if(e.length>=4)return"".concat(n.join(", ")," ").concat(this.translations.settings.calendar_events.and_more)}return null},helperText:function(){var t="".concat(this.eventTypeDescription," ").concat(this.translations.settings.calendar_events.sample_appointment_types," ").concat(this.sampleAppointmentTypes);return t}}),methods:(0,o.Z)({validate:function(){var t=this;Object.keys(this.errors).forEach((function(e){var n=""===t.eventSettings[e].replace(/<[^>]+>/g,"").trim();n||t.errors[e]?t.errors[e]=!0:t.errors[e]=!1})),this.$emit("change",this.type,this.errors)},validateTitle:function(t){this.errors.title=!t,this.validate()},validateLocation:function(t){this.errors.location=!t,this.validate()},validateDetails:function(t){this.errors.details=!t,this.validate()}},(0,r.OI)("google_calendar",["setCalendarEventType"]))},Pc=Ac,Mc=(0,K.Z)(Pc,Hl,Kl,!1,null,null,null),Ec=Mc.exports,Dc={name:"SettingsCalendarEvents",components:{Accordion:ni,AccordionItem:li,SettingsCalendarEventsEdit:Ec},data:function(){return{section:null,saving:!1,dirty:!1,typesValid:{}}},created:function(){var t=this;this.typesKeys.forEach((function(e){t.$set(t.typesValid,e,!0)}))},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("appointment_types",["allCalendarEventTypes","allowedEventTypes"])),{},{customizeCalendarEvents:{get:function(){return this.settings.calendar_events.enabled},set:function(t){this.setCalendarEventsEnabled({settings:this.settings,value:t}),this.saveEvents()}},typesKeys:function(){var t=this;return Object.keys(this.allCalendarEventTypes).filter((function(e){return t.allowedEventTypes.includes(e)}))},invalidEvents:function(){return Object.values(this.typesValid).filter((function(t){return!t})).length>0},calendarEventsHelper:function(){var t=this,e={};return this.typesKeys.forEach((function(n){["individual_admin","group_admin"].includes(n)&&t.settings.installed.staff&&t.settings.staff.enabled?e[n]=t.translations.settings.calendar_events.types[n].helper_staff:e[n]=t.translations.settings.calendar_events.types[n].helper})),e}}),methods:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.OI)("google_calendar",["setCalendarEventsEnabled"])),(0,r.nv)("google_calendar",["updateCalendarEventsSettings"])),{},{updateSection:function(t){this.section=t||null},validate:function(t,e){this.dirty=!0;var n=0===Object.values(e).filter((function(t){return t})).length;this.$set(this.typesValid,t,n)},saveEvents:function(){var t=this;return(0,Ir.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.saving=!0,e.prev=1,e.next=4,t.updateCalendarEventsSettings();case 4:t.saving=!1,t.dirty&&(t.$refs.saveCalendarEvents.open(),t.dirty=!1),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0),t.saving=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}})},$c=Dc,Oc=(0,K.Z)($c,Rl,ql,!1,null,null,null),Ic=Oc.exports,Zc={name:"settingsGoogleCalendar",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:ir,GoogleCalendarAuth:bl,GoogleCalendarList:Ll,SettingNotEnabled:Bl,SettingsCalendarEvents:Ic},data:function(){return{}},mounted:function(){var t=this.account_authorized?{"ssasc-plugin-screen":L.google_calendar.account_activated}:{"ssasc-plugin-screen":L.google_calendar.enabled};this.getGuides(t)},computed:(0,o.Z)({account_authorized:function(){return this.settings.google_calendar.access_token}},(0,r.rn)(["settings"])),methods:(0,o.Z)({cancelEdit:function(){this.$emit("cancel")}},(0,r.nv)("guides",["getGuides"]))},zc=Zc,jc=(0,K.Z)(zc,ml,fl,!1,null,null,null),Lc=jc.exports,Nc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mailchimp-settings"},[n("settings-header"),t.settings.mailchimp.enabled?[t.account_authorized?n("mailchimp-list"):n("mailchimp-auth")]:n("setting-not-enabled")],2)},Uc=[],Gc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[n("md-input-container",{class:{"md-input-invalid":!t.validKey}},[n("label",{attrs:{for:"api_key"}},[t._v(" "+t._s(t.translations.settings.mailchimp.api_key)+" ")]),n("md-input",{attrs:{id:"api_key",required:""},model:{value:t.api_key,callback:function(e){t.api_key=e},expression:"api_key"}}),t.validKey?n("span",{staticClass:"md-helper-text"},[n("a",{attrs:{href:"https://admin.mailchimp.com/account/api/",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.mailchimp.api_key_helper_label)+" ")])]):n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.mailchimp.apiKeyError)+" ")])],1),n("div",{staticClass:"button-bar align-right"},[n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.mailchimp.saveAuthorize)+" ")]],2),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),n("md-snackbar",{ref:"mcError",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.errorMessage))])])],1)},Fc=[],Wc={name:"settingsMailchimpAuth",data:function(){return{errorMessage:"",saving:!1,validKey:!0}},computed:(0,o.Z)((0,o.Z)({api_key:{get:function(){return this.settings.mailchimp.api_key||""},set:function(t){this.updateMailchimpApiKey({settings:this.settings,value:t.trim()})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)({saveSettings:function(){var t=this;this.validateKey(),this.validKey&&(this.saving=!0,this.updateMailchimpSettings().then((function(){t.authorizeMailchimp().then((function(){t.saving=!1,t.updateMailchimpAuthorized({settings:t.settings,value:!0})})).catch((function(e){t.saving=!1,t.validKey=!1;var n=e.response_code,i=e.error.errors;t.errorMessage=i[n][0],t.$refs["mcError"].open()}))})))},validateKey:function(){this.api_key?this.validKey=!0:this.validKey=!1}},(0,r.OI)("mailchimp",["updateMailchimpApiKey","updateMailchimpAuthorized"])),(0,r.nv)("mailchimp",["updateMailchimpSettings","authorizeMailchimp"]))},Bc=Wc,Rc=(0,K.Z)(Bc,Gc,Fc,!1,null,null,null),qc=Rc.exports,Hc=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("loading",{attrs:{message:t.loadingMessage}}):n("md-whiteframe",[n("md-toolbar",{staticClass:"md-accent"},[n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[n("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.mailchimp.lists))]),t._v(t._s(t.settings.mailchimp.account_details.account_name))]),n("md-button",{on:{click:t.disconnect}},[t._v("Disconnect")])],1),n("md-list",t._l(t.settings.mailchimp.lists,(function(e){return n("md-list-item",{key:e.id},[n("span",[t._v(t._s(e.name))])])})),1)],1)],1)},Kc=[],Vc={name:"settingsMailchimpList",store:Ey,components:{Loading:st},data:function(){return{loading:!0,loadingMessage:""}},mounted:function(){var t=this;this.settings.mailchimp.lists.length?this.loading=!1:(this.loadingMessage=this.translations.settings.mailchimp.loadingLists,this.fetchMailchimpLists().then((function(){t.loading=!1})))},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)({disconnect:function(){var t=this;this.loadingMessage=this.translations.settings.mailchimp.deauthorize,this.loading=!0,this.deauthorizeMailchimp().then((function(){t.loading=!1}))}},(0,r.nv)("mailchimp",["fetchMailchimpLists","deauthorizeMailchimp"]))},Yc=Vc,Jc=(0,K.Z)(Yc,Hc,Kc,!1,null,null,null),Xc=Jc.exports,Qc={name:"settingsMailchimp",store:Ey,components:{SettingsHeader:ir,MailchimpAuth:qc,MailchimpList:Xc,SettingNotEnabled:Bl},data:function(){return{}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.mailchimp})},computed:(0,o.Z)({account_authorized:function(){return this.settings.mailchimp.account_details}},(0,r.rn)(["settings"])),methods:(0,o.Z)({cancelEdit:function(){this.$emit("cancel")}},(0,r.nv)("guides",["getGuides"]))},td=Qc,ed=(0,K.Z)(td,Nc,Uc,!1,null,null,null),nd=ed.exports,id=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"webex-settings"},[t.header?n("settings-header"):t._e(),t.settings.webex.enabled||t.showDisabled?[t.account_authorized?n("webex-user"):n("webex-auth")]:n("setting-not-enabled")],2)},sd=[],ad=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"webex-settings"},[n("p",[t._v(" "+t._s(t.translations.settings.webex.notConnected)+" ")]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.webex.saveAuthorize)+" ")]],2),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},od=[],rd={name:"settingsWebexAuth",data:function(){return{saving:!1}},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)("webex",["webexAuthUrl"])),methods:(0,o.Z)((0,o.Z)({saveSettings:function(){var t=this;this.saving=!0;var e=window.ssa_is_embed?window.top.location.href:null;this.updateWebexEnabled(!0),this.webexAuth({ssa_redirect:this.$route.path,ssa_base_url:e}).then((function(){t.saving=!1,window.ssa_is_embed?window.top.location.href=t.webexAuthUrl:window.location.href=t.webexAuthUrl}))}},(0,r.OI)("webex",["updateWebexEnabled"])),(0,r.nv)("webex",["webexAuth"]))},ld=rd,cd=(0,K.Z)(ld,ad,od,!1,null,null,null),dd=cd.exports,pd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("loading",{attrs:{message:t.translations.settings.webex.verifying}}):t._e(),!t.loading&&t.error?n("empty",{attrs:{label:t.errorMessage,description:t.translations.settings.webex.failedToFetchDescription}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.webex.disconnect))])],1):t._e(),!t.loading&&t.webexUser?n("md-whiteframe",[n("md-toolbar",{staticClass:"md-primary"},[n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[n("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.webex.account))])]),n("md-button",{on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.webex.disconnect))])],1),n("md-layout",{attrs:{"md-gutter":""}},[n("div",{staticClass:"ssa-webex-user"},[n("div",{staticClass:"avatar"},[t.webexUser.avatar?n("md-avatar",{staticClass:"md-primary",attrs:{"md-large":""}},[n("img",{attrs:{src:t.webexUser.avatar,alt:t.webexUser.first_name}})]):n("md-avatar",{staticClass:"md-avatar-icon md-primary",attrs:{"md-large":""}},[n("md-icon",[t._v("person")])],1)],1),n("div",{staticClass:"user"},[n("div",{staticClass:"profile"},[n("h3",{staticClass:"md-display-1"},[t._v(t._s(t.webexUser.first_name)+" "+t._s(t.webexUser.last_name))]),n("p",{staticClass:"md-subhead"},[n("strong",[t._v(t._s(t.translations.settings.zoom.userEmail)+":")]),n("br"),t._v(t._s(t.webexUser.email))])])])])])],1):t._e()],1)},ud=[],md={name:"settingsWebexUser",store:Ey,components:{Loading:st,Empty:te},data:function(){return{loading:!0,error:!1,errorMessage:""}},mounted:function(){var t=this;this.webexUser?this.loading=!1:this.fetchWebexUser().then((function(){t.loading=!1})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.errorMessage=t.translations.settings.webex.failedToFetch}))},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("webex",["webexUser"])),(0,r.Se)("staff",["currentUserCan"])),methods:(0,o.Z)({disconnectAccount:function(){this.webexDeauth().then((function(){window.location.reload()}))}},(0,r.nv)("webex",["fetchWebexUser","webexDeauth"]))},fd=md,gd=(0,K.Z)(fd,pd,ud,!1,null,null,null),hd=gd.exports,_d={name:"settingsZoom",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:ir,WebexAuth:dd,WebexUser:hd,SettingNotEnabled:Bl},computed:(0,o.Z)({account_authorized:function(){return this.settings.webex.auth_code}},(0,r.rn)(["settings"])),methods:(0,o.Z)({cancelEdit:function(){this.$emit("cancel")}},(0,r.nv)("guides",["getGuides"]))},vd=_d,yd=(0,K.Z)(vd,id,sd,!1,null,null,null),bd=yd.exports,kd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"zoom-settings"},[t.header?n("settings-header"):t._e(),t.settings.zoom.enabled||t.showDisabled?[t.account_authorized?n("zoom-user"):n("zoom-auth")]:n("setting-not-enabled")],2)},Cd=[],Sd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"zoom-settings"},[n("p",[t._v(" "+t._s(t.translations.settings.zoom.notConnected)+" ")]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(" "+t._s(t.translations.general.saving)+" ")]:[t._v(" "+t._s(t.translations.settings.zoom.saveAuthorize)+" ")]],2),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)},wd=[],Td={name:"settingsZoomAuth",data:function(){return{saving:!1}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)("zoom",["zoomAuthUrl"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)({saveSettings:function(){var t=this;this.saving=!0;var e=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.updateZoomEnabled({settings:this.settings,value:!0}),this.zoomAuth({ssa_redirect:window.ssa_is_embed?this.$route.path:null,ssa_base_url:window.ssa_is_embed?e:null}).then((function(){t.saving=!1,window.ssa_is_embed?window.top.location.href=t.zoomAuthUrl:window.location.href=t.zoomAuthUrl}))}},(0,r.OI)("zoom",["updateZoomEnabled"])),(0,r.nv)("zoom",["zoomAuth"]))},xd=Td,Ad=(0,K.Z)(xd,Sd,wd,!1,null,null,null),Pd=Ad.exports,Md=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("loading",{attrs:{message:"Verifying your Zoom user"}}):t._e(),!t.loading&&t.error?n("empty",{attrs:{label:t.errorMessage,description:t.translations.wizard.zoom.failedToFetchDescription}},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.zoom.disconnect))])],1):t._e(),!t.loading&&t.zoomUser?n("md-whiteframe",[n("md-toolbar",{staticClass:"md-primary"},[n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[n("span",{staticClass:"sub"},[t._v(t._s(t.translations.settings.zoom.account))])]),n("md-button",{on:{click:t.disconnectAccount}},[t._v(t._s(t.translations.settings.zoom.disconnect))])],1),n("md-layout",{attrs:{"md-gutter":""}},[n("div",{staticClass:"ssa-zoom-user"},[n("div",{staticClass:"avatar"},[t.zoomUser.pic_url?n("md-avatar",{staticClass:"md-primary",attrs:{"md-large":""}},[n("img",{attrs:{src:t.zoomUser.pic_url,alt:t.zoomUser.first_name}})]):n("md-avatar",{staticClass:"md-avatar-icon md-primary",attrs:{"md-large":""}},[n("md-icon",[t._v("person")])],1)],1),n("div",{staticClass:"user"},[n("div",{staticClass:"profile"},[n("h3",{staticClass:"md-display-1"},[t._v(t._s(t.zoomUser.first_name)+" "+t._s(t.zoomUser.last_name))]),n("p",{staticClass:"md-subhead"},[n("strong",[t._v(t._s(t.translations.settings.zoom.userEmail)+":")]),n("br"),t._v(t._s(t.zoomUser.email))])]),n("div",{staticClass:"meeting-url"},[n("p",[n("strong",[t._v(t._s(t.translations.settings.zoom.userMeetingUrl)+":")]),n("br"),t._v(" "+t._s(t.zoomUser.meeting_url))])])])])])],1):t._e()],1)},Ed=[],Dd={name:"settingsZoomUser",store:Ey,components:{Loading:st,Empty:te},data:function(){return{loading:!0,error:!1,errorMessage:""}},mounted:function(){var t=this;this.zoomUser?this.loading=!1:this.fetchZoomUser().then((function(){t.loading=!1})).catch((function(e){console.log(e),t.loading=!1,t.error=!0,t.errorMessage=t.translations.wizard.zoom.failedToFetch}))},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("zoom",["zoomUser"])),(0,r.Se)("staff",["currentUserCan"])),methods:(0,o.Z)({disconnectAccount:function(){this.zoomDeauth().then((function(){window.location.reload()}))}},(0,r.nv)("zoom",["fetchZoomUser","zoomDeauth"]))},$d=Dd,Od=(0,K.Z)($d,Md,Ed,!1,null,null,null),Id=Od.exports,Zd={name:"settingsZoom",props:{header:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},components:{SettingsHeader:ir,ZoomAuth:Pd,ZoomUser:Id,SettingNotEnabled:Bl},data:function(){return{}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.zoom})},computed:(0,o.Z)({account_authorized:function(){return this.settings.zoom.auth_code}},(0,r.rn)(["settings"])),methods:(0,o.Z)({cancelEdit:function(){this.$emit("cancel")}},(0,r.nv)("guides",["getGuides"]))},zd=Zd,jd=(0,K.Z)(zd,kd,Cd,!1,null,null,null),Ld=jd.exports,Nd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"advanced-scheduling-settings"},[n("settings-header",{attrs:{loading:t.saving}}),n("div",{staticClass:"md-switch-with-helper"},[n("md-switch",{attrs:{id:"advanced_scheduling_enabled","md-theme":"reverse",name:"advanced_scheduling_enabled"},model:{value:t.advanced_scheduling_enabled,callback:function(e){t.advanced_scheduling_enabled=e},expression:"advanced_scheduling_enabled"}},[t._v(" "+t._s(t.translations.settings.advanced_scheduling.label)+" ")]),n("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.advanced_scheduling.help)+" "),n("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/advanced-scheduling-options/",target:"_blank"}},[t._v(t._s(t.translations.settings.advanced_scheduling.help_link))])])],1),n("div",{staticClass:"md-switch-with-helper"},[n("md-switch",{attrs:{id:"separate_appointment_type_availability","md-theme":"reverse",name:"separate_appointment_type_availability"},model:{value:t.separate_appointment_type_availability,callback:function(e){t.separate_appointment_type_availability=e},expression:"separate_appointment_type_availability"}},[t._v(" "+t._s(t.translations.settings.developer.separate_appointment_type_availability.label)+" ")]),n("p",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.developer.separate_appointment_type_availability.help)+" "),n("a",{attrs:{href:"https://simplyscheduleappointments.com/guides/let-multiple-appointment-types-book-the-same-time-slot/",target:"_blank"}},[t._v(t._s(t.translations.settings.developer.separate_appointment_type_availability.help_link))])])],1),n("md-snackbar",{ref:"saveSettings",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.advanced_scheduling.saved))])])],1)},Ud=[],Gd={name:"settingsAdvancedScheduling",components:{SettingsHeader:ir},data:function(){return{saving:!1}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.advanced_scheduling_options})},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({advanced_scheduling_enabled:{get:function(){return!!this.settings.advanced_scheduling.enabled},set:function(t){var e=this;this.updateAdvancedSchedulingEnabled(t),this.saving=!0,this.updateAdvancedSchedulingSettings().then((function(){e.saving=!1,e.$refs.saveSettings.open()}))}},separate_appointment_type_availability:{get:function(){return this.settings.developer.separate_appointment_type_availability},set:function(t){var e=this;this.setSeparateAppointmentTypeAvailability(t),this.saving=!0,this.updateDeveloperSettings().then((function(){e.saving=!1,e.$refs.saveSettings.open()}))}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("appointment_types",["editableAppointmentTypeIds"])),(0,r.Se)("staff",["currentUserCan"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({editAppointmentType:function(){var t=this.editableAppointmentTypeIds[0];I_.push("/ssa/appointment-types/type/".concat(t))},openBulkEdit:function(){this.updateBulkEditing(this.editableAppointmentTypeIds),I_.push({name:"appointment-type-bulk-edit",params:{section:"scheduling"}})}},(0,r.nv)(["fetchSettings","updateAdvancedSchedulingSettings"])),(0,r.OI)(["updateAdvancedSchedulingEnabled","setSeparateAppointmentTypeAvailability"])),(0,r.OI)("appointment_types",["updateBulkEditing"])),(0,r.nv)("guides",["getGuides"])),(0,r.nv)("developer_settings",["updateDeveloperSettings"]))},Fd=Gd,Wd=(0,K.Z)(Fd,Nd,Ud,!1,null,null,null),Bd=Wd.exports,Rd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"tracking-settings",attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSettings.apply(null,arguments)}}},[n("settings-header"),n("md-dialog-confirm",{ref:"confirmLeaveDirty",attrs:{"md-title":t.translations.settings.general.confirmTitle,"md-content-html":t.translations.settings.general.confirmContent,"md-ok-text":t.translations.general.ok,"md-cancel-text":t.translations.general.cancel}}),n("p",[t._v(t._s(t.translations.settings.tracking.instructions)+" "),n("a",{attrs:{href:"https://simplyscheduleappointments.com/document/conversion-tracking/",target:"_blank"}},[t._v(t._s(t.translations.settings.tracking.docLinkText))])]),n("p",[n("md-checkbox",{staticClass:"md-primary",attrs:{id:"event-tracking",name:"event-tracking",disabled:t.saving},model:{value:t.event_tracking,callback:function(e){t.event_tracking=e},expression:"event_tracking"}},[t._v(t._s(t.translations.settings.tracking.eventTracking))])],1),n("p",[n("md-checkbox",{staticClass:"md-primary",attrs:{id:"page-tracking",name:"page-tracking",disabled:t.saving},model:{value:t.page_tracking,callback:function(e){t.page_tracking=e},expression:"page_tracking"}},[t._v(t._s(t.translations.settings.tracking.pageTracking))])],1),n("div",{staticClass:"button-bar align-right"},[n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSettings}},[t.saving?[t._v(t._s(t.translations.general.saving))]:[t._v(t._s(t.translations.general.save))]],2),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)],1)},qd=[],Hd={name:"settingsTracking",components:{SettingsHeader:ir},data:function(){return{saving:!1,dirty:!1}},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(t){"ok"===t?(n(),i.fetchSettings()):n(!1)}))}else n()},watch:{event_tracking:function(t,e){t!==e&&(this.dirty=!0)},page_tracking:function(t,e){t!==e&&(this.dirty=!0)}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.tracking})},computed:(0,o.Z)((0,o.Z)({event_tracking:{get:function(){return this.settings.tracking.event_tracking},set:function(t){this.setEventTracking(t)}},page_tracking:{get:function(){return this.settings.tracking.page_tracking},set:function(t){this.setPageTracking(t)}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({saveSettings:function(){var t=this;this.saving=!0,this.saveTrackingSettings().then((function(){t.saving=!1,t.dirty=!1,t.$emit("saved")}))}},(0,r.nv)(["fetchSettings"])),(0,r.nv)("tracking",["saveTrackingSettings"])),(0,r.OI)(["setEventTracking","setPageTracking"])),(0,r.nv)("guides",["getGuides"]))},Kd=Hd,Vd=(0,K.Z)(Kd,Rd,qd,!1,null,null,null),Yd=Vd.exports,Jd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[t.currentUserCan("ssa_manage_site_settings")?[n("settings-header"),t.settings.blackout_dates.enabled?[t.saving?n("loading",{attrs:{message:t.translations.settings.blackout.saving}}):n("fieldset",{staticStyle:{padding:"0"}},[n("view-selector"),n("date-select-and-list",{attrs:{saving:t.quickSaving},model:{value:t.blackout_dates,callback:function(e){t.blackout_dates=e},expression:"blackout_dates"}})],1)]:n("setting-not-enabled")]:n("no-permission"),n("md-snackbar",{ref:"savedMessage",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.blackout.saved))])])],2)},Xd=[],Qd=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-toolbar",{staticClass:"md-transparent"},[t.canSelectBlackoutType&&!t.loading?n("md-input-container",{staticClass:"title"},[n("label",{attrs:{for:"blackout-view"}},[n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.selectTarget)+" ")])]),n("md-select",{attrs:{name:"blackout-view",id:"blackout-view"},model:{value:t.blackoutView,callback:function(e){t.blackoutView=e},expression:"blackoutView"}},[t.currentUserCan("ssa_manage_site_settings")?n("md-option",{attrs:{value:"global"}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(t.translations.settings.blackout.view.global)+" ")]):t._e(),t.currentUserCan("ssa_manage_staff_blackout_dates")&&this.user.staff_id?n("md-option",{attrs:{value:this.user.staff_id}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(t.translations.settings.blackout.view.self)+" ")]):t._e(),t._l(t.staffExcludingSelfOptions,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(t.translations.settings.blackout.title)+": "+t._s(e.display_name)+" ")])}))],2)],1):n("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.settings.blackout.title)+" "),t.loading?n("md-spinner",{attrs:{"md-size":20,"md-indeterminate":""}}):t._e()],1),n("div",{staticStyle:{flex:"1"}})],1)},tp=[],ep={name:"blackoutViewSelector",data:function(){return{loading:!0}},mounted:function(){var t=this;(this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_staff_blackout_dates"))&&"undefined"===typeof this.staff&&this.staffModule.enabled?this.fetchStaff().then((function(){t.loading=!1})).catch((function(t,e){console.log(e)})):this.loading=!1},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({blackoutView:{get:function(){return this.$route.params.staffId?this.$route.params.staffId:"global"},set:function(t){"global"===t?this.$router.push({name:"settings-blackout"}):this.$router.push({name:"settings-blackout-staff",params:{staffId:t}})}},canSelectBlackoutType:function(){return!!this.staffModule.enabled&&(this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_site_settings")&&this.currentUserCan("ssa_manage_staff_blackout_dates")||this.currentUserCan("ssa_manageStaff")&&this.currentUserCan("ssa_manage_staff_blackout_dates"))},staffExcludingSelfOptions:function(){return this.currentUserCan("ssa_manage_staff")?this.staffExcludingSelf:[]}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["user"])),(0,r.rn)("staff",["staff"])),(0,r.Se)("staff",["currentUserCan","staffExcludingSelf","staffModule"])),methods:(0,o.Z)({},(0,r.nv)("staff",["fetchStaff"]))},np=ep,ip=(0,K.Z)(np,Qd,tp,!1,null,null,null),sp=ip.exports,ap=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-layout",{attrs:{"md-gutter":24}},[n("md-layout",[n("div",{staticClass:"full-width"},[n("multi-date-picker",{attrs:{readonly:t.readonly,limit:t.limit},model:{value:t.selectedDates,callback:function(e){t.selectedDates=e},expression:"selectedDates"}})],1)]),n("md-layout",{attrs:{"md-column":""}},[n("md-toolbar",{attrs:{"md-theme":"white"}},[n("h2",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.settings.blackout.selected)+" ")]),n("div",{staticStyle:{flex:"1"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}]},[n("md-spinner",{attrs:{"md-size":20,"md-indeterminate":""}}),t._v(" "+t._s(t.translations.general.saving)+" ")],1)]),t.allDateData.length?n("md-list",{staticClass:"md-dense"},t._l(t.allDateData,(function(e,i){return n("md-list-item",{key:i,class:{past:t.moment(e.date).isBefore(t.moment(),"day")}},[n("span",[t._v(" "+t._s(t.moment(e.date).format(t.settings.global.date_format_moment))+" ")]),e.readonly?[n("md-icon",[t._v("public")]),n("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(" "+t._s(t.translations.settings.blackout.view.global)+" ")])]:n("md-button",{staticClass:"md-icon-button md-list-action md-accent",on:{click:function(n){return t.deleteDate(e.date)}}},[n("md-icon",[t._v("close")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.actions.delete)+" "+t._s(t.moment(e.date).format(t.settings.global.date_format_moment))+" ")])],1)],2)})),1):n("empty",{attrs:{label:t.translations.settings.blackout.emptyLabel,description:t.translations.settings.blackout.emptyDesc}})],1)],1)},op=[],rp=(n(70189),n(78783),n(91038),n(2707),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cov-date-body md-theme-light-green"},[n("div",{staticClass:"cov-date-monthly"},[n("button",{staticClass:"cov-date-previous",on:{click:function(e){return e.preventDefault(),t.prevMonth.apply(null,arguments)}}},[n("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_left")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.previousMonth)+" ")])],1),n("div",{staticClass:"cov-date-caption"},[n("button",{staticClass:"caption-year",on:{click:function(e){return e.preventDefault(),t.showYear.apply(null,arguments)}}},[t._v(" "+t._s(t.currentYear)+" ")]),n("span",{on:{click:function(e){t.displayType="month"}}},[t._v(" "+t._s(t.displayMonth)+" ")])]),n("button",{staticClass:"cov-date-next",on:{click:function(e){return e.preventDefault(),t.nextMonth.apply(null,arguments)}}},[n("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_right")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.nextMonth)+" ")])],1)]),"day"===t.displayType?n("div",{ref:"dayList",staticClass:"cov-date-box",attrs:{tabindex:"-1"}},[n("div",{staticClass:"cov-picker-box"},[n("div",{staticClass:"week"},[n("ul",t._l(t.week,(function(e){return n("li",{key:e},[t._v(t._s(e))])})),0)]),n("div",{staticClass:"days"},t._l(t.days,(function(e,i){return n("div",{key:i,staticClass:"day",class:{selected:e.selected,readonly:e.readonly,unavailable:e.unavailable,"passive-day":!e.inMonth},on:{click:function(n){return t.checkDay(e)}}},[t._v(" "+t._s(e.value)+" "),e.readonly?n("md-tooltip",{attrs:{"md-direction":"top"}},[t._v(" "+t._s(t.translations.settings.blackout.view.global)+" ")]):t._e()],1)})),0)])]):"year"===t.displayType?n("div",{staticClass:"cov-date-box list-box"},[n("fieldset",{ref:"yearList",staticClass:"cov-picker-box date-list",attrs:{id:"yearList",tabindex:"-1"}},[n("legend",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.selectYear)+" ")]),t._l(t.year,(function(e,i){return n("label",{key:i,staticClass:"date-item"},[n("input",{staticClass:"screen-reader-text",attrs:{type:"checkbox"},domProps:{value:e},on:{change:function(n){return t.setYear(e)}}}),t._v(" "+t._s(e)+" ")])}))],2)]):"month"===t.displayType?n("div",{staticClass:"cov-date-box list-box"},[n("div",{staticClass:"cov-picker-box date-list"},t._l(t.month,(function(e,i){return n("div",{key:i,staticClass:"date-item",on:{click:function(n){return t.setMonth(e)}}},[t._v(t._s(e))])})),0)]):t._e()])}),lp=[],cp=n(17133),dp=n.n(cp),pp={name:"datePicker",props:{required:{type:Boolean,default:!1},value:{required:!0},readonly:{type:Array,default:function(){return[]}},limit:{type:Array,default:function(){return[]}}},data:function(){return{currentMoment:null,displayType:"day",month:dp().months(),year:[]}},mounted:function(){this.showDay()},computed:(0,o.Z)((0,o.Z)({week:function(){var t=dp().weekdaysMin(!1);if(this.settings.global.start_of_week>0){var e=t.slice(0,this.settings.global.start_of_week),n=t.slice(this.settings.global.start_of_week);t=[].concat((0,U.Z)(n),(0,U.Z)(e))}return t},displayMonth:function(){return this.currentMoment?this.currentMoment.format("MMMM"):""},currentYear:function(){return this.currentMoment?this.currentMoment.format("YYYY"):""},currentMonth:function(){return this.currentMoment?this.currentMoment.format("MM"):""},currentDay:function(){return this.currentMoment?this.currentMoment.format("DD"):""},days:function(){if(this.currentMoment){for(var t=[],e=this.currentMoment.daysInMonth(),n=1;n<=e;++n)t.push({value:n,inMonth:!0,unavailable:!1,selected:!1,readonly:!1,moment:dp()(this.currentMoment).date(n)}),this.checkBySelectDays(n,t);var i=dp()(this.currentMoment).date(1).day(),s=this.currentMoment.clone().subtract(1,"month");i=0===i?7:i,i=this.settings.global.start_of_week>i?i+7:i;for(var a=0;a<i-this.settings.global.start_of_week;a++){var o={value:s.daysInMonth()-a,inMonth:!1,action:"previous",unavailable:!1,selected:!1,readonly:!1,moment:dp()(this.currentMoment).date(1).subtract(a+1,"days")};t.unshift(o)}for(var r=42-t.length,l=1;l<=r;l++){var c={value:l,inMonth:!1,action:"next",unavailable:!1,selected:!1,readonly:!1,moment:dp()(this.currentMoment).add(1,"months").date(l)};t.push(c)}if(this.limit.length>0){var d,p=(0,_c.Z)(this.limit);try{for(p.s();!(d=p.n()).done;){var u=d.value;switch(u.type){case"fromto":t=this.limitFromTo(u,t);break;case"weekday":t=this.limitWeekDay(u,t);break}}}catch(m){p.e(m)}finally{p.f()}}return t=this.checkReadOnlyDays(t),t}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:{prevMonth:function(){var t=this.currentMoment.clone().subtract(1,"month");t.isBefore(dp()(),"month")||(this.currentMoment=t,this.showDay())},nextMonth:function(){this.currentMoment=this.currentMoment.clone().add(1,"month"),this.showDay()},showDay:function(){var t=this;this.currentMoment=this.currentMoment?this.currentMoment:dp()(),this.displayType="day",this.$nextTick((function(){t.$refs.dayList.focus()}))},checkBySelectDays:function(t,e){var n=this;this.value.forEach((function(i){n.currentYear===dp()(i).format("YYYY")&&n.currentMonth===dp()(i).format("MM")&&t===Math.ceil(dp()(i).format("D"))&&(e[t-1].selected=!0)}))},checkReadOnlyDays:function(t){if(!this.readonly||!this.readonly.length)return t;var e=new Set(this.readonly);return t.map((function(t){!t.unavailable&&t.inMonth&&e.has(t.moment.format(I))&&(t.selected=!0,t.readonly=!0)})),t},limitWeekDay:function(t,e){return e.map((function(e){-1===t.available.indexOf(Math.floor(e.moment.format("d")))&&(e.unavailable=!0)})),e},limitFromTo:function(t,e){var n=this;return(t.from||t.to)&&e.map((function(e){n.getLimitCondition(t,e)&&(e.unavailable=!0)})),e},getLimitCondition:function(t,e){var n=e.moment.clone().startOf("day");return t.from&&!t.to?!n.isAfter(t.from):!t.from&&t.to?!n.isBefore(t.to):!n.isBetween(t.from,t.to)},checkDay:function(t){if(t.unavailable&&!t.selected||""===t.value||t.readonly)return!1;t.inMonth||("next"===t.action?this.nextMonth():this.prevMonth());var e=dp()(this.currentYear+"-"+this.currentMonth+"-"+t.value,I).format(I),n=this.value.indexOf(e),i=this.value.slice();!0===t.selected?(this.$set(t,"selected",!1),-1!==n&&i.splice(n,1)):(this.$set(t,"selected",!0),-1===n&&i.push(e)),this.picked(i)},showYear:function(){var t=this,e=dp()(this.currentMoment).year(),n=dp()().year();e=n<e?n:e,this.year=[];for(var i=[],s=e;s<e+10;++s)i.push(s);this.year=i,this.displayType="year",this.$nextTick((function(){t.addYear()}))},addYear:function(){var t=this,e=this.$refs.yearList;e.focus(),e.addEventListener("scroll",(function(){if(e.scrollTop<e.scrollHeight-100){var n=t.year.length,i=t.year[n-1];t.year.push(i+1)}}),!1)},setYear:function(t){this.currentMoment=dp()(t+"-"+this.currentMonth+"-"+this.currentDay,I),this.showDay(this.currentMoment)},setMonth:function(t){var e=this.month.indexOf(t)+1;e<10&&(e="0"+e),this.currentMoment=dp()(this.currentYear+"-"+e+"-"+this.currentDay,I),this.showDay(this.currentMoment)},picked:function(t){this.$emit("input",t),this.$emit("change",t)}}},up=pp,mp=(0,K.Z)(up,rp,lp,!1,null,null,null),fp=mp.exports,gp={name:"blackoutDateSelectAndView",components:{MultiDatePicker:fp,Empty:te},props:["value","saving","readonly"],data:function(){return{moment:R(),selectedDates:[]}},mounted:function(){this.selectedDates=this.value},watch:{selectedDates:function(t){this.$emit("input",t)},value:function(t,e){t.join(",")!==e.join(",")&&(this.selectedDates=this.value)}},computed:(0,o.Z)((0,o.Z)({allDateData:function(){if(!this.readonly)return this.selectedDates.map((function(t){return{date:t,readonly:!1}}));var t=new Set(this.readonly),e=new Set([].concat((0,U.Z)(this.selectedDates),(0,U.Z)(this.readonly)));return e=Array.from(e),e.sort(),e.map((function(e){return{date:e,readonly:t.has(e)}}))},date:function(){return{time:R()().tz(this.settings.global.timzone_string).format(I)}},limit:function(){return[{type:"fromto",from:R()().tz(this.settings.global.timezone_string).subtract(1,"day").format(I)}]}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:{deleteDate:function(t){var e=this.selectedDates.filter((function(e){return e!==t}));this.selectedDates=e}}},hp=gp,_p=(0,K.Z)(hp,ap,op,!1,null,"3eb64bd4",null),vp=_p.exports,yp={name:"settingsBlackout",components:{NoPermission:se,viewSelector:sp,dateSelectAndList:vp,SettingsHeader:ir,SettingNotEnabled:Bl,Loading:st},data:function(){return{moment:R(),quickSaving:!1,saving:!1,limit:[]}},mounted:function(){Ee().isEmpty(this.settings.blackout_dates)&&this.fetchBlackoutSettings(),this.getGuides({"ssasc-plugin-screen":L.blackout})},beforeRouteLeave:function(t,e,n){var i=this;this.saving=!0,this.updateBlackoutSettings().then((function(){i.saving=!1,n()}))},watch:{blackout_dates:{handler:function(t,e){t.length!==e.length&&this.quickSaveDates()},deep:!0}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({blackout_dates:{get:function(){return Ee().sortBy(this.settings.blackout_dates.dates,(function(t){return R()(t).format(I)}))},set:function(t){this.updateBlackoutDates({settings:this.settings,value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("staff",["currentUserCan"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({quickSaveDates:Ee().debounce((function(){var t=this;this.quickSaving=!0,this.updateBlackoutSettings().then((function(){t.quickSaving=!1,t.$refs.savedMessage&&t.$refs.savedMessage.open()}))}),3e3)},(0,r.nv)(["fetchSettings"])),(0,r.OI)("blackout",["updateBlackoutDates"])),(0,r.nv)("guides",["getGuides"])),(0,r.nv)("blackout",["fetchBlackoutSettings","updateBlackoutSettings"]))},bp=yp,kp=(0,K.Z)(bp,Jd,Xd,!1,null,null,null),Cp=kp.exports,Sp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.submit.apply(null,arguments)}}},[t.currentUserCanBlackout?t.loading?n("loading",{attrs:{message:t.translations.settings.blackout.loading}}):[t.currentUserCan("ssa_manage_settings")?n("settings-header"):t._e(),t.settings.blackout_dates.enabled?[t.saving?n("loading",{attrs:{message:t.translations.settings.blackout.saving}}):n("fieldset",{staticStyle:{padding:"0"}},[n("view-selector"),n("date-select-and-list",{attrs:{readonly:t.global_blackout_dates,saving:t.quickSaving},on:{input:t.handleUpdatedValue},model:{value:t.blackout_dates,callback:function(e){t.blackout_dates=e},expression:"blackout_dates"}})],1)]:n("setting-not-enabled")]:n("no-permission"),n("md-snackbar",{ref:"savedMessage",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.blackout.saved))])])],2)},wp=[],Tp={name:"settingsBlackoutStaff",components:{NoPermission:se,viewSelector:sp,dateSelectAndList:vp,SettingsHeader:ir,SettingNotEnabled:Bl,Loading:st},props:["staffId"],data:function(){return{loading:!0,limit:[],moment:R(),quickSaving:!1,saving:!1,staffSwitched:!1}},mounted:function(){var t=this;"undefined"===typeof this.staff?this.fetchStaff().then((function(){t.matchCurrentStaff(),t.loading=!1})).catch((function(t,e){console.log(e)})):(this.matchCurrentStaff(),this.staffSwitched=!0,this.loading=!1)},beforeRouteEnter:function(t,e,n){n((function(i){i.navigationGuard(t,e,n)}))},beforeRouteUpdate:function(t,e,n){this.navigationGuard(t,e,n)},beforeRouteLeave:function(t,e,n){var i=this;this.saving=!0,this.saveStaff().then((function(){i.saving=!1,n()}))},watch:{staffId:function(){var t=this;this.saving=!0,this.saveStaff().then((function(){t.saving=!1,t.matchCurrentStaff(),t.staffSwitched=!0}))}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({blackout_dates:{get:function(){return this.currentStaff&&this.currentStaff.blackout_dates&&this.currentStaff.blackout_dates.dates?Ee().sortBy(this.currentStaff.blackout_dates.dates,(function(t){return R()(t).format(I)})):[]},set:function(t){this.setStaffBlackoutDates(t)}},currentUserCanBlackout:function(){return this.currentUserCan("ssa_manage_staff")||this.currentUserCan("ssa_manage_staff_blackout_dates")},global_blackout_dates:function(){return Ee().sortBy(this.settings.blackout_dates.dates,(function(t){return R()(t).format(I)}))}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("staff",["currentStaff","staff"])),(0,r.Se)("staff",["currentUserCan","currentUserIsStaff","currentUserStaffId","staffModule"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({handleUpdatedValue:function(){this.staffSwitched?this.staffSwitched=!1:this.quickSaveDates()},matchCurrentStaff:function(){var t=this;this.setCurrentStaff(this.staff.find((function(e){return e.id===t.staffId})))},navigationGuard:function(t,e,n){this.currentUserCan("ssa_manage_staff")?n():this.currentUserIsStaff?this.$router.push("/ssa/settings/blackout/"+this.currentUserStaffId):this.$router.push("/ssa")},quickSaveDates:Ee().debounce((function(){var t=this;this.quickSaving=!0,this.saveStaff().then((function(){t.quickSaving=!1,t.$refs.savedMessage&&t.$refs.savedMessage.open()}))}),3e3)},(0,r.nv)(["fetchSettings"])),(0,r.nv)("staff",["fetchStaff","saveStaff"])),(0,r.OI)("staff",["setCurrentStaff","setStaffBlackoutDates"]))},xp=Tp,Ap=(0,K.Z)(xp,Sp,wp,!1,null,"35a9af80",null),Pp=Ap.exports,Mp=[{path:"blackout",name:"settings-blackout",component:Cp},{path:"blackout/:staffId",name:"settings-blackout-staff",component:Pp,props:!0}],Ep=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notifications-all"},[n("router-view",{on:{saved:t.backToList}})],1)},Dp=[],$p={name:"notificationsAll",data:function(){return{}},methods:{backToList:function(){this.$router.push("/ssa/settings/notifications/list")}}},Op=$p,Ip=(0,K.Z)(Op,Ep,Dp,!1,null,null,null),Zp=Ip.exports,zp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notifications-settings"},[n("settings-header"),t.settings.notifications.enabled?[n("md-toolbar",{staticClass:"md-transparent"},[n("div",{staticStyle:{flex:"1"}},[n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.notifications.title))])]),n("md-button",{staticClass:"md-primary",on:{click:t.addNotification}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")],1)],1),t.smsModule.installed?n("md-card",{staticClass:"settings",class:{disabled:!t.sms_enabled},attrs:{"md-with-hover":t.sms_enabled},nativeOn:{click:function(e){return t.maybeEdit.apply(null,arguments)}}},[n("md-card-header",[n("md-card-media",[n("img",{attrs:{src:t.api.admin_static_url+"/images/settings-sms.svg",alt:"SMS"}})]),n("md-card-header-text",[n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.sms.title))]),t.smsModule.enabled&&!t.smsModule.active?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.sms.noConnection)+" ")]):t.smsModule.enabled&&t.settings.sms.twilio_test_mode_enabled?n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.testModeWarning)+" ")]):t._e()],1)],1),n("md-card-actions",{staticClass:"split-actions"},[n("md-switch",{attrs:{"md-theme":"reverse"},nativeOn:{click:function(e){return e.stopPropagation(),t.doNothing.apply(null,arguments)}},model:{value:t.sms_enabled,callback:function(e){t.sms_enabled=e},expression:"sms_enabled"}}),n("span",{staticStyle:{flex:"1"}}),n("md-button",{on:{click:t.editSms}},[t._v(" "+t._s(t.translations.actions.edit)+" "),n("div",{staticClass:"screen-reader-text"},[t._v(t._s(t.translations.settings.sms.title))])])],1)],1):t._e(),t.settings.notifications.notifications.length?[n("notification-filter"),t.filteredNotifications.length?n("md-list",{staticClass:"md-double-line notification-list"},t._l(t.filteredNotifications,(function(e){return n("list-item",{key:e.id,attrs:{notification:e},on:{edit:t.editNotification,clone:t.cloneNotification,delete:t.confirmDelete}})})),1):n("empty",{attrs:{label:t.translations.settings.notifications.filter.empty_label,description:t.translations.settings.notifications.filter.empty_desc}})]:n("empty",{attrs:{label:t.translations.settings.notifications.empty}},[n("md-button",{staticClass:"md-primary md-raised",on:{click:t.addNotification}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")],1)],1),n("md-dialog",{ref:"confirmDelete"},[n("md-dialog-title",[t._v(t._s(t.translations.settings.notifications.confirmDelete))]),t.deletedId||0===t.deletedId?n("md-dialog-content",[t._v(" "+t._s(t.settings.notifications.notifications[t.deletedIndex].title)+" ")]):t._e(),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.settings.notifications.confirmDeleteCancel))]),n("md-button",{on:{click:t.deleteNotification}},[t._v(t._s(t.translations.settings.notifications.confirmDeleteOk))])],1)],1),n("md-dialog",{ref:"enableSetting"},[n("md-dialog-title",[t._v(t._s(t.translations.settings.sms.title))]),n("md-dialog-content",[n("p",[t._v(t._s(t.translations.settings.disabledWarning))])]),n("md-dialog-actions",[n("md-button",{on:{click:t.closeDialogs}},[t._v(t._s(t.translations.general.cancel))]),n("md-button",{staticClass:"md-primary",on:{click:t.enableThis}},[t._v(t._s(t.translations.settings.enable))])],1)],1)]:n("setting-not-enabled")],2)},jp=[],Lp=(n(34553),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list-item",{class:{"foxy-saving":t.saving}},[n("md-switch",{attrs:{"md-theme":"reverse",disabled:t.saving},model:{value:t.notificationActive,callback:function(e){t.notificationActive=e},expression:"notificationActive"}}),n("div",{staticClass:"md-list-text-container",on:{click:t.edit}},[n("span",[t._v(" "+t._s(t.displayTitle(t.notification))+" "),t.smsModule.active?["email"===t.notification.type?n("md-icon",{staticClass:"small md-primary"},[t._v(" email ")]):"sms"===t.notification.type?n("md-icon",{staticClass:"small md-primary"},[t._v(" sms ")]):t._e()]:t._e()],2),n("span",[t.remindersInstalled&&t.notification.duration>0?[t._v(" "+t._s(t.displayDuration(t.notification.duration)+" "+t.translations.settings.notifications.when[t.notification.when].toLowerCase()+" ")+" ")]:t._e(),t._v(" "+t._s(t.translations.settings.notifications.triggers[t.notification.trigger])+" ")],2)]),n("md-menu",{attrs:{"md-direction":"bottom left"}},[n("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":""}},[n("md-icon",{staticClass:"md-primary"},[t._v(" settings ")])],1),n("md-menu-content",[n("md-menu-item",{on:{click:t.edit}},[n("md-icon",{staticClass:"md-primary"},[t._v("edit")]),n("span",[t._v(t._s(t.translations.actions.edit))])],1),n("md-menu-item",{on:{click:t.clone}},[n("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),n("span",[t._v(t._s(t.translations.actions.clone))])],1),n("md-menu-item",{on:{click:t.deleteThis}},[n("md-icon",{staticClass:"md-primary"},[t._v("delete")]),n("span",[t._v(t._s(t.translations.actions.delete))])],1)],1)],1)],1)}),Np=[],Up={name:"notificationListItem",props:["notification"],data:function(){return{saving:!1}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({notificationActive:{get:function(){return!Object.prototype.hasOwnProperty.call(this.notification,"active")||this.notification.active},set:function(t){var e=this,n=Ee().cloneDeep(this.notification);n.active=t,this.setSingleNotification({id:this.notification.id,notification:n}),this.saving=!0,this.saveNotificationSingle(this.notification.id).then((function(){e.saving=!1}))}}},(0,r.rn)("translations",["translations"])),(0,r.Se)(["displayDuration"])),(0,r.Se)("notifications",["remindersInstalled","smsModule"])),methods:(0,o.Z)((0,o.Z)({clone:function(){this.$emit("clone",this.notification.id)},deleteThis:function(){console.log("list item is emitting delete",this.notification.id),this.$emit("delete",this.notification.id)},displayTitle:function(){return this.notification.title?this.notification.title:this.notification.subject},edit:function(){this.$emit("edit",this.notification.id)}},(0,r.nv)("notifications",["saveNotificationSingle"])),(0,r.OI)(["setSingleNotification"]))},Gp=Up,Fp=(0,K.Z)(Gp,Lp,Np,!1,null,null,null),Wp=Fp.exports,Bp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-filter"},[n("md-toolbar",{staticClass:"md-transparent"},[n("div",{staticStyle:{flex:"1"}}),n("md-button",{staticClass:"md-primary indicator-button",on:{click:t.toggleFilters}},[n("md-icon",[t._v("filter_list")]),t._v(" "+t._s(t.translations.settings.notifications.filter.filter)+" ")],1)],1),t.openFilters?n("fieldset",{ref:"filterToolbar",staticClass:"appointment-filter-bar"},[n("legend",{staticClass:"md-subheading"},[t._v(" "+t._s(t.translations.settings.notifications.filter.legend)+" ")]),n("div",{staticClass:"clear"}),n("div",{staticClass:"appointment-filter-bar-wrap"},[t.smsModule.enabled?n("div",{staticClass:"filter-field"},[n("md-input-container",[n("label",{attrs:{for:"notification-type"}},[t._v(" "+t._s(t.translations.settings.notifications.filter.fields.type)+" "),t.filter.notification_type.length?[t._v(" ("+t._s(t.filter.notification_type.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),n("md-select",{attrs:{name:"notification-type",id:"notification-type",multiple:""},model:{value:t.filterNotificationType,callback:function(e){t.filterNotificationType=e},expression:"filterNotificationType"}},[n("md-option",{attrs:{value:"email"}},[t._v(t._s(t.translations.settings.notifications.fields.email))]),n("md-option",{attrs:{value:"sms"}},[t._v(t._s(t.translations.settings.notifications.fields.sms))])],1)],1)],1):t._e(),n("div",{staticClass:"filter-field"},[n("md-input-container",[n("label",{attrs:{for:"appointment-type"}},[t._v(" "+t._s(t.translations.settings.notifications.filter.fields.appointment_type)+" "),t.filter.appointment_type.length?[t._v(" ("+t._s(t.filter.appointment_type.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),n("md-select",{attrs:{name:"appointment-type",id:"appointment-type",multiple:""},model:{value:t.filterAppointmentType,callback:function(e){t.filterAppointmentType=e},expression:"filterAppointmentType"}},t._l(t.editableAppointmentTypes,(function(e,i){return n("md-option",{key:i,attrs:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),1)],1)],1)]),n("div",{staticClass:"appointment-filter-bar-wrap"},[n("div",{staticClass:"filter-field"},[n("md-input-container",[n("label",{attrs:{for:"trigger"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.trigger)+" "),t.filter.trigger.length?[t._v(" ("+t._s(t.filter.trigger.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),n("md-select",{attrs:{name:"trigger",id:"trigger",multiple:""},model:{value:t.filterTrigger,callback:function(e){t.filterTrigger=e},expression:"filterTrigger"}},t._l(t.notificationTriggers,(function(e,i){return n("md-option",{key:i,attrs:{value:e}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[e])+" ")])})),1)],1)],1),n("div",{staticClass:"filter-field"},[n("md-input-container",[n("label",{attrs:{for:"sent-to"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.sentTo)+" "),t.filter.sent_to.length?[t._v(" ("+t._s(t.filter.sent_to.length)+" "+t._s(t.translations.settings.notifications.filter.selected)+")")]:t._e()],2),n("md-select",{attrs:{name:"sent-to",id:"sent-to",multiple:""},model:{value:t.filterSentTo,callback:function(e){t.filterSentTo=e},expression:"filterSentTo"}},t._l(t.sentToOptions,(function(e,i){return n("md-option",{key:i,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1)],1),n("div",{staticClass:"filter-button"},[n("md-button",{staticClass:"md-primary",attrs:{disabled:!t.filterApplied},on:{click:t.resetFilter}},[n("md-icon",[t._v("delete_sweep")]),t._v(" "+t._s(t.translations.settings.notifications.filter.reset)+" ")],1)],1)])]):t._e()],1)},Rp=[],qp={name:"filterNotifications",data:function(){return{openFilters:!1,notificationTriggers:f}},beforeMount:function(){this.remindersInstalled&&(this.notificationTriggers=g)},mounted:function(){},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({filterAppointmentType:{get:function(){return this.filter.appointment_type},set:function(t){this.setFilter({key:"appointment_type",value:t})}},filterNotificationType:{get:function(){return this.filter.notification_type},set:function(t){this.setFilter({key:"notification_type",value:t})}},filterSentTo:{get:function(){return this.filter.sent_to},set:function(t){this.setFilter({key:"sent_to",value:t})}},filterTrigger:{get:function(){return this.filter.trigger},set:function(t){this.setFilter({key:"trigger",value:t})}}},(0,r.rn)("notifications",["filter"])),(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("notifications",["filterApplied","remindersInstalled","sentToOptions","smsModule"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),methods:(0,o.Z)({resetFilter:function(){this.setFilter(y),this.openFilters=!1},toggleFilters:function(){this.openFilters=!this.openFilters}},(0,r.OI)("notifications",["setFilter"]))},Hp=qp,Kp=(0,K.Z)(Hp,Bp,Rp,!1,null,null,null),Vp=Kp.exports,Yp={name:"settingsNotifications",components:{SettingsHeader:ir,Empty:te,Notification:Sn,ListItem:Wp,SettingNotEnabled:Bl,NotificationFilter:Vp},data:function(){return{deletedId:null}},watch:{sms_enabled:function(){this.getNotificationGuides()}},mounted:function(){this.getNotificationGuides()},computed:(0,o.Z)((0,o.Z)((0,o.Z)({deletedIndex:function(){var t=this;if(this.deletedId)return this.settings.notifications.notifications.findIndex((function(e){return e.id===t.deletedId}))},sms_enabled:{get:function(){return!!Object.prototype.hasOwnProperty.call(this.settings,"sms")&&(!!this.settings.sms.enabled&&!!this.settings.installed.sms)},set:function(t){this.setSmsEnabled(t),this.saveSmsSettings()}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings"])),(0,r.Se)("notifications",["filteredNotifications","remindersInstalled","smsModule"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({addNotification:function(){this.$router.push({name:"notification-single"})},cancelDelete:function(){this.$refs["confirmDelete"].close()},cloneNotification:function(t){this.cloneSettingsNotification(t);var e=this.settings.notifications.notifications[this.settings.notifications.notifications.length-1].id;this.saveNotificationSingle(e),this.$router.push({name:"notification-single",params:{id:e}})},closeDialogs:function(){this.$refs["enableSetting"].close()},confirmDelete:function(t){this.deletedId=t,this.$refs["confirmDelete"].open()},deleteNotification:function(){this.deleteNotificationSingle(this.deletedId),this.deletedId=null,this.$refs["confirmDelete"].close()},displayTitle:function(t){return t.title?t.title:t.subject},doNothing:function(){},editNotification:function(t){this.$router.push({name:"notification-single",params:{id:t}})},editSms:function(){this.$router.push("/ssa/settings/notifications/sms")},enableThis:function(){this.sms_enabled=!0,this.editSms()},maybeEdit:function(){this.sms_enabled?this.editSms():this.$refs["enableSetting"].open()},getNotificationGuides:function(){var t=[L.notifications.list];this.smsModule.installed&&this.smsModule.enabled&&t.push(L.notifications.sms_enabled),this.getGuides({"ssasc-plugin-screen":t})}},(0,r.OI)(["cloneSettingsNotification","deleteSettingsNotification","setSmsEnabled"])),(0,r.nv)("notifications",["deleteNotificationSingle","saveNotificationSingle","saveSmsSettings"])),(0,r.nv)("guides",["getGuides"]))},Jp=Yp,Xp=(0,K.Z)(Jp,zp,jp,!1,null,null,null),Qp=Xp.exports,tu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"notification-edit"},[n("md-button",{on:{click:t.cancelEdit}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),n("md-dialog",{ref:"confirmLeaveDirty"},[n("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.notifications.confirmIgnoreChangesTitle)}}),n("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.notifications.confirmIgnoreChangesContent)}}),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.notifications.confirmIgnoreChangesCancel))]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.notifications.confirmIgnoreChangesOkay))])],1)],1),n("md-dialog",{ref:"noPhoneFields"},[n("md-dialog-title",[t._v(t._s(t.translations.settings.sms.noPhoneFieldsTitle))]),n("md-dialog-content")],1),n("h2",{staticClass:"md-title"},[t.id||0===t.id?[n("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}}),t._v(" "+t._s(t.translations.settings.notifications.actions.edit)+" ")]:[t._v(" "+t._s(t.translations.settings.notifications.actions.addNew)+" ")]],2),n("md-input-container",[n("label",{attrs:{for:"title"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.title)+" ")]),n("md-input",{attrs:{id:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),t.smsModule.active||!t.smsModule.installed?n("fieldset",{staticClass:"check-list"},[n("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.type)+" ")]),n("md-radio",{attrs:{id:"type-email",name:"type-email","md-value":"email"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.email)+" ")]),n("md-radio",{attrs:{disabled:!t.smsModule.installed,id:"type-sms",name:"type-sms","md-value":"sms"},nativeOn:{click:function(e){return t.maybeShowUpgrade.apply(null,arguments)}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[t._v(" "+t._s(t.translations.settings.notifications.fields.sms)+" "),t.smsModule.installed?t._e():n("span",{staticClass:"link-hint"},[t._v(" "+t._s(t.translations.promo.smsUpgrade.radioHint)+" ")])])],1):t._e(),"sms"===t.type?n("fieldset",{staticClass:"md-fieldset check-list",class:{"md-fieldset-invalid":!t.validSmsTo}},[n("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.smsTo)+" ")]),t.validSmsTo?t._e():n("p",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.notifications.messages.smsToError)+" ")]),n("ul",[n("li",[t.settings.global.admin_phone?n("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"admin-phone",value:"{{ admin_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.general.phone)+" ")]):[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),n("span",[t._v(" "+t._s(t.translations.settings.notifications.messages.noAdminPhone)+" "),n("router-link",{attrs:{to:"/ssa/settings/general"}},[t._v("Add phone")])],1)]],2),n("li",[t.settings.installed.staff&&t.settings.staff.enabled?n("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"team-member-phone",value:"{{ team_member_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.notifications.team_member_phone)+" ")]):t._e()],1),n("li",[t.noPhone?[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"amber"}},[t._v("warning")]),n("span",[t._v(" "+t._s(t.translations.settings.notifications.messages.noCustomerEmail)+" "),n("router-link",{attrs:{to:"/ssa/appointment-types/edit/customerInfo"}},[t._v(t._s(t.translations.settings.advanced_scheduling.editTypes))])],1)]:n("foxy-checkbox-multi",{staticClass:"mdc-theme-name--light-green",attrs:{id:"customer-phone",value:"{{ customer_phone }}"},model:{value:t.sms_to,callback:function(e){t.sms_to=e},expression:"sms_to"}},[t._v(" "+t._s(t.translations.settings.notifications.customer_phone)+" ")])],2)])]):[n("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.sentTo,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validTo,required:!0},on:{validateBeforeAdd:t.validateTo},model:{value:t.sent_to,callback:function(e){t.sent_to=e},expression:"sent_to"}}),n("p",[n("md-button",{staticClass:"md-primary md-link",on:{click:t.toggleShowCc}},[t._v(t._s(t.translations.settings.notifications.ccSent))])],1),t.showCc?[n("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.cc,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validCc},on:{validateBeforeAdd:t.validateCc},model:{value:t.cc,callback:function(e){t.cc=e},expression:"cc"}}),n("foxy-chip-set-editable",{attrs:{"error-text":t.translations.settings.notifications.messages.sentToError,label:t.translations.settings.notifications.fields.bcc,options:t.emailOptions,theme:"light-green",theming:"primary","valid-add":t.validBcc},on:{validateBeforeAdd:t.validateBcc},model:{value:t.bcc,callback:function(e){t.bcc=e},expression:"bcc"}})]:t._e()],t.remindersInstalled?n("fieldset",{staticClass:"md-fieldset contains-layout"},[n("legend",[t._v(t._s(t.translations.settings.notifications.fields.triggerLegend))]),n("md-layout",{attrs:{"md-gutter":!0}},[n("md-layout",[n("duration",{attrs:{allowNull:!0,"error-text":t.durationError},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}})],1),n("md-layout",[n("md-input-container",[n("label",{attrs:{for:"when"}},[t._v(t._s(t.translations.settings.notifications.fields.when))]),n("md-select",{attrs:{id:"when",disabled:t.disableWhen},model:{value:t.when,callback:function(e){t.when=e},expression:"when"}},[n("md-option",{attrs:{value:"after"}},[t._v(t._s(t.translations.settings.notifications.when.after))]),n("md-option",{attrs:{value:"before"}},[t._v(t._s(t.translations.settings.notifications.when.before))])],1)],1)],1),n("md-layout",[n("md-input-container",[n("label",{attrs:{for:"trigger"}},[t._v(t._s(t.translations.settings.notifications.fields.trigger))]),n("md-select",{attrs:{id:"trigger",required:!0},model:{value:t.trigger,callback:function(e){t.trigger=e},expression:"trigger"}},t._l(t.notificationTriggers,(function(e){return n("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[e])+" ")])})),1)],1)],1)],1),n("transition",{attrs:{name:"fade"}},[t.showWarning?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(t._s(t.translations.settings.notifications.warnings.cronWarning)+" "),n("a",{attrs:{href:"https://simplyscheduleappointments.com/document/notifications-and-wordpress-cron/",target:"_blank"}},[t._v(t._s(t.translations.settings.notifications.warnings.cronLinkText))])]):t._e()],1)],1):n("md-input-container",{class:{"md-input-invalid":!t.validTrigger}},[n("label",{attrs:{for:"trigger"}},[t._v(t._s(t.translations.settings.notifications.fields.trigger))]),n("md-select",{attrs:{id:"trigger",required:""},model:{value:t.trigger,callback:function(e){t.trigger=e},expression:"trigger"}},t._l(t.notificationTriggers,(function(e){return n("md-option",{key:e,attrs:{value:e}},[t._v(" "+t._s(t.translations.settings.notifications.triggers[e])+" ")])})),1),t.validTrigger?t._e():n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.notifications.messages.triggerError))])],1),n("fieldset",{staticClass:"md-fieldset",class:{"md-fieldset-invalid":!t.validAppointmentTypes}},[n("legend",[t._v(t._s(t.translations.settings.appointmentTypesTitle))]),t.validAppointmentTypes?t._e():n("p",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.notifications.messages.appointmentTypesError))]),t.noPhone?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.sms.noPhoneFields)+" ")]):t.notAllPhone?n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.onlyPhoneFields)+" ")]):t._e(),n("md-list",[t.notAllPhone?t._e():n("md-list-item",[n("md-checkbox",{on:{change:t.toggleAll},model:{value:t.all,callback:function(e){t.all=e},expression:"all"}},[t._v(t._s(t.translations.settings.appointmentTypeAll))])],1),t.all?t._e():t._l(t.appointmentTypeOptions,(function(e){return n("md-list-item",{key:e.id},[n("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+e.id,name:"appointment-types","md-value":e.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(e.title)+" ")])],1)}))],2)],1),"email"===t.type?n("fieldset",{staticClass:"md-fieldset has-top-menu required",class:{"md-fieldset-invalid":!t.validSubject}},[n("legend",[t._v(" "+t._s(t.translations.settings.notifications.fields.subject)+" ")]),n("token-text",{attrs:{options:t.notificationTokens,required:!0},on:{validate:t.validateSubject},model:{value:t.subject,callback:function(e){t.subject=e},expression:"subject"}})],1):t._e(),n("fieldset",{staticClass:"md-fieldset has-top-menu required",class:{"md-fieldset-invalid":!t.validMessage}},[n("legend",[t._v(t._s(t.translations.settings.notifications.fields.message))]),n("token-text",{attrs:{options:t.notificationTokens,required:!0,showPreview:!1},on:{validate:t.validateMessage},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),n("fieldset",{staticClass:"md-fieldset has-top-menu required"},[n("preview",{attrs:{message:t.message,selectedAppointmentTypes:t.appointment_types}})],1),n("div",{staticClass:"button-bar"},[n("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:!t.isValid},on:{click:t.saveNotification}},[t._v(" "+t._s(t.translations.general.save)+" ")]),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),n("notification-details"),n("md-dialog",{ref:"upgradeSms"},[n("promo-sms",{attrs:{dismissable:!1},on:{promoClicked:t.closeDialog}})],1)],2)},eu=[],nu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"mdc-evolution-chip mdc-theme-name--light-green",class:{"mdc-ripple-upgraded--background-focused":t.focused},attrs:{role:"presentation",id:t.id}},[n("span",{staticClass:"mdc-evolution-chip__cell mdc-evolution-chip__cell--primary",attrs:{role:"gridcell"}},[n("button",{staticClass:"mdc-evolution-chip__action mdc-evolution-chip__action--primary",attrs:{type:"button",tabindex:"0","data-mdc-deletable":"true","aria-label":"Press backspace or delete to remove"}},[n("span",{staticClass:"mdc-evolution-chip__ripple mdc-evolution-chip__ripple--primary"}),n("span",{staticClass:"mdc-evolution-chip__text-label"},[t._v(t._s(t.value))])])]),t.trailingIcon?n("button",{staticClass:"mdc-evolution-chip__action mdc-evolution-chip__action--trailing",attrs:{type:"button",tabindex:"-1","data-mdc-deletable":"true","aria-hidden":"true"},on:{click:function(e){return t.$emit("remove",t.id)}}},[n("span",{staticClass:"mdc-evolution-chip__ripple mdc-evolution-chip__ripple--trailing"}),n("span",{staticClass:"mdc-evolution-chip__icon mdc-evolution-chip__icon--trailing material-icons"},[t._v(t._s(t.trailingIcon))])]):t._e()])},iu=[],su={name:"mdc-chp",mixins:[ec,Ql],props:{value:[String],focused:[Boolean],leadingIcon:[String],trailingIcon:[String]},data:function(){return{}},computed:{id:function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}},au=su,ou=(0,K.Z)(au,nu,iu,!1,null,null,null),ru=ou.exports,lu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.classes,attrs:{role:"listbox","aria-orientation":"horizontal","aria-multiselectable":"true"}},[n("span",{ref:"chips",staticClass:"mdc-evolution-chip-set__chips",attrs:{role:"presentation"}},t._l(t.chips,(function(e,i){return n("foxy-chip",{key:i,attrs:{theming:t.theming,theme:t.theme,"trailing-icon":t.trailingIcon,"leading-icon":t.leadingIcon,value:e,focused:t.focused===e},on:{remove:t.handleRemove}})})),1)])},cu=[],du=n(44450),pu={name:"mdc-chip-set",props:{chips:[Array],focused:[String],input:[Boolean],newChip:[Object],trailingIcon:[String],leadingIcon:[String]},mixins:[ec,Ql],components:{FoxyChip:ru},data:function(){return{mdcChipSet:void 0,classes:{"mdc-evolution-chip-set":!0,"mdc-evolution-chip-set--input":this.input}}},watch:{newChip:function(t){this.handleAdd(t)}},mounted:function(){this.mdcChipSet=new du.Q(this.$el),this.mdcChipSet.listen("MDCChipSet:removal",this.handleRemove)},beforeDestroy:function(){this.mdcChipSet.unlisten("MDCChipSet:removal",this.handleRemove),this.mdcChipSet.destroy()},methods:{handleAdd:function(t){this.$emit("addChip",t.text)},handleRemove:function(t){var e=this.$el.querySelector('.mdc-evolution-chip[id="'+t+'"] .mdc-evolution-chip__text-label').innerHTML.trim();this.$emit("removeChip",e)}}},uu=pu,mu=(0,K.Z)(uu,lu,cu,!1,null,null,null),fu=mu.exports,gu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fieldset",{class:t.containerClasses},[n("legend",[t._v(" "+t._s(t.label)+" ")]),n("div",{class:t.chipContainerClasses,on:{click:t.focusInput}},[n("foxy-chip-set",{ref:"chipSet",attrs:{chips:t.componentValue,focused:t.focused,input:!0,"new-chip":t.addedChip,theme:t.theme,theming:t.theming,"trailing-icon":"close"},on:{removeChip:t.removeChip,addChip:t.addChip},nativeOn:{keydown:function(e){return t.backspaceRemoveChip.apply(null,arguments)}}}),n("label",[n("span",{staticClass:"screen-reader-text"}),n("input",{ref:"chipInput",attrs:{type:"text"},on:{focus:function(e){return t.setFocus(!0,e)},blur:function(e){return t.setFocus(!1,e)},keydown:t.handleInput}})]),t.displayOptions.length?n("foxy-menu",{attrs:{options:t.displayOptions,icon:"email"},on:{selection:t.handleTokenSelection}}):t._e()],1),n("div",{staticClass:"helper-text"},[t.validAdd&&t.helpText?[t._v(" "+t._s(t.helpText)+" ")]:!t.validAdd&&t.errorText?[t._v(" "+t._s(t.errorText)+" ")]:t._e()],2)])},hu=[],_u={name:"mdc-chip-set-editable",props:{errorText:[String],helpText:[String],label:[String],options:[Array],required:[Boolean],value:[Array],validAdd:[Boolean]},mixins:[ec],components:{FoxyChipSet:fu,FoxyMenu:fc},data:function(){return{addedChip:null,componentValue:this.value.slice(0),hasFocus:!1,focused:null}},watch:{value:function(){this.componentValue=this.value.slice(0)}},computed:{containerClasses:function(){return{"md-fieldset":!0,"field-wrapper":!0,invalid:!this.validAdd,required:this.required}},chipContainerClasses:function(){return{"editable-chip-set":!0,"has-focus":this.hasFocus}},displayOptions:function(){var t=this;return this.options.filter((function(e){return t.value.indexOf(e)<0}))}},methods:{addChip:function(t){var e=this.value.slice(0);e.push(t),this.$emit("input",e)},backspaceRemoveChip:function(t){"Backspace"!==t.key&&8!==t.keyCode||!document.activeElement.classList.contains("mdc-evolution-chip")||this.removeLastChip()},focusInput:function(){this.$refs.chipInput.focus(),this.focused=null},handleInput:function(t){var e=this,n=!1,i=t.target.value.trim();if(!i.length)return this.$emit("validateBeforeAdd",""),void("keydown"!==t.type||"Backspace"!==t.key&&8!==t.keyCode||this.focusLastChip());"keydown"!==t.type||"Enter"!==t.key&&13!==t.keyCode&&","!==t.key&&188!==t.keyCode||(n=!0,t.preventDefault()),"blur"===t.type&&(n=!0),n&&(this.$emit("validateBeforeAdd",i),this.$nextTick((function(){e.validAdd&&(e.addedChip={text:i},t.target.value="")})))},removeChip:function(t){var e=this.value.findIndex((function(e){return e===t})),n=this.value.slice(0);n.splice(e,1),this.$emit("input",n)},focusLastChip:function(){if(this.focused)this.removeLastChip();else{var t=this.value[this.value.length-1],e=this.$refs.chipSet.$el,n=e.querySelector(".mdc-evolution-chip:last-child");n&&(this.focused=t,n.focus())}},handleTokenSelection:function(t){this.addedChip={text:t.detail.item.innerText}},removeLastChip:function(){this.removeChip(this.focused),this.focusInput()},setFocus:function(t,e){this.hasFocus=t,t||this.handleInput(e)}}},vu=_u,yu=(0,K.Z)(vu,gu,hu,!1,null,null,null),bu=yu.exports,ku=(nc({FoxyChip:ru,FoxyChipSet:fu,FoxyChipSetEditable:bu}),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("foxy-form-field",[n("div",{ref:"checkbox",staticClass:"mdc-checkbox"},[n("input",t._b({staticClass:"mdc-checkbox__native-control",attrs:{type:"checkbox",id:t.id},domProps:{checked:t.shouldBeChecked,value:t.value},on:{change:t.updateInput}},"input",t.$attrs,!1)),n("div",{staticClass:"mdc-checkbox__background"},[n("svg",{staticClass:"mdc-checkbox__checkmark",attrs:{viewBox:"0 0 24 24"}},[n("path",{staticClass:"mdc-checkbox__checkmark-path",attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}})]),n("div",{staticClass:"mdc-checkbox__mixedmark"})])]),n("label",{attrs:{for:t.id}},[t._t("default")],2)])}),Cu=[],Su=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mdc-form-field",class:t.classes},[t._t("default")],2)},wu=[],Tu=n(59534),xu={props:{alignEnd:{type:Boolean,default:!1}},data:function(){return{mdcFormField:void 0}},mounted:function(){this.mdcFormField=new Tu.b(this.$el)},beforeDestroy:function(){this.mdcFormField.destroy()},computed:{classes:function(){return{"mdc-form-field--align-end":this.alignEnd}}}},Au=xu,Pu=(0,K.Z)(Au,Su,wu,!1,null,null,null),Mu=Pu.exports,Eu=n(3416),Du={name:"foxy-checkbox-multi",components:{FoxyFormField:Mu},mixins:[Ql,ec],model:{prop:"modelValue",event:"change"},props:{value:{type:String},modelValue:{type:Array,default:function(){return[]}},id:{type:String,required:!0}},data:function(){return{mdcCheckbox:void 0}},mounted:function(){this.mdcCheckbox=new Eu.B(this.$refs.checkbox)},beforeDestroy:function(){this.mdcCheckbox.destroy()},computed:{shouldBeChecked:function(){return this.modelValue.includes(this.value)}},methods:{updateInput:function(t){var e=t.target.checked,n=(0,U.Z)(this.modelValue);e?n.push(this.value):n.splice(n.indexOf(this.value),1),this.$emit("change",n)}}},$u=Du,Ou=(0,K.Z)($u,ku,Cu,!1,null,null,null),Iu=Ou.exports,Zu=(nc({FoxyCheckboxMulti:Iu}),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notification-details"},[n("md-divider"),n("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.notifications.tokenDetailsTitle))]),n("p",[t._v(t._s(t.translations.settings.notifications.tokenDetails)+" "),n("a",{attrs:{href:"https://twig.symfony.com/",target:"_blank"}},[t._v("Twig documentation")])]),n("md-table",[n("md-table-header",[n("tr",[n("md-table-head",[t._v("Token")]),n("md-table-head",[t._v("Description")])],1)]),n("md-table-body",t._l(t.notificationTokens,(function(e,i){return n("tr",{key:i},[n("md-table-cell",[n("code",[t._v(t._s(e))])]),n("md-table-cell",[t._v(t._s(t.translations.settings.notifications.tokens[e]))])],1)})),0)],1)],1)}),zu=[],ju={name:"notificationDetails",props:["index"],data:function(){return{notificationTokens:v}},computed:(0,o.Z)({},(0,r.rn)("translations",["translations"]))},Lu=ju,Nu=(0,K.Z)(Lu,Zu,zu,!1,null,null,null),Uu=Nu.exports,Gu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"preview"},[t.loading?n("loading",{attrs:{message:t.translations.settings.notifications.preview.gettingAppointments}}):[n("div",{staticClass:"preview-wrapper"},[n("div",{staticClass:"preview-description"},[n("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.notifications.preview.title))]),t.matchingAppointments.length?n("md-input-container",[n("label",{attrs:{for:"appointment"}},[t._v(t._s(t.translations.settings.notifications.preview.selectAppointment))]),n("select2",{attrs:{name:"appointment",id:"appointment",disabled:t.fetching},on:{input:t.previewAppointment},model:{value:t.viewAppointment,callback:function(e){t.viewAppointment=e},expression:"viewAppointment"}},t._l(t.matchingAppointments,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.customer_information.Name)+" ")])})),0)],1):n("md-input-container",[n("label",{attrs:{for:"appointmentType"}},[t._v(t._s(t.translations.settings.notifications.preview.selectAppointmentType))]),n("select2",{attrs:{name:"appointmentType",id:"appointmentType",disabled:t.fetching},on:{input:t.previewAppointmentType},model:{value:t.viewAppointmentType,callback:function(e){t.viewAppointmentType=e},expression:"viewAppointmentType"}},t._l(t.appointmentTypes,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),0)],1),n("p",[t._v(t._s(t.translations.settings.notifications.preview.description))])],1),n("md-card",{staticClass:"preview-container"},[t.fetching?n("loading",{attrs:{size:"title",message:t.translations.settings.notifications.preview.formattingPreview}}):n("div",{staticClass:"preview",domProps:{innerHTML:t._s(t.settings.notifications.preview)}})],1)],1)]],2)},Fu=[],Wu={name:"NotificationPreview",props:["message","selectedAppointmentTypes"],components:{Loading:st,select2:gs},data:function(){return{fetching:!1,loading:!0,now:R().utc().locale("en").format("YYYY-MM-DD"),moment:R(),viewAppointment:null,viewAppointmentType:null,debouncePreview:null}},mounted:function(){var t=this;if(this.upcomingAppointments&&this.upcomingAppointments.length)return this.loading=!1,this.selectDefaultAppointment(),void this.setDebouncePreview();this.fetchAppointments({end_date_min:this.now,order:"ASC",status:["booked"]}).then((function(){t.loading=!1,t.selectDefaultAppointment(),t.setDebouncePreview()}))},watch:{message:function(){"function"===typeof this.debouncePreview&&this.debouncePreview()}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({matchingAppointments:function(){var t=this,e=this.upcomingAppointments;return this.selectedAppointmentTypes.length&&(e=e.filter((function(e){return t.selectedAppointmentTypes.indexOf(e.appointment_type_id)>-1}))),Ee().sortBy(e,(function(t){return t.date_created}))},appointmentTypes:function(){var t=this,e=this.editableAppointmentTypes;return this.selectedAppointmentTypes.length&&(e=e.filter((function(e){return t.selectedAppointmentTypes.indexOf(e.id)>-1}))),e},showTz:function(){var t=this.detectedTimezone;return t!==this.settings.global.timezone_string}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat"])),(0,r.Se)(["detectedTimezone"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),(0,r.Se)("appointments",["upcomingAppointments"])),methods:(0,o.Z)((0,o.Z)({previewAppointment:function(){var t=this;this.fetching=!0,this.fetchNotificationPreview({template:this.message,appointment_id:this.viewAppointment}).then((function(){t.fetching=!1}))},previewAppointmentType:function(){var t=this;this.fetching=!0,this.fetchNotificationPreview({template:this.message,appointment_type_id:this.viewAppointmentType}).then((function(){t.fetching=!1}))},selectDefaultAppointment:function(){this.matchingAppointments.length?(this.viewAppointment=this.matchingAppointments[0].id,this.previewAppointment()):(this.viewAppointmentType=this.selectedAppointmentTypes[0].id,this.previewAppointmentType())},setDebouncePreview:function(){var t=this;this.debouncePreview=Ee().debounce((function(){t.matchingAppointments.length?t.previewAppointment():t.previewAppointmentType()}),2e3)}},(0,r.nv)("notifications",["fetchNotificationPreview"])),(0,r.nv)("appointments",["fetchAppointments"]))},Bu=Wu,Ru=(0,K.Z)(Bu,Gu,Fu,!1,null,null,null),qu=Ru.exports,Hu=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{staticClass:"limited-width",attrs:{"md-with-hover":!0,transition:"fade","md-column":""},nativeOn:{click:function(e){return t.promoClicked.apply(null,arguments)}}},[n("md-card-media",[n("a",{attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[n("img",{staticClass:"promo-img promo-plus",attrs:{src:t.api.admin_static_url+"/images/promo-sms.svg",alt:"Simply Schedule Appointments Plus"}})])]),n("md-card-header",[n("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.promo.smsUpgrade.title)+" ")])]),n("md-card-content",[n("md-card-area",{attrs:{"md-inset":""}},[n("p",[t._v(" "+t._s(t.translations.promo.smsUpgrade.text)+" ")])]),n("md-card-actions",[n("md-button",{staticClass:"md-accent md-raised",attrs:{href:t.upgradeUrlParsed,target:"_blank"}},[t._v(" "+t._s(t.translations.promo.smsUpgrade.cta)+" ")])],1)],1)],1)},Ku=[],Vu={name:"plusPromo",store:Ey,props:{dismissable:{default:!0}},computed:(0,o.Z)((0,o.Z)({upgradeUrlParsed:function(){var t=lt.split("?"),e=t[0],n=t.length>1?ut().parse(t[1]):null;return n=Object.assign(n,{utm_source:"plugin",utm_medium:"ads",utm_campaign:"upgrade-pro",utm_term:"sms",utm_content:"sms-pro-popup"}),"".concat(e,"?").concat(ut().stringify(n))}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api"])),methods:(0,o.Z)((0,o.Z)({promoClicked:function(){this.$emit("promoClicked")}},(0,r.nv)("notices",["updateDismissedNotices"])),(0,r.OI)("notices",["updateNotices"]))},Yu=Vu,Ju=(0,K.Z)(Yu,Hu,Ku,!1,null,null,null),Xu=Ju.exports,Qu={name:"notificationEdit",props:["id"],components:{duration:hi,FoxyChipSetEditable:bu,FoxyCheckboxMulti:Iu,Notification:Sn,NotificationDetails:Uu,Preview:qu,PromoSms:Xu,TokenText:xc},data:function(){return{all:!0,dirty:!1,emailOptions:[],saving:!1,showCc:!1,notification:{type:"email"},notificationTriggers:f,notificationEmailOptions:h,notificationStaffEmailOptions:_,notificationTokens:v,validAppointmentTypes:!0,validBcc:!0,validCc:!0,validMessage:!0,validSubject:!0,validTo:!0,validSmsTo:!0,validTrigger:!0,validDuration:!0,leaveWithoutSaving:!1}},beforeMount:function(){var t=this;if(this.id||0===this.id){var e=this.settings.notifications.notifications.find((function(e){return e.id===t.id}));this.notification=Ee().cloneDeep(e)}if(!Object.prototype.hasOwnProperty.call(this.notification,"id")||!this.notification.id){var n=new Date;this.$set(this.notification,"id",n.getTime())}Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")||this.$set(this.notification,"appointment_types",[]),Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")&&this.notification.appointment_types.length&&(this.all=!1),(this.notification.cc||this.notification.bcc)&&(this.showCc=!0),Object.prototype.hasOwnProperty.call(this.notification,"schema")||(this.notification.schema="2019-04-02"),this.remindersInstalled&&(this.notificationTriggers=g),this.emailOptions.length||(this.settings.installed.staff&&this.settings.staff.enabled?this.emailOptions=this.notificationStaffEmailOptions:this.emailOptions=this.notificationEmailOptions)},mounted:function(){document.execCommand("defaultParagraphSeparator",!1,"p"),this.getGuides({"ssasc-plugin-screen":this.guidesList})},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(){i.leaveWithoutSaving?n():n(!1)}))}else n()},watch:{notification:{handler:function(t,e){this.dirty=!Ee().isEmpty(e)},deep:!0},all:function(t){t&&(this.validAppointmentTypes=!0)}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({active:{get:function(){return!Object.prototype.hasOwnProperty.call(this.notification,"active")||this.notification.active},set:function(t){this.$set(this.notification,"active",t)}},title:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"title")?this.notification.title:""},set:function(t){this.$set(this.notification,"title",t)}},type:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"type")?this.notification.type:"email"},set:function(t){this.$set(this.notification,"type",t),this.appointment_types=[],this.all=!this.notAllPhone}},sent_to:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"sent_to")?this.notification.sent_to:[]},set:function(t){this.$set(this.notification,"sent_to",t)}},sms_to:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"sms_to")?this.notification.sms_to:[]},set:function(t){this.$set(this.notification,"sms_to",t)}},cc:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"cc")?this.notification.cc:[]},set:function(t){this.$set(this.notification,"cc",t)}},bcc:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"bcc")?this.notification.bcc:[]},set:function(t){this.$set(this.notification,"bcc",t)}},trigger:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"trigger")?this.notification.trigger:"appointment_booked"},set:function(t){this.$set(this.notification,"trigger",t),"appointment_start_date"!==t&&this.$set(this.notification,"when","after"),t&&(this.validTrigger=!0)}},when:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"when")?this.notification.when:"after"},set:function(t){this.$set(this.notification,"when",t)}},duration:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"duration")?this.notification.duration:0},set:function(t){this.$set(this.notification,"duration",t)}},appointment_types:{get:function(){return this.notification.appointment_types},set:function(t){this.$set(this.notification,"appointment_types",t),(t.length||this.all)&&(this.validAppointmentTypes=!0)}},subject:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"subject")?this.notification.subject:""},set:function(t){this.$set(this.notification,"subject",t),(t||"sms"===this.notification.type)&&(this.validSubject=!0)}},message:{get:function(){return Object.prototype.hasOwnProperty.call(this.notification,"message")?this.notification.message:""},set:function(t){this.$set(this.notification,"message",t),t&&(this.validMessage=!0)}},disableWhen:function(){return"appointment_start_date"!==this.trigger},notAllPhone:function(){return this.smsModule.active&&"sms"===this.type&&this.phoneAppointmentTypes.length<this.editableAppointmentTypes.length},noPhone:function(){return this.smsModule.active&&"sms"===this.type&&!this.phoneAppointmentTypes.length},appointmentTypeOptions:function(){return"sms"===this.type?this.phoneAppointmentTypes:this.editableAppointmentTypes},showWarning:function(){var t=1440,e=parseInt(this.duration,10);return this.duration<0||("appointment_start_date"===this.trigger&&e<t||"appointment_start_date"!==this.trigger&&e>0&&e<t)},durationError:function(){return this.duration<0?this.translations.appointmentTypes.negativeDuration:null},isValid:function(){var t;return"email"==this.type?t=this.validTrigger&&this.validAppointmentTypes&&this.validSubject&&this.validMessage:"sms"==this.type&&(t=this.validTrigger&&this.validAppointmentTypes&&this.validMessage),t},guidesList:function(){var t=[L.notifications.edit];return this.smsModule.installed&&this.smsModule.enabled&&t.push(L.notifications.sms_enabled),this.settings.installed.staff&&this.settings.staff.enabled&&t.push(L.notifications.staff_enabled),t}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),(0,r.Se)("notifications",["phoneAppointmentTypes","smsModule","remindersInstalled","validateEmail"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({cancelEdit:function(){this.$router.push("/ssa/settings/notifications/list")},closeDialog:function(){this.$refs["upgradeSms"].close()},saveNotification:function(){var t=this;this.validationCheck()&&(this.saving=!0,this.stripSubject(),this.id||0===this.id?this.setSingleNotification({id:this.id,notification:this.notification}):this.addSettingsNotification(this.notification),this.saveNotificationSingle(this.notification.id).then((function(){t.saving=!1,t.dirty=!1,t.$emit("saved")})))},maybeShowUpgrade:function(){this.smsModule.installed||this.$refs["upgradeSms"].open()},stripSubject:function(){if(Object.prototype.hasOwnProperty.call(this.notification,"subject")){var t=this.notification.subject,e=t.replace(/&nbsp;/g," ");this.$set(this.notification,"subject",e)}},toggleAll:function(t){if(t)this.$set(this.notification,"appointment_types",[]);else{var e=this.editableAppointmentTypes.map((function(t){return t.id}));this.$set(this.notification,"appointment_types",e)}},toggleShowCc:function(){this.showCc=!this.showCc},validateBcc:function(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validBcc=!0:this.validBcc=this.validateEmail(t):this.validBcc=!0},validateCc:function(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validCc=!0:this.validCc=this.validateEmail(t):this.validCc=!0},validateTo:function(t){t.length?0===t.indexOf("{{")&&t.indexOf("}}")>-1?this.validTo=!0:this.validTo=this.validateEmail(t):this.validTo=!0},validateSubject:function(t){this.validSubject=t},validateMessage:function(t){this.validMessage=t},validationCheck:function(){return this.validTo="email"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"sent_to")&&this.notification.sent_to.length>0,this.validSmsTo="sms"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"sms_to")&&this.notification.sms_to.length>0,this.validTrigger=!!this.notification.trigger,this.validSubject="email"!==this.notification.type||Object.prototype.hasOwnProperty.call(this.notification,"subject")&&this.notification.subject.length,this.validMessage=Object.prototype.hasOwnProperty.call(this.notification,"message")&&this.notification.message.length,this.validAppointmentTypes=Object.prototype.hasOwnProperty.call(this.notification,"appointment_types")&&this.notification.appointment_types.length||this.all,this.validDuration=parseInt(this.duration)>=0,this.validTo&&this.validSmsTo&&this.validTrigger&&this.validSubject&&this.validMessage&&this.validAppointmentTypes&&this.validDuration},dialogLeaveWithoutSaving:function(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits:function(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}},(0,r.OI)(["addSettingsNotification","setNotificationPreview","setSingleNotification"])),(0,r.nv)("notifications",["saveNotificationSingle"])),(0,r.nv)("guides",["getGuides"]))},tm=Qu,em=(0,K.Z)(tm,tu,eu,!1,null,null,null),nm=em.exports,im=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveSms.apply(null,arguments)}}},[n("md-dialog",{ref:"confirmLeaveDirty"},[n("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.sms.confirmIgnoreChangesTitle)}}),n("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.sms.confirmIgnoreChangesContent)}}),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.sms.confirmIgnoreChangesCancel))]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.sms.confirmIgnoreChangesOkay))])],1)],1),n("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.errors.troubleSaving))]),n("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),n("md-snackbar",{ref:"twilioError",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.errorMessage))])]),n("md-snackbar",{ref:"testMessageSent",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.testMessageStatus))])]),n("div",{staticClass:"settings-header"},[n("router-link",{attrs:{tag:"md-button",to:"/ssa/settings/notifications"}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.notifications.returnToNotifications)+" ")],1),n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.sms.title))])],1),t.settings.sms.enabled?[t.twilio_test_mode_enabled?n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.sms.testModeWarning)+" ")]):t._e(),n("accordion",[n("accordion-item",{attrs:{label:t.translations.settings.sms.basics,message:t.translations.settings.sms.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[n("md-input-container",{class:{"md-input-invalid":t.$v.twilio_account_sid.$invalid&&t.$v.twilio_account_sid.$dirty}},[n("label",{attrs:{for:"twilio_account_sid"}},[t._v(t._s(t.translations.settings.sms.twilioAccountSid))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.twilio_account_sid.$model,callback:function(e){t.$set(t.$v.twilio_account_sid,"$model","string"===typeof e?e.trim():e)},expression:"$v.twilio_account_sid.$model"}}),t.$v.twilio_account_sid.$invalid&&t.$v.twilio_account_sid.$dirty?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidError)+" - "),n("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidHelp)+" ")])]):n("span",{staticClass:"md-helper-text"},[n("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAccountSidHelp)+" ")])])],1),n("md-input-container",{class:{"md-input-invalid":t.$v.twilio_auth_token.$invalid&&t.$v.twilio_auth_token.$dirty}},[n("label",{attrs:{for:"twilio_auth_token"}},[t._v(t._s(t.translations.settings.sms.twilioAuthToken))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.twilio_auth_token.$model,callback:function(e){t.$set(t.$v.twilio_auth_token,"$model","string"===typeof e?e.trim():e)},expression:"$v.twilio_auth_token.$model"}}),t.$v.twilio_auth_token.$invalid&&t.$v.twilio_auth_token.$dirty?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenError)+" - "),n("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenHelp)+" ")])]):n("span",{staticClass:"md-helper-text"},[n("a",{attrs:{href:"https://www.twilio.com/console/project/settings",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioAuthTokenHelp)+" ")])])],1),n("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validPhone}},[n("label",{attrs:{for:"twilio_send_from_phone"}},[t._v(t._s(t.translations.settings.sms.twilioSendFromPhone))]),n("telephone",{attrs:{required:"",placeholder:"",disabled:t.saving,"input-options":{"aria-describedby":"twilio_send_from_phone_error twilio_send_from_phone_helper",id:"twilio_send_from_phone"}},on:{validate:t.validatePhone},model:{value:t.twilio_send_from_phone,callback:function(e){t.twilio_send_from_phone="string"===typeof e?e.trim():e},expression:"twilio_send_from_phone"}}),t.validPhone?n("span",{staticClass:"md-helper-text",attrs:{id:"twilio_send_from_phone_helper"}},[n("a",{attrs:{href:"https://www.twilio.com/console/sms/services",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneHelp)+" ")])]):n("span",{staticClass:"md-error",attrs:{id:"twilio_send_from_phone_error"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneError)+" - "),n("a",{attrs:{href:"https://www.twilio.com/console/sms/services",target:"_blank"}},[t._v(" "+t._s(t.translations.settings.sms.twilioSendFromPhoneHelp)+" ")])])],1)],1),n("accordion-item",{attrs:{label:t.translations.settings.sms.sendTest,message:t.translations.settings.sms.sendTestMessage,index:"2",open:t.section},on:{updateActive:t.updateSection}},[t.dirty||t.missing?n("empty",{attrs:{label:"Settings not saved",description:"Save your settings before attempting to send a test message"}}):[n("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validTestPhone}},[n("label",{attrs:{for:"twilio_test_phone"}},[t._v(t._s(t.translations.settings.sms.sendTestTo))]),n("telephone",{attrs:{required:"",placeholder:"",disabled:t.sendingTest,"input-options":{"aria-describedby":"twilio_test_phone_error twilio_test_phone_helper",id:"twilio_test_phone"}},on:{validate:t.validateTestPhone},model:{value:t.testPhone,callback:function(e){t.testPhone="string"===typeof e?e.trim():e},expression:"testPhone"}}),t.validTestPhone?n("span",{staticClass:"md-helper-text",attrs:{id:"twilio_test_phone_helper"}},[t._v(" "+t._s(t.translations.settings.sms.sendTestToHelp)+" ")]):n("span",{staticClass:"md-error",attrs:{id:"twilio_test_phone_error"}},[t._v(" "+t._s(t.translations.settings.sms.sendTestToError)+" ")])],1),n("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:t.sendingTest},on:{click:t.sendTest}},[t._v(" "+t._s(t.translations.settings.sms.sendTest)+" ")])]],2)],1),n("div",{staticClass:"button-bar"},[n("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/notifications",disabled:t.saving}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveSms}},[t._v(" "+t._s(t.translations.general.save)+" ")]),n("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:n("setting-not-enabled")],2)},sm=[],am={name:"notifications-sms",mixins:[_i.oE],components:{Accordion:ni,AccordionItem:li,Notification:Sn,Telephone:Jo,Empty:te,SettingNotEnabled:Bl},data:function(){return{dirty:!1,errorMessage:"",saving:!1,section:"0",sendingTest:!1,testMessageStatus:"",testPhone:null,validPhone:!0,validTestPhone:!0,leaveWithoutSaving:!1}},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(){i.leaveWithoutSaving?n():n(!1)}))}else n()},watch:{sms:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{twilio_account_sid:{required:vi.C1},twilio_auth_token:{required:vi.C1},twilio_send_from_phone:{required:vi.C1},twilio_test_account_sid:{required:(0,vi.CF)("twilio_test_mode_enabled")},twilio_test_auth_token:{required:(0,vi.CF)("twilio_test_mode_enabled")}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.notifications.sms})},computed:(0,o.Z)((0,o.Z)((0,o.Z)({twilio_account_sid:{get:function(){return this.settings.sms.twilio_account_sid},set:function(t){this.updateTwilioAccountSid(t)}},twilio_auth_token:{get:function(){return this.settings.sms.twilio_auth_token},set:function(t){this.updateTwilioAuthToken(t)}},twilio_send_from_phone:{get:function(){return this.settings.sms.twilio_send_from_phone},set:function(t){this.updateTwilioSendFromPhone(t)}},twilio_test_mode_enabled:{get:function(){return!!this.settings.sms.twilio_test_mode_enabled},set:function(t){this.updateTwilioTestModeEnabled(t)}},twilio_test_account_sid:{get:function(){return this.settings.sms.twilio_test_account_sid},set:function(t){this.updateTwilioTestAccountSid(t)}},twilio_test_auth_token:{get:function(){return this.settings.sms.twilio_test_auth_token},set:function(t){this.updateTwilioTestAuthToken(t)}},missing:function(){return this.twilio_test_mode_enabled?!this.twilio_test_account_sid||!this.twilio_test_auth_token||!this.twilio_send_from_phone:!this.twilio_send_from_phone||!this.twilio_account_sid||!this.twilio_auth_token}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("notifications",["sms","smsModule"])),methods:(0,o.Z)((0,o.Z)({retrySave:function(){this.$refs.errorSaving.close(),this.saveSmsSettings()},saveSms:function(){var t=this;this.validatePhone(),this.$v.$touch(),this.$v.$invalid||!this.validPhone?this.section="0":(this.saving=!0,this.saveSmsSettings().then((function(){t.authorizeTwilio().then((function(){t.dirty=!1,t.saving=!1,t.$router.push("/ssa/settings/notifications")})).catch((function(e){t.saving=!1;var n=e.response_code,i=e.error.errors;t.errorMessage=i[n][0],t.$refs["twilioError"].open()}))})).catch((function(e,n){console.log("failed to save",n),t.saving=!1,t.$refs.errorSaving.open()})))},sendTest:function(){var t=this;this.testPhone?(this.sendingTest=!0,this.sendTestMessage(this.testPhone).then((function(){t.sendingTest=!1,t.testMessageStatus=t.translations.settings.sms.sendTestSuccess,t.$refs["testMessageSent"].open()})).catch((function(e){t.sendingTest=!1,console.log(e),t.testMessageStatus=t.translations.settings.sms.sendTestFailure,t.$refs["testMessageSent"].open()}))):this.validTestPhone=!1},updateSection:function(t){this.section=t||null},validatePhone:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.twilio_send_from_phone?this.validPhone=t:this.validPhone=!1},validateTestPhone:function(t){this.validTestPhone=t},dialogLeaveWithoutSaving:function(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits:function(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}},(0,r.nv)("notifications",["authorizeTwilio","saveSmsSettings","sendTestMessage","updateTwilioAccountSid","updateTwilioAuthToken","updateTwilioSendFromPhone","updateTwilioTestModeEnabled","updateTwilioTestAccountSid","updateTwilioTestAuthToken"])),(0,r.nv)("guides",["getGuides"]))},om=am,rm=(0,K.Z)(om,im,sm,!1,null,null,null),lm=rm.exports,cm=[{path:"notifications",component:Zp,redirect:"/ssa/settings/notifications/list",meta:{ssa_manage_site_settings:!0},children:[{path:"list",name:"notifications-list",component:Qp},{path:"notification/:id?",name:"notification-single",component:nm,props:!0},{path:"sms",name:"notifications-sms",component:lm}]}],dm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payments-settings"},["payments-all"===t.$route.name?n("settings-header"):n("payments-header"),n("router-view")],1)},pm=[],um=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payments-header"},[n("router-link",{attrs:{tag:"md-button",to:"/ssa/settings/payments/all"}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.settings.payments.returnToPayments)+" ")],1),t.headline?n("h2",{staticClass:"md-title"},[t._v(t._s(t.headline))]):t._e()],1)},mm=[],fm={name:"payments-header",data:function(){return{}},computed:(0,o.Z)({headline:function(){var t;switch(this.$route.name){case"payments-paypal":t="PayPal";break;case"payments-stripe":t="Stripe";break}return t}},(0,r.rn)("translations",["translations"]))},gm=fm,hm=(0,K.Z)(gm,um,mm,!1,null,null,null),_m=hm.exports,vm={name:"settingsPayments",components:{SettingsHeader:ir,PaymentsHeader:_m},data:function(){return{}}},ym=vm,bm=(0,K.Z)(ym,dm,pm,!1,null,null,null),km=bm.exports,Cm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payments-settings settings-list"},[t.settings.payments.enabled?[n("md-input-container",[n("label",{attrs:{for:"default_currency"}},[t._v(t._s(t.translations.settings.payments.defaultCurrency))]),n("select2",{attrs:{name:"default_currency",id:"default_currency"},model:{value:t.default_currency,callback:function(e){t.default_currency=e},expression:"default_currency"}},t._l(t.currencies,(function(e){return n("option",{key:e.number,domProps:{value:e.code}},[t._v(t._s(e.currency)+" ("+t._s(e.code)+")")])})),0)],1),n("md-layout",{staticClass:"settings-list-container",attrs:{"md-gutter":!0}},[n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/logo-stripe.svg",title:"Stripe","card-style":"payments-settings"},on:{edit:function(e){return t.editPayments("stripe")}},model:{value:t.stripe_enabled,callback:function(e){t.stripe_enabled=e},expression:"stripe_enabled"}},[t.stripeModule.enabled&&!t.stripeModule.active?n("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.noConnection)+" ")]):t.stripeModule.test_mode?n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.testModeWarning)+" ")]):t._e()],1),n("settings-card",{attrs:{image:t.api.admin_static_url+"/images/logo-paypal.svg",title:"PayPal","card-style":"payments-settings"},on:{edit:function(e){return t.editPayments("paypal")}},model:{value:t.paypal_enabled,callback:function(e){t.paypal_enabled=e},expression:"paypal_enabled"}},[t.paypalModule.enabled&&!t.paypalModule.active?n("notification",{attrs:{theme:"amber",icon:"warning"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.noConnection)+" ")]):t.paypalModule.sandbox?n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sandboxMode)+" ")]):t._e()],1),n("router-view")],1)]:n("setting-not-enabled")],2)},Sm=[],wm={name:"settingsPaymentsAll",components:{SettingsCard:Oo,Select2:gs,Notification:Sn,SettingNotEnabled:Bl},data:function(){return{currencies:P}},watch:{guidesList:function(){this.getGuides({"ssasc-plugin-screen":this.guidesList})}},mounted:function(){this.getGuides({"ssasc-plugin-screen":this.guidesList})},computed:(0,o.Z)((0,o.Z)((0,o.Z)({default_currency:{get:function(){return this.settings.payments.default_currency},set:function(t){this.updateDefaultCurrency(t)}},stripe_enabled:{get:function(){return!!this.settings.stripe.enabled},set:function(t){this.updateStripeEnabled(t)}},paypal_enabled:{get:function(){return!!this.settings.paypal.enabled},set:function(t){this.updatePaypalEnabled(t)}},woocommerce_enabled:function(){return!1},guidesList:function(){var t=[L.payments.all];return this.stripe_enabled&&t.push(L.payments.stripe_enabled),this.paypal_enabled&&t.push(L.payments.paypal_enabled),t}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings"])),(0,r.Se)("payments",["paypalModule","stripeModule"])),methods:(0,o.Z)((0,o.Z)({editPayments:function(t){this.$router.push("/ssa/settings/payments/".concat(t))}},(0,r.nv)("payments",["updatePaypalEnabled","updateStripeEnabled","updateDefaultCurrency"])),(0,r.nv)("guides",["getGuides"]))},Tm=wm,xm=(0,K.Z)(Tm,Cm,Sm,!1,null,null,null),Am=xm.exports,Pm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.savePaypal.apply(null,arguments)}}},[t.settings.paypal.enabled?[n("md-dialog",{ref:"confirmLeaveDirty"},[n("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.payments.confirmIgnoreChangesTitle)}}),n("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.payments.confirmIgnoreChangesContent)}}),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesCancel))]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesOkay))])],1)],1),n("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.errors.troubleSaving))]),n("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),t.showSslWarning?n("notification",{attrs:{icon:"error",theme:"red"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sslWarning)+" ")]):t.paypalModule.sandbox?n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.paypal.sandboxMode)+" ")]):t._e(),n("accordion",[n("accordion-item",{attrs:{label:t.translations.settings.payments.basics,message:t.translations.settings.payments.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[n("md-input-container",{class:{"md-input-invalid":t.$v.paypal_display_title.$invalid&&t.$v.paypal_display_title.$dirty}},[n("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.displayTitle))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.paypal_display_title.$model,callback:function(e){t.$set(t.$v.paypal_display_title,"$model",e)},expression:"$v.paypal_display_title.$model"}}),t.$v.paypal_display_title.$invalid&&t.$v.paypal_display_title.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.displayTitleError))]):n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.displayTitleHelp))])],1),n("md-input-container",[n("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.description))]),n("md-input",{attrs:{disabled:t.saving},model:{value:t.paypal_description,callback:function(e){t.paypal_description=e},expression:"paypal_description"}}),n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.descriptionHelp))])],1),n("md-input-container",{class:{"md-input-invalid":t.$v.paypal_email.$invalid&&t.$v.paypal_email.$dirty}},[n("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.paypal.email))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.paypal_email.$model,callback:function(e){t.$set(t.$v.paypal_email,"$model","string"===typeof e?e.trim():e)},expression:"$v.paypal_email.$model"}}),t.$v.paypal_email.$invalid&&t.$v.paypal_email.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.paypal.emailError))]):n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.paypal.emailHelp))])],1),n("md-input-container",{staticClass:"md-copyable"},[n("label",{attrs:{for:"ipn_url"}},[t._v(t._s(t.translations.settings.payments.paypal.ipn_url))]),n("md-input",{ref:"ipnUrlValue",attrs:{readonly:"",disabled:t.saving},nativeOn:{click:function(e){return t.copyIpnUrl.apply(null,arguments)}},model:{value:t.ipn_url,callback:function(e){t.ipn_url=e},expression:"ipn_url"}}),n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.paypal.ipnHelpPrefix)+" "),n("a",{attrs:{href:"https://simplyscheduleappointments.com/document/paypal-ipn-settings/",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.paypal.ipnHelp))])]),n("md-button",{staticClass:"md-icon-button md-copy-input",on:{click:t.copyIpnUrl}},[n("md-icon",[t._v("file_copy")])],1),n("md-snackbar",{ref:"ipnNotice",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.payments.paypal.ipnCopied))])])],1)],1),n("accordion-item",{attrs:{label:t.translations.settings.payments.advanced,message:t.translations.settings.payments.advancedMessage,index:"1",open:t.section},on:{updateActive:t.updateSection}},[n("p",[t._v(t._s(t.translations.settings.payments.paypal.sandboxHelp1)+" "),n("a",{attrs:{href:"https://developer.paypal.com/",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.paypal.sandboxHelp2))])]),n("md-list",[n("md-list-item",[n("md-checkbox",{attrs:{disabled:t.saving},model:{value:t.paypal_sandbox_enabled,callback:function(e){t.paypal_sandbox_enabled=e},expression:"paypal_sandbox_enabled"}},[t._v(t._s(t.translations.settings.payments.paypal.enableSandbox))])],1)],1)],1)],1),n("div",{staticClass:"button-bar"},[n("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments",disabled:t.saving}},[t._v(t._s(t.translations.general.cancel))]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.savePaypal}},[t._v(t._s(t.translations.general.save))]),n("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:n("setting-not-enabled")],2)},Mm=[],Em={name:"payments-paypal",mixins:[_i.oE],components:{Accordion:ni,AccordionItem:li,Notification:Sn,SettingNotEnabled:Bl},data:function(){return{section:"0",dirty:!1,saving:!1,showSslWarning:!1,leaveWithoutSaving:!1}},mounted:function(){var t=this;this.getGuides({"ssasc-plugin-screen":L.paypal}),Ee().isEmpty(this.support)?this.fetchSupportDetails().then((function(){t.maybeShowSslWarning()})):this.maybeShowSslWarning()},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(){i.leaveWithoutSaving?n():n(!1)}))}else n()},watch:{paypal:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{paypal_display_title:{required:vi.C1},paypal_email:{required:vi.C1,email:vi.Do}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({ipn_url:function(){return this.settings.paypal.ipn_url},paypal_description:{get:function(){return this.settings.paypal.description},set:function(t){this.updatePaypalDescription(t)}},paypal_display_title:{get:function(){return this.settings.paypal.title},set:function(t){this.updatePaypalTitle(t)}},paypal_email:{get:function(){return this.settings.paypal.email},set:function(t){this.updatePaypalEmail(t)}},paypal_identity_token:{get:function(){return this.settings.paypal.identity_token},set:function(t){this.updatePaypalIdentityToken(t)}},paypal_sandbox_enabled:{get:function(){return this.settings.paypal.sandbox_enabled},set:function(t){this.updatePaypalSandbox(t)}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","support"])),(0,r.Se)("payments",["paypalModule"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({copyIpnUrl:function(){var t=this.$refs["ipnUrlValue"].$el,e=t.value.trim();e&&(t.select(),document.execCommand("copy"),this.$refs["ipnNotice"].open())},maybeShowSslWarning:function(){"good"!==this.support.site_status.https_status.status&&(this.showSslWarning=!0)},savePaypal:function(){var t=this;this.$v.$touch(),this.$v.$invalid?this.section="0":(this.saving=!0,this.savePaypalSettings().then((function(){t.dirty=!1,t.saving=!1,t.$router.push("/ssa/settings/payments")})).catch((function(){t.saving=!1,t.$refs.errorSaving.open()})))},retrySave:function(){this.$refs.errorSaving.close(),this.savePaypal()},updateSection:function(t){this.section=t||null},dialogLeaveWithoutSaving:function(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits:function(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}},(0,r.nv)(["fetchSupportDetails"])),(0,r.nv)("payments",["savePaypalSettings","updatePaypalDescription","updatePaypalEmail","updatePaypalIdentityToken","updatePaypalSandbox","updatePaypalTitle"])),(0,r.nv)("guides",["getGuides"]))},Dm=Em,$m=(0,K.Z)(Dm,Pm,Mm,!1,null,null,null),Om=$m.exports,Im=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{class:{saving:t.saving},attrs:{novalidate:""},on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.saveStripe.apply(null,arguments)}}},[t.settings.stripe.enabled?[n("md-dialog",{ref:"confirmLeaveDirty"},[n("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.payments.confirmIgnoreChangesTitle)}}),n("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.payments.confirmIgnoreChangesContent)}}),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesCancel))]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.payments.confirmIgnoreChangesOkay))])],1)],1),n("md-snackbar",{ref:"errorSaving",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.errors.troubleSaving))]),n("md-button",{staticClass:"md-accent",on:{click:t.retrySave}},[t._v(t._s(t.translations.actions.retry))])],1),t.stripeModule.test_mode?n("notification",{attrs:{icon:"info"}},[t._v(" "+t._s(t.translations.settings.payments.stripe.testModeWarning)+" ")]):t._e(),n("accordion",[n("accordion-item",{attrs:{label:t.translations.settings.payments.basics,message:t.translations.settings.payments.basicsMessage,index:"0",open:t.section},on:{updateActive:t.updateSection}},[n("md-input-container",{class:{"md-input-invalid":t.$v.stripe_display_title.$invalid&&t.$v.stripe_display_title.$dirty}},[n("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.displayTitle))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.stripe_display_title.$model,callback:function(e){t.$set(t.$v.stripe_display_title,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_display_title.$model"}}),t.$v.stripe_display_title.$invalid&&t.$v.stripe_display_title.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.displayTitleError))]):n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.displayTitleHelp))])],1),n("md-input-container",[n("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.payments.description))]),n("md-input",{attrs:{disabled:t.saving},model:{value:t.stripe_description,callback:function(e){t.stripe_description="string"===typeof e?e.trim():e},expression:"stripe_description"}}),n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.descriptionHelp))])],1),n("md-input-container",{class:{"md-input-invalid":t.$v.stripe_statement_descriptor.$invalid&&t.$v.stripe_statement_descriptor.$dirty}},[n("label",{attrs:{for:"descriptor"}},[t._v(t._s(t.translations.settings.payments.statementDescriptor))]),n("md-input",{attrs:{disabled:t.saving},model:{value:t.$v.stripe_statement_descriptor.$model,callback:function(e){t.$set(t.$v.stripe_statement_descriptor,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_statement_descriptor.$model"}}),t.$v.stripe_statement_descriptor.$invalid&&t.$v.stripe_statement_descriptor.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.statementDescriptorError))]):n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.statementDescriptorHelp))])],1),n("md-input-container",{class:{"md-input-invalid":t.$v.stripe_publishable_key.$invalid&&t.$v.stripe_publishable_key.$dirty}},[n("label",{attrs:{for:"publishable_key"}},[t._v(t._s(t.translations.settings.payments.stripe.publishableKey))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.stripe_publishable_key.$model,callback:function(e){t.$set(t.$v.stripe_publishable_key,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_publishable_key.$model"}}),t.$v.stripe_publishable_key.$invalid&&t.$v.stripe_publishable_key.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.stripe.publishableKeyError)+" – "),n("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])]):n("span",{staticClass:"md-helper-text"},[n("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.publishableKeyHelp))])])],1),n("md-input-container",{class:{"md-input-invalid":t.$v.stripe_secret_key.$invalid&&t.$v.stripe_secret_key.$dirty}},[n("label",{attrs:{for:"secret_key"}},[t._v(t._s(t.translations.settings.payments.stripe.secretKey))]),n("md-input",{attrs:{required:"",disabled:t.saving},model:{value:t.$v.stripe_secret_key.$model,callback:function(e){t.$set(t.$v.stripe_secret_key,"$model","string"===typeof e?e.trim():e)},expression:"$v.stripe_secret_key.$model"}}),t.$v.stripe_secret_key.$invalid&&t.$v.stripe_secret_key.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.stripe.secretKeyError)+" – "),n("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])]):n("span",{staticClass:"md-helper-text"},[n("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.secretKeyHelp))])])],1),n("md-input-container",{staticClass:"md-copyable"},[n("label",{attrs:{for:"webhook"}},[t._v(t._s(t.translations.settings.payments.stripe.webhook))]),n("md-input",{ref:"webhookValue",attrs:{readonly:"",disabled:t.saving},nativeOn:{click:function(e){return t.copyWebhook.apply(null,arguments)}},model:{value:t.stripe_webhook,callback:function(e){t.stripe_webhook=e},expression:"stripe_webhook"}}),n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.payments.stripe.webhookHelpPrefix)+" "),n("a",{attrs:{href:"https://dashboard.stripe.com/account/webhooks",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.webhookHelpTarget))])]),n("md-button",{staticClass:"md-icon-button md-copy-input",on:{click:t.copyWebhook}},[n("md-icon",[t._v("file_copy")])],1)],1),n("md-snackbar",{ref:"webhookNotice",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.payments.stripe.webhookCopied))])])],1),n("accordion-item",{attrs:{label:t.translations.settings.payments.advanced,message:t.translations.settings.payments.advancedMessage,index:"1",open:t.section},on:{updateActive:t.updateSection}},[n("p",[t._v(t._s(t.translations.settings.payments.stripe.testModeHelp))]),n("md-list",[n("md-list-item",[n("md-checkbox",{attrs:{disabled:t.saving},model:{value:t.stripe_test_mode_enabled,callback:function(e){t.stripe_test_mode_enabled=e},expression:"stripe_test_mode_enabled"}},[t._v(t._s(t.translations.settings.payments.stripe.testMode))])],1)],1),n("md-input-container",{class:{"md-input-invalid":t.$v.stripe_test_publishable_key.$invalid&&t.$v.stripe_test_publishable_key.$dirty}},[n("label",{attrs:{for:"test-publishable-key"}},[t._v(t._s(t.translations.settings.payments.stripe.testPublishableKey))]),n("md-input",{attrs:{disabled:t.saving},model:{value:t.$v.stripe_test_publishable_key.$model,callback:function(e){t.$set(t.$v.stripe_test_publishable_key,"$model",e)},expression:"$v.stripe_test_publishable_key.$model"}}),t.$v.stripe_test_publishable_key.$invalid&&t.$v.stripe_test_publishable_key.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.stripe.testPublishableKeyError)+" – "),n("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])]):n("span",{staticClass:"md-helper-text"},[n("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testPublishableKeyHelp))])])],1),n("md-input-container",{class:{"md-input-invalid":t.$v.stripe_test_secret_key.$invalid&&t.$v.stripe_test_secret_key.$dirty}},[n("label",{attrs:{for:"test-secret-key"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKey))]),n("md-input",{attrs:{disabled:t.saving},model:{value:t.$v.stripe_test_secret_key.$model,callback:function(e){t.$set(t.$v.stripe_test_secret_key,"$model",e)},expression:"$v.stripe_test_secret_key.$model"}}),t.$v.stripe_test_secret_key.$invalid&&t.$v.stripe_test_secret_key.$dirty?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyError)+" – "),n("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])]):n("span",{staticClass:"md-helper-text"},[n("a",{attrs:{href:"https://dashboard.stripe.com/account/apikeys",target:"_blank"}},[t._v(t._s(t.translations.settings.payments.stripe.testSecretKeyHelp))])])],1)],1)],1),n("div",{staticClass:"button-bar"},[n("router-link",{staticClass:"md-raised",attrs:{tag:"md-button",to:"/ssa/settings/payments",disabled:t.saving}},[t._v(t._s(t.translations.general.cancel))]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStripe}},[t._v(t._s(t.translations.general.save))]),n("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.saving,expression:"saving"}],staticClass:"md-primary",attrs:{"md-indeterminate":""}})],1)]:n("setting-not-enabled")],2)},Zm=[],zm=vi.BM.regex("statementValidator",/^(?=[^a-z]*[a-z])(?:(?![<>\\'"])[ -~]){1,11}$/i),jm={name:"payments-stripe",mixins:[_i.oE],components:{Accordion:ni,AccordionItem:li,Notification:Sn,SettingNotEnabled:Bl},data:function(){return{section:"0",dirty:!1,saving:!1,leaveWithoutSaving:!1}},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(){i.leaveWithoutSaving?n():n(!1)}))}else n()},watch:{stripe:{handler:function(t,e){this.dirty=e},deep:!0}},validations:{stripe_display_title:{required:vi.C1},stripe_publishable_key:{required:vi.C1},stripe_secret_key:{required:vi.C1},stripe_test_publishable_key:{required:(0,vi.CF)("stripe_test_mode_enabled")},stripe_test_secret_key:{required:(0,vi.CF)("stripe_test_mode_enabled")},stripe_statement_descriptor:{statementValidator:zm}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.stripe})},computed:(0,o.Z)((0,o.Z)((0,o.Z)({stripe_description:{get:function(){return this.settings.stripe.description},set:function(t){this.updateStripeDescription(t)}},stripe_statement_descriptor:{get:function(){return this.settings.stripe.statement_descriptor},set:function(t){this.updateStripeStatementDescriptor(t)}},stripe_display_title:{get:function(){return this.settings.stripe.title},set:function(t){this.updateStripeTitle(t)}},stripe_publishable_key:{get:function(){return this.settings.stripe.publishable_key},set:function(t){this.updateStripePublishableKey(t)}},stripe_secret_key:{get:function(){return this.settings.stripe.secret_key},set:function(t){this.updateStripeSecretKey(t)}},stripe_webhook:function(){return this.settings.stripe.webhook},stripe_test_mode_enabled:{get:function(){return this.settings.stripe.test_mode_enabled},set:function(t){this.updateStripeTestMode(t)}},stripe_test_publishable_key:{get:function(){return this.settings.stripe.test_publishable_key},set:function(t){this.updateStripeTestPublishableKey(t)}},stripe_test_secret_key:{get:function(){return this.settings.stripe.test_secret_key},set:function(t){this.updateStripeTestSecretKey(t)}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("payments",["stripe","stripeModule"])),methods:(0,o.Z)((0,o.Z)({saveStripe:function(){var t=this;this.$v.$touch(),this.$v.$invalid?this.section="0":(this.saving=!0,this.saveStripeSettings().then((function(){t.dirty=!1,t.saving=!1,t.$router.push("/ssa/settings/payments")})).catch((function(){t.saving=!1,t.$refs.errorSaving.open()})))},retrySave:function(){this.$refs.errorSaving.close(),this.saveStripe()},copyWebhook:function(){var t=this.$refs["webhookValue"].$el,e=t.value.trim();e&&(t.select(),document.execCommand("copy"),this.$refs["webhookNotice"].open())},updateSection:function(t){this.section=t||null},dialogLeaveWithoutSaving:function(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits:function(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}},(0,r.nv)("payments",["saveStripeSettings","updateStripeDescription","updateStripeStatementDescriptor","updateStripeTitle","updateStripePublishableKey","updateStripeSecretKey","updateStripeTestMode","updateStripeTestPublishableKey","updateStripeTestSecretKey"])),(0,r.nv)("guides",["getGuides"]))},Lm=jm,Nm=(0,K.Z)(Lm,Im,Zm,!1,null,null,null),Um=Nm.exports,Gm=[{path:"payments",component:km,redirect:"/ssa/settings/payments/all",meta:{ssa_manage_site_settings:!0},children:[{path:"all",name:"payments-all",component:Am},{path:"paypal",name:"payments-paypal",component:Om},{path:"stripe",name:"payments-stripe",component:Um}]}],Fm=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"webhooks-all"},[n("router-view",{on:{saved:t.backToList}})],1)},Wm=[],Bm={name:"webhooksAll",store:Ey,data:function(){return{}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.webhooks})},methods:(0,o.Z)({backToList:function(){this.$router.push("/ssa/settings/webhooks/list")}},(0,r.nv)("guides",["getGuides"]))},Rm=Bm,qm=(0,K.Z)(Rm,Fm,Wm,!1,null,null,null),Hm=qm.exports,Km=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"webhooks-settings"},[n("settings-header"),t.settings.webhooks.enabled?[n("md-toolbar",{staticClass:"md-transparent"},[n("div",{staticStyle:{flex:"1"}},[n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.title))])]),n("md-button",{staticClass:"md-primary",on:{click:t.addWebhook}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.webhooks.actions.addNew)+" ")],1)],1),t.settings.webhooks.webhooks.length?n("md-list",{staticClass:"md-double-line webhook-list"},t._l(t.settings.webhooks.webhooks,(function(e,i){return n("md-list-item",{key:i},[n("div",{staticClass:"md-list-item-container"},[n("div",{staticClass:"md-list-text-container",on:{click:function(e){return t.editWebhook(i)}}},[n("span",[t._v(t._s(e.title))]),n("span",[1===e.triggers.length?[t._v(t._s(t.translations.settings.webhooks.fields.trigger_single))]:[t._v(t._s(t.translations.settings.webhooks.fields.trigger_plural))],t._l(e.triggers,(function(n,i){return[t._v(t._s(t.translations.settings.webhooks.fields.triggerNames[n])),i<e.triggers.length-1?[t._v(", ")]:t._e()]}))],2)]),n("md-menu",[n("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":""}},[n("md-icon",{staticClass:"md-primary"},[t._v("settings")])],1),n("md-menu-content",[n("md-menu-item",{on:{click:function(e){return t.editWebhook(i)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("edit")]),n("span",[t._v(t._s(t.translations.actions.edit))])],1),n("md-menu-item",{on:{click:function(e){return t.cloneWebhook(i)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("content_copy")]),n("span",[t._v(t._s(t.translations.actions.clone))])],1),n("md-menu-item",{on:{click:function(e){return t.confirmDelete(i)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("delete")]),n("span",[t._v(t._s(t.translations.actions.delete))])],1)],1)],1),n("md-divider")],1)])})),1):n("empty",{attrs:{label:t.translations.settings.webhooks.empty}},[n("md-button",{staticClass:"md-primary md-raised",on:{click:t.addWebhook}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.webhooks.actions.addNew)+" ")],1)],1),n("md-dialog",{ref:"confirmDelete"},[n("md-dialog-title",[t._v(t._s(t.translations.settings.webhooks.confirmDelete))]),t.deletedIndex||0===t.deletedIndex?n("md-dialog-content",[t._v(" "+t._s(t.settings.webhooks.webhooks[t.deletedIndex].title)+" ")]):t._e(),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelDelete}},[t._v(t._s(t.translations.settings.webhooks.confirmDeleteCancel))]),n("md-button",{on:{click:t.deleteWebhook}},[t._v(t._s(t.translations.settings.webhooks.confirmDeleteOk))])],1)],1)]:n("setting-not-enabled")],2)},Vm=[],Ym={name:"settingsWebhooksList",components:{SettingsHeader:ir,Empty:te,SettingNotEnabled:Bl},data:function(){return{deletedIndex:null}},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)({addWebhook:function(){this.$router.push({name:"webhook-single"})},editWebhook:function(t){this.$router.push({name:"webhook-single",params:{index:t}})},cloneWebhook:function(t){this.cloneSettingsWebhook({index:t,settings:this.settings}),this.updateWebhooksSettings(),this.$router.push({name:"webhook-single",params:{index:this.settings.webhooks.webhooks.length-1}})},deleteWebhook:function(){this.deleteSettingsWebhook({index:this.deletedIndex,settings:this.settings}),this.deletedIndex=null,this.$refs["confirmDelete"].close(),this.updateWebhooksSettings()},confirmDelete:function(t){this.deletedIndex=t,this.$refs["confirmDelete"].open()},cancelDelete:function(){this.$refs["confirmDelete"].close()}},(0,r.OI)("webhooks",["deleteSettingsWebhook","cloneSettingsWebhook"])),(0,r.nv)("webhooks",["updateWebhooksSettings"]))},Jm=Ym,Xm=(0,K.Z)(Jm,Km,Vm,!1,null,null,null),Qm=Xm.exports,tf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"webhook-edit"},[n("md-button",{on:{click:t.cancelEdit}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1),n("md-dialog",{ref:"confirmLeaveDirty"},[n("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.webhooks.confirmIgnoreChangesTitle)}}),n("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.webhooks.confirmIgnoreChangesContent)}}),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.webhooks.confirmIgnoreChangesCancel))]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.webhooks.confirmIgnoreChangesOkay))])],1)],1),n("h2",{staticClass:"md-title"},[t.index||0===t.index?[t._v(t._s(t.translations.settings.webhooks.actions.edit))]:[t._v(t._s(t.translations.settings.webhooks.actions.addNew))]],2),n("md-input-container",[n("label",{attrs:{for:"title"}},[t._v(t._s(t.translations.settings.webhooks.fields.title))]),n("md-input",{attrs:{id:"title"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),n("md-input-container",{staticClass:"md-refreshable",class:{"md-input-invalid":!t.validToken}},[n("label",{attrs:{for:"token"}},[t._v(t._s(t.translations.settings.webhooks.fields.token))]),n("md-input",{attrs:{id:"token",required:""},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}}),n("md-button",{staticClass:"md-icon-button md-refresh-input",on:{click:t.refreshToken}},[n("md-icon",[t._v("refresh")])],1),t.validToken?n("span",{staticClass:"md-helper-text"},[t._v(t._s(t.translations.settings.webhooks.fields.token_help))]):n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.token_error))])],1),n("md-snackbar",{ref:"tokenNotice",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.settings.webhooks.fields.token_copied))])]),n("fieldset",{staticClass:"md-fieldset"},[n("legend",[t._v(t._s(t.translations.settings.webhooks.fields.triggers)+" *")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.validTriggers,expression:"!validTriggers"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredTriggers))]),t.webhookTriggers.length?n("md-list",t._l(t.webhookTriggers,(function(e,i){return n("md-list-item",{key:i},[n("md-checkbox",{staticClass:"md-primary",attrs:{id:"trigger-"+i,name:"triggers","md-value":e},model:{value:t.triggers,callback:function(e){t.triggers=e},expression:"triggers"}},[t._v(" "+t._s(t.translations.settings.webhooks.fields.triggerNames[e])+" ")])],1)})),1):t._e()],1),n("fieldset",{staticClass:"md-fieldset"},[n("legend",[t._v(t._s(t.translations.settings.webhooks.fields.urls)+" *")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.validUrls,expression:"!validUrls"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredUrls))]),n("md-list",[Object.prototype.hasOwnProperty.call(t.webhook,"urls")&&t.webhook.urls.length?t._l(t.webhook.urls,(function(e,i){return n("md-list-item",{key:i},[n("span",[n("md-icon",[t._v("link")]),t._v(" "+t._s(e)+" ")],1),n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:function(e){return t.removeUrl(i)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("clear")])],1)],1)})):t._e(),n("md-list-item",[n("md-input-container",{class:{"md-input-invalid":!t.validUrls||t.urlExists||!t.validUrl}},[n("label",{attrs:{for:"url"}},[t._v("Add URL")]),n("md-input",{attrs:{placeholder:"https://",id:"label"},nativeOn:{keyup:function(e){return t.addUrl.apply(null,arguments)},blur:function(e){return t.addUrl.apply(null,arguments)}},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t.urlExists?n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.url_exists))]):t.validUrl?t._e():n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.settings.webhooks.fields.url_invalid))])],1)],1)],2)],1),n("fieldset",{staticClass:"md-fieldset"},[n("legend",[t._v(t._s(t.translations.settings.appointmentTypesTitle)+" *")]),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.validAppointmentTypes,expression:"!validAppointmentTypes"}],staticClass:"error-message"},[t._v(t._s(t.translations.settings.webhooks.errors.requiredAppointmentTypes))]),n("md-list",[n("md-list-item",[n("md-checkbox",{on:{change:t.toggleAll},model:{value:t.all,callback:function(e){t.all=e},expression:"all"}},[t._v(t._s(t.translations.settings.appointmentTypeAll))])],1),t.all?t._e():t._l(t.editableAppointmentTypes,(function(e){return n("md-list-item",{key:e.id},[n("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+e.id,name:"appointment-types","md-value":e.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(e.title)+" ")])],1)}))],2)],1),n("div",{staticClass:"button-bar"},[n("md-button",{staticClass:"md-raised",on:{click:t.cancelEdit}},[t._v(t._s(t.translations.general.cancel))]),n("md-button",{staticClass:"md-raised md-primary",on:{click:t.saveWebhook}},[t._v(t._s(t.translations.general.save))]),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1),n("webhook-details",{attrs:{index:this.index}})],1)},ef=[],nf=(n(82472),n(48675),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(60285),n(41637),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"webhook-details"},[n("md-divider"),n("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.details.deliveryHeaders))]),n("p",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetails))]),n("md-table",[n("md-table-header",[n("md-table-row",[n("md-table-head",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetailHeader))]),n("md-table-head",[t._v(t._s(t.translations.settings.webhooks.details.deliveryDetailDescription))])],1)],1),n("md-table-body",[n("md-table-row",[n("md-table-cell",[n("code",[t._v("Content-Type")])]),n("md-table-cell",[t._v("application/json; charset=utf-8")])],1)],1)],1),n("h3",{staticClass:"md-title"},[t._v(t._s(t.translations.settings.webhooks.details.deliveryExample))]),t._m(0)],1)}),sf=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v('{\n  "action": "appointment_booked", // possible values of `appointment_booked`, `appointment_edited`, `appointment_canceled`\n  "action_noun": "appointment",\n  "action_verb": "booked", // possible values of `booked`, `edited`, `canceled`\n  "signature": {\n    "token": "1a2b3c4d5e6f..."  // so you can verify that the delivered webhook originated from this site\n    "site_name": "This WordPress Site"  // in case you have multiple sites sharing the same webhook\n    "site_url": "https://thissite.com"  //  in case you have multiple sites sharing the same webhook\n    "network_site_url": "1a2b3c4d5e6f..."  // only different than `site_url` if using multisite\n  },\n  "appointment": {\n    "id": "123", // Unique ID to reference this appointment\n    "appointment_type_id": "36", // Unique value that is consistent even if the type\'s name/slug changes\n    "appointment_type_slug": "2hr-call",\n    "customer_id": "1",\n    "customer_information": {\n      "Name": "Nathan Tyler",\n      "Email": "nathan@tylerdigital.com"\n      // values from your custom fields will also be included here\n    },\n    "start_date": "2018-09-20 16:15:00", // all dates are stored in the UTC timezone\n    "end_date": "2018-09-20 18:15:00",\n    "status": "booked", // possible values of `booked` or `canceled`\n    "date_created": "2018-09-19 01:00:44",\n    "date_modified": "2018-09-19 01:00:44",\n    "public_edit_url": "http://yoursite.com/appointments/change/e7b9a0a37d18e86ef11b2da12345678900",\n    "price_full": 100.00,\n    "payment_method": "stripe",\n    "appointment_type_title": "2hr Call",\n    "local_time_for": {\n      "appointment_type": {\n        // dates and times shifted (from UTC) to the appointment type\'s timezone\n        "raw": {\n          "start_date": "2018-09-20 16:15:00",\n          "end_date": "2018-09-20 18:15:00",\n          "date_created": "2018-09-19 01:00:44",\n          "date_modified": "2018-09-19 01:00:44"\n        },\n        "formatted": {\n          "start_date": "September 20, 2018 4:15 pm PDT",\n          "end_date": "September 20, 2018 6:15 pm PDT",\n          "date_created": "September 19, 2018 1:00 am PDT",\n          "date_modified": "September 19, 2018 1:00 am PDT"\n        }\n      }\n    }\n  }\n}\n')])])}],af={name:"webhookDetails",props:["index"],data:function(){return{}},computed:(0,o.Z)({},(0,r.rn)("translations",["translations"]))},of=af,rf=(0,K.Z)(of,nf,sf,!1,null,null,null),lf=rf.exports,cf={name:"webhookEdit",props:["index"],components:{WebhookDetails:lf},data:function(){return{all:!0,dirty:!1,saving:!1,webhook:{},webhookTriggers:A,url:"",urlExists:!1,validAppointmentTypes:!0,validToken:!0,validTriggers:!0,validUrl:!0,validUrls:!0,leaveWithoutSaving:!1}},beforeMount:function(){if(this.index||0===this.index){var t=Ee().cloneDeep(this.settings.webhooks.webhooks[this.index]);this.webhook=t}Object.prototype.hasOwnProperty.call(this.webhook,"token")&&this.webhook.token||this.refreshToken(),Object.prototype.hasOwnProperty.call(this.webhook,"triggers")||this.$set(this.webhook,"triggers",[]),Object.prototype.hasOwnProperty.call(this.webhook,"urls")||this.$set(this.webhook,"urls",[]),Object.prototype.hasOwnProperty.call(this.webhook,"appointment_types")||this.$set(this.webhook,"appointment_types",[]),Object.prototype.hasOwnProperty.call(this.webhook,"appointment_types")&&this.webhook.appointment_types.length&&(this.all=!1),Object.prototype.hasOwnProperty.call(this.webhook,"schema")||(this.webhook.schema="2018-09-20")},beforeRouteLeave:function(t,e,n){var i=this;if(this.dirty){var s="confirmLeaveDirty";this.$refs[s].open(),this.$refs[s].$on("close",(function(){i.leaveWithoutSaving?n():n(!1)}))}else n()},watch:{webhook:{handler:function(t,e){this.dirty=!Ee().isEmpty(e)},deep:!0}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({title:{get:function(){return Object.prototype.hasOwnProperty.call(this.webhook,"title")?this.webhook.title:""},set:function(t){this.$set(this.webhook,"title",t)}},token:{get:function(){return Object.prototype.hasOwnProperty.call(this.webhook,"token")?this.webhook.token:""},set:function(t){this.$set(this.webhook,"token",t)}},triggers:{get:function(){return this.webhook.triggers},set:function(t){this.$set(this.webhook,"triggers",t)}},appointment_types:{get:function(){return this.webhook.appointment_types},set:function(t){this.$set(this.webhook,"appointment_types",t)}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),methods:(0,o.Z)((0,o.Z)({cancelEdit:function(){this.$router.push("/ssa/settings/webhooks/list")},generateToken:function(){var t=new Uint8Array(12);return window.crypto.getRandomValues(t),Array.from(t,(function(t){return("0"+t.toString(16)).substr(-2)})).join("")},refreshToken:function(){var t=this.generateToken();this.$set(this.webhook,"token",t)},isValidUrl:function(t){try{var e=t;return e.toLowerCase(),e=new URL(t),!0}catch(n){return!1}},addUrl:function(t){var e=this;if(this.validUrl=!0,("keyup"!==t.type||13===t.keyCode)&&this.url)if(this.isValidUrl(this.url)){var n=Object.prototype.hasOwnProperty.call(this.webhook,"urls")?this.webhook.urls.slice(0):[],i=n.findIndex((function(t){return t===e.url}));i>-1?this.urlExists=!0:(this.urlExists=!1,n.push(this.url),this.$set(this.webhook,"urls",n),this.validateRequiredFields(),this.url="")}else this.validUrl=!1},removeUrl:function(t){var e=this.webhook.urls.slice(0);e.splice(t,1),this.$set(this.webhook,"urls",e)},validateRequiredFields:function(){this.validTriggers=this.webhook.triggers.length,this.validUrls=this.webhook.urls.length,this.validAppointmentTypes=this.webhook.appointment_types.length||this.all,this.validToken=this.webhook.token.length},saveWebhook:function(){var t=this;this.validateRequiredFields(),this.validUrls&&this.validTriggers&&this.validAppointmentTypes&&this.validToken&&(this.saving=!0,this.index||0===this.index?this.updateSingleWebhook({index:this.index,webhook:this.webhook,settings:this.settings}):this.addSettingsWebhook({webhook:this.webhook,settings:this.settings}),this.updateWebhooksSettings().then((function(){t.saving=!1,t.dirty=!1,t.$emit("saved")})))},toggleAll:function(t){if(t)this.$set(this.webhook,"appointment_types",[]);else{var e=this.editableAppointmentTypes.map((function(t){return t.id}));this.$set(this.webhook,"appointment_types",e)}},dialogLeaveWithoutSaving:function(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits:function(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}},(0,r.OI)("webhooks",["updateSingleWebhook","addSettingsWebhook"])),(0,r.nv)("webhooks",["updateWebhooksSettings"]))},df=cf,pf=(0,K.Z)(df,tf,ef,!1,null,null,null),uf=pf.exports,mf=[{path:"webhooks",component:Hm,redirect:"/ssa/settings/webhooks/list",meta:{ssa_manage_site_settings:!0},children:[{path:"list",name:"webhooks-list",component:Qm},{path:"webhook/:index?",name:"webhook-single",component:uf,props:!0}]}],ff=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"staff-all"},[t.loading?n("loading",{attrs:{message:t.translations.settings.staff.loading}}):n("router-view")],1)},gf=[],hf={name:"staffAll",components:{Loading:st},data:function(){return{loading:!0}},mounted:function(){this.init()},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)("staff",["staff","users"])),methods:(0,o.Z)({init:function(){var t=this;return"undefined"===typeof this.staff?(this.loading=!0,void this.fetchStaff().then((function(){return t.init()})).catch((function(t){console.log("Error loading staff",t)}))):this.users?("staff-all"===this.$route.name&&this.syncStaffFromUsers(),void(this.loading=!1)):(this.loading=!0,void this.fetchUsers().then((function(){return t.init()})).catch((function(t){console.log("Error loading WP users",t)})))}},(0,r.nv)("staff",["fetchStaff","fetchUsers","syncStaffFromUsers"]))},_f=hf,vf=(0,K.Z)(_f,ff,gf,!1,null,null,null),yf=vf.exports,bf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"staff-listing"},[n("settings-header"),n("md-toolbar",{staticClass:"md-transparent"},[n("md-input-container",{staticClass:"title"},[n("label",{attrs:{for:"staff-view"}},[n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.staff.selectStaff)+" ")])]),n("md-select",{attrs:{name:"staff-view",id:"staff-view"},model:{value:t.staffView,callback:function(e){t.staffView=e},expression:"staffView"}},[n("md-option",{attrs:{value:"publish"}},[t._v(t._s(t.translations.settings.staff.title))]),n("md-option",{attrs:{value:"draft"}},[t._v(t._s(t.translations.settings.staff.status.inactive))])],1)],1),n("div",{staticStyle:{flex:"1"}}),n("md-button",{staticClass:"md-primary",on:{click:t.addStaff}},[n("md-icon",[t._v("add")]),t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")],1)],1),n("md-dialog",{ref:"confirmDelete"},[n("md-dialog-title",[t._v(" "+t._s(t.translations.settings.staff.confirmDelete)+" ")]),t.pendingStaff?n("md-dialog-content"):t._e(),n("md-dialog-actions",[n("md-button",{on:{click:t.cancelDelete}},[t._v(" "+t._s(t.translations.settings.staff.confirmDeleteCancel)+" ")]),n("md-button",{on:{click:t.deleteSelectedStaff}},[t._v(" "+t._s(t.translations.settings.staff.confirmDeleteOk)+" ")])],1)],1),t.displayStaff.length?n("md-list",{staticClass:"staff-list md-triple-line"},t._l(t.displayStaff,(function(e){return n("md-list-item",{key:e.id,class:{"status-deleting":e.id===t.pendingId},on:{click:function(n){return t.editStaff(e.id)}}},[n("md-avatar",{staticClass:"border-theme",attrs:{"md-theme":"light-green"}},[0!==parseInt(e.user_id,10)?n("img",{attrs:{src:t.userGravatar(e.user_id),alt:""}}):n("md-icon",{staticClass:"md-size-2x md-primary"},[t._v(" account_circle ")])],1),n("div",{staticClass:"md-list-text-container"},[n("span",[t._v(" "+t._s(e.name?e.name:e.display_name)+" "),0!==parseInt(e.user_id,10)?[n("a",{staticClass:"staff-wp-indicator",attrs:{href:t.wpUserLink(e.user_id)}},[t._v(" WP "),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.staff.connectedUserEdit)+" ")])])]:t._e()],2),n("span",[t._v(t._s(e.email))]),t.smsModule.enabled?n("span",[t._v(t._s(e.phone))]):t._e()]),n("md-menu",[n("md-button",{staticClass:"md-icon-button md-list-action md-primary",attrs:{"md-menu-trigger":"",disabled:t.saving}},[n("md-icon",{staticClass:"md-primary"},[t._v("settings")])],1),n("md-menu-content",["publish"===e.status?[n("md-menu-item",{on:{click:function(n){return t.editStaff(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("edit")]),n("span",[t._v(t._s(t.translations.actions.edit))])],1),n("md-menu-item",{on:{click:function(n){return t.toggleStaff(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("block")]),n("span",[t._v(t._s(t.translations.actions.deactivate))])],1)]:[n("md-menu-item",{on:{click:function(n){return t.toggleStaff(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("how_to_reg")]),n("span",[t._v(t._s(t.translations.actions.activate))])],1),n("md-menu-item",{on:{click:function(n){return t.confirmDelete(e.id)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("delete")]),n("span",[t._v(t._s(t.translations.actions.delete))])],1)]],2)],1)],1)})),1):n("empty",{attrs:{label:t.emptyLabel,description:t.emptyDescription}},["publish"===t.staffView?n("md-button",{staticClass:"md-raised md-primary",on:{click:t.addStaff}},[t._v(" "+t._s(t.translations.settings.staff.actions.addNew)+" ")]):t._e()],1)],1)},kf=[],Cf={name:"settingsStaff",components:{SettingsHeader:ir,Empty:te},data:function(){return{pendingId:null,saving:!1,staffView:"publish"}},mounted:function(){this.getGuides({"ssasc-plugin-screen":L.teams.list})},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({displayStaff:function(){return"publish"===this.staffView?this.staffStatusPublish:this.staffStatusDraft},emptyDescription:function(){return"publish"===this.staffView?this.translations.settings.staff.emptyDescription:this.translations.settings.staff.emptyInactiveDescription},emptyLabel:function(){return"publish"===this.staffView?this.translations.settings.staff.emptyLabel:this.translations.settings.staff.emptyInactiveLabel},pendingStaff:function(){var t=this;if(this.pendingId)return this.staff.find((function(e){return e.id.toString()===t.pendingId.toString()}))}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings"])),(0,r.rn)("staff",["staff"])),(0,r.Se)(["wpUserLink"])),(0,r.Se)("staff",["staffStatusDraft","staffStatusPublish","userGravatar"])),(0,r.Se)("notifications",["smsModule"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({addStaff:function(){this.defineNewStaffMember(),this.$router.push({name:"staff-single"})},cancelDelete:function(){this.$refs["confirmDelete"].close()},confirmDelete:function(t){this.$refs["confirmDelete"].open(),this.pendingId=t},deleteSelectedStaff:function(){var t=this.pendingId;this.$refs["confirmDelete"].close(),this.deleteStaff(t).then((function(){})).catch((function(t){console.log(t)}))},editStaff:function(t){if(!this.saving){var e=this.staff.find((function(e){return e.id===t}));this.setCurrentStaff(e),this.$router.push({name:"staff-single",params:{id:t}})}},toggleStaff:function(t){var e=this;if(!this.saving){this.saving=!0,this.pendingId=t;var n=this.staff.find((function(e){return e.id===t}));this.setCurrentStaff(n);var i="publish"===n.status?"draft":"publish";this.setCurrentStaff({key:"status",value:i}),this.saveStaff().then((function(){e.saving=!1,e.pendingId=null})).catch((function(t){console.log(t)}))}}},(0,r.nv)("staff",["deleteStaff","saveStaff"])),(0,r.OI)("staff",["defineNewStaffMember","setCurrentStaff"])),(0,r.nv)("guides",["getGuides"]))},Sf=Cf,wf=(0,K.Z)(Sf,bf,kf,!1,null,null,null),Tf=wf.exports,xf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"staff-edit",class:{saving:t.saving},attrs:{novalidate:""}},[t.currentUserCan("ssa_manage_staff")?n("md-button",{on:{click:t.cancelEdit}},[n("md-icon",[t._v("keyboard_arrow_left")]),t._v(" "+t._s(t.translations.general.cancel)+" ")],1):t._e(),n("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.pageTitle)+" ")]),n("md-dialog",{ref:"confirmLeaveDirty"},[n("md-dialog-title",{domProps:{textContent:t._s(t.translations.settings.staff.confirmIgnoreChangesTitle)}}),n("md-dialog-content",{domProps:{innerHTML:t._s(t.translations.settings.staff.confirmIgnoreChangesContent)}}),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.dialogKeepEdits}},[t._v(t._s(t.translations.settings.staff.confirmIgnoreChangesCancel))]),n("md-button",{staticClass:"md-primary md-raised",on:{click:t.dialogLeaveWithoutSaving}},[t._v(t._s(t.translations.settings.staff.confirmIgnoreChangesOkay))])],1)],1),n("md-dialog-confirm",{ref:"confirmLeaveIncomplete",attrs:{"md-title":t.translations.settings.staff.confirmDelete,"md-content-html":t.translations.settings.staff.confirmImcompleteContent,"md-ok-text":t.translations.settings.staff.confirmDeleteOk,"md-cancel-text":t.translations.settings.staff.confirmIncompleteCancel}}),n("md-dialog-confirm",{ref:"existingStaff",attrs:{"md-title":t.editExistingText["title"],"md-content-html":t.editExistingText["content-html"],"md-ok-text":t.editExistingText["ok-text"],"md-cancel-text":t.editExistingText["cancel-text"]}}),n("md-dialog-confirm",{ref:"linkToUser",attrs:{"md-title":t.translations.settings.staff.linkUser.title,"md-content-html":"<p>"+t.translations.settings.staff.linkUser.htmlIntro+"</p><p><strong>"+t.translations.settings.staff.fields.name.label+": </strong>"+t.currentUser.name+"<br/><strong>"+t.translations.settings.staff.fields.email.label+": </strong>"+t.currentUser.email+"</p><p>"+t.translations.settings.staff.linkUser.htmlExplanation+"</p>","md-ok-text":t.translations.settings.staff.linkUser.okText,"md-cancel-text":t.translations.settings.staff.linkUser.cancelText}}),n("md-dialog-alert",{ref:"emailTaken",attrs:{"md-title":t.translations.settings.staff.emailTaken.title,"md-content-html":t.translations.settings.staff.emailTaken["content-html"]}}),n("md-snackbar",{ref:"saveStatus",attrs:{"md-position":"top center"}},[n("span",[t._v(" "+t._s(t.translations.settings.staff.actions.saved)+" ")])]),t.loading?n("loading",{attrs:{message:t.translations.settings.staff.loading}}):t.id?[n("md-tabs",{ref:"staffTabs",staticClass:"md-transparent"},[n("md-tab",{ref:"contactTab",attrs:{id:"contact","md-active":"contact"===t.activeTab,"md-label":t.translations.settings.staff.editProfile.contact},nativeOn:{focusin:function(e){return t.updateTab("contact")}}},[n("edit-contact",{attrs:{"available-email":t.availableEmail,"user-id":t.userId,saving:t.saving},on:{validationCheck:t.validateContact}})],1),t.currentUserCan("ssa_manage_staff")?n("md-tab",{attrs:{"md-active":"permissions"===t.activeTab,id:"permissions","md-label":t.translations.settings.staff.editProfile.permissions},nativeOn:{focusin:function(e){return t.updateTab("permissions")}}},[0!==t.userId?n("edit-permissions",{attrs:{id:t.id,"user-id":t.userId,saving:t.saving}}):n("empty",{attrs:{label:t.translations.settings.staff.not_connected.title,description:t.translations.settings.staff.not_connected.desc}},[n("p",[t._v(" "+t._s(t.currentStaff.email)+" ")]),n("md-button",{staticClass:"md-raised md-primary",attrs:{href:t.api.admin_url+"user-new.php"}},[t._v(" "+t._s(t.translations.settings.staff.not_connected.addNew)+" ")])],1)],1):t._e(),n("md-tab",{attrs:{"md-active":"availability"===t.activeTab,id:"availability","md-label":t.translations.settings.staff.editProfile.availability},nativeOn:{focusin:function(e){return t.updateTab("availability")}}},[n("edit-availability",{attrs:{"all-appointment-types":t.allAppointmentTypes,id:t.id},on:{toggleAll:t.toggleAllAppointmentTypes}})],1),n("md-tab",{attrs:{"md-active":"web_meetings"===t.activeTab,id:"web_meetings","md-label":t.translations.settings.staff.editProfile.web_meetings},nativeOn:{focusin:function(e){return t.updateTab("web_meetings")}}},[n("edit-web-meetings")],1)],1),n("div",{staticClass:"button-bar"},[n("md-button",{staticClass:"md-raised",attrs:{disabled:t.saving},on:{click:t.cancelEdit}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.saveStaffForm}},[t._v(" "+t._s(t.translations.general.save)+" ")]),t.saving?n("md-spinner",{attrs:{"md-indeterminate":""}}):t._e()],1)]:[n("user-selector",{attrs:{disabled:t.saving,label:t.translations.settings.staff.fields.email.label,help:t.translations.settings.staff.fields.email.help},on:{input:t.createStaffFromEmail}})]],2)},Af=[],Pf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-layout",{attrs:{"md-vertical-align":"center","md-gutter":16}},[n("md-layout",[n("md-input-container",{class:{"md-input-invalid":t.error}},[n("label",{attrs:{for:"selectUser"}},[t._v(" "+t._s(t.label)+" ")]),t.unattachedUsers.length?n("md-autocomplete",{attrs:{disabled:t.disabled,list:t.unattachedUsers,"print-attribute":"email","filter-list":t.userFilter,"min-chars":0,"max-height":6,debounce:300},on:{change:t.userCallback,selected:t.userCallback},model:{value:t.selectedEmail,callback:function(e){t.selectedEmail=e},expression:"selectedEmail"}}):n("md-input",{attrs:{disabled:t.disabled},on:{change:t.userCallback},model:{value:t.selectedEmail,callback:function(e){t.selectedEmail=e},expression:"selectedEmail"}}),t.error?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.error)+" ")]):t.help?n("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.help)+" ")]):t._e()],1)],1),n("md-layout",{attrs:{"md-flex":"none"}},[n("div",[n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.disabled},on:{click:t.handleCreate}},[t._v(" "+t._s(t.translations.settings.staff.actions.create)+" ")])],1)])],1)},Mf=[],Ef={name:"userSelector",components:{},props:{disabled:{type:Boolean},help:{type:String},label:{type:String},value:{type:String}},data:function(){return{error:!1,selectedDisplayName:null,selectedEmail:null,selectedUser:null}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)("staff",["users"])),(0,r.Se)("notifications",["validateEmail"])),(0,r.Se)("staff",["unattachedUsers"])),methods:(0,o.Z)({handleCreate:function(){this.selectedEmail&&this.validateEmail(this.selectedEmail)?(this.error=!1,this.$emit("input",{user_id:this.selectedUser,email:this.selectedEmail,display_name:this.selectedDisplayName})):this.error=!0},userCallback:function(t){var e=this;if("object"===(0,Zr.Z)(t)&&Object.prototype.hasOwnProperty.call(t,"email"))return this.selectedEmail=t.email.toLowerCase(),this.selectedUser=t.id,void(this.selectedDisplayName=t.display_name);if(this.validateEmail(t)){this.error=!1,this.selectedEmail=t;var n=this.users.find((function(t){return t.email.toLowerCase()===e.selectedEmail}));this.selectedUser=n?n.id:0,this.selectedDisplayName=n?n.display_name:""}},userFilter:function(t,e){return t.filter((function(t){return-1!==t.email.toLowerCase().indexOf(e.toLowerCase())})).slice(0,5)}},(0,r.nv)("staff",["fetchUsers"]))},Df=Ef,$f=(0,K.Z)(Df,Pf,Mf,!1,null,null,null),Of=$f.exports,If=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-staff-contact"},[0===t.userId?n("md-input-container",{class:{"md-input-invalid":t.$v.name.$error}},[n("label",{attrs:{for:"name"}},[t._v(" "+t._s(t.translations.settings.staff.fields.name.label)+" ")]),n("md-input",{attrs:{disabled:t.saving,id:"name",required:""},model:{value:t.$v.name.$model,callback:function(e){t.$set(t.$v.name,"$model",e)},expression:"$v.name.$model"}}),t.$v.name.$error?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.name.error)+" ")]):t._e()],1):t._e(),0!==t.userId?n("md-toolbar",{staticClass:"md-transparent"},[n("h3",{staticClass:"md-title",staticStyle:{flex:"1"}},[t._v(" "+t._s(t.translations.settings.staff.connectedUser)+" ")]),n("md-button",{staticClass:"md-raised md-primary",attrs:{href:t.wpUserLink(t.currentStaff.user_id)}},[t._v(" "+t._s(t.translations.settings.staff.connectedUserEdit)+" ")])],1):t._e(),n("md-input-container",{class:{"md-input-invalid":t.$v.display_name.$error}},[n("label",{attrs:{for:"display_name"}},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.label)+" ")]),n("md-input",{attrs:{disabled:t.saving||0!==t.userId,id:"display_name",required:""},model:{value:t.$v.display_name.$model,callback:function(e){t.$set(t.$v.display_name,"$model",e)},expression:"$v.display_name.$model"}}),t.$v.display_name.$error?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.error)+" ")]):n("span",{staticClass:"md-helper-text"},[t._v(" "+t._s(t.translations.settings.staff.fields.display_name.help)+" ")])],1),n("md-input-container",{class:{"md-input-invalid":t.$v.email.$error||!t.availableEmail}},[n("label",{attrs:{for:"email"}},[t._v(" "+t._s(t.translations.settings.staff.fields.email.label)+" ")]),n("md-input",{attrs:{id:"email",disabled:t.saving||0!==t.userId,required:""},model:{value:t.$v.email.$model,callback:function(e){t.$set(t.$v.email,"$model",e)},expression:"$v.email.$model"}}),t.availableEmail?t.$v.email.$error?n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.error)+" ")]):t._e():n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.errorTaken)+" ")])],1),t.smsModule.active?n("md-input-container",{staticClass:"vue-tel-input-container",class:{"md-input-invalid":!t.validPhone}},[n("label",{attrs:{for:"phone"}},[t._v(" "+t._s(t.translations.settings.staff.fields.phone.label)+" ")]),n("telephone",{attrs:{placeholder:"",disabled:t.saving,"input-options":{id:"phone"}},on:{validate:t.checkPhone},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t.validPhone?t._e():n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.general.phone_error)+" ")])],1):t._e()],1)},Zf=[],zf={name:"settingsContactStaffEdit",components:{Telephone:Jo},mixins:[_i.oE],props:["userId","saving","availableEmail"],data:function(){return{validPhone:!0}},validations:{name:{required:vi.C1},display_name:{required:vi.C1},email:{required:vi.C1,email:vi.Do}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({display_name:{get:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:""},set:function(t){this.setCurrentStaff({key:"display_name",value:t}),this.validationCheck()}},email:{get:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"email")?this.currentStaff.email.toLowerCase():""},set:function(t){this.setCurrentStaff({key:"email",value:t.toLowerCase()}),this.validationCheck()}},name:{get:function(){var t="";return t=0===this.userId?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"name")?this.currentStaff.name:"":this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:"",t},set:function(t){this.setCurrentStaff({key:"name",value:t}),this.validationCheck()}},phone:{get:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"phone")?this.currentStaff.phone:""},set:function(t){this.setCurrentStaff({key:"phone",value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)("staff",["currentStaff"])),(0,r.Se)(["wpUserLink"])),(0,r.Se)("notifications",["smsModule"])),methods:(0,o.Z)({checkPhone:function(t){this.validPhone=t,this.validationCheck()},validationCheck:function(){this.$v.$touch(),this.$emit("validationCheck",!this.$v.name.$invalid&&!this.$v.display_name.$invalid&&!this.$v.email.$invalid&&this.validPhone)}},(0,r.OI)("staff",["setCurrentStaff"]))},jf=zf,Lf=(0,K.Z)(jf,If,Zf,!1,null,null,null),Nf=Lf.exports,Uf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-staff-permissions"},[t.settings.blackout_dates.enabled&&0!==t.userId&&t.currentUserCan("ssa_manage_staff")?n("div",{staticClass:"md-checkbox-with-note"},[n("md-checkbox",{attrs:{id:"blackout",name:"blackout",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_blackout_dates,callback:function(e){t.manages_blackout_dates=e},expression:"manages_blackout_dates"}},[t._v(" "+t._s(t.translations.settings.staff.fields.blackout.label)+" ")])],1):t._e(),0!==t.userId&&t.currentUserCan("ssa_manage_staff")?n("div",{staticClass:"md-checkbox-with-note"},[n("md-checkbox",{attrs:{id:"working-hour-access",name:"working-hour-access",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_working_hours,callback:function(e){t.manages_working_hours=e},expression:"manages_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.manages_working_hours.label)+" ")])],1):t._e(),t.settings.google_calendar.enabled&&0!==t.userId?n("div",{staticClass:"md-checkbox-with-note"},[n("md-checkbox",{attrs:{id:"google-calendar",name:"google-calendar",disabled:t.saving||t.adminManagingSelf},model:{value:t.manages_google,callback:function(e){t.manages_google=e},expression:"manages_google"}},[t._v(" "+t._s(t.translations.settings.staff.fields.gcalendar.label)+" ")])],1):t._e()])},Gf=[],Ff={name:"settingsPermissionsStaffEdit",props:["userId","saving","id"],data:function(){return{}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({adminManagingSelf:function(){return this.currentUserIsSelf&&this.currentUserCan("ssa_manage_staff")},manages_blackout_dates:{get:function(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_blackout_dates"))&&!!parseInt(this.currentStaff.manages_blackout_dates,10)},set:function(t){this.setCurrentStaff({key:"manages_blackout_dates",value:t})}},manages_google:{get:function(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_google"))&&!!parseInt(this.currentStaff.manages_google,10)},set:function(t){this.setCurrentStaff({key:"manages_google",value:t})}},manages_working_hours:{get:function(){return!!this.adminManagingSelf||!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_working_hours"))&&!!parseInt(this.currentStaff.manages_working_hours,10)},set:function(t){this.setCurrentStaff({key:"manages_working_hours",value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("staff",["currentStaff"])),(0,r.Se)("staff",["currentUserCan","currentUserIsSelf"])),methods:(0,o.Z)({},(0,r.OI)("staff",["setCurrentStaff"]))},Wf=Ff,Bf=(0,K.Z)(Wf,Uf,Gf,!1,null,null,null),Rf=Bf.exports,qf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-staff-availability"},[t.currentUserCan("ssa_manage_staff")?n("fieldset",{staticClass:"md-fieldset",class:{"md-fieldset-invalid":!t.validAppointmentTypes}},[n("legend",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")]),t.validAppointmentTypes?t._e():n("p",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.error)+" ")]),t.editableAppointmentTypes.length?t.staffAppointmentTypes.length?t.notAllStaff?n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.someStaffAppointmentTypes)+" ")]):t._e():n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.noStaffAppointmentTypes)+" ")]):n("notification",{attrs:{icon:"warning",theme:"amber"}},[t._v(" "+t._s(t.translations.settings.staff.notices.noAppointmentTypes)+" ")]),n("md-list",[t.notAllStaff?t._e():n("md-list-item",[n("md-checkbox",{model:{value:t.allTypes,callback:function(e){t.allTypes=e},expression:"allTypes"}},[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.all)+" ")])],1),t.allTypes?t._e():t._l(t.staffAppointmentTypes,(function(e){return n("md-list-item",{key:e.id},[n("md-checkbox",{staticClass:"md-primary",attrs:{id:"type-"+e.id,name:"appointment-types","md-value":e.id},model:{value:t.appointment_types,callback:function(e){t.appointment_types=e},expression:"appointment_types"}},[t._v(" "+t._s(e.title)+" ")])],1)}))],2)],1):[n("div",{staticClass:"md-heading-group"},[n("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.appointmentTypesTitle)+" ")])]),t.appointment_types.length?n("ul",t._l(t.appointment_types,(function(t){return n("appointment-type-read-only",{key:t.id,attrs:{id:t}})})),1):n("p",[t._v(" "+t._s(t.translations.settings.staff.fields.appointment_types.error_staff)+" ")])],t.settings.blackout_dates.enabled&&(t.canEditOwnBlackoutDates||t.currentUserCan("ssa_manage_staff"))?[n("div",{staticClass:"md-heading-group"},[n("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.blackout.title)+" ")]),n("p",[t._v(" "+t._s(t.translations.settings.blackout.description)+" ")])]),n("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/settings/blackout/"+t.id}},[t._v(" "+t._s(t.translations.settings.staff.fields.blackout.editText)+" ")])]:t._e(),t.currentUserCan("ssa_manage_staff")||t.canEditOwnWorkingHours?[n("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.staff.fields.working_hours.label)+" ")]),n("fieldset",{staticClass:"md-fieldset field-wrapper"},[n("legend",[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.legend)+" ")]),n("md-radio",{attrs:{id:"custom_working_hours_off",name:"custom_working_hours","md-value":!1,"aria-described-by":"custom-working-hours-help"},model:{value:t.custom_working_hours,callback:function(e){t.custom_working_hours=e},expression:"custom_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.labelOff)+" ")]),n("md-radio",{attrs:{id:"custom_working_hours_on",name:"custom_working_hours","md-value":!0,"aria-described-by":"custom-working-hours-help"},model:{value:t.custom_working_hours,callback:function(e){t.custom_working_hours=e},expression:"custom_working_hours"}},[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.labelOn)+" ")]),n("div",{staticClass:"custom-working-hours-help",attrs:{"aria-live":"polite"}},[n("p",[t.custom_working_hours?[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.helpOn)+" ")]:[t._v(" "+t._s(t.translations.settings.staff.fields.custom_working_hours.helpOff)+" ")]],2)])],1),t.custom_working_hours?n("p",[n("strong",[t._v(t._s(t.translations.settings.staff.fields.working_hours.timezone_label))]),t._v(" "+t._s(t.formatTimezone(t.settings.global.timezone_string))),n("br"),n("strong",[t._v(t._s(t.translations.settings.staff.fields.working_hours.current_time_label))]),t._v(" "+t._s(t.moment.tz(t.settings.global.timezone_string).format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment))+" ")]):t._e(),t.custom_working_hours?n("availability-picker",{attrs:{increment:30},model:{value:t.working_hours,callback:function(e){t.working_hours=e},expression:"working_hours"}}):t._e()]:t._e(),t.managesGoogle?[n("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.wizard.appointmentType.googleCalendar)+" ")]),0!==t.userId&&t.currentUserCan("ssa_manage_staff")&&!t.currentUserIsSelf?n("p",[t.googleCalendarConnected?[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_connected)+" "),t.calendarsConnected?[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_calendars)+" "),n("br"),n("strong",[t._v(" "+t._s(t.translations.settings.staff.google.admin.calendars_connected)+" ")]),t._v(" "+t._s(t.currentStaff.google.excluded_calendars.length)+" ")]:[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_no_calendars)+" ")],n("div",[n("md-button",{staticClass:"md-primary",attrs:{disabled:t.disconnecting},on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1),t.disconnecting?n("md-spinner"):t._e()]:[t._v(" "+t._s(t.translations.settings.staff.google.admin.staff_not_connected)+" ")]],2):t._e(),t.canConnectOwnGoogleAccount?[t.googleCalendarConnected?n("google-calendar-list"):n("google-calendar-auth")]:t._e()]:t._e()],2)},Hf=[],Kf=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[t._v(" "+t._s(t.title)+" ("+t._s(t.duration)+") ")])},Vf=[],Yf={props:["id"],computed:(0,o.Z)((0,o.Z)({appointmentType:function(){var t=this,e=this.appointmentTypes.find((function(e){return parseInt(e.id,10)===parseInt(t.id,10)}));return e},title:function(){return this.appointmentType?this.appointmentType.title:""},duration:function(){var t=this.appointmentType?this.appointmentType.duration:0;return this.displayDuration(t)}},(0,r.rn)("appointment_types",["appointmentTypes"])),(0,r.Se)(["displayDuration"]))},Jf=Yf,Xf=(0,K.Z)(Jf,Kf,Vf,!1,null,null,null),Qf=Xf.exports,tg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:t.saving},on:{click:t.authorizeGoogle}},[t._v(" "+t._s(t.translations.settings.staff.google.actions.connect)+" ")])],1)},eg=[],ng={name:"staffGoogleCalendarAuth",data:function(){return{saving:!1}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)("google_calendar",["googleAuthUrl"])),(0,r.rn)("staff",["currentStaff"])),methods:(0,o.Z)({authorizeGoogle:function(){var t=this;this.saving=!0;var e=window.ssa_is_embed?window.top.location.href:window.location.hostname+window.location.pathname;this.googleCalendarAuth({ssa_redirect:this.$route.path,ssa_base_url:e,staff_id:this.currentStaff.id}).then((function(){t.saving=!1,window.ssa_is_embed?window.top.location.href=t.googleAuthUrl:window.location.href=t.googleAuthUrl}))}},(0,r.nv)("google_calendar",["googleCalendarAuth"]))},ig=ng,sg=(0,K.Z)(ig,tg,eg,!1,null,null,null),ag=sg.exports,og=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("loading",{attrs:{size:"body",message:t.loadingMessage}}):t.error?n("empty",{attrs:{label:t.translations.settings.staff.google.check_settings}},[n("md-button",{staticClass:"md-raised",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")])],1):t.googleCalendarConnected?[n("md-button",{staticClass:"md-raised",on:{click:t.disconnectAccount}},[t._v(" "+t._s(t.translations.settings.google_calendar.disconnect)+" ")]),n("fieldset",{staticClass:"md-fieldset",staticStyle:{"margin-top":"1rem"}},[n("legend",[t._v(" "+t._s(t.translations.wizard.appointmentType.checkCalendars)+" ")]),n("p",[t._v(t._s(t.translations.wizard.appointmentType.checkCalendarsDesc))]),n("md-list",t._l(t.googleCalendars,(function(e){return n("md-list-item",{key:e.gcal_id},[n("md-checkbox",{attrs:{id:e.gcal_id,name:e.gcal_id,"md-value":e.gcal_id},model:{value:t.googleCalendarsAvailability,callback:function(e){t.googleCalendarsAvailability=e},expression:"googleCalendarsAvailability"}},[t._v(" "+t._s(e.summary)+" ")])],1)})),1)],1)]:t._e()],2)},rg=[],lg={name:"staffGoogleCalendarList",components:{Loading:st,Empty:te},data:function(){return{loading:!0,loadingMessage:"",error:!1}},mounted:function(){var t=this;this.loadingMessage=this.translations.settings.google_calendar.loadingCalendars,this.setGoogleAccountConnected(),this.googleCalendars.length?this.loading=!1:this.fetchGoogleCalendars({staff_id:this.currentStaff.id}).then((function(){t.loading=!1})).catch((function(e){console.log(e),t.loading=!1,t.error=!0}))},computed:(0,o.Z)((0,o.Z)({googleCalendarConnected:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token")&&!Ee().isEmpty(this.currentStaff.google_access_token)},googleCalendarsAvailability:{get:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"excluded_calendars")?this.currentStaff.google.excluded_calendars:[]},set:function(t){var e=this.currentStaff.google||{},n=Object.assign({},e,{excluded_calendars:t});this.setCurrentStaff({key:"google",value:n})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)("staff",["currentStaff","googleCalendars"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({disconnectAccount:function(){var t=this;this.loadingMessage=this.translations.settings.google_calendar.disconnecting,this.loading=!0,this.googleCalendarDeauth({staff_id:this.currentStaff.id}).then((function(){t.loading=!1,t.saveStaff()}))},setGoogleAccountConnected:function(){var t=this.currentStaff.google||{},e=Object.assign({},t,{connected:this.googleCalendarConnected}),n=JSON.stringify(t),i=JSON.stringify(e);n!==i&&(this.setCurrentStaff({key:"google",value:e}),this.saveStaff())}},(0,r.nv)("google_calendar",["fetchGoogleCalendars"])),(0,r.nv)("staff",["googleCalendarDeauth","saveStaff"])),(0,r.OI)("staff",["setCurrentStaff"]))},cg=lg,dg=(0,K.Z)(cg,og,rg,!1,null,null,null),pg=dg.exports,ug={name:"settingsAvailabilityStaffEdit",props:["id","allAppointmentTypes"],components:{Notification:Sn,AvailabilityPicker:ji,AppointmentTypeReadOnly:Qf,GoogleCalendarAuth:ag,GoogleCalendarList:pg},data:function(){return{defaultStaff:$,disconnecting:!1,moment:R(),validAppointmentTypes:!0}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({allTypes:{get:function(){return this.allAppointmentTypes},set:function(t){this.$emit("toggleAll",t);var e=this.staffAppointmentTypes.map((function(t){return t.id}));this.setCurrentStaff({key:"appointment_types",value:e})}},appointment_types:{get:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")?this.currentStaff.appointment_types.map(String):[]},set:function(t){this.setCurrentStaff({key:"appointment_types",value:t}),this.validAppointmentTypes=t.length}},calendarsConnected:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"excluded_calendars")&&this.currentStaff.google.excluded_calendars.length},canConnectOwnGoogleAccount:function(){return!(!this.settings.google_calendar.enabled||!Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token"))&&(!!this.currentUserIsSelf||this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.managesGoogle)},canEditOwnBlackoutDates:function(){return this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.castToBoolean(this.currentStaff.manages_blackout_dates)},canEditOwnWorkingHours:function(){return this.currentUserIsStaff&&this.currentUserStaffId===this.currentStaff.id&&this.castToBoolean(this.currentStaff.manages_working_hours)},custom_working_hours:{get:function(){return!(!this.currentStaff||!Object.prototype.hasOwnProperty.call(this.currentStaff,"custom_working_hours"))&&this.castToBoolean(this.currentStaff.custom_working_hours)},set:function(t){this.setCurrentStaff({key:"custom_working_hours",value:t})}},googleCalendarConnected:function(){return this.currentUserIsStaff||this.currentUserIsSelf?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google_access_token")&&!Ee().isEmpty(this.currentStaff.google_access_token):!!(this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"google")&&Object.prototype.hasOwnProperty.call(this.currentStaff.google,"connected"))&&this.currentStaff.google.connected},managesGoogle:function(){return!(!this.settings.google_calendar.enabled||!this.settings.google_calendar.access_token)&&(!("0"===this.currentStaff.user_id||!Object.prototype.hasOwnProperty.call(this.currentStaff,"manages_google"))&&this.castToBoolean(this.currentStaff.manages_google))},notAllStaff:function(){return this.editableAppointmentTypes.length&&this.staffAppointmentTypes.length<this.editableAppointmentTypes.length},working_hours:{get:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"working_hours")?this.currentStaff.working_hours:Object.assign({},this.defaultStaff.working_hours)},set:function(t){this.setCurrentStaff({key:"working_hours",value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("staff",["currentStaff"])),(0,r.Se)(["castToBoolean","formatTimezone","staffAppointmentTypes"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),(0,r.Se)("staff",["currentUserCan","currentUserIsSelf","currentUserIsStaff","currentUserStaffId","userId"])),methods:(0,o.Z)((0,o.Z)({disconnectAccount:function(){var t=this;this.disconnecting=!0,this.googleCalendarDeauth({staff_id:this.currentStaff.id}).then((function(){t.disconnecting=!1,t.saveStaff()}))}},(0,r.OI)("staff",["setCurrentStaff"])),(0,r.nv)("staff",["googleCalendarDeauth","saveStaff"]))},mg=ug,fg=(0,K.Z)(mg,qf,Hf,!1,null,null,null),gg=fg.exports,hg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-staff-web-meetings"},[[n("h3",{staticClass:"md-headline"},[t._v(" "+t._s(t.translations.settings.staff.webMeetings.headline)+" ")]),n("fieldset",{staticClass:"md-fieldset field-wrapper"},[n("p",[t._v(t._s(t.translations.settings.staff.webMeetings.web_meetings_url))]),n("md-input-container",[n("md-input",{attrs:{placeholder:"https://",maxlength:"255",id:"web_meetings_url"},model:{value:t.web_meetings_url,callback:function(e){t.web_meetings_url=e},expression:"web_meetings_url"}}),n("span",{staticClass:"md-error"},[t._v(" "+t._s(t.translations.settings.staff.fields.email.errorTaken)+" ")])],1)],1)]],2)},_g=[],vg={name:"settingsWebMeetingsEdit",computed:(0,o.Z)((0,o.Z)({web_meetings_url:{get:function(){return this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"web_meetings_url")?this.currentStaff.web_meetings_url:null},set:function(t){this.setCurrentStaff({key:"web_meetings_url",value:t})}}},(0,r.rn)("translations",["translations"])),(0,r.rn)("staff",["currentStaff"])),methods:(0,o.Z)({},(0,r.OI)("staff",["setCurrentStaff"]))},yg=vg,bg=(0,K.Z)(yg,hg,_g,!1,null,null,null),kg=bg.exports,Cg={name:"settingsStaffEdit",components:{Loading:st,UserSelector:Of,EditContact:Nf,EditPermissions:Rf,EditAvailability:gg,EditWebMeetings:kg,Empty:te},props:["id"],data:function(){return{allAppointmentTypes:!0,activeTab:"contact",availableEmail:!0,dirty:!1,currentUser:{name:"",email:""},defaultStaff:$,editExistingText:{title:"","content-html":"Edit","ok-text":"","cancel-text":""},incomplete:!1,loading:!0,linkUser:!1,saving:!1,validContact:!0,leaveWithoutSaving:!1}},mounted:function(){this.onMountOrUpdate(),this.getGuides({"ssasc-plugin-screen":L.teams.edit})},beforeRouteEnter:function(t,e,n){n((function(i){i.navigationGuard(t,e,n)}))},beforeRouteUpdate:function(t,e,n){this.onMountOrUpdate(),this.navigationGuard(t,e,n)},beforeRouteLeave:function(t,e,n){var i=this;if(this.incomplete){var s="confirmLeaveIncomplete";return this.$refs[s].open(),void this.$refs[s].$on("close",(function(t){"ok"===t?(i.deleteCurrentStaff(),n()):n(!1)}))}if(this.dirty){var a="confirmLeaveDirty";return this.$refs[a].open(),void this.$refs[a].$on("close",(function(){i.leaveWithoutSaving?n():n(!1)}))}n()},watch:{currentStaffString:function(t,e){this.dirty=e!==t,this.incomplete=t&&0===parseInt(this.currentStaff.user_id,10)&&(!this.currentStaff.name||!this.currentStaff.display_name)}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({currentStaffString:function(){return JSON.stringify(this.currentStaff)},name:function(){var t="";return t=0===this.userId?this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"name")?this.currentStaff.name:"":this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"display_name")?this.currentStaff.display_name:"",t},notAllStaff:function(){return this.editableAppointmentTypes.length&&this.staffAppointmentTypes.length<this.editableAppointmentTypes.length},pageTitle:function(){var t=this.translations.settings.staff.actions.addNew;return this.id&&(t=this.name?this.name:this.translations.settings.staff.emptyEditTitle),t}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings"])),(0,r.rn)("staff",["currentStaff","staff","users"])),(0,r.Se)(["staffAppointmentTypes"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),(0,r.Se)("staff",["currentUserCan","currentUserIsSelf","currentUserIsStaff","currentUserStaffId","userId"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({activateContactTab:function(){var t=this.$refs.staffTabs.$el,e=t.querySelector(".md-tab-header");e.click();var n=this.$refs.contactTab.$el,i=n.querySelector(".md-input-invalid input");setTimeout((function(){i.focus()}),300)},cancelEdit:function(){this.currentUserCan("ssa_manage_staff")?this.$router.push("/ssa/settings/staff"):this.$router.push("/ssa/appointments")},checkEmail:function(){var t=this,e=this.currentStaff&&Object.prototype.hasOwnProperty.call(this.currentStaff,"email")?this.currentStaff.email.toLowerCase():"",n=this.staff.find((function(e){return e.id===t.currentStaff.id})).email.toLowerCase(),i=this.staff.map((function(t){return t.email?t.email.toLowerCase():""})),s=i.filter((function(t){return t!==n}));if(this.availableEmail=s.indexOf(e)<0,this.availableEmail){if(0===parseInt(this.currentStaff.user_id,10)){var a=this.users.find((function(t){return e===t.email.toLowerCase()}));if(a&&!this.linkUser){this.availableEmail=!1,this.currentUser={name:a.display_name,email:a.email.toLowerCase()};var o="linkToUser";this.$refs[o].open(),this.$refs[o].$on("close",(function(n){if("ok"===n)t.availableEmail=!0,t.linkUser=!0,t.setCurrentStaff({key:"user_id",value:a.id}),t.saveStaffForm();else{t.availableEmail=!0,t.linkUser=!1;var i=t.staff.find((function(e){return e.id===t.currentStaff.id})),s=i.email.toLowerCase();e=s}}))}}}else{var r="emailTaken";this.$refs[r].open()}},createStaffFromEmail:function(t){var e=this,n=this.staff.find((function(e){return e.email.toLowerCase()===t.email.toLowerCase()}));n?this.editExisting(n):(this.saving=!0,t=Object.assign({},this.defaultStaff,t),this.setCurrentStaff(t),this.updateAllAppointmentTypes(),this.saveStaff().then((function(){e.saving=!1,e.$router.push({name:"staff-single",params:{id:e.currentStaff.id}})})))},deleteCurrentStaff:function(){var t=this.currentStaff.id;console.log("currentStaff ID",t),this.deleteStaff(t).then((function(){})).catch((function(t){console.log(t)}))},editExisting:function(t){var e=this,n=this.translations.settings.staff.editExisting[t.status];this.editExistingText=n;var i="existingStaff";this.$refs[i].open(),this.$refs[i].$on("close",(function(n){"ok"===n?(e.setCurrentStaff(t),"publish"!==t.status&&e.setCurrentStaff({key:"status",value:"publish"}),e.saving=!0,e.saveStaff().then((function(){e.saving=!1,e.updateAllAppointmentTypes()})).catch((function(t){console.log(t)})),e.$router.push("/ssa/settings/staff/profile/"+t.id)):e.$router.push("/ssa/settings/staff")}))},loadStaff:function(){var t=this,e=this.staff.find((function(e){return parseInt(e.id,10)===parseInt(t.id,10)}));this.setCurrentStaff(e),this.syncStaffFromUsers()},navigationGuard:function(t,e,n){this.currentUserCan("ssa_manage_staff")?(t.params.id||this.setCurrentStaff(void 0),n()):this.currentUserIsStaff?this.$router.push("/ssa/settings/staff/profile/"+this.currentUserStaffId):this.$router.push("/ssa")},onMountOrUpdate:function(){var t=this;this.id?(this.loadStaff(),Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")&&this.currentStaff.appointment_types.length?(this.loading=!1,this.updateAllAppointmentTypes()):this.fetchSingleStaff(this.id).then((function(){t.loading=!1,t.updateAllAppointmentTypes()}))):this.loading=!1},saveStaffForm:function(){var t=this;if(this.checkEmail(),this.updateAllAppointmentTypes(),!this.validContact||!this.availableEmail)return this.saving=!1,void this.activateContactTab();this.saving=!0,this.saveStaff().then((function(){t.dirty=!1,t.saving=!1,t.linkUser=!1,t.currentUserCan("ssa_manage_staff")?t.$router.push("/ssa/settings/staff"):t.$refs.saveStatus.open()})).catch((function(e){console.log("failed to save",e),t.saving=!1}))},toggleAllAppointmentTypes:function(t){this.allAppointmentTypes=t},updateAllAppointmentTypes:function(){Object.prototype.hasOwnProperty.call(this.currentStaff,"appointment_types")&&(this.allAppointmentTypes=this.currentStaff.appointment_types.length===this.editableAppointmentTypes.length,this.notAllStaff&&(this.allAppointmentTypes=!1))},updateTab:function(t){this.activeTab=t},validateContact:function(t){this.validContact=t},dialogLeaveWithoutSaving:function(){this.leaveWithoutSaving=!0,this.$refs.confirmLeaveDirty.close()},dialogKeepEdits:function(){this.leaveWithoutSaving=!1,this.$refs.confirmLeaveDirty.close()}},(0,r.nv)("staff",["deleteStaff","fetchSingleStaff","saveStaff","syncStaffFromUsers"])),(0,r.OI)("staff",["setCurrentStaff"])),(0,r.nv)("guides",["getGuides"]))},Sg=Cg,wg=(0,K.Z)(Sg,xf,Af,!1,null,null,null),Tg=wg.exports,xg=[{path:"staff",component:yf,redirect:"/ssa/settings/staff/all",children:[{path:"all",name:"staff-all",component:Tf,meta:{ssa_manage_staff:!0}},{path:"profile/:id?",name:"staff-single",component:Tg,props:!0}]}],Ag=[{path:"settings",component:yo,redirect:"/ssa/settings/all",children:[{path:"all",name:"settings-all",component:jo,meta:{ssa_manage_site_settings:!0}},{path:"license",name:"settings-license",component:Wo,meta:{ssa_manage_site_settings:!0}},{path:"general",name:"settings-general",component:rr,meta:{ssa_manage_site_settings:!0}},{path:"developer",name:"settings-developer",component:Dr,meta:{ssa_manage_site_settings:!0}},{path:"import-export",name:"settings-import-export",component:Rr,meta:{ssa_manage_site_settings:!0}},{path:"styles",name:"settings-styles",component:ol,meta:{ssa_manage_site_settings:!0}},{path:"translations",name:"settings-translations",component:ul,meta:{ssa_manage_site_settings:!0}},{path:"google-calendar",name:"settings-google-calendar",component:Lc,meta:{ssa_manage_site_settings:!0}},{path:"mailchimp",name:"settings-mailchimp",component:nd,meta:{ssa_manage_site_settings:!0}},{path:"webex",name:"settings-webex",component:bd,meta:{ssa_manage_site_settings:!0}},{path:"zoom",name:"settings-zoom",component:Ld,meta:{ssa_manage_site_settings:!0}},{path:"advanced-scheduling",name:"settings-advanced-scheduling",component:Bd,meta:{ssa_manage_site_settings:!0}},{path:"tracking",name:"settings-tracking",component:Yd,meta:{ssa_manage_site_settings:!0}}].concat((0,U.Z)(Mp),(0,U.Z)(cm),(0,U.Z)(Gm),(0,U.Z)(mf),(0,U.Z)(xg))}],Pg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"support"},[n("router-view")],1)},Mg=[],Eg={name:"supportHome",data:function(){return{}}},Dg=Eg,$g=(0,K.Z)(Dg,Pg,Mg,!1,null,null,null),Og=$g.exports,Ig=function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"support"},[!0===e.error?i("empty",{attrs:{label:e.errorLabel,description:e.errorDescription}},[e.error_exit?i("md-button",{staticClass:"md-raised md-primary",on:{click:function(){return t.error=!1}}},[e._v(" "+e._s(e.translations.support.showDebugging)+" ")]):e._e()],1):!0===e.loading?i("loading",{attrs:{message:e.loadingMessage}}):[i("md-toolbar",{staticClass:"md-transparent"},[i("div",{staticStyle:{flex:"1"}},[i("h2",{staticClass:"md-title"},[e._v(" "+e._s(e.translations.support.supportTitle)+" ")])]),i("md-button",{staticClass:"md-primary md-raised",attrs:{id:"contact-team"},on:{click:e.openContactForm}},[i("md-icon",[e._v(" contact_support ")]),e._v(" "+e._s(e.translations.support.contact)+" ")],1)],1),i("p",[e._v(" "+e._s(e.translations.support.supportDetails)+" ")]),i("ul",{staticClass:"icon-list"},e._l(e.siteStatusList,(function(t,n){return i("li",{key:n},[i("div",{staticClass:"icon"},[i("md-icon",{staticClass:"md-primary",attrs:{"md-theme":e.statusTheme(t.status)}},["error"===t.status?[e._v(" error ")]:"warning"===t.status?[e._v(" warning ")]:[e._v(" check_circle ")]],2)],1),i("div",{staticClass:"details"},[i("h3",{staticClass:"detail-header"},[e._v(" "+e._s(e.translations.support[n])+" ")]),e._l(t.notices,(function(t,n){return i("p",{key:n,domProps:{innerHTML:e._s(t)}})}))],2)])})),0),i("hr"),i("h2",{staticClass:"md-title"},[e._v(" "+e._s(e.translations.support.moreDetails)+" ")]),i("support-local",{on:{localUpdate:e.updateEnvironment}}),i("hr"),i("h2",{staticClass:"md-title"},[e._v(" "+e._s(e.translations.support.debugger)+" ")]),i("debugger")],i("md-dialog",{ref:"contactForm",attrs:{"md-open-from":"#contact-team","md-close-to":"#contact-team"}},[i("contact-support",{attrs:{messageInfo:e.debuggingInfo},on:{close:e.closeContactForm}})],1)],2)},Zg=[],zg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"support-local"},[n("ul",{staticClass:"icon-list"},t._l(t.systemDetails,(function(e,i){return n("li",{key:i},[n("div",{staticClass:"icon"},[n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"light-blue"}},[t._v("info")])],1),n("div",{staticClass:"details"},[n("h2",{staticClass:"detail-header"},[t._v(t._s(t.translations.support[i]))]),n("p",[t._v(t._s(e))])])])})),0)])},jg=[],Lg={name:"supportLocal",data:function(){return{systemDetails:{os:"",screenResolution:"",webBrowser:"",webBrowserSize:"",siteUrl:""}}},mounted:function(){this.detectOS(),this.detectScreenResolution(),this.detectBrowser(),this.detectBrowserSize(),this.detectSiteUrl(),this.detectHomeUrl()},updated:function(){this.$emit("localUpdate",this.systemDetails)},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api"])),methods:{detectOS:function(){var t=navigator.appVersion.toLowerCase(),e=this.translations.support.unknown;-1!==t.indexOf("win")&&(e="Windows"),-1!==t.indexOf("mac")&&(e="MacOS"),-1!==t.indexOf("x11")&&(e="UNIX"),-1!==t.indexOf("linux")&&(e="Linux"),this.$set(this.systemDetails,"os",e)},detectScreenResolution:function(){var t=this.translations.support.unknown,e=screen.width,n=screen.height;t=e+" x "+n,this.$set(this.systemDetails,"screenResolution",t)},detectBrowser:function(){var t=this.translations.support.unknown,e=navigator.userAgent,n=navigator.appName,i=parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10),a="",o="",r="";-1!==(o=e.indexOf("OPR/"))?(n="Opera",i=e.substring(o+4)):-1!==(o=e.indexOf("opera"))?(n="Opera",i=e.substring(o+6),-1!==(o=e.indexOf("version"))&&(i=e.substring(o+8))):-1!==(o=e.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=e.substring(o+5)):-1!==(o=e.indexOf("Chrome"))?(n="Chrome",i=e.substring(o+7)):-1!==(o=e.indexOf("Safari"))?(n="Safari",i=e.substring(o+7),-1!==(o=e.indexOf("Version"))&&(i=e.substring(o+8))):-1!==(o=e.indexOf("Firefox"))?(n="Firefox",i=e.substring(o+8)):(a=e.lastIndexOf(" ")+1)<(o=e.lastIndexOf("/"))&&(n=e.substring(a,o),i=e.substring(o+1),n.toLowerCase()===n.toUpperCase()&&(n=navigator.appName)),-1!==(r=i.indexOf(";"))&&(i=i.substring(0,r)),-1!==(r=i.indexOf(" "))&&(i=i.substring(0,r)),s=parseInt(i,10),isNaN(s)&&(i=parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10)),t=n+" "+s+" ("+i+")",this.$set(this.systemDetails,"webBrowser",t)},detectBrowserSize:function(){var t=this.translations.support.unknown,e=0,n=0;document.body&&document.body.offsetWidth&&(e=document.body.offsetWidth,n=document.body.offsetHeight),"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(e=document.documentElement.offsetWidth,n=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(e=window.innerWidth,n=window.innerHeight),t=e+" x "+n,this.$set(this.systemDetails,"webBrowserSize",t)},detectSiteUrl:function(){var t=this.translations.support.unknown;this.api&&this.api.site_url&&(t=this.api.site_url),this.$set(this.systemDetails,"siteUrl",t)},detectHomeUrl:function(){var t=this.translations.support.unknown;this.api&&this.api.home_url&&(t=this.api.home_url),this.$set(this.systemDetails,"homeUrl",t)}}},Ng=Lg,Ug=(0,K.Z)(Ng,zg,jg,!1,null,null,null),Gg=Ug.exports,Fg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"support-debugger"},[n("md-tabs",{staticClass:"md-transparent"},[n("md-tab",{attrs:{id:"ssa","md-label":t.translations.support.debugLogs}},[n("div",{staticClass:"support-debugger-toolbar"},[n("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.ssa_debug_mode,callback:function(e){t.ssa_debug_mode=e},expression:"ssa_debug_mode"}},[n("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.support.enableDebugLog))]),t.savingSSADebug?n("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}):t._e()],1),t.ssa_debug_mode?n("div",{staticClass:"support-debugger-actions"},[n("md-menu",{attrs:{"md-align-trigger":""}},[n("md-button",{attrs:{"md-menu-trigger":""}},[n("span",[t._v(t._s(t.translations.support.debugLogOptions))]),t._v(" "),n("md-icon",{staticClass:"md-size-1x"},[t._v("expand_more")])],1),n("md-menu-content",[n("md-menu-item",{staticClass:"refresh-debug-log",on:{click:function(e){return t.refreshDebugLog("ssa")}}},[n("span",[t._v(t._s(t.translations.support.debugLogRefresh))]),n("md-icon",[t._v("refresh")])],1),t.logUrls.ssa?n("md-menu-item",{staticClass:"download-debug-log",on:{click:function(e){return t.downloadLog("ssa")}}},[n("span",[t._v(t._s(t.translations.support.debugLogDownload))]),n("md-icon",[t._v("get_app")])],1):t._e(),n("md-menu-item",{staticClass:"clear-debug-log",on:{click:function(e){return t.clearLogFile("ssa")}}},[n("span",[t._v(t._s(t.translations.support.debugLogClear))]),n("md-icon",[t._v("delete")])],1)],1)],1)],1):t._e()],1),t.ssa_debug_mode?n("div",{staticClass:"support-debugger-log-container"},[t.loadClickedSSADebug?t._e():n("div",{staticClass:"support-debugger-loading"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.loadLog("ssa")}}},[t._v(t._s(t.translations.support.loadDebugLog))])],1),t.loadClickedSSADebug?[t.loadingSSADebug?n("div",{staticClass:"support-debugger-loading"},[n("md-spinner",{attrs:{"md-size":48,"md-indeterminate":""}}),n("div",{staticClass:"support-debugger-loading-label"},[t._v(t._s(t.translations.support.debugLogLoading))])],1):t._e(),t.debugLog&&t.debugLog.ssa&&!t.loadingSSADebug?n("pre",{staticClass:"support-debugger-contents",domProps:{innerHTML:t._s(t.debugLog.ssa)}}):t._e(),t.debugLog&&t.debugLog.ssa||t.loadingSSADebug?t._e():n("div",{staticClass:"support-debugger-log-empty"},[n("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),n("h3",[t._v(t._s(t.translations.support.debugLogEmpty))]),n("p",[t._v(t._s(t.translations.support.debugLogEmptyDetails))])],1),t.logUrls.ssa?n("a",{ref:"logSSALink",staticStyle:{display:"none"},attrs:{href:t.logUrls.ssa,download:""}}):t._e()]:t._e()],2):t._e()]),t.ssa_debug_mode?n("md-tab",{attrs:{id:"wp","md-label":t.translations.support.debugLogsWP}},[n("div",{staticClass:"support-debugger-toolbar"},[n("md-switch",{attrs:{"md-theme":"reverse"},model:{value:t.debug_mode,callback:function(e){t.debug_mode=e},expression:"debug_mode"}},[n("span",{staticClass:"md-switch-label"},[t._v(t._s(t.translations.support.enableDebugLogWP))]),t.savingWPDebug?n("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}):t._e()],1),t.debug_mode?n("div",{staticClass:"support-debugger-actions"},[n("md-menu",{attrs:{"md-align-trigger":""}},[n("md-button",{attrs:{"md-menu-trigger":""}},[n("span",[t._v(t._s(t.translations.support.debugLogOptions))]),t._v(" "),n("md-icon",{staticClass:"md-size-1x"},[t._v("expand_more")])],1),n("md-menu-content",[n("md-menu-item",{staticClass:"refresh-debug-log",on:{click:function(e){return t.refreshDebugLog("wp")}}},[n("span",[t._v(t._s(t.translations.support.debugLogRefresh))]),n("md-icon",[t._v("refresh")])],1),t.logUrls.wp?n("md-menu-item",{staticClass:"download-debug-log",on:{click:function(e){return t.downloadLog("wp")}}},[n("span",[t._v(t._s(t.translations.support.debugLogDownload))]),n("md-icon",[t._v("get_app")])],1):t._e(),n("md-menu-item",{staticClass:"clear-debug-log",on:{click:function(e){return t.clearLogFile("wp")}}},[n("span",[t._v(t._s(t.translations.support.debugLogClear))]),n("md-icon",[t._v("delete")])],1)],1)],1)],1):t._e()],1),t.debug_mode?n("div",{staticClass:"support-debugger-log-container"},[t.loadClickedWPDebug?t._e():n("div",{staticClass:"support-debugger-loading"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:function(e){return t.loadLog("wp")}}},[t._v(t._s(t.translations.support.loadDebugLog))])],1),t.loadClickedWPDebug?[t.loadingWPDebug?n("div",{staticClass:"support-debugger-loading"},[n("md-spinner",{attrs:{"md-size":48,"md-indeterminate":""}}),n("div",{staticClass:"support-debugger-loading-label"},[t._v(t._s(t.translations.support.debugLogLoadingWP))])],1):t._e(),t.debugLog&&t.debugLog.wp&&!t.loadingWPDebug?n("pre",{staticClass:"support-debugger-contents",domProps:{innerHTML:t._s(t.debugLog.wp)}}):t._e(),t.debugLog&&t.debugLog.wp||t.loadingWPDebug?t._e():n("div",{staticClass:"support-debugger-log-empty"},[n("md-icon",{staticClass:"icon md-size-3x"},[t._v("check_circle")]),n("h3",[t._v(t._s(t.translations.support.debugLogEmpty))]),n("p",[t._v(t._s(t.translations.support.debugLogEmptyDetails))])],1),t.logUrls.wp?n("a",{ref:"logWPLink",staticStyle:{display:"none"},attrs:{href:t.logUrls.wp,download:""}}):t._e()]:t._e()],2):t._e()]):t._e()],1)],1)},Wg=[],Bg={name:"supportDebugger",data:function(){return{savingSSADebug:!1,loadingSSADebug:!1,savingWPDebug:!1,loadingWPDebug:!1,savingMap:{ssa:"savingSSADebug",wp:"savingWPDebug"},loadingMap:{ssa:"loadingSSADebug",wp:"loadingWPDebug"},loadClickedSSADebug:!1,loadClickedWPDebug:!1}},computed:(0,o.Z)((0,o.Z)({debug_mode:{get:function(){return this.settings.developer.debug_mode},set:function(t){this.setWPDebugMode(t)}},ssa_debug_mode:{get:function(){return this.settings.developer.ssa_debug_mode},set:function(t){this.setSSADebugMode(t)}}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","debugLog","logUrls"])),methods:(0,o.Z)((0,o.Z)((0,o.Z)({loadLog:function(t){var e=this;"ssa"===t&&(this.loadClickedSSADebug=!0,this.ssa_debug_mode&&(this.loadingSSADebug=!0,this.fetchSSADebugLog().then((function(){e.loadingSSADebug=!1})))),"wp"===t&&(this.loadClickedWPDebug=!0,this.debug_mode&&(this.loadingWPDebug=!0,this.fetchWPDebugLog().then((function(){e.loadingWPDebug=!1}))))},clearLogFile:function(t){var e=this,n=this.savingMap[t];this[n]=!0,"ssa"===t?this.clearSSADebugLog().then((function(){e[n]=!1,e.fetchLogUrls()})):this.clearWPDebugLog().then((function(){e[n]=!1,e.fetchLogUrls()}))},refreshDebugLog:function(t){var e=this,n=this.loadingMap[t];this[n]=!0,"ssa"===t?(this.setSSADebugLog(null),this.fetchSSADebugLog().then((function(){e[n]=!1}))):(this.setWPDebugLog(null),this.fetchWPDebugLog().then((function(){e[n]=!1})))},downloadLog:function(t){"ssa"===t&&this.$refs.logSSALink.click(),"wp"===t&&this.$refs.logWPLink.click()}},(0,r.nv)(["fetchSettings","fetchWPDebugLog","fetchSSADebugLog","fetchLogUrls","clearWPDebugLog","clearSSADebugLog"])),(0,r.OI)(["setWPDebugMode","setSSADebugMode","setSSADebugLog","setWPDebugLog"])),(0,r.nv)("developer_settings",["updateDeveloperSettings"])),watch:{ssa_debug_mode:function(){var t=this;this.savingSSADebug=!0,this.loadingSSADebug=!0,this.ssa_debug_mode||(this.debug_mode=!1),this.updateDeveloperSettings().then((function(){t.$emit("saved"),t.savingSSADebug=!1,t.ssa_debug_mode?t.debugLog.ssa?t.loadingSSADebug=!1:t.fetchSSADebugLog().then((function(){t.loadingSSADebug=!1})):t.loadingSSADebug=!1}))},debug_mode:function(){var t=this;this.savingWPDebug=!0,this.loadingWPDebug=!0,this.updateDeveloperSettings().then((function(){t.savingWPDebug=!1,t.$emit("saved"),t.debug_mode?t.debugLog.wp?t.loadingWPDebug=!1:t.fetchWPDebugLog().then((function(){t.loadingWPDebug=!1})):t.loadingWPDebug=!1}))}},mounted:function(){this.fetchLogUrls()}},Rg=Bg,qg=(0,K.Z)(Rg,Fg,Wg,!1,null,null,null),Hg=qg.exports,Kg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-layout",{staticClass:"ssa-contact-support"},[t.loading||!t.submitted||t.error?t._e():[n("md-dialog-title",[t._v(" "+t._s(t.dialogTitle)+" ")]),n("md-dialog-content",[n("p",{staticStyle:{"margin-bottom":"1em"}},[t._v(t._s(t.translations.support.successMessage))]),n("p",[t._v(t._s(t.translations.support.successMessageDetails))])]),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeForm}},[t._v(t._s(t.translations.general.ok))])],1)],t.loading?n("md-dialog-content",[n("empty",{staticStyle:{"min-width":"720px","min-height":"400px"}},[n("loading",{attrs:{message:t.translations.support.sendingMessage}})],1)],1):t._e(),t.loading||t.submitted&&!t.error?t._e():n("md-layout",{staticClass:"ssa-contact-support"},[n("md-layout",{attrs:{"md-flex":"75"}},[n("div",{staticStyle:{display:"flex","flex-flow":"column"}},[n("md-dialog-title",[t._v(" "+t._s(t.dialogTitle)+" ")]),n("md-dialog-content",[t.submitted?t._e():n("notification",{staticStyle:{"margin-top":"0"},attrs:{icon:"info"}},[Object.prototype.hasOwnProperty.call(t.messageInfo,"time_slot")?[t._v(" "+t._s(t.translations.support.disclosureTime)),n("br"),t._v(" "+t._s(t.messageInfo.time_slot.appointment_type.title)+" "+t._s(t.moment(t.messageInfo.time_slot["time-value-localized"],t.timestampFormat).format(t.settings.global.date_format_moment+" "+t.settings.global.time_format_moment))+" ")]:[t._v(" "+t._s(t.translations.support.disclosure)+" ")]],2),t.submitted&&t.error?n("notification",{attrs:{theme:"red",icon:"error"}},[n("p",[t._v(t._s(t.translations.support.messageFailedDescription))]),n("md-layout",{attrs:{"md-gutter":"","md-vertical-align":"center"}},[n("md-layout",{attrs:{"md-flex":"50"}},[n("h4",[t._v(t._s(t.translations.support.messageFailedDetails))])]),n("md-layout",{attrs:{"md-flex":"50","md-align":"end"}},[n("md-button",{staticClass:"support-error-copy md-dense",on:{click:t.copyExportCode}},[t._v(t._s(t.translations.settings.import_export.copy)+" "),n("md-icon",{staticClass:"md-primary"},[t._v("file_copy")])],1)],1)],1),t.error?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.error,expression:"error"}],ref:"errorDetails",staticClass:"support-error-raw",attrs:{readonly:""},domProps:{value:t.error},on:{input:function(e){e.target.composing||(t.error=e.target.value)}}}):t._e(),n("md-snackbar",{ref:"errorDetailsNotice",attrs:{"md-position":"top center"}},[n("span",[t._v(t._s(t.translations.support.exportCopied))])])],1):t._e(),n("md-input-container",{class:{"md-input-invalid":!t.isEmailValid}},[n("label",[t._v(" "+t._s(t.translations.support.fromEmail)+" ")]),n("md-input",{attrs:{required:""},model:{value:t.reply_to,callback:function(e){t.reply_to=e},expression:"reply_to"}}),t.isEmailValid?t._e():n("span",{staticClass:"md-error"},[t._v(t._s(t.translations.support.invalidEmail))])],1),n("md-input-container",[n("label",[t._v(" "+t._s(t.translations.support.message)+" ")]),n("md-textarea",{attrs:{required:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),n("div",{staticClass:"md-checkbox-with-note"},[n("md-checkbox",{staticClass:"with-help",attrs:{id:"include_settings",name:"includeSettings"},model:{value:t.include_settings,callback:function(e){t.include_settings=e},expression:"include_settings"}},[t._v(" "+t._s(t.translations.support.includeSettings)+" ")]),n("p",{staticClass:"md-checkbox-note"},[t._v(" "+t._s(t.translations.support.includeDescription)+" ")])],1),n("md-checkbox",{staticClass:"with-help",attrs:{id:"include_active_plugins",name:"includeActivePlugins"},model:{value:t.include_active_plugins,callback:function(e){t.include_active_plugins=e},expression:"include_active_plugins"}},[t._v(" "+t._s(t.translations.support.includePlugins)+" ")])],1),n("md-dialog-actions",[n("md-button",{on:{click:t.closeForm}},[t._v(" "+t._s(t.translations.general.cancel)+" ")]),n("md-button",{staticClass:"md-primary",attrs:{disabled:!t.message||!t.reply_to},on:{click:t.sendMessage}},[t._v(" "+t._s(this.translations.support.sendMessage)+" ")])],1)],1)]),n("md-layout",[n("support-guides")],1)],1)],2)},Vg=[],Yg=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ssa-guides contact"},[n("h2",{staticClass:"md-title"},[t._v(t._s(t.translations.support.guides.title_contact))]),t.supportGuidesLoading?n("empty",[n("md-spinner",{attrs:{"md-indeterminate":""}}),n("p",[t._v(t._s(t.translations.support.guides.loading))])],1):t._e(),t.supportGuidesLoading?t._e():[t.currentSupportGuides.length?[n("md-list",t._l(t.dipslayGuides,(function(e){return n("md-list-item",{key:e.id,attrs:{href:e.link,target:"_blank"}},[n("md-avatar",[n("img",{attrs:{src:e.icon,alt:""}})]),n("div",{staticClass:"ssa-guide-label",domProps:{innerHTML:t._s(e.title)}})],1)})),1),t.currentSupportGuides.length>3?n("md-card-actions",[n("md-button",{staticStyle:{width:"100%"},on:{click:function(e){t.showAllGuides=!t.showAllGuides}}},[t._v(t._s(this.showAllGuides?t.translations.support.guides.less:t.translations.support.guides.more))])],1):t._e()]:t._e(),t.currentSupportGuideKey&&0===t.currentSupportGuides.length?[n("md-card-content",[n("p",{staticClass:"md-subhead"},[t._v(t._s(t.translations.support.guides.notFound))])])]:t._e()]],2)},Jg=[],Xg={name:"SupportGuides",components:{Empty:te},data:function(){return{showAllGuides:!1}},watch:{currentSupportGuides:function(t){t.length&&(this.showAllGuides=!1)}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)("guides",["supportGuidesLoading","currentSupportGuideKey"])),(0,r.Se)("guides",["currentSupportGuides"])),{},{dipslayGuides:function(){var t=this.showAllGuides?this.currentSupportGuides:this.currentSupportGuides.slice(0,3);return t.map((function(t){var e=(0,o.Z)({},t),n={utm_source:"plugin",utm_medium:"guides",utm_campaign:"support-help",utm_content:le()(t.title,{lower:!0,strict:!0})};return e.link="".concat(t.link,"?").concat(ut().stringify(n)),e}))}})},Qg=Xg,th=(0,K.Z)(Qg,Yg,Jg,!1,null,null,null),eh=th.exports,nh={name:"contact-support",components:{Notification:Sn,Empty:te,Loading:st,SupportGuides:eh},props:["messageInfo"],data:function(){return{include_active_plugins:!0,include_settings:!0,messagePayload:{},moment:R(),loading:!1,error:null,submitted:!1}},watch:{message:function(){this.maybeLoadGuides()}},mounted:function(){Object.prototype.hasOwnProperty.call(this.messagePayload,"reply_to")&&this.messagePayload.reply_to||(this.$set(this.messagePayload,"reply_to",this.settings.global.admin_email),this.getSupportGuides({"ssasc-plugin-screen":L.support_ticket["default"]}))},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({message:{get:function(){return Object.prototype.hasOwnProperty.call(this.messagePayload,"message")?this.messagePayload.message:""},set:function(t){this.$set(this.messagePayload,"message",t)}},reply_to:{get:function(){return Object.prototype.hasOwnProperty.call(this.messagePayload,"reply_to")?this.messagePayload.reply_to:this.settings.global.admin_email},set:function(t){this.$set(this.messagePayload,"reply_to",t)}},isEmailValid:function(){return""===this.reply_to||this.validateEmail(this.reply_to)},settings_enabled:function(){var t={};for(var e in this.settings)Object.prototype.hasOwnProperty.call(this.settings[e],"enabled")&&(t[e]=this.settings[e]["enabled"]);return t},dialogTitle:function(){return this.loading?null:this.submitted&&!this.error?this.translations.support.successTitle:this.translations.support.contact}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings","timestampFormat"])),(0,r.rn)("import_export",["exportCode"])),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),(0,r.Se)("notifications",["validateEmail"])),(0,r.Se)("guides",["getSupportGuidesTerms"])),methods:(0,o.Z)((0,o.Z)({closeForm:function(){var t=this;this.$emit("close"),setTimeout((function(){t.submitted=!1,t.error=null,t.loading=!1}),500)},generateSessionId:function(){var t=new URL(this.api.home_url).host,e=R().utc().isoWeek();return t+"-week"+e},sendMessage:function(){var t=this;return(0,Ir.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading=!0,t.submitted=!1,t.error=null,Object.prototype.hasOwnProperty.call(t.settings,"license")&&t.$set(t.messagePayload,"license",t.settings.license.license),t.$set(t.messagePayload,"session_id",t.generateSessionId()),t.$set(t.messagePayload,"include_active_plugins",t.include_active_plugins),!t.include_settings){e.next=11;break}return n={settings:!0,appointment_types:!0,appointments:!0,anonymize_customer_information:!0,appointments_limit:500,backup:!1},e.next=10,t.fetchExportCode(n);case 10:t.$set(t.messagePayload,"export_code",JSON.stringify(t.exportCode));case 11:t.$set(t.messagePayload,"environment",t.messageInfo.environment),t.$set(t.messagePayload,"home_url",t.messageInfo.home_url),t.$set(t.messagePayload,"real_timezone",t.messageInfo.real_timezone),t.$set(t.messagePayload,"site_status",t.messageInfo.site_status),t.$set(t.messagePayload,"site_url",t.messageInfo.site_url),t.$set(t.messagePayload,"embed_url",t.messageInfo.embed_url),t.sendSupportMessage(t.messagePayload).catch((function(e){t.handleErrorMessage(e)})).then((function(){t.loading=!1,t.submitted=!0}));case 18:case"end":return e.stop()}}),e)})))()},handleErrorMessage:function(t){this.loading=!1,this.error=t.responseText},maybeLoadGuides:Ee().debounce((function(){if(!this.message||this.message.length<3)this.getSupportGuides({"ssasc-plugin-screen":L.support_ticket["default"]});else{var t=this.getSupportGuidesTerms(this.message);t.length>0&&this.getSupportGuides({"ssasc-plugin-screen":t})}}),500),copyExportCode:function(){this.$refs.errorDetails.select(),document.execCommand("copy"),this.$refs.errorDetailsNotice.open()}},(0,r.nv)("guides",["getSupportGuides"])),(0,r.nv)("import_export",["fetchExportCode","sendSupportMessage"]))},ih=nh,sh=(0,K.Z)(ih,Kg,Vg,!1,null,null,null),ah=sh.exports,oh={name:"supportDetails",components:{Empty:te,Loading:st,SupportLocal:Gg,Debugger:Hg,ContactSupport:ah},data:function(){return{debuggingInfo:{},error:!1,errorDescription:"",errorLabel:"",loading:!0,loadingMessage:"",moment:R()}},beforeMount:function(){this.loadingMessage=this.translations.support.loadingSupport},mounted:function(){var t=this;this.getGuides({"ssasc-plugin-screen":L.support}),this.fetchSupportDetails().then((function(){t.loading=!1,t.updateDebuggingInfo()})).catch((function(e){t.loading=!1,t.error=!0,t.errorLabel=e}))},computed:(0,o.Z)((0,o.Z)((0,o.Z)({error_exit:function(){return!Ee().isEmpty(this.support)},siteStatusList:function(){var t=this;if(!this.support.site_status)return[];var e={};return Object.keys(this.support.site_status).forEach((function(n){"ssa_version"!==n&&(e[n]=t.support.site_status[n])})),e}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings","support"])),(0,r.Se)(["detectedTimezone"])),methods:(0,o.Z)((0,o.Z)({statusTheme:function(t){switch(t){case"good":return"light-green";case"warning":return"amber";case"error":return"red";default:return"light-green"}},updateEnvironment:function(t){this.$set(this.debuggingInfo,"environment",t)},openContactForm:function(){this.$refs.contactForm.open()},closeContactForm:function(){this.$refs.contactForm.close()},updateDebuggingInfo:function(){var t={appointment_types:[],global_settings:this.settings.global,home_url:this.api.home_url,embed_url:this.api.embed_url,real_timezone:this.detectedTimezone,settings:{},site_status:this.support.site_status,site_url:this.api.site_url};this.debuggingInfo=t}},(0,r.nv)(["fetchSupportDetails"])),(0,r.nv)("guides",["getGuides"]))},rh=oh,lh=(0,K.Z)(rh,Ig,Zg,!1,null,null,null),ch=lh.exports,dh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"availability-detective"},[t.currentUserCan("ssa_manage_site_settings")?[n("md-toolbar",{staticClass:"md-transparent"},[n("h2",{staticClass:"md-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])]),n("div",{staticStyle:{padding:"1rem"}},[n("p",[t._v(" "+t._s(t.translations.support.availabilityDetective.intro)+" ")]),n("form",{attrs:{novalidate:""},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[n("div",{staticStyle:{"padding-bottom":"1rem"}},[n("md-input-container",[n("label",{attrs:{for:"appointment-type"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.appointmentType.label)+" ")]),n("md-select",{attrs:{name:"appointment-type",id:"appointment-type"},model:{value:t.appointmentTypeId,callback:function(e){t.appointmentTypeId=e},expression:"appointmentTypeId"}},t._l(t.availableAppoinmentTypes,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),1)],1)],1),t.selectedAppointmentType?n("md-layout",{attrs:{"md-gutter":40}},[n("md-layout",{attrs:{"md-flex":60}},[n("div",[n("h3",{staticClass:"md-title",staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.date.title)+" ")]),n("availability-date-picker",{model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}}),t.selectedDate?n("fieldset",{staticStyle:{padding:"0"}},[n("legend",{staticClass:"md-title",staticStyle:{"margin-bottom":"1rem"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.time.title)+" ")]),n("availability-time-picker",{attrs:{date:t.selectedDate,"appointment-type":t.selectedAppointmentType},on:{input:t.handleTimeSelect},model:{value:t.selectedTime,callback:function(e){t.selectedTime=e},expression:"selectedTime"}})],1):t._e()],1)]),n("md-layout",{attrs:{"md-flex":40}},[n("div",[n("h3",{staticClass:"md-title",staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.summary)+" ")]),n("p",[n("strong",[t._v(t._s(t.translations.appointmentTypes.title))]),t._v(" "+t._s(t.selectedAppointmentType.title)+" ")]),n("p",[n("strong",[t._v(t._s(t.translations.appointmentTypes.duration))]),t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.duration))+" ")]),n("hr"),n("display-availability",{attrs:{availability:t.selectedAppointmentType.availability,weekdays:t.weekdays,format:t.settings.global.time_format_moment,"availability-type":t.selectedAppointmentType.availability_type,"highlight-day":t.selectedDay}}),n("hr"),parseInt(t.selectedAppointmentType.buffer_before,10)>0?n("div",{staticClass:"about-appt-type-list"},[n("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_before.title)+" ")]),n("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_before.desc)+" ")]),n("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.buffer_before))+" ")])]):t._e(),parseInt(t.selectedAppointmentType.buffer_after,10)>0?n("div",{staticClass:"about-appt-type-list"},[n("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_after.title)+" ")]),n("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.buffer_after.desc)+" ")]),n("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.buffer_after))+" ")])]):t._e(),t.bookingWindowDisplay?n("div",{staticClass:"about-appt-type-list"},[n("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.booking_window.title)+" ")]),n("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.booking_window.desc)+" ")]),n("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.bookingWindowDisplay)+" ")])]):t._e(),t.availabilityWindowDisplay?n("div",{staticClass:"about-appt-type-list"},[n("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.availability_window.title)+" ")]),n("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.availability_window.desc)+" ")]),n("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.availabilityWindowDisplay)+" ")])]):t._e(),parseInt(t.selectedAppointmentType.min_booking_notice,10)>0?n("div",{staticClass:"about-appt-type-list"},[n("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.title)+" ")]),n("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.desc)+" ")]),n("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.min_booking_notice))+" ")]),n("p",{staticClass:"prop-explanation"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.min_booking_notice.explanation)),n("br"),t._v(" "+t._s(t.minBookingNoticeDisplay)+" ")])]):t._e(),parseInt(t.selectedAppointmentType.max_booking_notice,10)>0?n("div",{staticClass:"about-appt-type-list"},[n("h4",{staticClass:"prop-title"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.title)+" ")]),n("p",{staticClass:"prop-desc"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.desc)+" ")]),n("p",{staticClass:"prop-value"},[t._v(" "+t._s(t.displayDuration(t.selectedAppointmentType.max_booking_notice))+" ")]),n("p",{staticClass:"prop-explanation"},[t._v(" "+t._s(t.translations.support.availabilityDetective.info.max_booking_notice.explanation)),n("br"),t._v(" "+t._s(t.maxBookingNoticeDisplay)+" ")])]):t._e()],1)])],1):t._e()],1)])]:n("no-permission")],2)},ph=[],uh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"availability-display"},[n("ul",{staticClass:"availability-list"},t._l(t.displayDays,(function(e){return n("li",{key:e,class:{selected:e===t.highlightDay}},[n("strong",[t._v(t._s(e))]),n("div",{staticClass:"avail"},[t.formattedAvail[e]&&t.formattedAvail[e].length?t._l(t.formattedAvail[e],(function(i){return n("div",{key:e+"-"+i.time_start,staticClass:"times"},[t._v(" "+t._s(i.time_start)+" "),"start_times"!==t.availabilityType?[t._v(" - "+t._s(i.time_end)+" ")]:t._e()],2)})):n("div",{staticClass:"times none"},[t._v("None")])],2)])})),0)])},mh=[],fh={name:"displayAvailability",props:["availability","weekdays","format","availabilityType","showDay","highlightDay"],computed:(0,o.Z)({displayDays:function(){return this.showDay?[this.showDay]:this.weekdays},formattedAvail:function(){var t=this,e=Ee().cloneDeep(this.availability);for(var n in e){var i=e[n];i.map((function(e){e.time_start=t.formatTime(e.time_start),e.time_end=t.formatTime(e.time_end)}))}return e}},(0,r.rn)(["settings"])),methods:{formatTime:function(t){var e=R()(t,"HH:mm:ss");return e.format(this.settings.global.time_format_moment)}}},gh=fh,hh=(0,K.Z)(gh,uh,mh,!1,null,null,null),_h=hh.exports,vh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cov-date-body md-theme-light-green"},[n("div",{staticClass:"cov-date-monthly"},[n("button",{staticClass:"cov-date-previous",on:{click:function(e){return e.preventDefault(),t.prevMonth.apply(null,arguments)}}},[n("md-icon",{staticClass:"md-size-2x"},[t._v(" keyboard_arrow_left ")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.previousMonth)+" ")])],1),n("div",{staticClass:"cov-date-caption"},[n("button",{staticClass:"caption-year"},[t._v(" "+t._s(t.currentYear)+" ")]),n("span",[t._v(" "+t._s(t.displayMonth)+" ")])]),n("button",{staticClass:"cov-date-next",on:{click:function(e){return e.preventDefault(),t.nextMonth.apply(null,arguments)}}},[n("md-icon",{staticClass:"md-size-2x"},[t._v("keyboard_arrow_right")]),n("span",{staticClass:"screen-reader-text"},[t._v(" "+t._s(t.translations.settings.blackout.nextMonth)+" ")])],1)]),n("div",{ref:"dayList",staticClass:"cov-date-box",attrs:{tabindex:"-1"}},[n("div",{staticClass:"cov-picker-box"},[n("div",{staticClass:"week"},[n("ul",t._l(t.week,(function(e){return n("li",{key:e},[t._v(" "+t._s(e)+" ")])})),0)]),n("div",{staticClass:"days"},t._l(t.days,(function(e,i){return n("div",{key:i,staticClass:"day",class:{selected:e.selected,readonly:e.readonly,unavailable:e.unavailable,"passive-day":!e.inMonth},on:{click:function(n){return t.checkDay(e)}}},[t._v(" "+t._s(e.value)+" ")])})),0)])])])},yh=[],bh={name:"availabilityDatePicker",props:{value:{default:"",type:String,required:!0}},data:function(){return{currentMoment:null}},mounted:function(){this.showDay()},computed:(0,o.Z)((0,o.Z)({currentMonth:function(){return this.currentMoment?this.currentMoment.format("MM"):""},currentYear:function(){return this.currentMoment?this.currentMoment.format("YYYY"):""},days:function(){if(this.currentMoment){var t=R()(this.currentMoment).date(1).day(),e=this.currentMoment.clone().subtract(1,"month");t=0===t?7:t,t=this.settings.global.start_of_week>t?t+7:t;var n=t-this.settings.global.start_of_week,i=n<7?n:0,s=this.currentMoment.clone().startOf("month").subtract(i,"days"),a=this.currentMoment.month(),o=s.clone().add(7,"days"),r=1;while(o.month()===a)r++,o.add(7,"days");for(var l=[],c=this.currentMoment.daysInMonth(),d=1;d<=c;++d)l.push({value:d,inMonth:!0,unavailable:!1,selected:!1,readonly:!1,moment:R()(this.currentMoment).date(d)}),this.checkSelectedDay(d,l);if(n<7)for(var p=0;p<t-this.settings.global.start_of_week;p++){var u={value:e.daysInMonth()-p,inMonth:!1,action:"previous",unavailable:!1,selected:!1,readonly:!1,moment:R()(this.currentMoment).date(1).subtract(p+1,"days")};l.unshift(u)}for(var m=7*r-l.length,f=1;f<=m;f++){var g={value:f,inMonth:!1,action:"next",unavailable:!1,selected:!1,readonly:!1,moment:R()(this.currentMoment).add(1,"months").date(f)};l.push(g)}return l}},displayMonth:function(){return this.currentMoment?this.currentMoment.format("MMMM"):""},week:function(){var t=R().weekdaysMin(!1);if(this.settings.global.start_of_week>0){var e=t.slice(0,this.settings.global.start_of_week),n=t.slice(this.settings.global.start_of_week);t=[].concat((0,U.Z)(n),(0,U.Z)(e))}return t}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:{checkDay:function(t){if(t.unavailable&&!t.selected||""===t.value||t.readonly)return!1;t.inMonth||("next"===t.action?this.nextMonth():this.prevMonth());var e=R()(this.currentYear+"-"+this.currentMonth+"-"+t.value,I).format(I);this.$emit("input",e)},checkSelectedDay:function(t,e){this.currentYear===R()(this.value).format("YYYY")&&this.currentMonth===R()(this.value).format("MM")&&t===Math.ceil(R()(this.value).format("D"))&&(e[t-1].selected=!0)},nextMonth:function(){this.currentMoment=this.currentMoment.clone().add(1,"month"),this.showDay()},prevMonth:function(){var t=this.currentMoment.clone().subtract(1,"month");t.isBefore(R()(),"month")||(this.currentMoment=t,this.showDay())},showDay:function(){this.currentMoment=this.currentMoment?this.currentMoment:R()()}}},kh=bh,Ch=(0,K.Z)(kh,vh,yh,!1,null,null,null),Sh=Ch.exports,wh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"time-picker"},[t.availableTimes.length?t._l(t.availableTimes,(function(e,i){return n("availability-time-picker-option",{key:i,attrs:{time:e,"appointment-type-id":t.appointmentTypeId},on:{support:t.handleSupport}})})):t._e(),t.availableTimes.length||t.selectedAvailability.length?t._e():n("empty",{attrs:{label:t.translations.support.availabilityDetective.noAvailability.noSlots.label,description:t.translations.support.availabilityDetective.noAvailability.noSlots.description}},[n("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/appointment-types/type/"+t.appointmentTypeId}},[t._v(" "+t._s(t.translations.support.availabilityDetective.noAvailability.noSlots.action)+" ")])],1),!t.availableTimes.length&&t.selectedAvailability.length?n("empty",{attrs:{label:t.translations.support.availabilityDetective.noAvailability.tooShortSlots.label,description:t.translations.support.availabilityDetective.noAvailability.tooShortSlots.description}},[n("strong",[t._v(t._s(t.translations.appointmentTypes.duration))]),t._v(" "+t._s(t.displayDuration(t.duration))+" "),n("display-availability",{staticStyle:{"min-width":"15rem"},attrs:{availability:t.availability,weekdays:t.daysOfWeek,format:t.settings.global.time_format_moment,availabilityType:t.availabilityType,"show-day":t.selectedDay}}),n("router-link",{staticClass:"md-primary md-raised",attrs:{tag:"md-button",to:"/ssa/appointment-types/type/"+t.appointmentTypeId}},[t._v(" "+t._s(t.translations.support.availabilityDetective.noAvailability.tooShortSlots.action)+" ")])],1):t._e(),n("md-dialog",{ref:"contactForm"},[n("contact-support",{attrs:{messageInfo:t.supportMessage},on:{close:t.closeContactForm,done:t.handleDoneMessage,starting:t.handleStartMessage}})],1),n("md-dialog",{ref:"sending",attrs:{"md-click-outside-to-close":!1,"md-esc-to-close":!1}},[n("md-dialog-content",[n("div",{staticStyle:{"text-align":"center"}},[n("md-spinner",{staticStyle:{margin:"0 auto"},attrs:{"md-indeterminate":""}}),n("div",[t._v(" "+t._s(t.translations.support.sendingMessage)+" ")])],1)])],1),n("md-dialog",{ref:"messageSuccess"},[n("md-dialog-title",[t._v(" "+t._s(t.translations.support.successTitle)+" ")]),n("md-dialog-content",[n("p",{staticStyle:{"margin-bottom":"1em"}},[t._v(" "+t._s(t.translations.support.successMessage)+" ")]),n("p",[t._v(" "+t._s(t.translations.support.successMessageDetails)+" ")])]),n("md-dialog-actions",[n("md-button",{staticClass:"md-primary",on:{click:t.closeMessageSuccess}},[t._v(" "+t._s(t.translations.general.ok)+" ")])],1)],1)],2)},Th=[],xh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"time-picker-option",class:t.status},[n("button",{staticClass:"time-button",attrs:{disabled:"unchecked"!==t.status},on:{click:t.checkAvailability}},[t._v(" "+t._s(t.time.display)+" ")]),n("div",{staticClass:"status-message",attrs:{"aria-live":"polite"}},["checking"===t.status?n("div",{staticClass:"checking"},[n("md-spinner",{attrs:{"md-size":16,"md-indeterminate":""}}),t._v(" "+t._s(t.translations.support.availabilityDetective.status.checking)+" ")],1):t._e(),"available"===t.status||"not-available"===t.status?n("div",{class:t.status},[n("div",{staticClass:"status-tag"},["available"===t.status?[t._v(" "+t._s(t.translations.support.availabilityDetective.status.available)+" ")]:[t._v(" "+t._s(t.translations.support.availabilityDetective.status.not_available)+" ")]],2),n("div",{staticClass:"explanation"},t._l(t.reasons,(function(e,i){return n("div",{key:"reason-"+i},[n("p",{staticClass:"md-subheading",staticStyle:{margin:"0"}},[t._v(" "+t._s(e.reason_title)+" ")]),n("p",{staticStyle:{"margin-top":"0"}},[t._v(" "+t._s(e.reason_description)+" "),Object.prototype.hasOwnProperty.call(e,"help_center_url")&&e.help_center_url?n("a",{attrs:{href:e.help_center_url}},[t._v(" "+t._s(t.translations.support.availabilityDetective.getMore)+" ")]):t._e(),Object.prototype.hasOwnProperty.call(e,"ssa_path")&&e.ssa_path?n("router-link",{attrs:{to:e.ssa_path}},[t._v(" "+t._s(e.reason_title)+" ")]):t._e()],1),n("div",{staticClass:"availability-support"},[t._v(" "+t._s(t.translations.support.supportRequestIntro)+" "),n("md-button",{staticClass:"md-raised",on:{click:t.handleSupport}},[t._v(" "+t._s(t.translations.support.supportRequestCta)+" ")])],1)])})),0)]):t._e()])])},Ah=[],Ph={name:"availabilityTimePickerOption",props:["time","appointmentTypeId"],data:function(){return{reasons:[],status:"unchecked"}},watch:{time:{deep:!0,handler:function(){this.status="unchecked",this.reasons=[]}}},computed:(0,o.Z)({},(0,r.rn)("translations",["translations"])),methods:(0,o.Z)({checkAvailability:function(){var t=this;this.status="checking",this.fetchAvailability({start_date:this.time.value,appointment_type_id:this.appointmentTypeId}).then((function(e){t.status=e.is_bookable?"available":"not-available",t.reasons=e.reasons})).catch((function(e,n){console.log("Error",n),t.status="errorChecking"}))},handleSupport:function(){var t={"time-value-utc":this.time.value,"time-value-localized":this.time.valueTz,status:this.status,reasons:this.reasons};this.$emit("support",t)}},(0,r.nv)(["fetchAvailability"]))},Mh=Ph,Eh=(0,K.Z)(Mh,xh,Ah,!1,null,null,null),Dh=Eh.exports,$h={name:"availabilityTimePicker",props:["value","appointmentType","date"],components:{AvailabilityTimePickerOption:Dh,Empty:te,DisplayAvailability:_h,ContactSupport:ah},data:function(){return{selectedTime:"",supportMessage:{}}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({appointmentTypeId:function(){return this.appointmentType.id},availability:function(){return this.appointmentType.availability},availabilityType:function(){return this.appointmentType.availability_type},duration:function(){return this.appointmentType.duration},increment:function(){return this.appointmentType.availability_increment},availableTimes:function(){var t=this;if("start_times"===this.availabilityType)return this.selectedAvailability.map((function(e){var n=R().tz(t.date+" "+e.time_start,t.timestampFormat,t.settings.global.timezone_string);return{display:n.format(t.settings.global.time_format_moment),value:n.utc().format(t.timestampFormat)}}));if("available_blocks"===this.availabilityType){var e=[];return this.selectedAvailability.map((function(n){var i=R().tz(t.date+" "+n.time_start,t.timestampFormat,t.settings.global.timezone_string),s=R().tz(t.date+" "+n.time_end,t.timestampFormat,t.settings.global.timezone_string),a=i.clone(),o=i.clone().add(t.duration,"minutes");while(o.isSameOrBefore(s))e.push({display:a.format(t.settings.global.time_format_moment),valueTz:a.format(t.timestampFormat),value:a.clone().utc().format(t.timestampFormat)}),a.add(t.increment,"minutes"),o.add(t.increment,"minutes")})),e}return null},daysOfWeek:function(){return this.weekdays(0)},selectedAvailability:function(){return this.availability[this.selectedDay]},selectedDay:function(){var t=R()(this.date),e=t.isoWeekday(),n=7===e?0:e;return this.daysOfWeek[n]}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["api","settings","timestampFormat"])),(0,r.Se)(["displayDuration","weekdays"])),methods:{closeContactForm:function(){this.$refs.contactForm.close()},closeMessageSuccess:function(){this.$refs.messageSuccess.close()},handleDoneMessage:function(){this.$refs.sending.close(),this.$refs.messageSuccess.open()},handleStartMessage:function(){this.$refs.contactForm.close(),this.$refs.sending.open()},handleSupport:function(t){t.appointment_type=this.appointmentType,this.supportMessage={global_settings:this.settings.global,home_url:this.api.home_url,real_timezone:R().tz.guess(),settings:{},site_url:this.api.site_url,time_slot:t},this.$refs.contactForm.open()}}},Oh=$h,Ih=(0,K.Z)(Oh,wh,Th,!1,null,null,null),Zh=Ih.exports,zh={name:"availabilityDetective",components:{NoPermission:se,DisplayAvailability:_h,AvailabilityDatePicker:Sh,AvailabilityTimePicker:Zh},data:function(){return{appointmentTypeId:"",selectedDate:"",selectedTime:""}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({availabilityWindowDisplay:function(){if(this.selectedAppointmentType){var t=R().utc(this.selectedAppointmentType.availability_start_date,this.timestampFormat).tz(this.settings.global.timezone_string),e=R().utc(this.selectedAppointmentType.availability_end_date,this.timestampFormat).tz(this.settings.global.timezone_string);if(t.isValid()||e.isValid()){var n=t.isValid()?t.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.availability_window.no_value;return n+=" - ",n+=e.isValid()?e.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.availability_window.no_value,n}return null}},bookingWindowDisplay:function(){if(this.selectedAppointmentType){var t=R().utc(this.selectedAppointmentType.booking_start_date,this.timestampFormat).tz(this.settings.global.timezone_string),e=R().utc(this.selectedAppointmentType.booking_end_date,this.timestampFormat).tz(this.settings.global.timezone_string);if(t.isValid()||e.isValid()){var n=t.isValid()?t.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.booking_window.no_value;return n+=" - ",n+=e.isValid()?e.format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment):this.translations.support.availabilityDetective.info.booking_window.no_value,n}return null}},handleTimeSelect:function(){return null},maxBookingNoticeDisplay:function(){if(this.selectedAppointmentType&&0!==parseInt(this.selectedAppointmentType.max_booking_notice,10))return R()().add(this.selectedAppointmentType.max_booking_notice,"minutes").format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment)},minBookingNoticeDisplay:function(){if(this.selectedAppointmentType&&0!==parseInt(this.selectedAppointmentType.min_booking_notice,10))return R()().add(this.selectedAppointmentType.min_booking_notice,"minutes").format(this.settings.global.date_format_moment+" "+this.settings.global.time_format_moment)},selectedAppointmentType:function(){var t=this;if(this.appointmentTypeId)return this.editableAppointmentTypes.find((function(e){return e.id===t.appointmentTypeId}))},availableAppoinmentTypes:function(){return this.editableAppointmentTypes.filter((function(t){return"deleted"!==t.status}))},selectedDay:function(){var t=R()(this.selectedDate),e=t.isoWeekday(),n=7===e?0:e;return this.weekdaysIsoOrder[n]},weekdays:function(){return this.getWeekdays(this.settings.global.start_of_week)},weekdaysIsoOrder:function(){return this.getWeekdays(0)}},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings","timestampFormat"])),(0,r.Se)({displayDuration:"displayDuration",getWeekdays:"weekdays"})),(0,r.Se)("appointment_types",["editableAppointmentTypes"])),(0,r.Se)("staff",["currentUserCan"])),methods:{}},jh=zh,Lh=(0,K.Z)(jh,dh,ph,!1,null,null,null),Nh=Lh.exports,Uh=[{path:"support",component:Og,redirect:"/ssa/support/help",children:[{path:"help",name:"support-help",component:ch,meta:{ssa_manage_site_settings:!0}},{path:"availability-detective",name:"support-availability-detective",component:Nh,meta:{ssa_manage_site_settings:!0}}]}],Gh=[{path:"/ssa",name:"Settings",component:he,children:[].concat((0,U.Z)(In),(0,U.Z)(mo),(0,U.Z)(Ag),(0,U.Z)(Uh))}],Fh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wizard view-container"},[n("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.license.heading))]),n("license-key",{on:{validatedLicense:t.nextStep}}),t.validLicense?t._e():n("router-link",{staticClass:"md-raised md-primary ssa-wizard-skip",attrs:{tag:"md-button",to:"/wizard/review"}},[t._v("Skip this for now")])],1)},Wh=[],Bh={name:"wizardLicense",store:Ey,components:{licenseKey:Ao},data:function(){return{validLicense:!1}},computed:(0,o.Z)({},(0,r.rn)("translations",["translations"])),methods:{nextStep:function(){this.validLicense=!0,I_.push("/wizard/review")}}},Rh=Bh,qh=(0,K.Z)(Rh,Fh,Wh,!1,null,null,null),Hh=qh.exports,Kh=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wizard view-container"},[t.settings.installed.license?n("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.general.heading))]):n("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.settings.general.headingFirst))]),n("md-theme",{attrs:{"md-name":"reverse"}},[n("ul",{staticClass:"settings-list"},[n("li",[n("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.timezone)+" ")]),n("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatTimezone(t.detectedTimezone))+" "),n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),n("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.timezone))])],1)],1)]),n("li",[n("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.dateFormat))]),n("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatDateDisplay(t.moment()))+" — "),n("code",[t._v(t._s(t.settings.global.date_format))]),n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),n("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.dateFormat))])],1)],1)]),n("li",[n("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.timeFormat))]),n("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.formatTimeDisplay(t.moment()))+" — "),n("code",[t._v(t._s(t.settings.global.time_format))]),n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),n("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.timeFormat))])],1)],1)]),n("li",[n("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.weekStartsOn))]),n("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.startOfWeekDisplay(t.settings.global.start_of_week))+" "),n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),n("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.weekStartsOn))])],1)],1)]),n("li",[n("h4",{staticClass:"settings-list-header"},[t._v(t._s(t.translations.settings.general.contact))]),n("p",{staticClass:"settings-list-content"},[t._v(" "+t._s(t.settings.global.staff_name)+" "),n("md-icon",{staticClass:"md-primary",attrs:{"md-theme":"grey"}},[t._v(" help "),n("md-tooltip",{attrs:{"md-direction":"right"}},[t._v(t._s(t.translations.help.apptContact))])],1)],1),n("p",{staticClass:"settings-list-content"},[t._v(t._s(t.settings.global.company_name))]),n("p",{staticClass:"settings-list-content"},[t._v(t._s(t.settings.global.admin_email))])])])]),n("div",{staticClass:"button-bar transparent"},[n("router-link",{staticClass:"md-raised md-accent",attrs:{tag:"md-button",to:"/wizard/settings"},nativeOn:{click:function(e){return t.saveTimezone.apply(null,arguments)}}},[t._v(t._s(t.translations.wizard.settings.general.decline))]),n("md-button",{staticClass:"md-raised md-primary ssa-wizard-accept-settings",on:{click:t.nextStep}},[t._v(t._s(t.translations.wizard.settings.general.accept))])],1),n("router-link",{staticClass:"md-fab md-fab-bottom-right md-primary",attrs:{to:"/ssa",tag:"md-button"}},[n("md-icon",[t._v("settings")]),n("md-tooltip",{attrs:{"md-direction":"left"}},[t._v(t._s(t.translations.wizard.settings.general.exit))])],1)],1)},Vh=[],Yh={name:"wizardReview",store:Ey,data:function(){return{moment:R()}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.Se)(["formatDateDisplay","formatTimeDisplay","formatTimezone","startOfWeekDisplay","detectedTimezone"])),(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)({nextStep:function(){this.saveTimezone(),this.settings.installed.google_calendar?I_.push("/wizard/google-calendar"):I_.push("/wizard/appt-type")},saveTimezone:function(){this.detectedTimezone!==this.settings.global.timezone_string&&(this.updateTimezoneString({settings:this.settings,value:this.detectedTimezone}),this.updateGlobalSettings())}},(0,r.OI)("global_settings",["updateTimezoneString"])),(0,r.nv)("global_settings",["updateGlobalSettings"]))},Jh=Yh,Xh=(0,K.Z)(Jh,Kh,Vh,!1,null,"73b433f2",null),Qh=Xh.exports,t_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("loading",{attrs:{message:t.loadingMessage}}):n("div",{staticClass:"appt-type-wizard view-container"},[n("h3",{staticClass:"md-display-1"},[t._v(t._s(t.translations.wizard.appointmentType.heading))]),n("md-stepper",{attrs:{"md-vertical":"","md-theme":t.currentAppointmentType.label},on:{change:t.saveAppointmentType,completed:t.completeWizard}},[n("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.basics,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validTitle,"md-continue":t.validTitle,"md-message":t.titleMessage,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue}},[n("basics",{on:{titlecheck:t.validateTitle,slugcheck:t.validateSlug}})],1),n("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.availability,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validAvailabilityWindow,"md-continue":t.validAvailabilityWindow,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.availabilityMessage}},[n("availability",{on:{availabilityWindowCheck:t.validateAvailabilityWindow}})],1),n("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.scheduling,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-error":!t.validBookingWindow,"md-continue":t.validBookingWindow,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.schedulingMessage}},[n("scheduling",{on:{bookingWindowCheck:t.validateBookingWindow}})],1),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.access_token?n("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.googleCalendar,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.googleCalendarMessage}},[n("google-calendar")],1):t._e(),n("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.customerInfo,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.customerInfoMessage}},[n("customer-information")],1),n("md-step",{attrs:{"md-editable":!0,"md-label":t.translations.wizard.appointmentType.review,"md-button-back":t.translations.wizard.appointmentType.stepper.back,"md-button-continue":t.translations.wizard.appointmentType.stepper.continue,"md-message":t.translations.wizard.appointmentType.reviewMessage}},[n("review")],1)],1)],1)},e_=[],n_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-review",class:t.currentAppointmentType.label},[n("md-layout",{attrs:{"md-row":""}},[n("md-layout",{attrs:{"md-column":""}},[n("h2",{staticClass:"md-display-1"},[t._v(t._s(t.currentAppointmentType.title)+" "),n("span",{staticClass:"md-subheading"},[t._v(t._s(t.displayDuration(t.currentAppointmentType.duration)))])])])],1),n("md-layout",{attrs:{"md-row":"","md-gutter":!0}},[n("md-layout",{attrs:{"md-column":""}},[n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.availability))]),n("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.availabilityMessage))])]),n("md-card-content",[n("displayavailability",{attrs:{availability:t.currentAppointmentType.availability,weekdays:t.weekdays,format:t.settings.global.time_format_moment,"availability-type":t.currentAppointmentType.availability_type}})],1)],1),t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.access_token?n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendar))]),n("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.googleCalendarMessage))])]),n("md-card-content",[n("ul",[n("li",[n("strong",[t._v(t._s(t.translations.wizard.appointmentType.checkCalendars)+":")]),t._v(" "+t._s(t.displayGoogleCalendarAvailability.join(", ")))]),n("li",[n("strong",[t._v(t._s(t.translations.appointmentTypes.appointmentSync)+":")]),t._v(" "+t._s(t.displayGoogleCalendarBooking))])])])],1):t._e()],1),n("md-layout",{attrs:{"md-column":""}},[n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.scheduling))]),n("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.schedulingMessage))])]),n("md-card-content",[n("ul",{staticClass:"options-list"},[n("li",[n("strong",[t._v("Buffer Before:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.buffer_before)))]),n("li",[n("strong",[t._v("Buffer After:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.buffer_after)))]),n("li",[n("strong",[t._v("Minimum Booking Notice:")]),t._v(" "+t._s(t.displayDuration(t.currentAppointmentType.min_booking_notice)))]),n("li",[n("strong",[t._v("Limit Per Day:")]),t._v(" "+t._s(t.displayMaxEventCount))])])])],1),n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.customerInfo))]),n("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.customerInfoMessage))])]),n("md-card-content",[n("ul",{staticClass:"options-list"},[t._l(t.currentAppointmentType[t.customerInformationKey],(function(e,i){return[e.display?n("li",{key:i},[t._v(" "+t._s(t.translations.appointmentTypes.customer_information[e.field])+" "),e.required?[t._v("*")]:t._e()],2):t._e()]}))],2)])],1)],1),n("md-layout",{attrs:{"md-column":""}},[n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.translations.wizard.appointmentType.booking))]),n("div",{staticClass:"md-subhead"},[t._v(t._s(t.translations.wizard.appointmentType.bookingMessage))])]),n("md-card-content",[n("p",[t._v(t._s(t.translations.wizard.appointmentType.generalBooking))]),n("p",[n("code",[t._v("[ssa_booking]")])]),n("p",[t._v(t._s(t.translations.wizard.appointmentType.specialBooking))]),n("p",[n("code",[t._v("[ssa_booking type="+t._s(t.currentAppointmentType.slug)+"]")])])])],1)],1)],1)],1)},i_=[],s_={name:"appointmentTypeReview",store:Ey,components:{displayavailability:_h},data:function(){return{}},computed:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({customerInformationKey:function(){return this.settings.installed.license?"custom_customer_information":"customer_information"},weekdays:function(){return this.getWeekdays(this.settings.global.start_of_week)},displayMaxEventCount:function(){var t=parseInt(this.currentAppointmentType.max_event_count,10);return 0===t?"Unlimited":t},displayGoogleCalendarBooking:function(){var t=this;if(this.currentAppointmentType.google_calendar_booking){var e=this.googleCalendars.find((function(e){return e.gcal_id===t.currentAppointmentType.google_calendar_booking}));return e.title}},displayGoogleCalendarAvailability:function(){var t=this;if(this.currentAppointmentType.google_calendars_availability){var e=this.googleCalendars.filter((function(e){return t.currentAppointmentType.google_calendars_availability.indexOf(e.gcal_id)>-1}));return e.map((function(t){return t.title}))}}},(0,r.Se)({displayDuration:"displayDuration",getWeekdays:"weekdays"})),(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),(0,r.rn)("google_calendar",["googleCalendars"])),(0,r.rn)("appointment_types",["currentAppointmentType"])),methods:{}},a_=s_,o_=(0,K.Z)(a_,n_,i_,!1,null,null,null),r_=o_.exports,l_={name:"WizardAppointmentType",store:Ey,components:{availability:Qi,basics:Si,scheduling:as,googleCalendar:Ds,customerInformation:Ta,review:r_,loading:st},data:function(){return{loading:!1,loadingMessage:this.$store.state.translations.translations.wizard.appointmentType.loading,options:yi,moment:R(),validTitle:!0,validSlug:!0,validAvailabilityWindow:!0,validBookingWindow:!0,titleMessage:"",availabilityMessage:"",schedulingMessage:""}},beforeMount:function(){var t={title:"",id:"",slug:"",duration:"",label:"",availability:{},buffer_before:"",buffer_after:"",max_event_count:"",min_booking_notice:"",customer_information:[]};Ey.commit("getAppointmentType",t),this.titleMessage=this.translations.wizard.appointmentType.basicsMessage,this.availabilityMessage=this.translations.wizard.appointmentType.availabilityMessage,this.schedulingMessage=this.translations.wizard.appointmentType.schedulingMessage},computed:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["timestampFormat","settings"])),(0,r.rn)("appointment_types",["appointmentTypes","currentAppointmentType"])),mounted:function(){this.createNewAppointmentType()},methods:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({validateTitle:function(t){this.validTitle=t,this.titleMessage=this.validTitle?this.translations.wizard.appointmentType.basicsMessage:this.translations.errors.appointmentTypeTitle},validateSlug:function(t){this.validSlug=t},validateAvailabilityWindow:function(t){this.validAvailabilityWindow=t,this.availabilityMessage=this.validAvailabilityWindow?this.translations.wizard.appointmentType.availabilityMessage:this.translations.settings.advanced_scheduling.availability_window_error},validateBookingWindow:function(t){this.validBookingWindow=t,this.schedulingMessage=this.validBookingWindow?this.translations.wizard.appointmentType.schedulingMessage:this.translations.settings.advanced_scheduling.booking_window_error},saveAppointmentType:function(t){t<1||this.updateAppointmentType()},completeWizard:function(){this.updateWizardCompleted({settings:this.settings,value:R().utc().format(this.timestampFormat)}),this.updateGlobalSettings(),I_.push("/wizard/complete")}},(0,r.OI)("global_settings",["updateWizardCompleted"])),(0,r.OI)("appointment_types",["getAppointmentType"])),(0,r.nv)("global_settings",["updateGlobalSettings"])),(0,r.nv)("appointment_types",["updateAppointmentType","createNewAppointmentType"]))},c_=l_,d_=(0,K.Z)(c_,t_,e_,!1,null,"b9fdb75e",null),p_=d_.exports,u_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-wizard view-container"},[n("settings-global",{attrs:{button:t.translations.general.saveContinue},on:{saved:t.nextStep}})],1)},m_=[],f_={name:"wizardSettings",store:Ey,components:{settingsGlobal:rr},data:function(){return{}},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:{nextStep:function(){this.settings.installed.google_calendar?I_.push("/wizard/google-calendar"):I_.push("/wizard/appt-type")}}},g_=f_,h_=(0,K.Z)(g_,u_,m_,!1,null,null,null),__=h_.exports,v_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wizard-complete view-container"},[n("h2",{staticClass:"md-display-2"},[t._v(t._s(t.translations.wizard.complete.headline))]),n("p",[t._v(t._s(t.translations.wizard.complete.shortcodeInstructions))]),t._m(0),n("p",{staticClass:"md-headline"},[t._v(t._s(t.translations.wizard.complete.subhead))]),n("img",{staticStyle:{"max-width":"15rem",height:"auto"},attrs:{src:t.$store.state.api.admin_static_url+"/images/foxes/fox-standing.svg"}}),n("div",{staticClass:"button-bar"},[t.currentUserCan("ssa_manage_others_appointments")?n("md-button",{staticClass:"md-raised md-primary",on:{click:t.loadBookingEmbed}},[t._v(" "+t._s(t.translations.wizard.complete.booking)+" ")]):t._e(),n("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/settings"}},[t._v(" "+t._s(t.translations.wizard.complete.settings)+" ")]),n("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",to:"/ssa/appointment-types"}},[t._v(" "+t._s(t.translations.wizard.complete.apptType)+" ")])],1),n("md-dialog",{ref:"bookingDialog",staticClass:"ssa-booking-dialog"},[n("button",{staticClass:"close",on:{click:function(e){return t.$refs.bookingDialog.close()}}},[n("md-icon",[t._v("close")])],1),n("md-dialog-content",[n("div",{staticClass:"ssa-booking-iframe-container",domProps:{innerHTML:t._s(t.bookingEmbed)}})]),n("md-dialog-actions",[n("router-link",{staticClass:"md-raised md-primary",attrs:{tag:"md-button",theme:"blue",to:"/ssa/support/availability-detective"}},[t._v(" "+t._s(t.translations.support.availabilityDetective.title)+" ")])],1)],1)],1)},y_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("code",[t._v("[ssa_booking]")])])}],b_={name:"wizardComplete",store:Ey,data:function(){return{}},computed:(0,o.Z)((0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["bookingEmbed","settings"])),(0,r.Se)("staff",["currentUserCan"])),methods:(0,o.Z)({loadBookingEmbed:function(){var t=this;this.fetchBookingEmbed().then((function(){t.$refs.bookingDialog.open()}))}},(0,r.nv)(["fetchBookingEmbed"]))},k_=b_,C_=(0,K.Z)(k_,v_,y_,!1,null,null,null),S_=C_.exports,w_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appt-type-wizard view-container"},[n("md-whiteframe",[n("h3",{staticClass:"md-display-1"},[t.settings.google_calendar.access_token?[t._v(" "+t._s(t.translations.wizard.googleCalendar.connectSuccess)+" ")]:[t._v(" "+t._s(t.translations.wizard.googleCalendar.wantToConnect)+" ")]],2),n("settings-google-calendar",{attrs:{header:!1,showDisabled:!0}})],1),t.settings.google_calendar.access_token?n("md-button",{staticClass:"md-raised md-primary",on:{click:t.nextStep}},[t._v(t._s(t.translations.wizard.next))]):n("router-link",{staticClass:"md-raised md-primary ssa-wizard-skip",attrs:{tag:"md-button",to:"/wizard/appt-type"}},[t._v(t._s(t.translations.wizard.skip))])],1)},T_=[],x_={name:"wizardGoogleCalendar",store:Ey,components:{settingsGoogleCalendar:Lc},data:function(){return{}},computed:(0,o.Z)((0,o.Z)({},(0,r.rn)("translations",["translations"])),(0,r.rn)(["settings"])),methods:(0,o.Z)((0,o.Z)({nextStep:function(){this.updateGoogleCalendarEnabled({settings:this.settings,value:!0}),this.updateGoogleCalendarSettings(),I_.push("/wizard/appt-type")}},(0,r.nv)("google_calendar",["updateGoogleCalendarSettings"])),(0,r.OI)("google_calendar",["updateGoogleCalendarEnabled"]))},A_=x_,P_=(0,K.Z)(A_,w_,T_,!1,null,"174d6aa0",null),M_=P_.exports,E_=[{path:"/wizard/license",name:"Wizard License",component:Hh,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/review",name:"Wizard Review",component:Qh,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/settings",name:"Wizard Settings",component:__,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/google-calendar",name:"Wizard Google Calendar",component:M_,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/appt-type",name:"Wizard Appointment Type",component:p_,meta:{ssa_manage_site_settings:!0}},{path:"/wizard/complete",name:"Wizard Complete",component:S_,meta:{ssa_manage_site_settings:!0}}];i["default"].use(G.Z);var D_=[{path:"/",name:"Hello",component:Y}],$_=[].concat(D_,(0,U.Z)(Gh),(0,U.Z)(E_)),O_=new G.Z({routes:$_,scrollBehavior:function(t,e,n){return n||{x:0,y:0}}});O_.beforeEach((function(t,e,n){t.matched.some((function(t){return t.meta.notAllowed}))&&n("/");var i=!0,s=Ey.state.user?Ey.state.user.capabilities:[];!s.length&&window.ssa&&window.ssa.user&&(s=window.ssa.user.capabilities?window.ssa.user.capabilities:[]);var a={ssa_manage_appointment_types:t.matched.some((function(t){return t.meta.ssa_manage_appointment_types})),ssa_manage_site_settings:t.matched.some((function(t){return t.meta.ssa_manage_site_settings})),ssa_manage_appointments:t.matched.some((function(t){return t.meta.ssa_manage_appointments})),ssa_manage_others_appointments:t.matched.some((function(t){return t.meta.ssa_manage_others_appointments})),ssa_manage_staff:t.matched.some((function(t){return t.meta.ssa_manage_staff})),ssa_manage_staff_blackout_dates:t.matched.some((function(t){return t.meta.ssa_manage_staff_blackout_dates}))},o=Object.keys(a),r=o.filter((function(t){return a[t]}));i=!r.length||r.some((function(t){return-1!==s.indexOf(t)})),window.ssa,n(i)}));var I_=O_,Z_={castToBoolean:function(){return function(t){var e=(0,Zr.Z)(t);switch(e){case"string":var n=parseInt(t,10);return isNaN(n)?"true"===t:Boolean(n);case"number":return Boolean(t);case"boolean":return t;default:return!!t}}},displayDuration:function(t){return function(e){var n=parseInt(e,10),i="minutes",s=n;n%10080===0?(s=n/10080,i="weeks"):n%1440===0?(s=n/1440,i="days"):n%60===0&&(s=n/60,i="hours");var a=1===s?t.translations.translations.time.units[i].single:t.translations.translations.time.units[i].plural;return s+" "+a}},formatDateDisplay:function(t){return function(e){return e.format(t.settings.global.date_format_moment)}},formatTimeDisplay:function(t){return function(e){return e.format(t.settings.global.time_format_moment)}},allSupportedTimezones:function(){var t=R().tz.names(),e=t.filter((function(t){return!j.includes(t)&&-1===t.indexOf("GMT")}));return e},detectedTimezone:function(){var t=R().tz.guess();return j.includes(t)||-1!==t.indexOf("GMT")?"UTC":t},formatTimezone:function(){return function(t){if(!t)return"";var e=t.replace(/_/g," ");return e}},getClosest:function(){return function(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}},localStorageGet:function(){return function(t){var e=localStorage.getItem(t);if(!e)return null;var n=JSON.parse(e),i=new Date;return i.getTime()>n.expiry?(localStorage.removeItem(t),null):n.value}},localStorageSet:function(){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=new Date,s={value:e,expiry:i.getTime()+n};localStorage.setItem(t,JSON.stringify(s))}},startOfWeekDisplay:function(){return function(t){var e=parseInt(t,10);return R().weekdays(e)}},weekdays:function(){return function(t){R().locale("en-US");var e=R().weekdays(!1);if(t=t?parseInt(t,10):0,t>0){var n=e.splice(0,t);e=[].concat((0,U.Z)(e),(0,U.Z)(n))}return e}},wpUserIds:function(t){if(t.appointments.length){var e=t.appointments.map((function(t){return t.customer_id})),n=t.appointments.map((function(t){return t.author_id})),i=[].concat((0,U.Z)(e),(0,U.Z)(n)),s=new Set(i);return Array.from(s)}},wpUserGravatar:function(t){return function(e){var n=t.wpUsers.find((function(t){return t.id.toString()===e.toString()}));if(n)return n.gravatar_url}},wpUserLink:function(t){return function(e){return t.api.admin_url+"user-edit.php?user_id="+e}},wpUserName:function(t){return function(e){var n=t.wpUsers.find((function(t){return t.id.toString()===e.toString()}));if(n)return n.name}},advancedSchedulingModule:function(t){if(t.settings&&t.settings.installed){var e={};return e.installed=t.settings.installed.advanced_scheduling,e.upgrade=!t.settings.installed.advanced_scheduling,t.settings.advanced_scheduling?e.enabled=t.settings.advanced_scheduling.enabled&&t.settings.installed.advanced_scheduling:e.enabled=!1,e}},webMeetingsProviders:function(t){if(t.settings&&t.settings.installed){var e=[{name:"custom",installed:!0,enabled:!0}],n={name:"google",installed:t.settings.installed.google_calendar,enabled:t.settings.installed.google_calendar&&t.settings.google_calendar.enabled&&t.settings.google_calendar.web_meetings};e.push(n);var i={name:"webex",installed:t.settings.installed.webex,enabled:Object.prototype.hasOwnProperty.call(t.settings,"webex")&&t.settings.webex.enabled};e.push(i);var s={name:"zoom",installed:t.settings.installed.zoom,enabled:Object.prototype.hasOwnProperty.call(t.settings,"zoom")&&t.settings.zoom.enabled};e.push(s);var a={name:"staff",installed:t.settings.installed.zoom,enabled:Object.prototype.hasOwnProperty.call(t.settings,"staff")&&t.settings.staff.enabled&&["any","all"].includes(t.appointment_types.currentAppointmentType.staff.required)};return e.push(a),e}},staffAppointmentTypes:function(t,e){return t.appointment_types.appointmentTypes?e["appointment_types/editableAppointmentTypes"].filter((function(t){return Object.prototype.hasOwnProperty.call(t,"staff")&&Object.prototype.hasOwnProperty.call(t.staff,"required")&&""!==t.staff.required})):[]},staffMissingWebMeetingsUrl:function(t){if(!t.staff.staff||0===t.staff.staff.length)return!1;var e=t.staff.staff.filter((function(t){return!t.web_meetings_url||""===t.web_meetings_url}));return e.length>0},currentStaffMissingWebMeetingsUrl:function(t){if(!t.staff.staff||0===t.staff.staff.length)return!1;var e=t.appointment_types.currentAppointmentType.staff_ids.map((function(t){return t.toString()})),n=t.staff.staff.filter((function(t){return e.includes(t.id)&&(!t.web_meetings_url||""===t.web_meetings_url)}));return n.length>0}},z_={fetchApi:function(t){var e=t.commit;return new Promise((function(t,n){ps().ajax({url:"getApi.php",method:"GET",dataType:"json",cache:!1,contentType:"application/json"}).done((function(n){e("defineApi",n.api),e("defineUser",n.user),t()})).fail((function(t,e,i){console.log(t,e,i),n({xhr:t,error:i})}))}))},callAsync:function(t){var e=t.state;return new Promise((function(t){ps().ajax({url:e.api.root+"/async",method:"POST"}).done((function(){t()}))}))},fetchTelCountryCode:function(t){var e=t.commit,n=t.state,i=t.dispatch;if(!n.settings.global.country_code)return new Promise((function(t,n){ps().ajax({url:"//ip2c.org/s",method:"GET"}).done((function(n){var s=(n||"").toString();s&&"1"===s[0]?e("setTelCountryCode",s.substr(2,2)):i("fetchTelCountryCodeSecondTry"),t()})).fail((function(t){i("fetchTelCountryCodeSecondTry"),n(t)}))}));e("setTelCountryCode",n.settings.global.country_code)},fetchTelCountryCodeSecondTry:function(t){var e=t.commit;return new Promise((function(t,n){ps().ajax({url:"//ip-api.com/json/?fields=status,message,countryCode",method:"GET",dataType:"json",contentType:"application/json"}).done((function(n){e("setTelCountryCode",n.countryCode),t()})).fail((function(t){n(t)}))}))},fetchSettings:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateAllSettings",n.data),t()})).fail((function(t,e,n){i({xhr:t,error:n})}))}))},updateAdvancedSchedulingSettings:function(t){var e=t.commit,n=t.state,i=t.dispatch;return new Promise((function(t,s){ps().ajax({url:n.api.root+"/settings/advanced_scheduling",method:"POST",dataType:"json",data:JSON.stringify(n.settings.advanced_scheduling),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateAdvancedSchedulingSettings",n.data),i("callAsync"),t()})).fail((function(t){s(t)}))}))},updateNotificationsSettings:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/notifications",method:"POST",dataType:"json",data:JSON.stringify(n.settings.notifications),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateNotificationsSettings",n.data),t()})).fail((function(t){i(t)}))}))},fetchInstalledSettings:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/installed",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateSettings",{key:"installed",settings:n.data}),t()})).fail((function(t,e,n){i(t,n)}))}))},fetchLicenseSettings:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/license",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateSettings",{key:"license",settings:n}),t()})).fail((function(t,e,n){i(t,n)}))}))},updateLicenseSettings:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/license",method:"POST",dataType:"json",data:JSON.stringify({license:n.settings.license.license}),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateSettings",{key:"license",settings:n}),t()})).fail((function(t){i(t)}))}))},validateTwigString:function(t,e){var n=t.state;if(e)return new Promise((function(t,i){ps().ajax({url:n.api.root+"/templates/validate",method:"POST",cache:!1,dataType:"json",data:JSON.stringify({message:e}),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(e){e.success?t(e):i(e.error)})).fail((function(t){i(t.responseJSON)}))}))},fetchSupportDetails:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/support_status",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setSupport",n.data),t()})).fail((function(t,e,n){i(n)}))}))},fetchWPDebugLog:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/support_debug/wp",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setWPDebugLog",n),t()})).fail((function(t,e,n){i(n)}))}))},fetchSSADebugLog:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/support_debug/ssa",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setSSADebugLog",n),t()})).fail((function(t,e,n){i(n)}))}))},clearWPDebugLog:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/support_debug/wp/delete",method:"POST",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(){e("setWPDebugLog",null),t()})).fail((function(t,e,n){i(n)}))}))},clearSSADebugLog:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/support_debug/ssa/delete",method:"POST",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(){e("setSSADebugLog",null),t()})).fail((function(t,e,n){i(n)}))}))},fetchLogUrls:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/support_debug/logs",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setLogUrls",n),t()})).fail((function(t,e,n){i(n)}))}))},fetchAvailability:function(t,e){var n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/availability/troubleshoot",method:"GET",data:e,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(e){t(e)})).fail((function(t,e,n){i(n)}))}))},fetchWPUsers:function(t){var e=t.commit,n=t.state,i=t.getters;if(i["staff/currentUserCan"]("ssa_manage_appointments"))return new Promise((function(t,s){ps().ajax({url:n.api.root+"/customers",method:"GET",data:{ids:JSON.stringify(i.wpUserIds)},dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setWpUsers",n.data),t(n)})).fail((function(t,e,n){s(n)}))}))},fetchBookingEmbed:function(t){var e=t.commit,n=t.state;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/embed",method:"GET",data:{ajax:!0},cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setBookingEmbed",n),t()})).fail((function(t,e,n){i(n)}))}))}},j_={defineApi:function(t,e){t.api=e},defineUser:function(t,e){t.user=e},setTelCountryCode:function(t,e){t.telCountryCode=e},updateAllSettings:function(t,e){t.settings=e},updateSettings:function(t,e){i["default"].set(t.settings,e.key,e.settings)},setBookingApiEmbed:function(t,e){i["default"].set(t.settings.developer,"booking_api_embed",e)},setCapacityAvailability:function(t,e){i["default"].set(t.settings.developer,"capacity_availability",e)},setBetaBookingApp:function(t,e){i["default"].set(t.settings.developer,"beta_booking_app",e)},setSeparateAppointmentTypeAvailability:function(t,e){i["default"].set(t.settings.developer,"separate_appointment_type_availability",e)},setSSADebugMode:function(t,e){i["default"].set(t.settings.developer,"ssa_debug_mode",e)},setWPDebugMode:function(t,e){i["default"].set(t.settings.developer,"debug_mode",e)},updateAdvancedSchedulingEnabled:function(t,e){i["default"].set(t.settings.advanced_scheduling,"enabled",e)},updateAdvancedSchedulingSettings:function(t,e){i["default"].set(t.settings,"advanced_scheduling",e)},updateNotificationsSettings:function(t,e){i["default"].set(t.settings,"notifications",e)},setNotificationsEnabled:function(t,e){i["default"].set(t.settings.notifications,"enabled",e)},addSettingsNotification:function(t,e){e.last_modified=R().utc().format(t.timestampFormat),t.settings.notifications.notifications.splice(t.settings.notifications.notifications.length,0,e)},cloneSettingsNotification:function(t,e){var n=t.settings.notifications.notifications.find((function(t){return t.id===e})),i=Ee().cloneDeep(n),s=new Date;i.id=s.getTime(),t.settings.notifications.notifications.splice(t.settings.notifications.notifications.length,0,i)},deleteSettingsNotification:function(t,e){var n=t.settings.notifications.notifications.findIndex((function(t){return t.id===e}));t.settings.notifications.notifications.splice(n,1)},setSingleNotification:function(t,e){var n=e.id,i=e.notification,s=t.settings.notifications.notifications.findIndex((function(t){return t.id===n}));i.last_modified=R().utc().format(t.timestampFormat),t.settings.notifications.notifications.splice(s,1,i)},setNotificationPreview:function(t,e){i["default"].set(t.settings.notifications,"preview",e)},setSmsEnabled:function(t,e){i["default"].set(t.settings.sms,"enabled",e)},setSmsSetting:function(t,e){i["default"].set(t.settings.sms,e.key,e.value)},setSmsSettings:function(t,e){i["default"].set(t.settings,"sms",e)},setPaymentsEnabled:function(t,e){i["default"].set(t.settings.payments,"enabled",e)},setPaymentsSettings:function(t,e){i["default"].set(t.settings,"payments",e)},setDefaultCurrency:function(t,e){i["default"].set(t.settings.payments,"default_currency",e)},setStripeEnabled:function(t,e){i["default"].set(t.settings.stripe,"enabled",e)},setStripeSetting:function(t,e){i["default"].set(t.settings.stripe,e.key,e.value)},setStripeSettings:function(t,e){i["default"].set(t.settings,"stripe",e)},setPaypalEnabled:function(t,e){i["default"].set(t.settings.paypal,"enabled",e)},setPaypalSetting:function(t,e){i["default"].set(t.settings.paypal,e.key,e.value)},setPaypalSettings:function(t,e){i["default"].set(t.settings,"paypal",e)},setStaffEnabled:function(t,e){i["default"].set(t.settings.staff,"enabled",e)},setStaffSettings:function(t,e){i["default"].set(t.settings,"staff",e)},setTrackingEnabled:function(t,e){i["default"].set(t.settings.tracking,"enabled",e)},setTrackingSettings:function(t,e){i["default"].set(t.settings,"tracking",e)},setEventTracking:function(t,e){i["default"].set(t.settings.tracking,"event_tracking",e)},setPageTracking:function(t,e){i["default"].set(t.settings.tracking,"page_tracking",e)},updateLicenseKey:function(t,e){i["default"].set(t.settings.license,"license",e)},setSupport:function(t,e){t.support=e},setWPDebugLog:function(t,e){t.debugLog.wp=e},setSSADebugLog:function(t,e){t.debugLog.ssa=e},setLogUrls:function(t,e){t.logUrls=e},setWpUsers:function(t,e){t.wpUsers=e},setBookingEmbed:function(t,e){t.bookingEmbed=e}},L_={csvData:function(t,e,n,i){return function(t){var n=new Set;t.map((function(t){var e=Object.keys(t.customer_information);e.map((function(t){n.add(t)}))}));var s=t.map((function(t){var s,a="canceled"===t.status&&"0"!==t.rescheduled_to_appointment_id.toString()?"rescheduled":t.status,o={"Appointment ID":t.id,"Appointment start date":e.csvFormatDate(t.start_date),"Appointment start time":e.csvFormatTime(t.start_date),"Appointment end date":e.csvFormatDate(t.end_date),"Appointment end time":e.csvFormatTime(t.end_date),"Appointment type":t.type_title,Status:a,"Customer timezone":t.customer_timezone,"Date created":e.csvFormatDateUtc(t.date_created),"Payment method":t.payment_method,"Payment amount":t.payment_received,"Team member(s)":i["staff/appointmentStaffNames"](t),"Edit link":t.public_edit_url},r=(0,_c.Z)(n);try{for(r.s();!(s=r.n()).done;){var l=s.value;o[l]="",Object.prototype.hasOwnProperty.call(t.customer_information,l)&&t.customer_information[l]&&("string"===typeof t.customer_information[l]?o[l]=t.customer_information[l]:Array.isArray(t.customer_information[l])&&(o[l]=t.customer_information[l].join(", ")))}}catch(c){r.e(c)}finally{r.f()}return o}));return s}},csvExportFile:function(t,e){return function(t){var n=e.csvData(t),i="data:text/csv;charset=utf-8,";i+=['"'+Object.keys(n[0]).join('","')+'"'].concat((0,U.Z)(n.map((function(t){return'"'+Object.values(t).join('","')+'"'})))).join("\n").replace(/(^\[)|(\]$)/gm,"").replace(/#/g,encodeURIComponent("#"));var s=encodeURI(i);console.log(s);var a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download","appointments.csv"),a.click()}},csvFormatDate:function(t,e,n){return function(t){return R().tz(t,n.timestampFormat,n.settings.global.timezone_string).format(n.settings.global.date_format_moment)}},csvFormatTime:function(t,e,n){return function(t){return R().tz(t,n.timestampFormat,n.settings.global.timezone_string).format(n.settings.global.time_format_moment+" z")}},csvFormatDateUtc:function(t,e,n){return function(t){return R().utc(t,n.timestampFormat).tz(n.settings.global.timezone_string).format(n.settings.global.date_format_moment)}},csvFormatTimeUtc:function(t,e,n){return function(t){return R().utc(t,n.timestampFormat).tz(n.settings.global.timezone_string).format(n.settings.global.time_format_moment+" z")}},appointmentCount:function(t,e,n){if(!t.appointments||!t.appointments.length)return[];var i=[],s=R().utc();return i=t.appointments.filter((function(e){var i=!0;if("range"===t.filter.time)if(t.filter.date_range_min||t.filter.date_range_max){var a=!0,o=!0;if(t.filter.date_range_min){var r=R().utc(t.filter.date_range_min,n.timestampFormat);a=R().utc(e.start_date,n.timestampFormat).isSameOrAfter(r,"minute")}if(t.filter.date_range_max){var l=R().utc(t.filter.date_range_max,n.timestampFormat);o=R().utc(e.end_date,n.timestampFormat).isSameOrBefore(l,"minute")}i=a&&o}else i=!1;else i="upcoming"===t.filter.time?R().utc(e.end_date,n.timestampFormat).isSameOrAfter(s,"day"):R().utc(e.end_date,n.timestampFormat).isBefore(s,"day");var c=!t.filter.status||!t.filter.status.length||t.filter.status.includes(e.status),d=!t.filter.appointment_type_id||!t.filter.appointment_type_id.length||t.filter.appointment_type_id.includes(e.appointment_type_id),p=!t.filter.staff||!t.filter.staff.length||t.filter.staff.some((function(t){return e.staff_ids.includes(parseInt(t,10))}));return i&&c&&d&&p})),i},displayAppointments:function(t,e,n,i){if(!e.appointmentCount||!e.appointmentCount.length)return[];var s=e.appointmentCount;s=s.map((function(t){return e.prepAppointment(t)}));var a=s.reduce((function(t,e){var n="type-"+e.appointment_type_id;return n+="-time-"+e.start_date,i["appointment_types/groupAppointmentTypeIds"].length&&i["appointment_types/groupAppointmentTypeIds"].includes(e.appointment_type_id)&&e.group_id>0?n+="-group-"+e.group_id:n+="-appt-"+e.id,Object.prototype.hasOwnProperty.call(t,n)||(t[n]={start_date:e.start_date,group_id:e.group_id,appointments:[]}),t[n]["appointments"].push(e),t}),{});return s=Object.values(a),s=s.sort((function(t,e){return t.start_date<e.start_date?-1:t.start_date>e.start_date?1:0})),"past"===t.filter.time&&(s=s.reverse()),e.definedRange||(s=s.slice(0,t.perPage*t.page)),s},definedRange:function(t){return"range"===t.filter.time&&t.filter.date_range_min&&t.filter.date_range_max},filterApplied:function(t){var e=Ee().cloneDeep(k),n=Ee().cloneDeep(t.filter);return delete e.time,delete n.time,e=JSON.stringify(e),n=JSON.stringify(n),e!==n},groupAppointmentStatus:function(){return function(t){var e=t.reduce((function(t,e){return Math.min(b.indexOf(e.status),t)}),10);return b[e]}},prepAppointment:function(t,e,n){return function(e){if(Object.prototype.hasOwnProperty.call(e,"type_title")&&Object.prototype.hasOwnProperty.call(e,"type_label")&&Object.prototype.hasOwnProperty.call(e,"type_duration"))return e;var i={},s=R().utc(e.start_date).tz(n.settings.global.timezone_string).format(t.timestampFormat);i.start_date=s;var a=R().utc(e.end_date).tz(n.settings.global.timezone_string).format(t.timestampFormat);i.end_date=a;var o=n.appointment_types.appointmentTypes.find((function(t){return t.id===e.appointment_type_id}));return o&&(i.type_title=o.title,i.type_label=o.label,i.type_duration=o.duration),i=Object.assign({},e,i),i}},upcomingAppointments:function(t,e,n){if(!t.appointments||!t.appointments.length)return[];var i=[],s=R().utc();return i=t.appointments.filter((function(t){return R().utc(t.end_date,n.timestampFormat).isSameOrAfter(s,"day")})),i}},N_={cancelGroupAppointment:function(t,e){var n=t.commit,i=t.dispatch,s=t.rootState;if(e)return new Promise((function(t,a){ps().ajax({url:s.api.root+"/appointments/groups/"+e+"/cancel",method:"POST",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((function(s){s?(n("setGroupCanceled",e),i("callAsync",null,{root:!0}),t()):a()})).fail((function(t,e,n){a(n)}))}));console.log("Cannot cancel group without ID")},deleteGroupAppointment:function(t,e){var n=t.commit,i=t.dispatch,s=t.rootState;if(e)return new Promise((function(t,a){ps().ajax({url:s.api.root+"/appointments/groups/"+e+"/delete",method:"POST",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((function(s){s?(n("removeGroupAppointment",e),i("callAsync",null,{root:!0}),t()):a()})).fail((function(t,e,n){a(n)}))}));console.log("Cannot delete group without ID")},fetchAppointments:function(t,e){var n=t.commit,i=t.dispatch,s=t.rootState,a=t.rootGetters;if(a["staff/currentUserCan"]("ssa_manage_appointments")||a["staff/currentUserCan"]("ssa_manage_others_appointments"))return new Promise((function(t,a){ps().ajax({url:s.api.root+"/appointments",method:"GET",dataType:"json",data:e,cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((function(e){n("updateAppointments",e.data),i("fetchWPUsers",{},{root:!0}),t()})).fail((function(t,e,n){a(n)}))}))},fetchAppointmentsFiltered:function(t){var e=t.commit,n=t.state,i=t.dispatch,s=t.rootState,a=t.getters,o=R().utc().locale("en").format("YYYY-MM-DD"),r=n.filter,l={number:n.perPage,offset:(n.page-1)*n.perPage,orderby:"start_date"};if(l["status"]=r.status,l["appointment_type_id"]=r.appointment_type_id,l["staff_ids_any"]=r.staff,"past"===r.time)l["start_date_max"]=o,l["order"]="DESC";else if("range"===r.time){var c=r.date_range_min?R()(r.date_range_min).utc().locale("en").format(s.timestampFormat):null,d=r.date_range_max?R()(r.date_range_max).utc().locale("en").format(s.timestampFormat):null;d&&(l["start_date_max"]=d),c&&(l["start_date_min"]=c),c&&d&&(l["number"]=-1),l["order"]="ASC"}else l["start_date_min"]=o,l["order"]="ASC";return new Promise((function(t,o){ps().ajax({url:s.api.root+"/appointments",method:"GET",dataType:"json",data:l,cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((function(s){e("updateAppointments",s.data),a.definedRange?e("setLoadedAll",!0):e("setLoadedAll",s.data.length<n.perPage),i("fetchWPUsers",{},{root:!0}),t()})).fail((function(t,e,n){o(n)}))}))},fetchAppointment:function(t,e){var n=t.commit,i=t.dispatch,s=t.rootState;return new Promise((function(t,a){ps().ajax({url:s.api.root+"/appointments/"+e,method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((function(e){n("updateAppointments",e.data),i("fetchWPUsers",{},{root:!0}),t()})).fail((function(t,e,n){a(n)}))}))},saveAppointment:function(t,e){var n=t.commit,i=t.rootState,s=t.dispatch;return new Promise((function(t,a){ps().ajax({url:i.api.root+"/appointments/"+e.id,method:"POST",dataType:"json",data:JSON.stringify(e),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){n("setAppointmentData",{id:e.data.id,appt:e.data}),s("callAsync",null,{root:!0}),t()})).fail((function(t,e,n){a(n)}))}))},deleteAppointment:function(t,e){var n=t.commit,i=t.rootState,s=t.dispatch;return new Promise((function(t,a){ps().ajax({url:i.api.root+"/appointments/"+e.id+"/delete",method:"POST",dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(){n("removeAppointment",e.id),s("callAsync",null,{root:!0}),t()})).fail((function(t,e,n){a(n)}))}))},fetchAppointmentMeta:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/appointments/"+e.id+"/meta",method:"GET",dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(i){var s={meta:i.data};n("setAppointmentData",{id:e.id,appt:s}),t()})).fail((function(t,e,n){s(n)}))}))},purgeAppointments:function(t,e){var n=t.commit,i=t.rootState,s=t.dispatch;return new Promise((function(t,a){ps().ajax({url:i.api.root+"/appointments/purge",method:"GET",dataType:"json",data:e,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){n("setAppointments",[]),s("fetchAppointments"),t(e)})).fail((function(t){a(t.responseJSON)}))}))}},U_={removeAppointment:function(t,e){var n=t.appointments.findIndex((function(t){return t.id===e}));t.appointments.splice(n,1)},removeGroupAppointment:function(t,e){var n=t.appointments.filter((function(t){return t.group_id!==e}));t.appointments=n},setFilter:function(t,e){Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.filter,e.key,e.value):t.filter=Ee().cloneDeep(e)},setAppointments:function(t,e){t.appointments=e},setGroupCanceled:function(t,e){var n=t.appointments.slice(0);n.forEach((function(t){Object.prototype.hasOwnProperty.call(t,"group_id")&&t.group_id===e&&(t.status="canceled")})),t.appointments=n},setLoadedAll:function(t,e){t.loadedAll=e},setPage:function(t,e){t.page=e},setPerPage:function(t,e){t.perPage=e},updateAppointments:function(t,e){var n=t.appointments.slice(0),i=e instanceof Array;if(i)n=n.concat(e),n=Ee().uniqBy(n,"id");else{var s=e.id,a=n.findIndex((function(t){return parseInt(s,10)===parseInt(t.id,10)}));a>-1?n.splice(a,1,e):n=n.concat(e)}t.appointments=n},setAppointmentData:function(t,e){var n=t.appointments.findIndex((function(t){return t.id===e.id}));if(n>-1){var i=Object.assign({},t.appointments[n],e.appt);t.appointments.splice(n,1,i)}}},G_={appointments:[],filter:Ee().cloneDeep(k),loadedAll:!1,page:1,perPage:50},F_={namespaced:!0,state:G_,getters:L_,actions:N_,mutations:U_},W_={stripe:function(t,e,n){return n.settings&&n.settings.stripe?n.settings.stripe:{}},paymentsModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=n.settings.installed.payments,i.upgrade=!n.settings.installed.payments,n.settings.payments?i.enabled=n.settings.payments.enabled&&n.settings.installed.payments:i.enabled=!1,i}},activePaymentMethods:function(t,e,n){var i=[];return n.settings&&n.settings.stripe?(n.settings.paypal.enabled&&n.settings.paypal.email&&i.push("paypal"),n.settings.stripe.enabled&&n.settings.stripe.publishable_key&&n.settings.stripe.secret_key&&i.push("stripe"),i):i},displayPrice:function(t,e,n){return function(t,e){if(n.settings&&n.settings.global){var i=n.settings.global.locale.replace("_","-"),s=parseFloat(t);return s||0===s?new Intl.NumberFormat(i,{style:"currency",currency:e}).format(s):null}}},displayGateway:function(){return function(t){var e="";switch(t){case"stripe":e="Stripe";break;case"paypal":e="PayPal";break;case"woocommerce":e="WooCommerce";break}return e}},paypalModule:function(t,e,n){if(e.paymentsModule){var i={};return i.installed=n.settings.installed.paypal,n.settings.paypal&&e.paymentsModule.enabled?i.enabled=n.settings.paypal.enabled&&n.settings.installed.paypal:i.enabled=!1,i.active=!Ee().isEmpty(n.settings.paypal.email),i.sandbox=n.settings.paypal.sandbox_enabled,i}},stripeModule:function(t,e,n){if(e.paymentsModule){var i={};return i.installed=n.settings.installed.stripe,n.settings.stripe&&e.paymentsModule.enabled?i.enabled=n.settings.stripe.enabled&&n.settings.installed.stripe:i.enabled=!1,i.active=!Ee().isEmpty(n.settings.stripe.secret_key)&&!Ee().isEmpty(n.settings.stripe.publishable_key),i.test_mode=n.settings.stripe.test_mode_enabled,i}}},B_={updatePaymentsEnabled:function(t,e){var n=t.commit,i=t.dispatch;n("setPaymentsEnabled",e,{root:!0}),i("savePaymentsSettings")},savePaymentsSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/payments",method:"POST",dataType:"json",data:JSON.stringify(n.settings.payments),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setPaymentsSettings",n.data,{root:!0}),t()})).fail((function(t){i(t)}))}))},updateDefaultCurrency:function(t,e){var n=t.commit,i=t.dispatch;n("setDefaultCurrency",e,{root:!0}),i("savePaymentsSettings")},updateStripeEnabled:function(t,e){var n=t.commit,i=t.dispatch;n("setStripeEnabled",e,{root:!0}),i("saveStripeSettings")},updateStripeDescription:function(t,e){var n=t.commit;n("setStripeSetting",{key:"description",value:e},{root:!0})},updateStripeStatementDescriptor:function(t,e){var n=t.commit;n("setStripeSetting",{key:"statement_descriptor",value:e},{root:!0})},updateStripeTitle:function(t,e){var n=t.commit;n("setStripeSetting",{key:"title",value:e},{root:!0})},updateStripePublishableKey:function(t,e){var n=t.commit;n("setStripeSetting",{key:"publishable_key",value:e},{root:!0})},updateStripeSecretKey:function(t,e){var n=t.commit;n("setStripeSetting",{key:"secret_key",value:e},{root:!0})},updateStripeTestMode:function(t,e){var n=t.commit;n("setStripeSetting",{key:"test_mode_enabled",value:e},{root:!0})},updateStripeTestPublishableKey:function(t,e){var n=t.commit;n("setStripeSetting",{key:"test_publishable_key",value:e},{root:!0})},updateStripeTestSecretKey:function(t,e){var n=t.commit;n("setStripeSetting",{key:"test_secret_key",value:e},{root:!0})},saveStripeSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/stripe",method:"POST",dataType:"json",data:JSON.stringify(n.settings.stripe),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setStripeSettings",n.data,{root:!0}),t()})).fail((function(t){i(t)}))}))},updatePaypalEnabled:function(t,e){var n=t.commit,i=t.dispatch;n("setPaypalEnabled",e,{root:!0}),i("savePaypalSettings")},updatePaypalDescription:function(t,e){var n=t.commit;n("setPaypalSetting",{key:"description",value:e},{root:!0})},updatePaypalEmail:function(t,e){var n=t.commit;n("setPaypalSetting",{key:"email",value:e},{root:!0})},updatePaypalIdentityToken:function(t,e){var n=t.commit;n("setPaypalSetting",{key:"identity_token",value:e},{root:!0})},updatePaypalSandbox:function(t,e){var n=t.commit;n("setPaypalSetting",{key:"sandbox_enabled",value:e},{root:!0})},updatePaypalTitle:function(t,e){var n=t.commit;n("setPaypalSetting",{key:"title",value:e},{root:!0})},savePaypalSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/paypal",method:"POST",dataType:"json",data:JSON.stringify(n.settings.paypal),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setPaypalSettings",n.data,{root:!0}),t()})).fail((function(t){i(t)}))}))},fetchPayments:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/payments",method:"GET",cache:!1,dataType:"json",data:{appointment_id:e},contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(i){var s={payments:i.data};n("appointments/setAppointmentData",{id:e,appt:s},{root:!0}),t()})).fail((function(t,e,n){s(n)}))}))}},R_={},q_={stripe:{title:"Credit card",description:"Pay with your credit card via Stripe.",webhook:"blah blah blah",publishable_key:"",secret_key:"",test_mode_enabled:!1,test_publishable_key:"",test_secret_key:""}},H_={namespaced:!0,state:q_,getters:W_,actions:B_,mutations:R_},K_={phoneAppointmentTypes:function(t,e,n,i){if(i["appointment_types/editableAppointmentTypes"])return i["appointment_types/editableAppointmentTypes"].filter((function(t){if(!Object.prototype.hasOwnProperty.call(t,"custom_customer_information")||Ee().isEmpty(t.custom_customer_information))return!1;var e=t.custom_customer_information.filter((function(t){return"phone"===t.type}));return e.length>0}))},filterApplied:function(t){var e=Ee().cloneDeep(y),n=Ee().cloneDeep(t.filter);return e=JSON.stringify(e),n=JSON.stringify(n),e!==n},filteredNotifications:function(t,e,n){if(n.settings&&n.settings.notifications&&n.settings.notifications.notifications){var i=[];return i=n.settings.notifications.notifications.filter((function(n){var i=!e.smsModule.enabled&&"email"===n.type;e.smsModule.enabled&&(i=!t.filter.notification_type||!t.filter.notification_type.length||t.filter.notification_type.includes(n.type));var s=t.filter.appointment_type&&t.filter.appointment_type.length,a=n.appointment_types&&n.appointment_types.length,o=!s||!a||t.filter.appointment_type.some((function(t){return n.appointment_types.includes(t)})),r=!t.filter.trigger||!t.filter.trigger.length||t.filter.trigger.includes(n.trigger),l=t.filter.sent_to&&t.filter.sent_to.length,c=n.sent_to&&n.sent_to.length||n.sms_to&&n.sms_to.length,d=!l||!c||t.filter.sent_to.some((function(t){return"email"===n.type&&n.sent_to&&n.sent_to.includes(t)||"sms"===n.type&&n.sms_to&&n.sms_to.includes(t)}));return i&&o&&r&&d})),i}},sentToOptions:function(t,e,n){if(!n.settings||!n.settings.notifications||!n.settings.notifications.notifications)return[];var i=new Set;return n.settings.notifications.notifications.map((function(n){t.filter.notification_type.length&&!t.filter.notification_type.includes("email")||Object.prototype.hasOwnProperty.call(n,"sent_to")&&n.sent_to.forEach((function(t){return i.add(t)})),e.smsModule.enabled&&n.sms_to&&(!t.filter.notification_type.length||t.filter.notification_type.includes("sms"))&&Object.prototype.hasOwnProperty.call(n,"sms_to")&&n.sms_to.forEach((function(t){return i.add(t)}))})),Array.from(i)},sms:function(t,e,n){return n.settings&&n.settings.sms?n.settings.sms:{}},smsModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=n.settings.installed.sms,n.settings.sms?i.enabled=n.settings.installed.sms&&n.settings.sms.enabled:i.enabled=!1,i.active=i.enabled&&!Ee().isEmpty(n.settings.sms.authorized_date),i.test_mode=i.enabled&&n.settings.sms.twilio_test_mode_enabled,i}},remindersInstalled:function(t,e,n){return!!(n.settings&&n.settings.installed&&Object.prototype.hasOwnProperty.call(n.settings.installed,"reminders"))&&n.settings.installed.reminders},validateEmail:function(){return function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)}}},V_={saveNotificationSingle:function(t,e){var n=t.commit,i=t.rootState,s=i.settings.notifications.notifications.find((function(t){return t.id===e}));if(s)return new Promise((function(t,a){ps().ajax({url:i.api.root+"/notifications/"+e,method:"POST",dataType:"json",data:JSON.stringify(s),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){n("setSingleNotification",{id:e.id,notification:e},{root:!0}),t()})).fail((function(t){a(t)}))}))},deleteNotificationSingle:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/notifications/"+e+"/delete",method:"POST",dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(){n("deleteSettingsNotification",e,{root:!0}),t()})).fail((function(t){s(t)}))}))},saveNotificationsSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/notifications",method:"POST",dataType:"json",data:JSON.stringify(n.settings.notifications),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateNotificationsSettings",n.data,{root:!0}),t()})).fail((function(t){i(t)}))}))},fetchNotificationPreview:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/notifications/preview",method:"POST",dataType:"json",data:JSON.stringify(e),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){n("setNotificationPreview",e.data.preview,{root:!0}),t()})).fail((function(t){s(t)}))}))},saveSmsSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/sms",method:"POST",dataType:"json",data:JSON.stringify(n.settings.sms),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setSmsSettings",n.data,{root:!0}),t()})).fail((function(t){i(t)}))}))},authorizeTwilio:function(t){var e=t.rootState;return new Promise((function(t,n){ps().ajax({url:e.api.root+"/sms/authorize",method:"POST",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((function(e){e.error&&e.error.errors&&e.error.errors.length?n(e):t()})).fail((function(t){n(t)}))}))},sendTestMessage:function(t,e){var n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/sms/send_test",method:"POST",dataType:"json",data:JSON.stringify({phone:e}),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(e){console.log(e.data),t()})).fail((function(t){i(t)}))}))},updateTwilioAccountSid:function(t,e){var n=t.commit;n("setSmsSetting",{key:"twilio_account_sid",value:e},{root:!0})},updateTwilioAuthToken:function(t,e){var n=t.commit;n("setSmsSetting",{key:"twilio_auth_token",value:e},{root:!0})},updateTwilioSendFromPhone:function(t,e){var n=t.commit;n("setSmsSetting",{key:"twilio_send_from_phone",value:e},{root:!0})},updateTwilioTestModeEnabled:function(t,e){var n=t.commit;n("setSmsSetting",{key:"twilio_test_mode_enabled",value:e},{root:!0})},updateTwilioTestAccountSid:function(t,e){var n=t.commit;n("setSmsSetting",{key:"twilio_test_account_sid",value:e},{root:!0})},updateTwilioTestAuthToken:function(t,e){var n=t.commit;n("setSmsSetting",{key:"twilio_test_auth_token",value:e},{root:!0})}},Y_={setFilter:function(t,e){Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.filter,e.key,e.value):t.filter=Ee().cloneDeep(e)}},J_={filter:{notification_type:[],appointment_type:[],trigger:[],sent_to:[]}},X_={namespaced:!0,state:J_,getters:K_,actions:V_,mutations:Y_},Q_={appointmentStaffNames:function(t){return function(e){if(!e||!t.staff)return"";var n=[];Ee().isArray(e)?(e.map((function(t){n=n.concat(t.staff_ids)})),n=Ee().uniq(n)):n=e.staff_ids;var i=n.map((function(e){var n=t.staff.find((function(t){return parseInt(e,10)===parseInt(t.id,10)}));return n?n.display_name:""}));return i.join(", ")}},currentUserCan:function(t,e,n){return function(t){return!(!n.user||!n.user.capabilities.length)&&n.user.capabilities.indexOf(t)>-1}},currentUserHasPermissions:function(t,e,n){return!(!n.user||!n.user.capabilities.length)&&(n.user&&n.user.capabilities.length)},currentUserHasNav:function(t,e,n){return!(!n.user||!n.user.capabilities.length)&&(n.user&&n.user.capabilities.length>1)},currentUserIsSelf:function(t,e,n){return!(!n.user||!t.currentStaff)&&t.currentStaff.user_id.toString()===n.user.user_id.toString()},currentUserIsStaff:function(t,e,n){return!(!n.user||!n.user.capabilities.length)&&(Object.prototype.hasOwnProperty.call(n.user,"staff_id")&&n.user.staff_id&&e.currentUserCan("ssa_manage_appointments")&&!e.currentUserCan("ssa_manage_staff"))},currentUserStaffId:function(t,e,n){return n.user?n.user.staff_id:null},staffExcludingSelf:function(t,e,n){return e.staffStatusPublish.length?n.user&&n.user.staff_id?e.staffStatusPublish.filter((function(t){return t.id!==n.user.staff_id})):Ee().cloneDeep(e.staffStatusPublish):[]},staffModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=!!Object.prototype.hasOwnProperty.call(n.settings.installed,"staff")&&n.settings.installed.staff,n.settings.staff?i.enabled=n.settings.installed.staff&&n.settings.staff.enabled:i.enabled=!1,i.upgrade=!n.settings.installed.staff,i}},staffStatusDelete:function(t){return t.staff&&t.staff.length?t.staff.filter((function(t){return"delete"===t.status})):[]},staffStatusDraft:function(t){return t.staff&&t.staff.length?t.staff.filter((function(t){return"draft"===t.status})):[]},staffStatusPublish:function(t){return t.staff&&t.staff.length?t.staff.filter((function(t){return"publish"===t.status})):[]},unattachedUsers:function(t){if(!t.users||!t.staff)return[];var e=t.staff.map((function(t){return parseInt(t.user_id,10)}));return t.users.filter((function(t){return-1===e.indexOf(t.id)}))},userGravatar:function(t){return function(e){if(t.users){var n=t.users.find((function(t){return t.id.toString()===e.toString()}));return n?n.gravatar_url:void 0}}},userId:function(t){return t.currentStaff&&Object.prototype.hasOwnProperty.call(t.currentStaff,"user_id")?parseInt(t.currentStaff.user_id,10):0}},tv={deleteStaff:function(t,e){var n=t.commit,i=t.rootState,s=t.dispatch,a=i.api.root+"/staff",o=a+"/"+e+"/delete";return new Promise((function(t,a){ps().ajax({url:o,method:"POST",dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(){n("removeStaffMember",e),s("callAsync",null,{root:!0}),t()})).fail((function(t,e,n){a(n)}))}))},fetchSingleStaff:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/staff/"+e,method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(i){n("setCurrentStaff",i.data),n("setStaffMember",e),t()})).fail((function(t){s(t)}))}))},fetchStaff:function(t){var e=t.commit,n=t.dispatch,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/staff",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(i){e("setStaff",i.data),n("syncStaffFromUsers"),t()})).fail((function(t){s(t)}))}))},fetchUsers:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/users",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setUsers",n.data),t()})).fail((function(t){i(t)}))}))},googleCalendarDeauth:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/google_calendars/staff_disconnect",method:"POST",dataType:"json",data:e,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){e.data.google={connected:!1,excluded_calendars:[]},n("setCurrentStaff",e.data),t()})).fail((function(t){s(t)}))}))},saveStaff:function(t){var e=t.commit,n=t.state,i=t.rootState,s=t.dispatch,a=i.api.root+"/staff",o=n.currentStaff&&n.currentStaff.id?a+"/"+n.currentStaff.id:a;return new Promise((function(t,a){ps().ajax({url:o,method:"POST",dataType:"json",data:JSON.stringify(n.currentStaff),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(i){e("setCurrentStaff",i.data),e("setStaffMember",n.currentStaff.id),s("callAsync",null,{root:!0}),t()})).fail((function(t){a(t)}))}))},saveStaffSettings:function(t){var e=t.commit,n=t.rootState,i=t.dispatch;return new Promise((function(t,s){ps().ajax({url:n.api.root+"/settings/staff",method:"POST",dataType:"json",data:JSON.stringify(n.settings.staff),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setStaffSettings",n.data,{root:!0}),i("callAsync",null,{root:!0}),t()})).fail((function(t){s(t)}))}))},syncStaffFromUsers:function(t){var e=t.commit,n=t.state,i=t.dispatch;if(n.users&&n.staff){var s=!Ee().isEmpty(n.currentStaff)&&n.currentStaff.id?n.currentStaff.id:null;n.staff.map((function(t){var s=t.user_id?parseInt(t.user_id,10):0;if(e("setCurrentStaff",t),s&&0!==s){var a=n.users.find((function(t){return parseInt(t.id,10)===s}));if(!a)return e("setCurrentStaff",{key:"user_id",value:0}),void i("saveStaff");var o=t.email.toLowerCase()!==a.email.toLowerCase(),r=t.display_name!==a.display_name,l=t.name!==a.display_name;(o||r||l)&&(e("setCurrentStaff",{key:"email",value:a.email.toLowerCase()}),e("setCurrentStaff",{key:"display_name",value:a.display_name}),e("setCurrentStaff",{key:"name",value:a.display_name}),i("saveStaff"))}if(0===s){var c=n.users.find((function(e){return e.email&&t.email&&e.email.toLowerCase()===t.email.toLowerCase()}));if(!c)return;e("setCurrentStaff",{key:"user_id",value:c.id}),e("setCurrentStaff",{key:"email",value:c.email.toLowerCase()}),e("setCurrentStaff",{key:"display_name",value:c.display_name}),e("setCurrentStaff",{key:"name",value:c.display_name}),i("saveStaff")}})),e("setCurrentStaff",s?n.staff.find((function(t){return t.id===s})):void 0)}},updateStaffEnabled:function(t,e){var n=t.commit,i=t.dispatch;n("setStaffEnabled",e,{root:!0}),i("saveStaffSettings")}},ev={addStaffMember:function(t){t.staff.push(t.currentStaff)},defineNewStaffMember:function(t){t.currentStaff=Ee().cloneDeep($)},removeStaffMember:function(t,e){var n=t.staff.findIndex((function(t){return t.id===e})),i=Ee().cloneDeep(t.staff[n]);i.status="delete",t.staff.splice(n,1,i)},setCurrentStaff:function(t,e){t.currentStaff||(t.currentStaff={}),e&&Object.prototype.hasOwnProperty.call(e,"key")?i["default"].set(t.currentStaff,e.key,e.value):t.currentStaff=Ee().cloneDeep(e)},setStaff:function(t,e){t.staff=e},setStaffGoogleCalendars:function(t,e){t.googleCalendars=e},setStaffMember:function(t,e){if(t.staff){var n=t.staff.findIndex((function(t){return t.id===e}));n>=0?t.staff.splice(n,1,t.currentStaff):t.staff.push(t.currentStaff)}},setUsers:function(t,e){t.users=e},setStaffBlackoutDates:function(t,e){t.currentStaff.blackout_dates||i["default"].set(t.currentStaff,"blackout_dates",{}),i["default"].set(t.currentStaff.blackout_dates,"dates",e.slice(0))}},nv={currentStaff:void 0,googleCalendars:[],staff:void 0,users:null},iv={namespaced:!0,state:nv,getters:Q_,actions:tv,mutations:ev},sv={trackingModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=n.settings.installed.tracking,n.settings.tracking?i.enabled=n.settings.installed.tracking&&n.settings.tracking.enabled:i.enabled=!1,i.upgrade=!n.settings.installed.tracking,i}}},av={updateTrackingEnabled:function(t,e){var n=t.commit,i=t.dispatch;n("setTrackingEnabled",e,{root:!0}),i("saveTrackingSettings")},saveTrackingSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/tracking",method:"POST",dataType:"json",data:JSON.stringify(n.settings.tracking),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setTrackingSettings",n.data,{root:!0}),t()})).fail((function(t){i(t)}))}))}},ov=n(69340),rv=n.n(ov),lv={},cv={namespaced:!0,state:lv,getters:sv,actions:av,mutations:rv()},dv=(n(24603),n(28450),n(88386),n(4723),{getCurrentGuideKey:function(t){return function(e){if("undefined"===typeof e)return t.currentGuideKey;var n=Object.keys(e).reduce((function(t,n){return t.push("".concat(n,":").concat(e[n])),t}),[]).join("|");return n}},currentGuides:function(t){return t.currentGuideKey&&0!==Object.keys(t.guides).length&&"undefined"!==typeof t.guides[t.currentGuideKey]?t.guides[t.currentGuideKey]:[]},getSupportGuidesTerms:function(){return function(t){var e=[],n=t.toLowerCase(),i=Object.keys(N);return i.forEach((function(t){N[t].some((function(t){var e=t.toLowerCase(),i=new RegExp(e+"\\b","g"),s=n.match(i);return s&&e===s[0]}))&&e.push(L.support_ticket[t])})),e.length?e:[L.support_ticket["default"]]}},getCurrentSupportGuideKey:function(t){return function(e){if("undefined"===typeof e)return t.currentSupportGuideKey;var n=Object.keys(e).reduce((function(t,n){return t.push("".concat(n,":").concat(e[n])),t}),[]).join("|");return n}},currentSupportGuides:function(t){return t.currentSupportGuideKey&&0!==Object.keys(t.supportGuides).length&&"undefined"!==typeof t.supportGuides[t.currentSupportGuideKey]?t.supportGuides[t.currentSupportGuideKey]:[]}}),pv={getGuides:function(t,e){var n=t.commit,i=t.state,s=t.getters,a=t.rootState;return new Promise((function(t,o){var r=Object.assign({"ssasc-edition":a.user.guides_support},e);Object.keys(r).forEach((function(t){Array.isArray(r[t])&&(r[t]=r[t].join(","))}));var l=s["getCurrentGuideKey"](r);if(Object.prototype.hasOwnProperty.call(i.guides,l))return n("setCurrentGuideKey",l),void t();n("setGuidesLoading",!0),n("setCurrentGuideKey",l),ps().ajax({url:a.api.root+"/fetch-guides",method:"GET",data:r,cache:!0,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",a.api.nonce)}}).done((function(e){Object.prototype.hasOwnProperty.call(e,"error")?(n("setGuides",{key:l,search:r,results:[]}),n("setGuidesLoading",!1)):(n("setGuides",{key:l,search:r,results:e}),n("setGuidesLoading",!1)),t()})).fail((function(t,e,i){n("setGuides",{key:l,search:r,results:[]}),n("setGuidesLoading",!1),o(i)}))}))},getSupportGuides:function(t,e){var n=t.commit,i=t.state,s=t.getters,a=t.rootState;return new Promise((function(t,o){var r=Object.assign({"ssasc-edition":a.user.guides_support},e),l={"ssasc-edition":a.user.guides_support,"ssasc-plugin-screen":412};Object.keys(r).forEach((function(t){Array.isArray(r[t])&&(r[t]=r[t].join(","))}));var c=s["getCurrentSupportGuideKey"](r),d=s["getCurrentSupportGuideKey"](l);if(Object.prototype.hasOwnProperty.call(i.supportGuides,c))return i.supportGuides[c].length>0?n("setCurrentSupportGuideKey",c):n("setCurrentSupportGuideKey",d),void t();n("setSupportGuidesLoading",!0),ps().ajax({url:a.api.root+"/fetch-guides",method:"GET",data:r,cache:!0,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",a.api.nonce)}}).done((function(e){e.length>0?(n("setSupportGuides",{key:c,search:r,results:e}),n("setCurrentSupportGuideKey",c)):n("setCurrentSupportGuideKey",d),n("setSupportGuidesLoading",!1),t()})).fail((function(t,e,i){n("setSupportGuidesLoading",!1),o(i)}))}))}},uv={setGuides:function(t,e){i["default"].set(t.guides,e.key,e.results)},setCurrentGuideKey:function(t,e){t.currentGuideKey=e},setGuidesLoading:function(t,e){t.guidesLoading=e},setSupportGuides:function(t,e){i["default"].set(t.supportGuides,e.key,e.results)},setCurrentSupportGuideKey:function(t,e){t.currentSupportGuideKey=e},setSupportGuidesLoading:function(t,e){t.supportGuidesLoading=e}},mv={guides:{},currentGuideKey:null,guidesLoading:!1,supportGuides:{},currentSupportGuideKey:null,supportGuidesLoading:!1},fv={namespaced:!0,state:mv,getters:dv,actions:pv,mutations:uv},gv={webexModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=n.settings.installed.webex,i.upgrade=!n.settings.installed.webex,n.settings.webex?i.enabled=n.settings.webex.enabled&&n.settings.installed.webex:i.enabled=!1,i}}},hv={webexAuth:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/webex/authorize_url",method:"GET",dataType:"json",cache:!1,data:e,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){n("updateWebexAuthUrl",e.data.authorize_url),t()})).fail((function(t){s(t)}))}))},webexDeauth:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/webex/disconnect",method:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateWebexSettings",n.data),t()})).fail((function(t){i(t)}))}))},updateWebexSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/webex",method:"POST",dataType:"json",data:JSON.stringify(n.settings.webex),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateWebexSettings",n.data),t()})).fail((function(t){i(t)}))}))},fetchWebexUser:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/webex/me",method:"GET",cache:!1,dataType:"json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateWebexUser",n),t()})).fail((function(t){i(t)}))}))}},_v={updateWebexEnabled:function(t,e){i["default"].set(Ey.state.settings.webex,"enabled",e)},updateWebexSettings:function(t,e){Ey.state.settings.webex=e},updateWebexAccessToken:function(t,e){i["default"].set(t.settings.webex,"access_token",e)},updateWebexUser:function(t,e){t.webexUser=e},updateWebexRedirectUrl:function(t,e){t.webexRedirectUrl=e},updateWebexAuthUrl:function(t,e){t.webexAuthUrl=e}},vv={webexAuthUrl:null,webexRedirectUrl:null,webexUser:null},yv={namespaced:!0,state:vv,getters:gv,actions:hv,mutations:_v},bv={},kv={fetchTranslationSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/translation",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateSettings",{key:"translation",settings:n.data},{root:!0}),t()})).fail((function(t){i(t)}))}))},fetchLanguagePack:function(t,e){var n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/translation/fetch",method:"POST",dataType:"json",data:JSON.stringify({locale:e}),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(){t()})).fail((function(t){i(t)}))}))}},Cv={general:{loadingInitial:"Setting Up",save:"Save",saveContinue:"Save and Continue",saving:"Saving",ok:"OK",cancel:"Cancel",canceled:"Canceled",abandoned:"Abandoned",towp:"Back to WordPress dashboard",learnMore:"Learn more",selected:"selected"},actions:{activate:"Make active",clone:"Clone",deactivate:"Make inactive",delete:"Delete",recover:"Recover",edit:"Edit",editAsCustomer:"Edit as Customer",reschedule:"Reschedule",retry:"Retry"},time:{units:{minutes:{single:"minute",plural:"minutes"},hours:{single:"hour",plural:"hours"},days:{single:"day",plural:"days"},weeks:{single:"week",plural:"weeks"}}},errors:{heading:"Oh, for fox sake",intro:"We ran into a problem:",guidesText:"This is usually caused by a theme or plugin conflict.",guidesLinkLabel:"View our troubleshooting guide for more information.",errorDetails:"Show error details",appointmentLoading:"We were unable to load the appointments",appointmentTypeTitle:"Appointment type name is required",troubleSaving:"We were unable to save your changes",cantDeleteType:"Unable to delete appointment type",cantDeleteStaff:"Unable to delete staff",moreInfo:"More info",noAppointmentTypes:"First things first - set up your first appointment type.",noPermission:"What the fox?",noPermissionDesc:"It looks like you're not allowed to see this screen. Please check with your site administrator if you think this message is an error."},hello:{headline:"Welcome to Simply Schedule Appointments",subhead:"It looks like it's your first time here. Can we help you get set up?",accept:"Yes, help me please!",decline:"No, thanks. I got this."},wizard:{skip:"Skip this for now",next:"Next",settings:{license:{heading:"First things first. Got your license key handy?"},general:{loading:"Detecting your settings",headingFirst:"First things first, we detected these preferences. Are these correct?",heading:"Next, we detected these preferences. Are these correct?",accept:"Looks good! Let's go!",decline:"Needs some adjusting",exit:"Exit wizard and go to settings"}},appointmentType:{basics:"Basics",basicsMessage:"The basics for this type of appointment",capacity:"Capacity",capacityMessage:"How many customers can book at the same time?",stepper:{back:"Back",continue:"Continue"},heading:"Set up your first appointment type",loading:"Setting up your appointment type",availability:"Availability",availabilityMessage:"When are you available for this type of appointment?",apptSyncHeading:"Sync appointments with this calendar",apptSyncDesc:"When appointments are booked, create events on this Google Calendar",scheduling:"Scheduling Options",schedulingMessage:"Rules around how and when people can schedule this type of appointment",customerInfo:"Customer Information",customerInfoMessage:"What do you need to know about your customer?",notifications:"Notifications",notificationsMessage:"Options for sending customer and admin notifications",review:"Review",reviewMessage:"Make sure everything looks correct",googleCalendar:"Google Calendar",googleCalendarMessage:"Synchronize your appointments with your Google calendar",checkCalendars:"Check these calendars for conflicts",checkCalendarsDesc:"When booking appointments, check these calendars for times to exclude from available times",webMeetings:"Web Meetings",webMeetingsMessage:"Manage your Web Meetings settings for this appointment type",mailchimp:"MailChimp",mailchimpMessage:"Allow your customers to subscribe to a selected MailChimp list when booking an appointment",webhooks:"Webhooks",webhooksMessage:"Integrate Simply Schedule Appointments with other apps and services",booking:"Booking Info",bookingMessage:"Let your customers book this appointment type",generalBooking:"Use this shortcode in any post or page to create a general booking form where your customers can choose any appointment type",specialBooking:"Use this shortcode in any post or page to create a special booking form where your customers can book just this appointment type",payments:"Payments",paymentsMessage:"Take payments online at the time of booking",staff:"Team Members",staffMessage:"Which team members can take appointments of this type?"},googleCalendar:{wantToConnect:"Want to sync with Google Calendar?",showMeHow:"Show me how",connectSuccess:"Success! Your Google Calendar account is connected.",failedToFetch:"Unable to get your Google calendars",failedToFetchDescription:"Try disconnecting and reconnecting your Google account.",dontAdd:"Don't add newly booked appointments to my Google calendar",clientIdError:"Client ID is required for Google Calendar authorization",clientSecretError:"Client secret is required for Google Calendar authorization"},zoom:{wantToConnect:"Want to sync with Zoom?",connectSuccess:"Success! Your Zoom account is connected.",failedToFetch:"Unable to get your Zoom settings",failedToFetchDescription:"Try disconnecting and reconnecting your Zoom account.",clientIdError:"Client Id is required for Zoom authorization",apiSecretError:"Client Secret is required for Zoom authorization"},complete:{headline:"Congratulations! You're all set up.",shortcodeInstructions:"Display your booking form on any post or page with the shortcode, or use our Gutenberg block to add the booking form to a post or page.",subhead:"What would you like to do next?",booking:"Try booking an appointment",settings:"Go to settings",apptType:"Set up another appointment type"}},promo:{dismissNotice:"Dismiss this notice",proHeading:"Now available!",businessText:"Did you know we’re constantly working on new, powerful features for business customers? Sign up for our Business Edition today and receive our latest features as they’re released:",businessTextBullets:{team:"Team and Employee Scheduling",resources:"Manage Resources and Equipment",locations:"Manage Multiple Locations",views:"Custom Booking Views"},businessTextCta:{upgrade:"Unlock Business Features",view:"View All Editions"},plusText:"Interested in getting even more out of SSA? Consider upgrading to our Plus Edition and unlock awesome features like:",plusTextBullets:{google:"Google Calendar Sync",customFields:"Custom Fields",mailchimp:"Mailchimp Integration",capacity:"Multiple Bookings in the Same Time Slot",classes:"Book Classes and Group Events"},plusTextCta:{upgrade:"Unlock Plus features",view:"View All Editions"},proText:"Woah—looks like you’re really getting the hang of this whole scheduling thing. Just a suggestion, but you might be a great fit for our Pro Edition and its supercharged features:",proTextBullets:{payments:"Accept Payments via PayPal and Stripe",reminders:"Email and SMS Reminders",tracking:"Conversion and Goal Tracking",webhooks:"Unlimited Webhooks",zoom:"Live Customer Support via Zoom"},proTextCta:{upgrade:"Unlock Pro Features",view:"View All Editions"},smsUpgrade:{title:"Send Email and SMS reminders with Simply Schedule Appointments Pro",text:"Upgrade to Simply Schedule Appointments Pro to send email or SMS appointment confirmations and reminders before your appointments. Send automated followup messages after your appointments. SMS services use Twilio.",cta:"Upgrade now",radioHint:"Available in Pro"},zoomUpgrade:{title:"Schedule Zoom meetings with Simply Schedule Appointments",text:"Get even more out of SSA! Upgrade to the Plus Edition to unlock Zoom appointment scheduling and other awesome features like:"},zoomAnnounce:{title:"Available now! Schedule Zoom meetings",text:"Now you can use Simply Schedule Appointments to book Zoom calls with your customers. Learn how to get set up to use this new feature.",cta:"Learn how to schedule Zoom calls"},availablePlus:"Available in Plus",availablePro:"Available in Pro",availableBusiness:"Available in Business",capacityText:"Upgrade to allow multiple customers to book appointments at the same time! Also: sync appointments with your Google Calendar, add customers to your MailChimp list, and create booking forms for your customers.",webMeetingsText:"Upgrade to set dynamic web meeting URLs when customers book appointments. Also: sync appointments with your Google Calendar, add customers to your MailChimp list, and create booking forms for your customers."},settings:{enable:"Enable",disabledWarning:"This feature isn't enabled. Would you like to enable it now?",loadingAppointments:"Getting your appointments",appointmentsTitle:"Appointments",loadingApptTypes:"Getting your appointment types",appointmentTypesTitle:"Appointment Types",appointmentTypesDeleted:"Deleted Appointment Types",appointmentTypeAll:"All",settingsTitle:"Settings",comingSoon:"Coming Soon",beta:"Beta",openNavigation:"Open Navigation",returnToSettings:"Return to Settings",featureNotEnabled:"Feature not enabled",featureNotEnabledDescription:"This feature is not currently enabled. Please enable this feature to view the settings.",advanced_scheduling:{title:"Advanced Scheduling Options",label:"Enable Advanced Scheduling Options for Appointment Types",help:"Handle more complex scheduling with extra options.",help_link:"Learn more about these options.",editTypes:"Edit Appointment Types",booking_window_error:"The booking end date must be after the booking start date",availability_window_error:"The availability end date must be after the availability start date",saved:"Settings saved."},blackout:{title:"Blackout Dates",description:"Blackout dates are dates blocked off your calendar entirely for all appointment types. Perfect for vacation days, travel days, or other days when you're not available for appointments.",emptyLabel:"No blackout dates selected yet",emptyDesc:"Use the calendar to select blackout days",loading:"Loading team dates",selected:"Selected Dates",saved:"Updated blackout dates saved",saving:"Saving blackout dates",nextMonth:"Go to next month",previousMonth:"Go to previous month",selectYear:"Select a year",selectTarget:"Select who you are setting blackout dates for",view:{global:"Business-wide",self:"Myself"}},translations:{title:"Translations",description:"Download and install language packs from translate.wordpress.org, even if they are incomplete.",selectPack:"Select a translation pack",fetchInstall:"Download and Install",installedTranslations:"Installed translations",improveTranslation:"Improve this translation",languagePack:"Language pack",lastUpdated:"Last updated"},general:{title:"General Settings",timezone:"Timezone",timezoneWarning:"Your WordPress setting doesn't appear to match your current location.",genericTimezoneWarning:"You have an offset selected instead of a timezone. We recommend changing the setting to use a timezone appropriate for your country and region.",dateFormat:"Date Format",timeFormat:"Time Format",contact:"Appointment Contact",contact_helper:"Who are visitors booking their appointment with? (this is probably your name)",contact_error:"Appointment Contact name is required",business:"Business Name",business_error:"Business name is required",email:"Default Admin Email",email_helper:"SSA will send an email to this email when a visitor books an appointment.",email_error:"Appointment email address is required",phone:"Admin phone number",phone_error:"Please enter a valid phone number",phone_help:"Number where SMS reminders will be sent",weekStartsOn:"Week Starts On",bookAppointment:"Book an Appointment",confirmTitle:"Are you sure?",confirmContent:"Your settings won't be saved if you leave the page.",countryCode:{defaultValue:"Auto-detect",label:"Default country for telephone number fields"}},developerScreen:"Developer",developer:{title:"Developer Settings",booking_api_embed:{label:"Use the API to embed the booking form",help:"Try enabling this option if you're having issues with the booking form displaying correctly."},capacity_availability:{label:"Use the new availability algorithm",help:"Try the new scheduling calculator. May perform faster when booking."},disable_availability_caching:{label:"Disable availability caching",help:"This will slow down your site, so only disable if you are having trouble and are instructed to do so by support."},enqueue_everywhere:{label:"Enqueue scripts everywhere",help:"Load scripts on every page. Can be helpful if there are issues with loading the booking form via ajax"},beta_updates:{title:"Beta features",label:"Get beta (pre-release) versions of SSA",help:"Warning: Beta releases can be unstable. Please only enable this if instructed by support."},beta_calendar_events:{label:"Google Calendar Events Customization (Beta)",help:"Customize the content of events added to Google Calendar"},beta_booking_app:{label:"Booking App V2 (Beta)",help:"Set the Booking App V2 as the default booking app."},separate_appointment_type_availability:{label:"Give appointment types independent availability",help:"Enable each appointment type to have its own availability. Can book appointments of different types at the same time.",help_link:"Learn more about independent availability."}},jobs:{title:"Developer Jobs",jobs:{purge_appointments:{title:"Purge Appointments",description:"If your booking app is slow, purging past and canceled appointments can help improve performance.",action:"Purge now",settings:{past_appointments:"Purge past Appointments",abandoned_appointments:"Purge abandoned Appointments"},modal:{title:"Are you sure?",text:"This process will remove appointments from the database and you won’t be able to recover them. A .csv file containing all deleted appointments will be generated at the end of this process.",close:"Close",confirm:"Confirm",loading:"Purging appointments...",success:"Appointments successfully removed from the database.",error:"Something went wrong while running this job:",download:"Download .csv file"}}}},import_export:{title:"Import / Export",tabs:{export:"Export",import:"Import"},options:{settings:{label:"Export Settings",description:"Export all SSA settings, including extensions."},appointment_types:{label:"Export All Appointment Types",description:"Export your appointment types. Requires settings export."},appointments:{label:"Export All Appointments",description:"Export all of your existing appointments. Requires settings and appointment types export."},anonymize:{label:"Anonymize appointment data",description:"Anonymize names, emails, and all other customer information for those who have booked appointments. Helpful for sharing debugging data with support."},future_appointments_only:{label:"Only export upcoming appointments",description:"Include only upcoming appointments, excluding all past appointments. Helpful for busy sites with lots of appointments."}},generate_button:"Generate Code",generate_button_loading:"Generating...",copy:"Copy to clipboard",copied:"Export code copied to your clipboard.",send_to_support:"Send to Support",send_to_support_message:"SSA export code attached",send_to_support_success:"SSA export code sent to Support",import_button:"Import",import_button_loading:"Importing...",import_headline:"Import from another SSA install",import_copy:"Paste below the code you copied on another SSA install to import your data for things like plugin settings, appointment types, and scheduled appointments.",import_invalid_json_notice:"Invalid import code. Check if you have any issues on the SSA install you're trying to import from.",import_error_status_notice:"Oops! Something went wrong while importing your data. The server responded with the following errors:",import_success_redirect:"Click here if the page is not automatically refreshed.",restore_backup:"Restore previous backup"},google_calendar:{title:"Google",connect:"Connect Google Account",disconnect:"Disconnect",disconnecting:"Disconnecting your Google Account",account:"Connected account",enterApi:"Enter your Google API information below.",goButton:"Go Now",clientId:"Client ID",saveAuthorize:"Save and Authorize",clientSecret:"Client Secret",loadingCalendars:"Getting your calendars",calendarSync:"Calendar Sync",appointmentTypesEdit:"Edit Appointment Types",authSuccess:"Success! Your Google Calendar account is connected.",authNext:"Next, edit your appointment types to check your Google Calendar for appointment conflicts or to add newly booked appointments to your Google Calendar",webMeetingsHeadline:"Google Meet Web Meetings",webMeetingsToggleLabel:"Enable adding Google Meet links to my calendar events",deleteEventsHeadline:"Delete Canceled / Rescheduled Events",deleteEventsToggleLabel:"Delete Google Calendar events when appointments are canceled or rescheduled",refreshIntervalHeadline:"Refresh Google Calendars",refreshIntervalDesc:"How often should we check Google Calendar for new events?"},calendar_events:{title:"Customize your calendar event",description:"Personalize how your event content will look like when an event is created.",switch_label:"Customize event content",save:"Save Calendar Events Settings",success:"Calendar Events Settings saved.",sample_appointment_types:"Used on appointment types like",and:"and",and_more:"and more",types:{customer:{title:"Customer Confirmation Screen Event",helper:'What your customer will see after clicking "Add to my calendar”.',description:"Manually added to customer's calendar through the booking confirmation screen."},individual_admin:{title:"Admin Event",helper:"What you will see on the synced calendar.",helper_staff:"What you and your team members will see on the synced calendar.",description:"Automatically sent to the synced calendar in the Appointment Type’s Google settings tab.",description_staff:"Automatically sent to the synced calendar (and team members) in the Appointment Type’s Google settings tab."},individual_shared:{title:"Shared Event",helper:"What you and your customer will see if they are invited to the event.",description:"Google event added to the synced calendar in the Appointment Type’s Google settings tab. The event automatically invites the customer.",description_staff:"Google event added to the synced calendar in the Appointment Type’s Google settings tab. The event automatically invites the customer and team members assigned to the booking (if any)."},group_shared:{title:"Shared Group Event",helper:"What you and all attendees will see on the calendar.",description:"Google Invite sent to the synced calendar in the Appointment Type’s Google settings tab, the Team members assigned to the booking (if any), and all of the customers in the group booking."},group_admin:{title:"Admin Group Event",helper:"What you will see on the calendar for group events.",helper_staff:"What you and your team members will see on the calendar for group events.",description:"Sent to the synced calendar selected in the Appointment Type’s Google settings tab and can be updated every time a customer books the Group appointment.",description_staff:"Sent to the synced calendar selected (and team members) in the Appointment Type’s Google settings tab and can be updated every time a customer books the Group appointment."}},errors:{required:"This field is required."}},license:{manage:"Manage License",key:"License Key",remove:"Remove",validate:"Validate",validating:"Validating..."},mailchimp:{title:"MailChimp",api_key:"API Key",apiKeyError:"Please enter a valid API key",api_key_helper_label:"Where do I find this?",saveAuthorize:"Save and authorize",lists:"MailChimp Lists",loadingLists:"Getting your lists",deauthorize:"Disconnecting your account"},payments:{title:"Payments",returnToPayments:"Return to Payments",basics:"Basic Settings",basicsMessage:"The required settings for this payment gateway",advanced:"Advanced Settings",advancedMessage:"Optional settings to fine-tune the way this payment gateway works",displayTitle:"Display title",displayTitleHelp:"This controls the title which your customer sees during checkout.",displayTitleError:"The display title is required",description:"Description",descriptionHelp:"This controls the description which your customer sees during checkout.",statementDescriptor:"Statement Descriptor",statementDescriptorError:"11 characters maximum. Alphanumeric, at least one letter, and no < > \\ ' or \"",statementDescriptorHelp:"This gets displayed on your customer's credit card statement (after first 10 characters of your company name)",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this payment gateway will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",defaultCurrency:"Default currency",paypal:{email:"PayPal email address",emailHelp:"Please enter your PayPal email address; this is needed in order to take payment.",emailError:"A valid email address is required.",enableSandbox:"Enable PayPal sandbox",sandboxHelp1:"PayPal sandbox can be used to test payments.",sandboxHelp2:"Sign up for a developer account.",identityToken:"PayPal identity token",identityTokenHelp:"Optionally enable Payment Data Transfer (Profile > Profile and Settings > My Selling Tools > Website Preferences) and then copy your identity token here. This will allow payments to be verified without the need for PayPal IPN.",noConnection:"PayPal is not connected to your PayPal account",sandboxMode:"PayPal is in sandbox mode.",ipn_url:"IPN Notification URL",ipnCopied:"Your PayPal IPN Notification URL has been copied to your clipboard",ipnHelpPrefix:"You must add this URL to your PayPal settings.",ipnHelp:"Get instructions.",sslWarning:"A valid SSL certficate is required to use PayPal payments"},stripe:{publishableKey:"Publishable key",publishableKeyError:"A publishable key is required",publishableKeyHelp:"Get your API keys from your Stripe account.",secretKey:"Secret key",secretKeyError:"A secret key is required",secretKeyHelp:"Get your API keys from your Stripe account.",webhook:"Stripe Webhook URL",webhookHelpPrefix:"You must add this URL to",webhookHelpTarget:"your Stripe account Webhook settings",webhookCopied:"The webhook has been copied to your clipboard",testMode:"Enable test mode",testModeHelp:"Place the payment gateway in test mode using test API keys.",testPublishableKey:"Test publishable key",testPublishableKeyHelp:"Get your API keys from your Stripe account.",testPublishableKeyError:"The test publishable key is required for test mode",testSecretKey:"Test secret key",testSecretKeyHelp:"Get your API keys from your Stripe account.",testSecretKeyError:"The secret key is required for test mode",noConnection:"Stripe is not connected to your Stripe account",testModeWarning:"Stripe is in test mode."}},notifications:{title:"Notifications",intro:"These notifications are sent for this appointment type:",empty:"There are no notifications.",empty_appointment_type:"There are no notifications sent for this appointment type",returnToNotifications:"Return to notifications",customer_phone:"Customer phone number",team_member_phone:"Team member phone number",actions:{addNew:"Add a new notification",edit:"Edit notification",editAll:"Edit notifications"},fields:{title:"Name",type:"Type",email:"Email",sms:"SMS",sentTo:"Send to",smsTo:"Send to",cc:"Cc",bcc:"Bcc",trigger:"Trigger",triggerLegend:"When to send this notification",when:"When",subject:"Subject",message:"Message"},filter:{filter:"Filter",legend:"Notification Filters",empty_label:"No matching notifications",empty_desc:"No notifications match your filter selections. Adjust the filters or reset them.",fields:{type:"Notification Type",appointment_type:"Appointment Type"},reset:"Reset Filters",selected:"selected"},messages:{sentToError:"Please enter a valid email address",smsToError:"Please select at least one recipient",triggerError:"You must select a trigger for a notification",appointmentTypesError:"Please select at least one appointment type",subjectError:"Subject is required",messageError:"Message is required",noAdminPhone:"No admin phone number is set",noCustomerEmail:"No appointment types have phone number fields"},tokenDetailsTitle:"Notification Template Details",tokenDetails:"Notification templates are created with Twig. The following tokens are available.",tokens:{admin_email:"The appointment admin email",instructions:"The optional customer instructions associated with the selected appointment type.","Appointment.AppointmentType.title":"The title of the selected appointment type","Appointment.customer_information_summary":"Summary of the customer information fields for the appointment type","Appointment.customer_information.Name":"The customer's name","Appointment.date_timezone":"The admin timezone set in general settings","Appointment.customer_timezone":"The timezone to display for the customer","Appointment.public_edit_url":"The link to edit, cancel, or reschedule the appointment","Appointment.start_date":"The start date and time of the appointment",location:"The appointment location",customer_name:"The customer's name",customer_email:"The customer's email address.",attendees_list:"The list of all attendee's names for the appointment.","Global.home_url":"The URL of the site where Simply Schedule Appointments is installed","Global.company_name":"The name of the site where Simply Schedule Appointments is installed","Global.timezone_string":"The timezone selected in the Simply Schedule Appointments settings.",booking_url:"The page URL where the appointment booking happened.",booking_title:"The page title where the appointment booking happened.",booking_post_id:"The page ID where the appointment booking happened.",refund_policy:"The refund policy of the selected appointment type","add_to_calendar_link.ics":"The link to add the appointment to your calendar via an .ics file.","add_to_calendar_link.gcal":"The link to add the appointment to your Google Calendar."},triggers:{appointment_booked:"Appointment Booked",appointment_customer_information_edited:"Appointment Edited",appointment_canceled:"Appointment Canceled",appointment_rescheduled:"Appointment Rescheduled",appointment_start_date:"Time of Appointment"},warnings:{cronWarning:"This notification might be delayed or not sent as expected.",cronLinkText:"More details"},when:{after:"After",before:"Before"},confirmDelete:"Delete this notification?",confirmDeleteCancel:"Keep",confirmDeleteOk:"Delete",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this notification will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",ccSent:"Cc/Bcc",preview:{title:"Live Preview",description:"This is a live preview of how your message will look when it's sent out.",gettingAppointments:"Getting appointments...",selectAppointment:"Select an appointment",selectAppointmentType:"Select an appointment type",formattingPreview:"Formatting your preview..."}},sms:{title:"SMS",basics:"Basic settings",basicsMessage:"The required settings for Twilio",twilioAccountSid:"Twilio Account SID",twilioAccountSidError:"A Twilio Account SID is required",twilioAccountSidHelp:"Get your Twilio Account SID from your Twilio account",twilioAuthToken:"Twilio Auth Token",twilioAuthTokenError:"A Twilio Auth Token is required",twilioAuthTokenHelp:"Get your Twilio Auth Token from your Twilio account",twilioSendFromPhone:"Sending Phone Number (from Twilio)",twilioSendFromPhoneError:"You need a Twilio phone number to send SMS messages",twilioSendFromPhoneHelp:"Get a Twilio phone number",advanced:"Advanced settings",advancedMessage:"Optional advanced settings for Twilio",testMode:"Test mode",testModeHelp:"Place Twilio in test mode to use test account SID and test auth token",testModeWarning:"Twilio is in test mode.",twilioTestAccountSid:"Twilio Test Account SID",twilioTestAccountSidError:"The test account SID is required for test mode",twilioTestAccountSidHelp:"Get your Twilio Test Account SID from your Twilio account",twilioTestAuthToken:"Twilio Test Auth Token",twilioTestAuthTokenError:"The test account auth token is required for test mode",twilioTestAuthTokenHelp:"Get your Twilio Test Account Auth Token from your Twilio account",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to the SMS settings will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",noConnection:"Twilio is enabled, but your account is not connected.",onlyPhoneFields:"Only appointment types with at least one phone number field are displayed.",noPhoneFields:"None of your appointment types have phone number fields",noPhoneFieldsTitle:"No phone numbers",noPhoneFieldsContent:"None of your appointments types is collecting a phone number from your customers. There is no way to send an SMS notification.",sendTest:"Send a test message",sendTestMessage:"Test your Twilio API settings and ensure messages are delivered",sendTestTo:"Send to",sendTestToError:"Please enter a valid phone number",sendTestToHelp:"The phone number to send a test message to",sendTestSuccess:"Test message sent!",sendTestFailure:"Unable to send test message. Please check your settings."},staff:{title:"Team",action:"Manage team",actions:{addNew:"Add new team member",create:"Create team member",saved:"Changes saved"},appointment:{with:"with"},appointmentType:{staffEnableHeading:"Does this appointment type require a team member?",staffEnableDesc:"Shoud each customer booking this appointment type be matched with a team member?",allLabel:"All:",allDesc:"All of the selected team members are needed for an appointment",anyLabel:"Any:",anyDesc:"Match each customer with any one of the selected team members",noneLabel:"None:",noneDesc:"No team members are needed for this appointment type",teamLabel:"Team members who accept appointments of this type",staffWarning:"No team members are set to take appointments of this type. Please either set required to 'None' or select at least one team member",noWebMeetingUrl:"No web meeting URL"},confirmDelete:"Delete this team member?",confirmDeleteOk:"Delete",confirmDeleteCancel:"Keep",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this team member will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",confirmImcompleteContent:"Please enter the required fields and save if you'd like to keep this team member. Otherwise, you can delete this team member.",confirmIncompleteCancel:"Keep editing",connectedUser:"WordPress User",connectedUserEdit:"Edit User Profile",editExisting:{publish:{title:"This team member already exists","content-html":"Would you like to edit their profile?","ok-text":"Edit team member","cancel-text":"No thanks"},delete:{title:"This team member already exists","content-html":"This team member has been deleted. Would you like to restore their profile?","ok-text":"Restore team member","cancel-text":"No thanks"},draft:{title:"This team member already exists","content-html":"This team member is marked inactive. Would you like to reactivate their profile?","ok-text":"Activate team member","cancel-text":"No thanks"}},editProfile:{contact:"Contact",permissions:"Permissions",availability:"Availability",web_meetings:"Web Meetings"},emailTaken:{title:"Email address not available","content-html":"This email address is already assigned to another team member"},emptyEditTitle:"Editing team member",emptyLabel:"No team members added yet",emptyInactiveLabel:"No inactive team members",emptyDescription:"Looks like you're on your own so far. Click the button to add a new team member.",emptyInactiveDescription:"Looks like there aren't any inactive team members",fields:{name:{label:"Name",error:"Name is required"},display_name:{label:"Display name",error:"Display name is required",help:"Name that will be displayed to customers booking appointments"},email:{label:"Email",error:"Valid email address is required",errorTaken:"This email address is already assigned to another team member or a WordPress user",help:"Enter an email address to get started"},phone:{label:"Phone"},blackout:{label:"Can this team member manage their own blackout dates?",message:"This team member has blacked out dates.",editText:"View and edit blackout dates"},gcalendar:{label:"Can this team member connect their own Google account?",message:"This person has connected their Google account."},appointment_types:{error:"This team member isn't connected to any appointment types and cannot take appointments",error_staff:"You aren't connected to any appointment types and cannot take appointments. Please contact site admin.",all:"All appointment types"},manages_working_hours:{label:"Can this team member manage their own working hours?"},working_hours:{label:"Working Hours",timezone_label:"Working hours are in timezone:",current_time_label:"Current time is:"},custom_working_hours:{legend:"Use custom working hours?",labelOff:"Use default working hours",labelOn:"Set custom working hours",helpOn:"Select custom working hours. Team will be available for appointments where team schedule overlaps with appointment type schedule",helpOff:"Use schedule set for each appointment type"}},google:{actions:{connect:"Connect Google account"},admin:{staff_connected:"This team member has connected their Google account.",staff_no_calendars:"This team member has NOT selected any calendars to check for conflicts.",staff_calendars:"This team member is checking calendars for conflicts:",staff_not_connected:"This team member has not connected their Google account.",calendars_connected:"Calendars Connected:"},check_settings:"There was a problem fetching your calendars. Please contact the site admin."},linkUser:{title:"Link to WordPress user?",htmlIntro:"This email address belongs to a WordPress user account:",htmlExplanation:"Do you want to connect this team member to this WordPress user? If connected, the team member will be able to log in and manage their own profile and appointments.",okText:"Connect to user",cancelText:"Cancel email address change"},loading:"Loading team",not_connected:{title:"Team member is not a WordPress user",desc:"Since this team member cannot log into WordPress, they can't be assigned permissions to edit or manage their own profile. You can add a user to WordPress with this email address to connect this team member to a WordPress user:",addNew:"Add new WordPress user"},notices:{noAppointmentTypes:"You don't have any appointment types set up yet.",noStaffAppointmentTypes:"None of your appointment types are set up to match customers to team members. Be sure to edit your appointment types to enable team.",someStaffAppointmentTypes:"Only appointment types that have team enabled are shown"},profile:"My profile",selectStaff:"Select staff to display",status:{inactive:"Team - inactive"},webMeetings:{headline:"Web Meetings",web_meetings_url:"Enter a custom URL for a web meeting, for example, your Zoom Personal Meeting URL."}},styles:{title:"Styles",accentColor:"Accent color",backgroundColor:"Background color",contrast:"Contrast mode",contrastHelper:"Enable contrast mode if you're using a dark background color",font:"Font family",padding:"Padding",reset:"Reset to default",confirmTitle:"Are you sure?",confirmContent:"Your settings will be lost and all styles will be reset to the default values.",requiredPadding:"Padding is required. Enter 0 for no padding.",cssUnits:"You may use any valid CSS measurement unit: %, em, px, vw, rem, etc.",googleFonts:"View the Google Fonts library",customCSS:"Custom CSS",cssComment:"Enter your custom CSS here"},tracking:{eventTracking:"Track custom events",pageTracking:"Track page views",reset:"Reset",title:"Tracking",instructions:"Check the boxes below to enable tracking of page views and/or events. For more information on how tracking works and what gets tracked see our documentation:",docLinkText:"Conversion Tracking"},webhooks:{title:"Webhooks",actions:{addNew:"Add a new webhook",edit:"Edit webhook"},intro:"The following webhooks are triggered for this appointment type:",empty:"There are no webhooks.",empty_appointment_type:"There are no webhooks triggered by this appointment type",fields:{title:"Name",token:"Token",token_help:"This token will be sent in the outgoing payload to help you verify the request came from Simply Schedule Appointments",token_error:"Token is required. Hit the refresh button to generate a random token.",token_copied:"Token copied to clipboard",triggers:"Select the triggers for this webhook:",trigger_single:"Trigger:",trigger_plural:"Triggers:",triggerNames:{appointment_booked:"Appointment Booked",appointment_edited:"Appointment Edited",appointment_canceled:"Appointment Canceled"},urls:"URLs",url_exists:"That URL has already been added for this webhook",url_invalid:"Please enter a valid URL"},errors:{requiredTriggers:"You must select at least one trigger for this webhook",requiredUrls:"You must enter at least one URL for this webhook",requiredAppointmentTypes:"You must select at least one appointment type"},details:{deliveryHeaders:"Delivery headers",deliveryDetails:"HTTP POST payloads that are delivered to your webhook's configured URL endpoint will contain several special headers:",deliveryDetailHeader:"Header",deliveryDetailDescription:"Description",deliveryDetailsAdditional:"",deliveryExample:"Example delivery"},confirmDelete:"Delete this webhook?",confirmDeleteCancel:"Keep",confirmDeleteOk:"Delete",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes to this webhook will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing"},webex:{title:"Webex",account:"Connected account",disconnect:"Disconnect",notConnected:"Your Webex account isn't connected yet.",saveAuthorize:"Authorize Webex",failedToFetch:"Unable to get your Webex settings",failedToFetchDescription:"Try disconnecting and reconnecting your Webex account.",verifying:"Verifying your Webex user"},zoom:{title:"Zoom",account:"Connected account",disconnect:"Disconnect",clientId:"Client ID",saveAuthorize:"Authorize Zoom",clientSecret:"Client Secret",authRedirect:"Zoom oAuth Redirect URL (click to copy)",redirectCopied:"Zoom oAuth Redirect URL copied to clipboard",userEmail:"User Email",userMeetingUrl:"Personal Meeting Url",notConnected:"Your Zoom account isn't connected yet."}},appointmentTypes:{title:"Name",titleError:"Appointment types must have names",empty:"There are no appointment types.",shortcodeCopied:"Shortcode copied to clipboard",bulkEditExplanation:"Changes will be applied to the following appointment types: ",duration:"Duration",durationType:"Duration Units",negativeDuration:"Duration should not be negative.",label:"Label",slug:"Slug",slugError:"Slug is required for appointment types",bookingLayout:"Booking view",bookingLayouts:{week:"Weekly",month:"Monthly"},visibility:"Visibility",visibilityOptions:{public:"Public",private:"Private"},capacity:{fields:{capacity:{label:"Capacity",label_staff:"Total capacity",help:"How many people can book at the same time?",help_staff:"Limit for the total number of appointments allowed at the same time",help_group:"How many people can attend a group event?",error_bounds:"Capacity must be at least 1 and no more than 100,000",error_mismatch:"Total capacity must be equal to or greater than capacity"},capacity_type:{label:"Group event or individual?",help:"Should multiple bookings at the same time be treated as a single group appointment or separate individual appointments?",help_staff:"Individual means 1 booking per team member per time. Group means multiple bookings per team member."},has_max_capacity:{label:"Is there an overall limit for this appointment type?",help:"For example, no more than 10 customers allowed in the business at a time"},staff_capacity:{label:"Capacity",help:"How many people per team member can attend a group event?"}},capacityTypeOptions:{individual:"Individual",group:"Group"}},instructions:"Instructions",instructions_description:"Optional brief instructions to your customer to explain appointment logistics",instructions_placeholder:'e.g. "I\'ll call you" or "We\'ll meet at your office"',availabilityType:"How would you like to define your availability for this appointment type?",availabilityStartTimes:"Specific start times",availabilityStartTimesHelp:"Define specific appointment start times that your customers can select when booking",availabilityBlocks:"Available blocks",availabilityBlocksHelp:"Define blocks of availability and your customers can select any available time inside those blocks",availabilityToggle:"Toggle all",availabilityIncrement:"Show appointment start times every:",timezoneStyle:"Appointment timezone",timezoneStyleHelp:"Is this appointment type associated with a specific timezone?",timezoneStyleLocalized:"Localized",timezoneStyleLocked:"Locked",timezoneStyleLocalizedHelp:"Your customers will see available appointment times in their own timezone. Recommended for phone calls and online meetings.",timezoneStyleLockedHelp:"Your customers will see available appointment times in a your timezone. Recommended for in-person meetings.",timezoneStyleYourTimezone:"Your timezone is:",buffer:"Appointment buffer",buffer_help:"The amount of time that should be left free before and after an appointment.",buffer_before:"How much time should be left free before an appointment of this type?",buffer_after:"How much time should be left free after an appointment of this type?",limitmax:"Limit the number of appointments of this type that can be booked in a day?",max_event_count:"Max number of appointments of this type to book per day",notice:"Notice required",notice_help:"How much notice you need when someone books an appointment",min_booking_notice:"Notice",min_booking_notice_help:"Minimum notice required when booking",advance:"Advance",advance_help:"How far into the future customers should be able to book this type of appointment",max_booking_notice:"Advance",max_booking_notice_help:"How far in advance customers can book an appointment",max_booking_notice_error:"Advance required must be 1 minute or more",min_max_error:"The Notice Required must be less than the Advance setting",booking_window:"Booking window",booking_window_help:"Define a specific date range for when customers will have access to book this type of appointment",booking_start_date:"Start",booking_end_date:"End",availability_window:"Availability window",availability_window_help:"Define a specific date range for when appointments are available to be booked",availability_start_date:"Start",availability_end_date:"End",max:"Per day limit",max_help:"Limit how many appointments of this type can be booked per day",display:"Display",required:"Require",confirmDelete:"Delete this appointment type?",confirmDeleteAppointments:"The following appointments of this type are booked:",confirmDeleteOk:"Delete",confirmDeleteCancel:"Keep",appointmentSync:"Add new appointments to this calendar",confirmIgnoreChangesTitle:"Are you sure?",confirmIgnoreChangesContent:"Are you sure you want to leave this page? Any unsaved changes will be lost.",confirmIgnoreChangesOkay:"Leave without saving",confirmIgnoreChangesCancel:"Keep editing",saved:"saved",actions:{addNew:"Add New",create:"Create a new appointment type",edit:"Edit",bulkEdit:"Bulk Edit",clone:"Clone",delete:"Delete","add-field":"Add Field",cancel:"Cancel",update:"Update",editSingle:"Edit selected appointment types individually",back:"Back to Appointment Types",reorder:"Reorder",saveOrder:"Save order"},customer_information:{Name:"Name",Email:"Email",Phone:"Phone",Address:"Address",City:"City",State:"State",Zip:"Zip Code",Notes:"Notes"},custom_fields:{types:{"single-text":"Single Line Text","multi-text":"Multi Line Text",checkboxes:"Checkboxes",radios:"Radios",phone:"Phone number"},labels:{label:"Label",required:"Required",type:"Type",icon:"Icon",values:"Values","one-per-line":"One value-per-line",instructions:"Instructions"},actions:{menu:"Open menu for this field"},errors:{label:"Label is already taken"}},mailchimp:{optin:"Subscribe to newsletter",optinTextLabel:"Text to display next to opt in checkbox",optinTextError:"Opt in text is required",listSelect:"Customers will have the option to subscribe to which MailChimp list?",noLists:"There are no lists associated with your MailChimp account.",noSelection:"None",noConnection:"Mailchimp account hasn't been connected",setup:"Connect Mailchimp"},google_calendar:{noAccessToken:"Google Calendar account hasn't been connected",setup:"Connect Google Calendar",checkSettings:"Check Settings",checkSettingsMessage:"There was a problem fetching your calendars. Please check your settings",sharedCalendarEvent:"Invite the customer to the event?",sharedCalendarEventDesc:"When creating the Google Calendar event, add the customer as an invitee"},web_meetings:{providers:{google:{name:"Google Meet",label:"Google Meet - Generate a unique meeting URL",googleNoCalendarHeading:"No Google Calendar selected",noCalendarSelectedMessage:'To generate a Google Meet URL, you must select a Google Calendar for the "Sync appointments with this calendar" setting in the Google Calendar settings for this appointment type',googleEditSettings:"Edit Google Calendar Settings"},webex:{name:"Webex",label:"Webex - generate a unique meeting URL",legend:"Webex Meeting Options",options:{private:"Private Meeting: Host required to admit each meeting attendee",open:"Open Meeting: anyone with the link can immediately join"}},zoom:{name:"Zoom",label:"Zoom - generate a unique meeting URL",legend:"Zoom Meeting Options",options:{private:"Private Meeting: Host required to admit each meeting attendee",open:"Open Meeting: anyone with the link can immediately join"}},custom:{name:"Custom",label:"Custom - Enter a custom meeting URL",urlLabel:"Custom web meeting link",error:"Please enter a valid URL that is 256 characters or less",legend:"Enter a custom URL for a web meeting, for example, your Zoom Personal Meeting URL",settingsHeading:"Custom URL Settings"},staff:{name:"Staff",label:"Use Team Member's web meeting URL",warning:"Not all team members assigned to this appointment type have a web meeting URL",urlLabel:"Team member web meeting link",error:"Please enter a valid URL that is 256 characters or less",legend:"If a team member doesn't have a web meeting URL, use this URL for any scheduled appointments",settingsHeading:"Default URL"},none:{name:"None",label:"Do not create a meeting URL"}}},payments:{price:"Price",priceError:"Price must be greater than 0",priceUSDError:"Price must be greater than 0.50",displayPrice:"Display price",currency:"Currency",currencyError:"You must specify a currency to take payments",noGateways:"You don't have any payment gateways set up.",setup:"Set up payments",paymentMethods:"Payment Methods",paymentMethodsError:"You must specify at least one method to accept payments",requiredPayment:"Is payment required to book an appointment?",required:"Required: Customer must submit a valid payment to reserve an appointment time",optional:"Optional: Customer may reserve an appointment time without payment but has the option to pay",none:"No payment required",refundPolicy:"Refund policy",refundPolicyHelp:"This will be shown to your customers when booking and included in their confirmation email message"},notifications:{admin:"Send Admin Notification Email to",customer:"Send Customer Notification Email"},scheduling:{before:"Before",after:"After"},zoom:{noAuthCode:"Zoom account hasn't been connected",setup:"Connect Zoom"},webex:{noAuthCode:"Webex account hasn't been connected",setup:"Connect Webex"}},appointments:{cancel:"Cancel this appointment",past:"Past Appointments",rescheduled:"Rescheduled",upcoming:"Upcoming Appointments",dateRange:"Date Range",viewOriginal:"Original date/time",viewRescheduled:"New date/time",loadMore:"Load more appointments",allLoaded:"All appointments loaded",pendingPayment:"Pending Appointments",pendingPaymentDescription:"Pending appointments are appointments that a customer started booking, but did not complete the booking process to confirm the appointment. Usually that means payment was required for the appointment, but was never completed.",emptyPast:"There are no past appointments",emptyAll:"There are no appointments that match",emptyUpcoming:"There are no upcoming appointments scheduled.",pastEmpty:"No appointments have passed yet.",cancelConfirm:"Cancel this appointment?",cancelConfirmOk:"Cancel appointment",cancelConfirmCancel:"Keep appointment",deleteConfirm:"Delete this appointment?",cancelDeleteCancel:"Keep appointment",cancelDeleteOk:"Delete appointment",cancelRescheduleLink:"Reschedule / Cancel Link",cancelRescheduleLinkOpen:"Open Reschedule / Cancel Link",deleteConfirmExplanation:"This cannot be undone. All information associated with this appointment will be permanently removed",deleteConfirmExplanationCancelable:"Your customer will not receive any notification that the appointment was deleted. If you would like your customer to receive a notification of a canceled appointment, please cancel the appointment before deleting it.",deletedType:"Deleted appointment type",deletingSingle:"Deleting appointment",loadingSingle:"Getting your appointment details",viewDetails:"View appointment details",appointmentDetails:"Appointment Details",viewAll:"View all appointments",status:"Status",created:"Created",author:"Booked by",customer:"Customer",lastMod:"Last modified",errorNotFound:"Appointment not found",errorNotFoundDescription:"We weren't able to find that appointment on the books.",errorLoading:"Unable to get appointment",errorLoadingDescription:"We weren't able to get that appointment. Try refreshing the page.",metaLoading:"Checking appointment information",metaFields:{formidable_entry_admin_url:"Formidable Form",gravity_entry_admin_url:"Gravity Form",viewEntry:"View entry",booking_url:"Booking page URL",booking_title:"Booking page title",booking_post_id:"Booking page ID"},paymentLoading:"Checking for payments",paymentReceived:"Payment received",paymentInformation:"Payment Information",payments:{statuses:{pending:"Pending",succeeded:"Succeeded",failed:"Failed"},modes:{test:"Test Mode"},expires:"Exp."},statuses:{booked:"Booked",pending_form:"Pending Form Submission",pending_payment:"Pending Payment",canceled:"Canceled",abandoned:"Abandoned"},filter:{filter:"Filter",filterClose:"Close filters",export:"Export",exportTip:"Export visible appointments",timeLabel:"Display upcoming or past appointments",typeLabel:"Appointment Type(s)",startDate:"Start Date",endDate:"End Date",selected:"selected",staffLabel:"Team member",statusLabel:"Appointment Status",reset:"Reset filters",title:"Appointment Filters"},group:{people:"people",appointmentDetails:"Group Appointment Details",viewDetails:"View attendee details",cancelConfirm:"Cancel this group appointment?",cancelConfirmBody:"The following attendees for this group will be canceled:",cancelConfirmCancel:"Keep All",cancelConfirmOk:"Cancel All",deleteConfirm:"Delete this group appointment",cancelDeleteCancel:"Keep All",cancelDeleteOk:"Delete All",deleteConfirmExplanation:"This cannot be undone. All information associated with this group appointment will be permanently removed.",deleteConfirmExplanationCancelable:"The appointment attendees will not receive any notification that the appointment was deleted. If you would like the attendees to receive a notification of a canceled appointment, please cancel the group appointment before deleting it.",deleteConfirmBody:"The following attendees for this group will be deleted:",deleting:"Deleting group appointment"},tooManyToDisplay:{headline:"Lots of appointments!",explanation:"Looks like you've got a lot of appointments in this date range! You can use the Export button to export them all to a CSV file. Or you can click the button below to display them all here. Note that displaying so many appointments take a few minutes.",action:"Show All"},webMeetings:{label:"Web Meeting:"}},help:{timezone:"The timezone where you are located.",dateFormat:"The format you want to use for displaying the dates of your appointments and availability.",timeFormat:"The format you want to use for displaying the times of your appointments and availability",weekStartsOn:"The day that should be considered the first day of the week.",apptEmail:"The email address where admin notifications about appointments will be sent.",apptContact:"The name, business, and email address for the main person administering appointments"},support:{availabilityDetective:{intro:"Not sure why your availability for different appointment types isn't what you expected? We'll help you figure out what's going on.",title:"Availability Detective (beta)",appointmentType:{label:"Which appointment type?"},getMore:"Get more information",summary:"About this appointment type",noAvailability:{noSlots:{label:"No availability",description:"This appointment type has no availability on this day of the week",action:"Edit Appointment Type"},tooShortSlots:{label:"Not available for duration",description:"The duration of the appointment type is longer than any available times for booking on this day of the week.",action:"Edit Appointment Type"}},info:{buffer_before:{title:"Buffer before",desc:"Time to leave free before an appointment"},buffer_after:{title:"Buffer after",desc:"Time to leave free after an appointment"},booking_window:{title:"Booking Window",desc:"When the booking form is available for booking appointments",no_value:"Open"},availability_window:{title:"Availability Window",desc:"When appointments can be booked",no_value:"Open"},min_booking_notice:{title:"Minimum booking notice",desc:"How much notice is required when booking an appointment",explanation:"No appointments can be booked before:"},max_booking_notice:{title:"Advance notice",desc:"How far into the future appointments can be booked",explanation:"No appointments can be booked after:"},date:{title:"What date should be available?"},time:{title:"What time should be available?"}},status:{checking:"Checking availability",available:"Available",not_available:"Not available"}},dotorg_communication:"WordPress.org communication",https_status:"HTTPS status",json_extension:"JSON extension",loadingSupport:"Loading your support details",moreDetails:"More Details",os:"Operating system",php_version:"PHP version",php_timezone:"PHP default timezone",ssa_license:"License Status",scheduled_events:"Scheduled events",screenResolution:"Screen resolution",siteUrl:"Site URL",sql_server:"SQL server",ssl_support:"SSL support",supportDetails:"These details can help our support team troubleshoot any issues you might be having.",supportTitle:"Support",utf8mb4_support:"Utf8mb4 support",webBrowser:"Web browser",webBrowserSize:"Web browser size",wordpress_version:"WordPress version",plugin_version:"Simply Schedule Appointments version",homeUrl:"Home URL",unknown:"Unknown",contact:"Contact Support Team",sendMessage:"Send Message",message:"Message to the support team",fromEmail:"Your email address",invalidEmail:"Invalid email",disclosure:"Messages sent to the support team through this form will include the debugging information visible on this page.",disclosureTime:"Messages sent to the support team through this form will include debugging information about this appointment type and general settings",includeSettings:"Include information about settings and appointment types",includeDescription:"Checking this box sends us extra helpful information about your settings and appointment types. It *does not* include any private information or any information about your customers or your appointments.",includePlugins:"Include list of active plugins",sendingMessage:"Sending your message",successTitle:"Success!",exportCopied:"Export code copied to your clipboard.",successMessage:"Your message was sent. We'll be in touch as soon as possible.",successMessageDetails:"Our support hours are 9am-5pm Monday through Friday, Pacific, USA. We reply to support messages within one business day. Please add support@ssaplugin.com to your address book to ensure you receive our messages. If you do not receive a reply within one business day, please check your spam folder.",messageFailedDescription:"Something stopped us from being able to send your message, but never fear. You can simply email us at support@ssaplugin.com for assistance. Include the debugging information on this page to help us help you as quickly as possible.",messageFailedDetails:"Error details:",showDebugging:"Show debugging info",debugger:"Debugger",debugLogs:"Debug Logs",loadDebugLog:"Load debug log",debugLogsWP:"WordPress Debug Logs",enableDebugLog:"Enable Debug Log",enableDebugLogWP:"Enable WordPress Debug Log",debugLogOptions:"Debug Log Options",debugLogRefresh:"Refresh Debug Log",debugLogDownload:"Download Log File",debugLogClear:"Clear Log File",debugLogEmpty:"Your debug log file is empty",debugLogEmptyDetails:"We will display here the debug log contents as soon as the system starts to log information on the file.",debugLogLoading:"Loading debug log contents...",debugLogLoadingWP:"Loading WordPress debug log contents...",supportRequestIntro:"Need more help?",supportRequestCta:"Ask our support team",guides:{title:"Help Guides",title_contact:"These guides might help you",more:"Show More",less:"Show Less",notFound:"No help guides found.",loading:"Loading help guides..."}},tokenText:{errors:{required:"This field is required",validationError:"This template has invalid syntax. Check your Twig template variables for errors."}}},Sv={defineTranslations:function(t,e){var n=Ee().isEmpty(e)?Cv:e;t.translations=n}},wv={translations:{}},Tv={namespaced:!0,state:wv,getters:bv,actions:kv,mutations:Sv},xv={editableAppointmentTypeIds:function(t){if(!t.appointmentTypes)return[];var e=t.appointmentTypes.filter((function(t){return"publish"===t.status}));return e.map((function(t){return t.id}))},editableAppointmentTypes:function(t){return t.appointmentTypes?t.appointmentTypes.filter((function(t){return"publish"===t.status})):[]},deletedAppointmentTypes:function(t){return t.appointmentTypes?t.appointmentTypes.filter((function(t){return"delete"===t.status})):[]},getAppointmentTypeById:function(t){return function(e){if(t.appointmentTypes.length){var n=t.appointmentTypes.find((function(t){return t.id===e}));return n}}},allCalendarEventTypes:function(t,e,n){var i=["event_type_customer","event_type_group_admin","event_type_group_shared","event_type_individual_admin","event_type_individual_shared"],s={};return i.forEach((function(t){Object.prototype.hasOwnProperty.call(n.settings.calendar_events,t)&&(s[t.replace("event_type_","")]=n.settings.calendar_events[t])})),s},appointmentTypesGroupedByEventType:function(t){if(!t.appointmentTypes)return[];var e={customer:t.appointmentTypes.map((function(t){return t.id}))};return t.appointmentTypes.filter((function(t){return"publish"===t.status})).forEach((function(t){""!==t.google_calendar_booking&&("0"===t.shared_calendar_event?"group"===t.capacity_type?Object.prototype.hasOwnProperty.call(e,"group_admin")?e.group_admin.push(t.id):e["group_admin"]=[t.id]:"individual"===t.capacity_type&&(Object.prototype.hasOwnProperty.call(e,"individual_admin")?e.individual_admin.push(t.id):e["individual_admin"]=[t.id]):"group"===t.capacity_type?Object.prototype.hasOwnProperty.call(e,"group_shared")?e.group_shared.push(t.id):e["group_shared"]=[t.id]:"individual"===t.capacity_type&&(Object.prototype.hasOwnProperty.call(e,"individual_shared")?e.individual_shared.push(t.id):e["individual_shared"]=[t.id]))})),e},allowedEventTypes:function(t,e){return Object.keys(e.appointmentTypesGroupedByEventType).length?Object.keys(e.appointmentTypesGroupedByEventType):[]},groupAppointmentTypeIds:function(t){if(!t.appointmentTypes)return[];var e=t.appointmentTypes.filter((function(t){return t.capacity>1&&"group"===t.capacity_type}));return e.map((function(t){return t.id}))},updatedBulkAppointmentTypes:function(t){return Ee().isEmpty(t.currentAppointmentType)||Ee().isEmpty(t.bulkEditing)?[]:t.bulkEditing.map((function(e){return Object.assign({id:e},t.currentAppointmentType)}))}},Av={fetchAppointmentType:function(t,e){var n=t.commit,i=t.state,s=t.rootState,a=t.dispatch;if(e)return new Promise((function(t,o){ps().ajax({url:s.api.root+"/appointment_types/"+e,method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((function(e){a("updateCurrentAppointmentType",e.data),Object.prototype.hasOwnProperty.call(i.currentAppointmentType,"id")&&i.currentAppointmentType.id&&n("setAppointmentType",i.currentAppointmentType),t()})).fail((function(t,e,n){o(n)}))}))},fetchAppointmentTypes:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/appointment_types",method:"GET",cache:!1,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("setAppointmentTypes",n.data),t()})).fail((function(t,e,n){i(n)}))}))},updateAppointmentTypes:function(t,e){var n=t.commit,i=t.state,s=t.rootState,a=t.getters,o=t.dispatch;return new Promise((function(t,r){var l=i.appointmentTypes;e&&(n("prepBulkEditingForSave",null),l=a.updatedBulkAppointmentTypes),ps().ajax({url:s.api.root+"/appointment_types/bulk",method:"POST",dataType:"json",data:JSON.stringify({items:l}),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",s.api.nonce)}}).done((function(e){n("setAppointmentTypes",e.data),o("callAsync",null,{root:!0}),t()})).fail((function(t,e,n){r(n)}))}))},updateAppointmentType:function(t){var e=t.state,n=t.rootState,i=t.commit,s=t.dispatch,a=n.api.root+"/appointment_types",o=e.currentAppointmentType.id?a+"/"+e.currentAppointmentType.id:a;return new Promise((function(t,a){ps().ajax({url:o,method:"POST",dataType:"json",data:JSON.stringify(e.currentAppointmentType),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){s("updateCurrentAppointmentType",{key:"id",value:n.data.id}),s("updateCurrentAppointmentType",{key:"author_id",value:n.data.author_id}),s("updateCurrentAppointmentType",{key:"slug",value:n.data.slug}),s("updateCurrentAppointmentType",{key:"status",value:n.data.status}),i("setAppointmentType",e.currentAppointmentType),i("setCurrentAppointmentTypeIsDirty",!1),s("callAsync",null,{root:!0}),t()})).fail((function(t,e,n){a(n)}))}))},deleteAppointmentType:function(t,e){var n=t.commit,i=t.rootState,s=i.api.root+"/appointment_types",a=s+"/"+e+"/delete";return new Promise((function(t,s){ps().ajax({url:a,method:"POST",dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(){n("removeAppointmentType",e),t()})).fail((function(t,e,n){s(n)}))}))},recoverAppointmentType:function(t,e){var n=t.commit,i=t.rootState,s=i.api.root+"/appointment_types",a=s+"/"+e+"/recover";return new Promise((function(t,s){ps().ajax({url:a,method:"POST",dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(i){n("setAppointmentTypeProperties",{id:e,status:i.data.status}),t()})).fail((function(t,e,n){s(n)}))}))},createNewAppointmentType:function(t){var e=t.commit,n=t.getters,i=t.rootState;e("defineNewAppointmentType"),e("defineAppointmentTypeSortOrder",n.editableAppointmentTypes.length+1),e("defineAppointmentTypeCustomerInformation",i.settings),e("defineAppointmentTypeNotifications")},updateCloneAppointmentType:function(t,e){var n=t.commit,i=t.dispatch,s=t.getters;return new Promise((function(t,a){i("fetchAppointmentType",e).then((function(){n("cloneAppointmentType",e),n("defineAppointmentTypeSortOrder",s.editableAppointmentTypes.length+1),t()})).catch((function(t){a(t)}))}))},updateCurrentAppointmentType:function(t,e){var n=t.state,i=t.commit;n.currentAppointmentType||i("setCurrentAppointmentType",{});var s=Ee().cloneDeep(n.currentAppointmentType);Object.prototype.hasOwnProperty.call(e,"key")?(i("updateCurrentAppointmentType",Ee().cloneDeep(e)),Ee().isEqual(s,n.currentAppointmentType)||i("setCurrentAppointmentTypeIsDirty",!0)):i("setCurrentAppointmentType",Ee().cloneDeep(e))},emptyCurrentAppointmentType:function(t){var e=t.commit;e("setCurrentAppointmentType"),e("setCurrentAppointmentTypeIsDirty",!1)}},Pv={addAppointmentType:function(t){t.appointmentTypes.push(t.currentAppointmentType)},setAppointmentType:function(t,e){if(t.appointmentTypes){var n=t.appointmentTypes.findIndex((function(t){return t.id===e.id}));n>=0?t.appointmentTypes.splice(n,1,Ee().cloneDeep(e)):t.appointmentTypes.push(Ee().cloneDeep(e))}},setAppointmentTypeProperties:function(t,e){if(t.appointmentTypes){var n=t.appointmentTypes.findIndex((function(t){return t.id===e.id}));if(n>=0){var i=Ee().cloneDeep(t.appointmentTypes[n]);i=Object.assign(i,e),t.appointmentTypes.splice(n,1,i)}}},setAppointmentTypesOrder:function(t,e){var n=e.map((function(t){return t.id}));e.forEach((function(t,e){t.display_order=e}));var i=Ee().cloneDeep(t.appointmentTypes);i=i.filter((function(t){return n.indexOf(t.id)<0})),t.appointmentTypes=[].concat((0,U.Z)(i),(0,U.Z)(e))},setAppointmentTypes:function(t,e){t.appointmentTypes=e},removeAppointmentType:function(t,e){var n=t.appointmentTypes.findIndex((function(t){return t.id===e})),i=Ee().cloneDeep(t.appointmentTypes[n]);i.status="delete",t.appointmentTypes.splice(n,1,i)},cloneAppointmentType:function(t,e){var n=t.appointmentTypes.find((function(t){return t.id===e})),i=Ee().cloneDeep(n);i=Object.assign(i,{id:null,date_created:null,date_modified:null,author_id:null}),delete i.slug,t.currentAppointmentType=i},setSelectedAppointmentTypeStatus:function(t,e){t.selectedApointmentTypeStatus=e},updateBulkEditing:function(t,e){t.bulkEditing=e},prepBulkEditingForSave:function(t){var e=Ee().cloneDeep(t.currentAppointmentType);for(var n in e)(Ee().isObject(e[n])&&Ee().isEmpty(e[n])||!e[n]&&0!==e[n])&&delete e[n];t.currentAppointmentType=e},getAppointmentType:function(t,e){t.currentAppointmentType=e},defineAppointmentTypeCustomerInformation:function(t,e){e.installed.license?i["default"].set(t.currentAppointmentType,"custom_customer_information",d):i["default"].set(t.currentAppointmentType,"customer_information",c)},defineAppointmentTypeSortOrder:function(t,e){i["default"].set(t.currentAppointmentType,"display_order",e)},defineAppointmentTypeNotifications:function(t){i["default"].set(t.currentAppointmentType,"notifications",m)},defineNewAppointmentType:function(t){t.currentAppointmentType=Ee().cloneDeep(C)},defineNewEmptyAppointmentType:function(t){t.currentAppointmentType=Ee().cloneDeep(w)},setCurrentAppointmentType:function(t,e){t.currentAppointmentType=e},updateCurrentAppointmentType:function(t,e){Object.prototype.hasOwnProperty.call(e,"key")?Ee().isArray(e.key)?i["default"].set(t.currentAppointmentType,e.key.slice(0),e.value):i["default"].set(t.currentAppointmentType,e.key,e.value):t.currentAppointmentType=Ee().cloneDeep(e)},setCurrentAppointmentTypeIsDirty:function(t,e){t.currentAppointmentTypeIsDirty=e}},Mv={appointmentTypes:void 0,selectedApointmentTypeStatus:"publish",bulkEditing:[],currentAppointmentType:void 0,currentAppointmentTypeIsDirty:!1},Ev={namespaced:!0,state:Mv,getters:xv,actions:Av,mutations:Pv},Dv={webhooksModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=n.settings.installed.webhooks,i.upgrade=!n.settings.installed.webhooks,n.settings.webhooks?i.enabled=n.settings.webhooks.enabled&&n.settings.installed.webhooks:i.enabled=!1,i}}},$v={updateWebhooksSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/webhooks",method:"POST",dataType:"json",data:JSON.stringify(n.settings.webhooks),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(i){e("updateWebhooksSettings",{value:i.data,settings:n.settings}),t()})).fail((function(t){i(t)}))}))}},Ov={updateWebhooksEnabled:function(t,e){var n=e.value,s=e.settings;i["default"].set(s.webhooks,"enabled",n)},updateWebhooksSettings:function(t,e){var n=e.value,s=e.settings;i["default"].set(s,"webhooks",n)},addSettingsWebhook:function(t,e){var n=e.webhook,i=e.settings;i.webhooks.webhooks.splice(i.webhooks.webhooks.length,0,n)},cloneSettingsWebhook:function(t,e){var n=e.index,i=e.settings,s=i.webhooks.webhooks[n],a=Ee().cloneDeep(s);a.token="",i.webhooks.webhooks.splice(i.webhooks.webhooks.length,0,a)},deleteSettingsWebhook:function(t,e){var n=e.index,i=e.settings;i.webhooks.webhooks.splice(n,1)},updateSingleWebhook:function(t,e){var n=e.index,i=e.webhook,s=e.settings;s.webhooks.webhooks.splice(n,1,i)}},Iv={},Zv={namespaced:!0,state:Iv,getters:Dv,actions:$v,mutations:Ov},zv=["ABeeZee","Abel","Abhaya Libre","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Aleo","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiko","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo","Archivo Black","Archivo Narrow","Aref Ruqaa","Arima Madurai","Arimo","Arizonia","Armata","Arsenal","Artifika","Arvo","Arya","Asap","Asap Condensed","Asar","Asset","Assistant","Astloch","Asul","Athiti","Atma","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","B612","B612 Mono","Bad Script","Bahiana","Bahianita","Bai Jamjuree","Baloo","Baloo Bhai","Baloo Bhaijaan","Baloo Bhaina","Baloo Chettan","Baloo Da","Baloo Paaji","Baloo Tamma","Baloo Tammudu","Baloo Thambi","Balthazar","Bangers","Barlow","Barlow Condensed","Barlow Semi Condensed","Barriecito","Barrio","Basic","Battambang","Baumans","Bayon","Belgrano","Bellefair","Belleza","BenchNine","Bentham","Berkshire Swash","Beth Ellen","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","BioRhyme","BioRhyme Expanded","Biryani","Bitter","Black And White Picture","Black Han Sans","Black Ops One","Blinker","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Bungee","Bungee Hairline","Bungee Inline","Bungee Outline","Bungee Shade","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Cairo","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Chakra Petch","Changa","Changa One","Chango","Charm","Charmonman","Chathura","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Coiny","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Cormorant","Cormorant Garamond","Cormorant Infant","Cormorant SC","Cormorant Unicase","Cormorant Upright","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Pro","Crimson Text","Croissant One","Crushed","Cuprum","Cute Font","Cutive","Cutive Mono","DM Sans","DM Serif Display","DM Serif Text","Damion","Dancing Script","Dangrek","Darker Grotesque","David Libre","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Do Hyeon","Dokdo","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Duru Sans","Dynalight","EB Garamond","Eagle Lake","East Sea Dokdo","Eater","Economica","Eczar","El Messiri","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Encode Sans","Encode Sans Condensed","Encode Sans Expanded","Encode Sans Semi Condensed","Encode Sans Semi Expanded","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fahkwang","Fanwood Text","Farro","Farsan","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Faustina","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Code","Fira Mono","Fira Sans","Fira Sans Condensed","Fira Sans Extra Condensed","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Frank Ruhl Libre","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gaegu","Gafata","Galada","Galdeano","Galindo","Gamja Flower","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Gothic A1","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Grenze","Griffy","Gruppo","Gudea","Gugi","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Harmattan","Headland One","Heebo","Henny Penny","Hepta Slab","Herr Von Muellerhoff","Hi Melody","Hind","Hind Guntur","Hind Madurai","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IBM Plex Mono","IBM Plex Sans","IBM Plex Sans Condensed","IBM Plex Serif","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Jomhuria","Josefin Sans","Josefin Slab","Joti One","Jua","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","K2D","Kadwa","Kalam","Kameron","Kanit","Kantumruy","Karla","Karma","Katibeh","Kaushan Script","Kavivanar","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kirang Haerang","Kite One","Knewave","KoHo","Kodchasan","Kosugi","Kosugi Maru","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Krub","Kumar One","Kumar One Outline","Kurale","La Belle Aurore","Lacquer","Laila","Lakki Reddy","Lalezar","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Lemonada","Lexend Deca","Lexend Exa","Lexend Giga","Lexend Mega","Lexend Peta","Lexend Tera","Lexend Zetta","Libre Barcode 128","Libre Barcode 128 Text","Libre Barcode 39","Libre Barcode 39 Extended","Libre Barcode 39 Extended Text","Libre Barcode 39 Text","Libre Baskerville","Libre Caslon Display","Libre Caslon Text","Libre Franklin","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Literata","Liu Jian Mao Cao","Livvic","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Long Cang","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","M PLUS 1p","M PLUS Rounded 1c","Ma Shan Zheng","Macondo","Macondo Swash Caps","Mada","Magra","Maiden Orange","Maitree","Major Mono Display","Mako","Mali","Mallanna","Mandali","Manuale","Marcellus","Marcellus SC","Marck Script","Margarine","Markazi Text","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Meera Inimai","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Mina","Miniver","Miriam Libre","Mirza","Miss Fajardose","Mitr","Modak","Modern Antiqua","Mogra","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Mukta","Mukta Mahee","Mukta Malar","Mukta Vaani","Muli","Mystery Quest","NTR","Nanum Brush Script","Nanum Gothic","Nanum Gothic Coding","Nanum Myeongjo","Nanum Pen Script","Neucha","Neuton","New Rocker","News Cycle","Niconne","Niramit","Nixie One","Nobile","Nokora","Norican","Nosifer","Notable","Nothing You Could Do","Noticia Text","Noto Sans","Noto Sans HK","Noto Sans JP","Noto Sans KR","Noto Sans SC","Noto Sans TC","Noto Serif","Noto Serif JP","Noto Serif KR","Noto Serif SC","Noto Serif TC","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Nunito Sans","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Overpass","Overpass Mono","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Padauk","Palanquin","Palanquin Dark","Pangolin","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Pattaya","Patua One","Pavanam","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poor Story","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Pridi","Princess Sofia","Prociono","Prompt","Prosto One","Proza Libre","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Rakkas","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rasa","Rationale","Ravi Prakash","Red Hat Display","Red Hat Text","Redressed","Reem Kufi","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Saira","Saira Condensed","Saira Extra Condensed","Saira Semi Condensed","Saira Stencil One","Salsa","Sanchez","Sancreek","Sansita","Sarabun","Sarala","Sarina","Sarpanch","Satisfy","Sawarabi Gothic","Sawarabi Mincho","Scada","Scheherazade","Schoolbell","Scope One","Seaweed Script","Secular One","Sedgwick Ave","Sedgwick Ave Display","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Shrikhand","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Single Day","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Song Myung","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Space Mono","Special Elite","Spectral","Spectral SC","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Sriracha","Srisakdi","Staatliches","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Stylish","Sue Ellen Francisco","Suez One","Sumana","Sunflower","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tajawal","Tangerine","Taprom","Tauri","Taviraj","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","Thasadith","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trirong","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Vollkorn SC","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yatra One","Yellowtail","Yeon Sung","Yeseva One","Yesteryear","Yrsa","ZCOOL KuaiLe","ZCOOL QingKe HuangYou","ZCOOL XiaoWei","Zeyada","Zhi Mang Xing","Zilla Slab","Zilla Slab Highlight"],jv={googleFontList:function(){return zv}},Lv={updateStyles:function(t){var e=t.rootState;return new Promise((function(t,n){ps().ajax({url:e.api.root+"/settings/styles",method:"POST",dataType:"json",data:JSON.stringify(e.settings.styles),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((function(){t()})).fail((function(t){n(t)}))}))}},Nv={mergeDefaultStyles:function(t,e){var n=Ee().cloneDeep(e.styles);Object.keys(n).forEach((function(t){return""===n[t]&&delete n[t]}));var s=Object.assign({},T,n);i["default"].set(e,"styles",s)},resetStyles:function(t,e){i["default"].set(e,"styles",Ee().cloneDeep(T))},updateAccentColor:function(t,e){var n=e.value,s=e.settings;i["default"].set(s.styles,"accent_color",n)},updateBackgroundColor:function(t,e){var n=e.value,s=e.settings;i["default"].set(s.styles,"background",n)},updateContrast:function(t,e){var n=e.value,s=e.settings;i["default"].set(s.styles,"contrast",n)},updateFont:function(t,e){var n=e.value,s=e.settings;i["default"].set(s.styles,"font",n)},updatePadding:function(t,e){var n=e.value,s=e.settings;i["default"].set(s.styles,"padding",n)},setCss:function(t,e){var n=e.value,s=e.settings;i["default"].set(s.styles,"css",n)}},Uv={},Gv={namespaced:!0,state:Uv,getters:jv,actions:Lv,mutations:Nv},Fv={},Wv={fetchDismissedNotices:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/notices",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("defineDismissedNotices",n.data.dismissed_notices),t()})).fail((function(t,e,n){i({xhr:t,error:n})}))}))},updateDismissedNotices:function(t,e){var n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/notices/"+e,method:"POST",dataType:"json",data:JSON.stringify({global:!0}),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(){t()})).fail((function(t){i(t)}))}))}},Bv={defineDismissedNotices:function(t,e){t.dismissedNotices=e},updateNotices:function(t,e){i["default"].set(t.dismissedNotices,e.key,e.settings)}},Rv={dismissedNotices:void 0},qv={namespaced:!0,state:Rv,getters:Fv,actions:Wv,mutations:Bv},Hv={},Kv={updateDeveloperSettings:function(t){var e=t.rootState;return new Promise((function(t,n){ps().ajax({url:e.api.root+"/settings/developer",method:"POST",dataType:"json",data:JSON.stringify(e.settings.developer),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((function(){t()})).fail((function(t){n(t)}))}))}},Vv={setDisableAvailabilityCaching:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.developer,"disable_availability_caching",s)},setEnqueueEverywhere:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.developer,"enqueue_everywhere",s)},setBetaBookingApp:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.developer,"beta_booking_app",s)},setBetaCalendarEvents:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.developer,"beta_calendar_events",s)},setBetaUpdates:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.developer,"beta_updates",s)}},Yv={},Jv={namespaced:!0,state:Yv,getters:Hv,actions:Kv,mutations:Vv},Xv={},Qv={fetchGlobalSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/global",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateSettings",{key:"global",settings:n.data},{root:!0}),t()})).fail((function(t,e,n){i(t,n)}))}))},updateGlobalSettings:function(t){var e=t.commit,n=t.rootState,i=t.dispatch;return new Promise((function(t,s){ps().ajax({url:n.api.root+"/settings/global",method:"POST",dataType:"json",data:JSON.stringify(n.settings.global),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){i("callAsync",null,{root:!0}),e("updateSettings",{key:"global",settings:n.data},{root:!0}),t()})).fail((function(t){s(t)}))}))}},ty={setAdminPhone:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"admin_phone",s)},setCountryCode:function(t,e){var n=e.settings,s=e.code;i["default"].set(n.global,"country_code",s)},updateStartOfWeek:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"start_of_week",s)},updateTimezoneString:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"timezone_string",s)},updateDateFormat:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"date_format",s)},updateTimeFormat:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"time_format",s)},updateAdminEmail:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"admin_email",s)},updateCompanyName:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"company_name",s)},updateStaffName:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"staff_name",s)},updateWizardCompleted:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.global,"wizard_completed",s)}},ey={},ny={namespaced:!0,state:ey,getters:Xv,actions:Qv,mutations:ty},iy={},sy={fetchBlackoutSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/blackout_dates",method:"GET",dataType:"json",cache:!1,contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateSettings",{key:"blackout_dates",settings:n.data},{root:!0}),t()})).fail((function(t,e,n){i(t,n)}))}))},updateBlackoutSettings:function(t){var e=t.rootState,n=t.dispatch;return new Promise((function(t,i){ps().ajax({url:e.api.root+"/settings/blackout_dates",method:"POST",dataType:"json",data:JSON.stringify(e.settings.blackout_dates),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",e.api.nonce)}}).done((function(){n("callAsync",null,{root:!0}),t()})).fail((function(t){i(t)}))}))}},ay={updateBlackoutDates:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.blackout_dates,"dates",s)},updateBlackoutEnabled:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.blackout_dates,"enabled",s)}},oy={},ry={namespaced:!0,state:oy,getters:iy,actions:sy,mutations:ay},ly={googleCalendarAccountName:function(t){var e=t.googleCalendars.find((function(t){return t.primary}));return e?e.title:""},googleCalendarModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=n.settings.installed.google_calendar,i.upgrade=!n.settings.installed.google_calendar,n.settings.google_calendar?i.enabled=n.settings.google_calendar.enabled&&n.settings.installed.google_calendar:i.enabled=!1,i}},googleCalendarAccountEmail:function(t){var e=t.googleCalendars.find((function(t){return t.primary}));return e},writeableGoogleCalendars:function(t){return t.googleCalendars.filter((function(t){return"owner"===t.role||"writer"===t.role}))}},cy={googleCalendarAuth:function(t,e){var n=t.commit,i=t.rootState,s=t.dispatch;return Object.prototype.hasOwnProperty.call(e,"staff_id")||(e.staff_id=0),new Promise((function(t,a){ps().ajax({url:i.api.root+"/google_calendars/authorize_url",method:"GET",dataType:"json",cache:!1,data:e,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){n("updateGoogleAuthUrl",e.data.authorize_url),s("callAsync",null,{root:!0}),t()})).fail((function(t){a(t)}))}))},googleCalendarDeauth:function(t){var e=t.commit,n=t.rootState,i=t.dispatch;return new Promise((function(t,s){ps().ajax({url:n.api.root+"/google_calendars/disconnect",method:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(s){e("setGoogleCalendarSettings",{settings:n.settings,value:s.data}),i("callAsync",null,{root:!0}),t()})).fail((function(t){s(t)}))}))},updateGoogleCalendarSettings:function(t){var e=t.commit,n=t.rootState,i=t.dispatch;return new Promise((function(t,s){ps().ajax({url:n.api.root+"/settings/google_calendar",method:"POST",dataType:"json",data:JSON.stringify(n.settings.google_calendar),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(s){e("setGoogleCalendarSettings",{settings:n.settings,value:s.data}),i("callAsync",null,{root:!0}),t()})).fail((function(t){s(t)}))}))},fetchGoogleCalendars:function(t,e){var n=t.commit,i=t.rootState;return e||(e={}),Object.prototype.hasOwnProperty.call(e,"staff_id")||(e=Object.assign(e,{staff_id:0})),new Promise((function(t,s){ps().ajax({url:i.api.root+"/google_calendars",method:"GET",cache:!1,dataType:"json",data:e,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(i){0===e.staff_id?n("updateGoogleCalendars",i.data.google_calendars):i.data&&Object.prototype.hasOwnProperty.call(i.data,"google_calendars")&&n("staff/setStaffGoogleCalendars",i.data.google_calendars),t()})).fail((function(t){s(t)}))}))},updateCalendarEventsSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/calendar_events",method:"POST",dataType:"json",data:JSON.stringify(n.settings.calendar_events),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(i){e("updateCalendarEventsSettings",{settings:n.settings,data:i.data}),t()})).fail((function(t){i(t)}))}))}},dy={setGoogleCalendarSettings:function(t,e){var n=e.settings,s=e.value;i["default"].set(n,"google_calendar",s)},updateGoogleCalendarClientId:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.google_calendar,"client_id",s)},updateGoogleCalendarClientSecret:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.google_calendar,"client_secret",s)},updateGoogleCalendarEnabled:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.google_calendar,"enabled",s)},setGoogleCalendarWebMeetings:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.google_calendar,"web_meetings",s)},setGoogleCalendarDeleteEvents:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.google_calendar,"delete_canceled_events",s)},setGoogleCalendarRefreshInterval:function(t,e){var n=e.settings,s=e.value;i["default"].set(n.google_calendar,"refresh_interval",s)},updateGoogleCalendars:function(t,e){t.googleCalendars=e},updateGoogleAuthUrl:function(t,e){t.googleAuthUrl=e},setCalendarEventType:function(t,e){i["default"].set(e.settings.calendar_events,"event_type_".concat(e.key),e.value)},setCalendarEventsEnabled:function(t,e){i["default"].set(e.settings.calendar_events,"enabled",e.value)},updateCalendarEventsSettings:function(t,e){i["default"].set(e.settings.calendar_events,e.data)}},py={googleAuthUrl:null,googleCalendars:[]},uy={namespaced:!0,state:py,getters:ly,actions:cy,mutations:dy},my={mailchimpModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=n.settings.installed.mailchimp,i.upgrade=!n.settings.installed.mailchimp,n.settings.mailchimp?i.enabled=n.settings.mailchimp.enabled&&n.settings.installed.mailchimp:i.enabled=!1,i}}},fy={fetchMailchimpLists:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/mailchimp/lists",method:"GET",cache:!1,dataType:"json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(i){e("updateMailchimpLists",{settings:n.settings,value:i.data.lists}),t()})).fail((function(t){i(t)}))}))},updateMailchimpSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/mailchimp",method:"POST",dataType:"json",data:JSON.stringify(n.settings.mailchimp),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(i){e("updateMailchimpSettings",{settings:n.settings,data:i.data}),t()})).fail((function(t){i(t)}))}))},authorizeMailchimp:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/mailchimp/authorize",method:"POST",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(s){s.error?i(s):(e("updateMailchimpSettings",{settings:n.settings,data:s.data}),t())})).fail((function(t){i(t)}))}))},deauthorizeMailchimp:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/mailchimp/deauthorize",method:"POST",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(i){e("updateMailchimpSettings",{settings:n.settings,data:i.data}),t()})).fail((function(t){i(t)}))}))}},gy={updateMailchimpEnabled:function(t,e){i["default"].set(e.settings.mailchimp,"enabled",e.value)},updateMailchimpSettings:function(t,e){i["default"].set(e.settings,"mailchimp",e.data)},updateMailchimpApiKey:function(t,e){i["default"].set(e.settings.mailchimp,"api_key",e.value)},updateMailchimpAuthorized:function(t,e){i["default"].set(e.settings.mailchimp,"authorized",e.value)},updateMailchimpLists:function(t,e){i["default"].set(e.settings.mailchimp,"lists",e.value)}},hy={mailchimpLists:[]},_y={namespaced:!0,state:hy,getters:my,actions:fy,mutations:gy},vy={zoomModule:function(t,e,n){if(n.settings&&n.settings.installed){var i={};return i.installed=n.settings.installed.zoom,i.upgrade=!n.settings.installed.zoom,n.settings.zoom?i.enabled=n.settings.zoom.enabled&&n.settings.installed.zoom:i.enabled=!1,i}}},yy={zoomRedirectURI:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/zoom/redirect_url",method:"GET",cache:!1,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateZoomRedirectUrl",n),t()})).fail((function(t){i(t)}))}))},zoomAuth:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/zoom/authorize_url",method:"GET",dataType:"json",cache:!1,data:e,beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){n("updateZoomAuthUrl",e.data.authorize_url),t()})).fail((function(t){s(t)}))}))},zoomDeauth:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/zoom/disconnect",method:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(i){e("updateZoomSettings",{settings:n.settings,value:i.data}),t()})).fail((function(t){i(t)}))}))},updateZoomSettings:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/settings/zoom",method:"POST",dataType:"json",data:JSON.stringify(n.settings.zoom),contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(i){e("updateZoomSettings",{settings:n.settings,value:i.data}),t()})).fail((function(t){i(t)}))}))},fetchZoomUser:function(t){var e=t.commit,n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/zoom/me",method:"GET",cache:!1,dataType:"json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(n){e("updateZoomUser",n),t()})).fail((function(t){i(t)}))}))}},by={updateZoomEnabled:function(t,e){i["default"].set(e.settings.zoom,"enabled",e.value)},updateZoomSettings:function(t,e){e.settings.zoom=e.value},updateZoomUser:function(t,e){t.zoomUser=e},updateZoomRedirectUrl:function(t,e){t.zoomRedirectUrl=e},updateZoomAuthUrl:function(t,e){t.zoomAuthUrl=e}},ky={zoomAuthUrl:null,zoomRedirectUrl:null,zoomUser:null},Cy={namespaced:!0,state:ky,getters:vy,actions:yy,mutations:by},Sy={},wy={fetchExportCode:function(t,e){var n=t.commit,i=t.rootState;return new Promise((function(t,s){ps().ajax({url:i.api.root+"/support/export",method:"GET",cache:!1,data:e,dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",i.api.nonce)}}).done((function(e){n("setExportCode",e),t()})).fail((function(t,e,n){s(n)}))}))},importJSONCode:function(t,e){var n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/support/import",method:"POST",cache:!1,data:{content:e},dataType:"json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(e){t(e)})).fail((function(t){i(t.responseJSON)}))}))},sendSupportMessage:function(t,e){var n=t.rootState;return new Promise((function(t,i){ps().ajax({url:n.api.root+"/support_ticket",method:"POST",data:JSON.stringify(e),dataType:"json",contentType:"application/json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",n.api.nonce)}}).done((function(e){t(e)})).fail((function(t,e,n){i(t,n)}))}))}},Ty={setExportCode:function(t,e){t.exportCode=e}},xy={exportCode:null},Ay={namespaced:!0,state:xy,getters:Sy,actions:wy,mutations:Ty};i["default"].use(r.ZP);var Py={api:void 0,bookingEmbed:null,telCountryCode:void 0,router:I_,settings:{},support:{},debugLog:{wp:null,ssa:null},logUrls:{wp:null,ssa:null},timestampFormat:"YYYY-MM-DD HH:mm:ss",user:void 0,wpUsers:[]},My={appointments:F_,notifications:X_,payments:H_,staff:iv,tracking:cv,guides:fv,webex:yv,translations:Tv,appointment_types:Ev,webhooks:Zv,styles:Gv,notices:qv,developer_settings:Jv,global_settings:ny,blackout:ry,google_calendar:uy,mailchimp:_y,zoom:Cy,import_export:Ay},Ey=new r.ZP.Store({state:Py,getters:Z_,actions:z_,mutations:j_,modules:My}),Dy={name:"app",store:Ey,components:{loading:st},data:function(){return{router:I_,loadingMessage:this.$store.state.translations.translations.general.loadingInitial,loading:!0,error:!1,errorHeading:this.$store.state.translations.translations.errors.heading,errorIntro:this.$store.state.translations.translations.errors.intro,errorGuidesText:this.$store.state.translations.translations.errors.guidesText,errorGuidesLinkLabel:this.$store.state.translations.translations.errors.guidesLinkLabel,errorDetails:this.$store.state.translations.translations.errors.errorDetails,errorMessage:"",errorResponse:null,showErrorResponse:!1,towp:this.$store.state.translations.translations.general.towp,api:window.ssa&&window.ssa.api?window.ssa.api:{},settings:window.ssa_settings?window.ssa_settings:{},user:window.ssa&&window.ssa.user?window.ssa.user:{},dismissedNotices:window.ssa_dismissed_notices,wpTranslations:{},appointmentTypes:{},isEmbed:window.ssa_is_embed||!1,moment:R()}},beforeCreate:function(){this.wpTranslations=window.ssa_translations?window.ssa_translations:{},this.$store.commit("translations/defineTranslations",this.wpTranslations),this.appointmentTypes=window.ssa_appointment_types?window.ssa_appointment_types:void 0,this.$store.commit("appointment_types/setAppointmentTypes",this.appointmentTypes)},mounted:function(){this.init()},computed:(0,o.Z)((0,o.Z)({},(0,r.Se)("staff",["currentUserCan"])),(0,r.Se)("guides",["getCurrentGuideKey"])),methods:(0,o.Z)({init:function(){var t=this;return"undefined"!==typeof this.$store.state.api||Ee().isEmpty(this.api)?"undefined"===typeof this.$store.state.api?(this.loading=!0,void this.$store.dispatch("fetchApi").then((function(){t.getGuides({"ssasc-plugin-screen":L["default"]}),t.init()})).catch((function(e,n){console.log("Error loading API"),t.showError({error:n.error,response:n.xhr.responseText})}))):"undefined"!==typeof this.$store.state.notices.dismissedNotices||Ee().isEmpty(this.dismissedNotices)?"undefined"===typeof this.$store.state.notices.dismissedNotices?(this.loading=!0,void this.$store.dispatch("notices/fetchDismissedNotices").then((function(){return t.init()})).catch((function(e){console.log("Error loading Dismissed Notices"),t.showError({error:e.error,response:e.xhr.responseText})}))):Ee().isEmpty(this.$store.state.settings)&&!Ee().isEmpty(this.settings)?(this.$store.commit("updateAllSettings",this.settings),R().locale(this.$store.state.settings.global.locale),void this.init()):Ee().isEmpty(this.$store.state.settings)?(this.loading=!0,this.loadingMessage=this.$store.state.translations.translations.wizard.settings.general.loading,void this.$store.dispatch("fetchSettings").then((function(){R().locale(t.$store.state.settings.global.locale),t.init()})).catch((function(e){console.log(e),t.showError({error:e.error,response:e.xhr.responseText})}))):(this.$store.state.settings.global.wizard_completed&&"Hello"===this.$route.name&&I_.push("/ssa"),"undefined"===typeof this.$store.state.telCountryCode&&this.$store.dispatch("fetchTelCountryCode"),void(this.loading=!1)):(this.$store.commit("notices/defineDismissedNotices",this.dismissedNotices),void this.init()):(this.$store.commit("defineUser",this.user),this.$store.commit("defineApi",this.api),this.getGuides({"ssasc-plugin-screen":L["default"]}),void this.init())},showError:function(t){this.error=!0,this.errorMessage=t.error.toString(),this.errorResponse=t.response,this.loading=!1}},(0,r.nv)("guides",["getGuides"]))},$y=Dy,Oy=(0,K.Z)($y,s,a,!1,null,null,null),Iy=Oy.exports,Zy=n(65822),zy=n.n(Zy),jy={install:function(t){t.component("foxy-checkbox-multi",Iu),t.component("foxy-chip",ru),t.component("foxy-chip-set",fu),t.component("foxy-form-field",Mu),t.component("foxy-menu",fc)}},Ly=n(87495),Ny=n.n(Ly);i["default"].config.productionTip=!1,i["default"].use(zy()),i["default"].use(jy),i["default"].use(Ny()),i["default"].material.registerTheme({default:{primary:{color:"light-green",hue:800},accent:{color:"deep-orange",hue:800},warn:"red"},reverse:{primary:{color:"deep-orange",hue:800},accent:{color:"light-green",hue:700}},red:{primary:"red"},pink:{primary:"pink"},purple:{primary:"purple"},"deep-purple":{primary:"deep-purple"},indigo:{primary:"indigo"},blue:{primary:"blue"},"light-blue":{primary:"light-blue"},cyan:{primary:"cyan"},teal:{primary:"teal"},green:{primary:"green"},"light-green":{primary:"light-green"},lime:{primary:"lime"},yellow:{primary:"yellow"},amber:{primary:"amber"},orange:{primary:"orange"},"deep-orange":{primary:"deep-orange"},brown:{primary:"brown"},grey:{primary:"grey"},"blue-grey":{primary:"blue-grey"},white:{primary:"white"},black:{primary:"black"}}),new i["default"]({render:function(t){return t(Iy)},store:Ey,router:I_}).$mount("#ssa-admin-app")},69340:function(){},24654:function(){}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,i,s,a){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],s=t[d][1],a=t[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(r=!1,a<o&&(o=a));if(r){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[i,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,o=i[0],r=i[1],l=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(l)var d=l(n)}for(e&&e(i);c<o.length;c++)a=o[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},i=self["webpackChunkssa_admin_app"]=self["webpackChunkssa_admin_app"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(21736)}));i=n.O(i)})();
//# sourceMappingURL=app-legacy.js.map